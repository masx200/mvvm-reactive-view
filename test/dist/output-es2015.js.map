{"version":3,"file":"output-es2015.js","sources":["../../node_modules/_event-target-shim@5.0.1@event-target-shim/src/event.mjs","../../node_modules/_event-target-shim@5.0.1@event-target-shim/src/event-target.mjs","../../polyfill/Object-fromEntries.js","../../src/UtilTools/isprimitive.ts","../../src/UtilTools/util.ts","../../polyfill/event-target-polyfill.js","../../polyfill/custom-elements.min.js","../../polyfill/Array-prototype-flat.js","../../src/assetbrowser.ts","../../node_modules/_@masx200_dom-element-attribute-agent-proxy@1.2.0@@masx200/dom-element-attribute-agent-proxy/src/mustUseDomProp.ts","../../node_modules/_@masx200_dom-element-attribute-agent-proxy@1.2.0@@masx200/dom-element-attribute-agent-proxy/src/index.ts","../../node_modules/lodash/isObject.js","../../node_modules/lodash/_freeGlobal.js","../../node_modules/lodash/_root.js","../../node_modules/lodash/now.js","../../node_modules/lodash/_Symbol.js","../../node_modules/lodash/_getRawTag.js","../../node_modules/lodash/_objectToString.js","../../node_modules/lodash/_baseGetTag.js","../../node_modules/lodash/isObjectLike.js","../../node_modules/lodash/isSymbol.js","../../node_modules/lodash/toNumber.js","../../node_modules/lodash/debounce.js","../../src/cached-map.ts","../../src/UtilTools/reflect.ts","../../src/mounted-unmounted/Component-context.ts","../../src/Reactivity/ReactiveState.ts","../../src/UtilTools/merge-entries.ts","../../src/CreateElement/VirtualElement.ts","../../src/CreateElement/isvalidvdom.ts","../../src/CustomClass/isclassextendsHTMLElement.ts","../../src/ScopedCSS/cssrulestocsstext.ts","../../src/CustomClass/getrandomstringandnumber.ts","../../src/CustomClass/CustomElementRegistry.ts","../../src/AttributeClass/iscomponent.ts","../../src/UtilTools/dom.ts","../../src/UtilTools/toArray.ts","../../src/MountElement/mount-real-element.ts","../../src/MountElement/isNodeArray.ts","../../src/MountElement/MountElement.ts","../../src/Reactivity/watch.ts","../../src/UtilTools/isconnected.ts","../../src/Directives/create-html-and-text-directive.ts","../../src/Directives/extend-directive.ts","../../src/Directives/directives.ts","../../src/RenderVirtual/handle-onevent.ts","../../src/RenderVirtual/render-vdom-to-real.ts","../../src/CustomClass/create-costum-elemet.ts","../../src/RenderVirtual/handle-props.ts","../../src/ScopedCSS/parsecss-transformcss.ts","../../src/ScopedCSS/create-cssurlblob.ts","../../src/ScopedCSS/savestyleblob.ts","../../src/ScopedCSS/transform-prefix-cssrules.ts","../../src/ScopedCSS/isCSSRule.ts","../../src/ScopedCSS/selectoraddprefix.ts","../../src/ScopedCSS/prefix-cssmediarule.ts","../../src/ScopedCSS/parsecsstext.ts","../../src/ScopedCSS/transformcsstext.ts","../../src/ScopedCSS/registercssprefix.ts","../../src/ScopedCSS/waitloadallstyle.ts","../../src/ScopedCSS/loadlinkstyle.ts","../../src/Reactivity/readonly-proxy.ts","../../src/UtilTools/setimmediate.ts","../../src/mounted-unmounted/element-onmount-unmount.ts","../../src/AttributeClass/readysymbol.ts","../../src/AttributeClass/attr-change.ts","../../src/AttributeClass/createComponent.ts","../../src/CreateElement/create-element.ts","../../src/AttributeClass/conditon.ts","../../src/Reactivity/getproperyread-proxy.ts","../../src/Reactivity/computed.ts","../../node_modules/_@masx200_deep-observe-agent-proxy@1.2.0@@masx200/deep-observe-agent-proxy/src/index.ts","../../src/Reactivity/create-state.ts","../../src/Reactivity/handle-object-state.ts","../../src/AttributeClass/list-map.ts","../../src/asserttype.ts","../../src/AttributeClass/switchable.ts","../../src/createref.ts","../../node_modules/htm/dist/htm.module.js","../../src/Directives/model-input-textarea-value-directive-binding.ts","../src/index-compositionapi.js","../src/index-listmap.js","../src/index-myrootapp.js","../src/index-select.js","../src/index-teststore.js","../src/index-x.js","../src/index1.js","../src/index2.js","../src/index3.js","../src/index-test-all-component.js","../src/index-fun-state.js","../src/index-switchable.js"],"sourcesContent":["/**\n * @typedef {object} PrivateData\n * @property {EventTarget} eventTarget The event target.\n * @property {{type:string}} event The original event object.\n * @property {number} eventPhase The current event phase.\n * @property {EventTarget|null} currentTarget The current event target.\n * @property {boolean} canceled The flag to prevent default.\n * @property {boolean} stopped The flag to stop propagation.\n * @property {boolean} immediateStopped The flag to stop propagation immediately.\n * @property {Function|null} passiveListener The listener if the current listener is passive. Otherwise this is null.\n * @property {number} timeStamp The unix time.\n * @private\n */\n\n/**\n * Private data for event wrappers.\n * @type {WeakMap<Event, PrivateData>}\n * @private\n */\nconst privateData = new WeakMap()\n\n/**\n * Cache for wrapper classes.\n * @type {WeakMap<Object, Function>}\n * @private\n */\nconst wrappers = new WeakMap()\n\n/**\n * Get private data.\n * @param {Event} event The event object to get private data.\n * @returns {PrivateData} The private data of the event.\n * @private\n */\nfunction pd(event) {\n    const retv = privateData.get(event)\n    console.assert(\n        retv != null,\n        \"'this' is expected an Event object, but got\",\n        event\n    )\n    return retv\n}\n\n/**\n * https://dom.spec.whatwg.org/#set-the-canceled-flag\n * @param data {PrivateData} private data.\n */\nfunction setCancelFlag(data) {\n    if (data.passiveListener != null) {\n        if (\n            typeof console !== \"undefined\" &&\n            typeof console.error === \"function\"\n        ) {\n            console.error(\n                \"Unable to preventDefault inside passive event listener invocation.\",\n                data.passiveListener\n            )\n        }\n        return\n    }\n    if (!data.event.cancelable) {\n        return\n    }\n\n    data.canceled = true\n    if (typeof data.event.preventDefault === \"function\") {\n        data.event.preventDefault()\n    }\n}\n\n/**\n * @see https://dom.spec.whatwg.org/#interface-event\n * @private\n */\n/**\n * The event wrapper.\n * @constructor\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Event|{type:string}} event The original event to wrap.\n */\nfunction Event(eventTarget, event) {\n    privateData.set(this, {\n        eventTarget,\n        event,\n        eventPhase: 2,\n        currentTarget: eventTarget,\n        canceled: false,\n        stopped: false,\n        immediateStopped: false,\n        passiveListener: null,\n        timeStamp: event.timeStamp || Date.now(),\n    })\n\n    // https://heycam.github.io/webidl/#Unforgeable\n    Object.defineProperty(this, \"isTrusted\", { value: false, enumerable: true })\n\n    // Define accessors\n    const keys = Object.keys(event)\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i]\n        if (!(key in this)) {\n            Object.defineProperty(this, key, defineRedirectDescriptor(key))\n        }\n    }\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEvent.prototype = {\n    /**\n     * The type of this event.\n     * @type {string}\n     */\n    get type() {\n        return pd(this).event.type\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get target() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get currentTarget() {\n        return pd(this).currentTarget\n    },\n\n    /**\n     * @returns {EventTarget[]} The composed path of this event.\n     */\n    composedPath() {\n        const currentTarget = pd(this).currentTarget\n        if (currentTarget == null) {\n            return []\n        }\n        return [currentTarget]\n    },\n\n    /**\n     * Constant of NONE.\n     * @type {number}\n     */\n    get NONE() {\n        return 0\n    },\n\n    /**\n     * Constant of CAPTURING_PHASE.\n     * @type {number}\n     */\n    get CAPTURING_PHASE() {\n        return 1\n    },\n\n    /**\n     * Constant of AT_TARGET.\n     * @type {number}\n     */\n    get AT_TARGET() {\n        return 2\n    },\n\n    /**\n     * Constant of BUBBLING_PHASE.\n     * @type {number}\n     */\n    get BUBBLING_PHASE() {\n        return 3\n    },\n\n    /**\n     * The target of this event.\n     * @type {number}\n     */\n    get eventPhase() {\n        return pd(this).eventPhase\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopPropagation() {\n        const data = pd(this)\n\n        data.stopped = true\n        if (typeof data.event.stopPropagation === \"function\") {\n            data.event.stopPropagation()\n        }\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopImmediatePropagation() {\n        const data = pd(this)\n\n        data.stopped = true\n        data.immediateStopped = true\n        if (typeof data.event.stopImmediatePropagation === \"function\") {\n            data.event.stopImmediatePropagation()\n        }\n    },\n\n    /**\n     * The flag to be bubbling.\n     * @type {boolean}\n     */\n    get bubbles() {\n        return Boolean(pd(this).event.bubbles)\n    },\n\n    /**\n     * The flag to be cancelable.\n     * @type {boolean}\n     */\n    get cancelable() {\n        return Boolean(pd(this).event.cancelable)\n    },\n\n    /**\n     * Cancel this event.\n     * @returns {void}\n     */\n    preventDefault() {\n        setCancelFlag(pd(this))\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     */\n    get defaultPrevented() {\n        return pd(this).canceled\n    },\n\n    /**\n     * The flag to be composed.\n     * @type {boolean}\n     */\n    get composed() {\n        return Boolean(pd(this).event.composed)\n    },\n\n    /**\n     * The unix time of this event.\n     * @type {number}\n     */\n    get timeStamp() {\n        return pd(this).timeStamp\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     * @deprecated\n     */\n    get srcElement() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The flag to stop event bubbling.\n     * @type {boolean}\n     * @deprecated\n     */\n    get cancelBubble() {\n        return pd(this).stopped\n    },\n    set cancelBubble(value) {\n        if (!value) {\n            return\n        }\n        const data = pd(this)\n\n        data.stopped = true\n        if (typeof data.event.cancelBubble === \"boolean\") {\n            data.event.cancelBubble = true\n        }\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     * @deprecated\n     */\n    get returnValue() {\n        return !pd(this).canceled\n    },\n    set returnValue(value) {\n        if (!value) {\n            setCancelFlag(pd(this))\n        }\n    },\n\n    /**\n     * Initialize this event object. But do nothing under event dispatching.\n     * @param {string} type The event type.\n     * @param {boolean} [bubbles=false] The flag to be possible to bubble up.\n     * @param {boolean} [cancelable=false] The flag to be possible to cancel.\n     * @deprecated\n     */\n    initEvent() {\n        // Do nothing.\n    },\n}\n\n// `constructor` is not enumerable.\nObject.defineProperty(Event.prototype, \"constructor\", {\n    value: Event,\n    configurable: true,\n    writable: true,\n})\n\n// Ensure `event instanceof window.Event` is `true`.\nif (typeof window !== \"undefined\" && typeof window.Event !== \"undefined\") {\n    Object.setPrototypeOf(Event.prototype, window.Event.prototype)\n\n    // Make association for wrappers.\n    wrappers.set(window.Event.prototype, Event)\n}\n\n/**\n * Get the property descriptor to redirect a given property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to redirect the property.\n * @private\n */\nfunction defineRedirectDescriptor(key) {\n    return {\n        get() {\n            return pd(this).event[key]\n        },\n        set(value) {\n            pd(this).event[key] = value\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Get the property descriptor to call a given method property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to call the method property.\n * @private\n */\nfunction defineCallDescriptor(key) {\n    return {\n        value() {\n            const event = pd(this).event\n            return event[key].apply(event, arguments)\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define new wrapper class.\n * @param {Function} BaseEvent The base wrapper class.\n * @param {Object} proto The prototype of the original event.\n * @returns {Function} The defined wrapper class.\n * @private\n */\nfunction defineWrapper(BaseEvent, proto) {\n    const keys = Object.keys(proto)\n    if (keys.length === 0) {\n        return BaseEvent\n    }\n\n    /** CustomEvent */\n    function CustomEvent(eventTarget, event) {\n        BaseEvent.call(this, eventTarget, event)\n    }\n\n    CustomEvent.prototype = Object.create(BaseEvent.prototype, {\n        constructor: { value: CustomEvent, configurable: true, writable: true },\n    })\n\n    // Define accessors.\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i]\n        if (!(key in BaseEvent.prototype)) {\n            const descriptor = Object.getOwnPropertyDescriptor(proto, key)\n            const isFunc = typeof descriptor.value === \"function\"\n            Object.defineProperty(\n                CustomEvent.prototype,\n                key,\n                isFunc\n                    ? defineCallDescriptor(key)\n                    : defineRedirectDescriptor(key)\n            )\n        }\n    }\n\n    return CustomEvent\n}\n\n/**\n * Get the wrapper class of a given prototype.\n * @param {Object} proto The prototype of the original event to get its wrapper.\n * @returns {Function} The wrapper class.\n * @private\n */\nfunction getWrapper(proto) {\n    if (proto == null || proto === Object.prototype) {\n        return Event\n    }\n\n    let wrapper = wrappers.get(proto)\n    if (wrapper == null) {\n        wrapper = defineWrapper(getWrapper(Object.getPrototypeOf(proto)), proto)\n        wrappers.set(proto, wrapper)\n    }\n    return wrapper\n}\n\n/**\n * Wrap a given event to management a dispatching.\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Object} event The event to wrap.\n * @returns {Event} The wrapper instance.\n * @private\n */\nexport function wrapEvent(eventTarget, event) {\n    const Wrapper = getWrapper(Object.getPrototypeOf(event))\n    return new Wrapper(eventTarget, event)\n}\n\n/**\n * Get the immediateStopped flag of a given event.\n * @param {Event} event The event to get.\n * @returns {boolean} The flag to stop propagation immediately.\n * @private\n */\nexport function isStopped(event) {\n    return pd(event).immediateStopped\n}\n\n/**\n * Set the current event phase of a given event.\n * @param {Event} event The event to set current target.\n * @param {number} eventPhase New event phase.\n * @returns {void}\n * @private\n */\nexport function setEventPhase(event, eventPhase) {\n    pd(event).eventPhase = eventPhase\n}\n\n/**\n * Set the current target of a given event.\n * @param {Event} event The event to set current target.\n * @param {EventTarget|null} currentTarget New current target.\n * @returns {void}\n * @private\n */\nexport function setCurrentTarget(event, currentTarget) {\n    pd(event).currentTarget = currentTarget\n}\n\n/**\n * Set a passive listener of a given event.\n * @param {Event} event The event to set current target.\n * @param {Function|null} passiveListener New passive listener.\n * @returns {void}\n * @private\n */\nexport function setPassiveListener(event, passiveListener) {\n    pd(event).passiveListener = passiveListener\n}\n","import {\n    isStopped,\n    setCurrentTarget,\n    setEventPhase,\n    setPassiveListener,\n    wrapEvent,\n} from \"./event.mjs\"\n\n/**\n * @typedef {object} ListenerNode\n * @property {Function} listener\n * @property {1|2|3} listenerType\n * @property {boolean} passive\n * @property {boolean} once\n * @property {ListenerNode|null} next\n * @private\n */\n\n/**\n * @type {WeakMap<object, Map<string, ListenerNode>>}\n * @private\n */\nconst listenersMap = new WeakMap()\n\n// Listener types\nconst CAPTURE = 1\nconst BUBBLE = 2\nconst ATTRIBUTE = 3\n\n/**\n * Check whether a given value is an object or not.\n * @param {any} x The value to check.\n * @returns {boolean} `true` if the value is an object.\n */\nfunction isObject(x) {\n    return x !== null && typeof x === \"object\" //eslint-disable-line no-restricted-syntax\n}\n\n/**\n * Get listeners.\n * @param {EventTarget} eventTarget The event target to get.\n * @returns {Map<string, ListenerNode>} The listeners.\n * @private\n */\nfunction getListeners(eventTarget) {\n    const listeners = listenersMap.get(eventTarget)\n    if (listeners == null) {\n        throw new TypeError(\n            \"'this' is expected an EventTarget object, but got another value.\"\n        )\n    }\n    return listeners\n}\n\n/**\n * Get the property descriptor for the event attribute of a given event.\n * @param {string} eventName The event name to get property descriptor.\n * @returns {PropertyDescriptor} The property descriptor.\n * @private\n */\nfunction defineEventAttributeDescriptor(eventName) {\n    return {\n        get() {\n            const listeners = getListeners(this)\n            let node = listeners.get(eventName)\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    return node.listener\n                }\n                node = node.next\n            }\n            return null\n        },\n\n        set(listener) {\n            if (typeof listener !== \"function\" && !isObject(listener)) {\n                listener = null // eslint-disable-line no-param-reassign\n            }\n            const listeners = getListeners(this)\n\n            // Traverse to the tail while removing old value.\n            let prev = null\n            let node = listeners.get(eventName)\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    // Remove old value.\n                    if (prev !== null) {\n                        prev.next = node.next\n                    } else if (node.next !== null) {\n                        listeners.set(eventName, node.next)\n                    } else {\n                        listeners.delete(eventName)\n                    }\n                } else {\n                    prev = node\n                }\n\n                node = node.next\n            }\n\n            // Add new value.\n            if (listener !== null) {\n                const newNode = {\n                    listener,\n                    listenerType: ATTRIBUTE,\n                    passive: false,\n                    once: false,\n                    next: null,\n                }\n                if (prev === null) {\n                    listeners.set(eventName, newNode)\n                } else {\n                    prev.next = newNode\n                }\n            }\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define an event attribute (e.g. `eventTarget.onclick`).\n * @param {Object} eventTargetPrototype The event target prototype to define an event attrbite.\n * @param {string} eventName The event name to define.\n * @returns {void}\n */\nfunction defineEventAttribute(eventTargetPrototype, eventName) {\n    Object.defineProperty(\n        eventTargetPrototype,\n        `on${eventName}`,\n        defineEventAttributeDescriptor(eventName)\n    )\n}\n\n/**\n * Define a custom EventTarget with event attributes.\n * @param {string[]} eventNames Event names for event attributes.\n * @returns {EventTarget} The custom EventTarget.\n * @private\n */\nfunction defineCustomEventTarget(eventNames) {\n    /** CustomEventTarget */\n    function CustomEventTarget() {\n        EventTarget.call(this)\n    }\n\n    CustomEventTarget.prototype = Object.create(EventTarget.prototype, {\n        constructor: {\n            value: CustomEventTarget,\n            configurable: true,\n            writable: true,\n        },\n    })\n\n    for (let i = 0; i < eventNames.length; ++i) {\n        defineEventAttribute(CustomEventTarget.prototype, eventNames[i])\n    }\n\n    return CustomEventTarget\n}\n\n/**\n * EventTarget.\n *\n * - This is constructor if no arguments.\n * - This is a function which returns a CustomEventTarget constructor if there are arguments.\n *\n * For example:\n *\n *     class A extends EventTarget {}\n *     class B extends EventTarget(\"message\") {}\n *     class C extends EventTarget(\"message\", \"error\") {}\n *     class D extends EventTarget([\"message\", \"error\"]) {}\n */\nfunction EventTarget() {\n    /*eslint-disable consistent-return */\n    if (this instanceof EventTarget) {\n        listenersMap.set(this, new Map())\n        return\n    }\n    if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        return defineCustomEventTarget(arguments[0])\n    }\n    if (arguments.length > 0) {\n        const types = new Array(arguments.length)\n        for (let i = 0; i < arguments.length; ++i) {\n            types[i] = arguments[i]\n        }\n        return defineCustomEventTarget(types)\n    }\n    throw new TypeError(\"Cannot call a class as a function\")\n    /*eslint-enable consistent-return */\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEventTarget.prototype = {\n    /**\n     * Add a given listener to this event target.\n     * @param {string} eventName The event name to add.\n     * @param {Function} listener The listener to add.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    addEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n        if (typeof listener !== \"function\" && !isObject(listener)) {\n            throw new TypeError(\"'listener' should be a function or an object.\")\n        }\n\n        const listeners = getListeners(this)\n        const optionsIsObj = isObject(options)\n        const capture = optionsIsObj\n            ? Boolean(options.capture)\n            : Boolean(options)\n        const listenerType = capture ? CAPTURE : BUBBLE\n        const newNode = {\n            listener,\n            listenerType,\n            passive: optionsIsObj && Boolean(options.passive),\n            once: optionsIsObj && Boolean(options.once),\n            next: null,\n        }\n\n        // Set it as the first node if the first node is null.\n        let node = listeners.get(eventName)\n        if (node === undefined) {\n            listeners.set(eventName, newNode)\n            return\n        }\n\n        // Traverse to the tail while checking duplication..\n        let prev = null\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                // Should ignore duplication.\n                return\n            }\n            prev = node\n            node = node.next\n        }\n\n        // Add it.\n        prev.next = newNode\n    },\n\n    /**\n     * Remove a given listener from this event target.\n     * @param {string} eventName The event name to remove.\n     * @param {Function} listener The listener to remove.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    removeEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n\n        const listeners = getListeners(this)\n        const capture = isObject(options)\n            ? Boolean(options.capture)\n            : Boolean(options)\n        const listenerType = capture ? CAPTURE : BUBBLE\n\n        let prev = null\n        let node = listeners.get(eventName)\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                if (prev !== null) {\n                    prev.next = node.next\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next)\n                } else {\n                    listeners.delete(eventName)\n                }\n                return\n            }\n\n            prev = node\n            node = node.next\n        }\n    },\n\n    /**\n     * Dispatch a given event.\n     * @param {Event|{type:string}} event The event to dispatch.\n     * @returns {boolean} `false` if canceled.\n     */\n    dispatchEvent(event) {\n        if (event == null || typeof event.type !== \"string\") {\n            throw new TypeError('\"event.type\" should be a string.')\n        }\n\n        // If listeners aren't registered, terminate.\n        const listeners = getListeners(this)\n        const eventName = event.type\n        let node = listeners.get(eventName)\n        if (node == null) {\n            return true\n        }\n\n        // Since we cannot rewrite several properties, so wrap object.\n        const wrappedEvent = wrapEvent(this, event)\n\n        // This doesn't process capturing phase and bubbling phase.\n        // This isn't participating in a tree.\n        let prev = null\n        while (node != null) {\n            // Remove this listener if it's once\n            if (node.once) {\n                if (prev !== null) {\n                    prev.next = node.next\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next)\n                } else {\n                    listeners.delete(eventName)\n                }\n            } else {\n                prev = node\n            }\n\n            // Call this listener\n            setPassiveListener(\n                wrappedEvent,\n                node.passive ? node.listener : null\n            )\n            if (typeof node.listener === \"function\") {\n                try {\n                    node.listener.call(this, wrappedEvent)\n                } catch (err) {\n                    if (\n                        typeof console !== \"undefined\" &&\n                        typeof console.error === \"function\"\n                    ) {\n                        console.error(err)\n                    }\n                }\n            } else if (\n                node.listenerType !== ATTRIBUTE &&\n                typeof node.listener.handleEvent === \"function\"\n            ) {\n                node.listener.handleEvent(wrappedEvent)\n            }\n\n            // Break if `event.stopImmediatePropagation` was called.\n            if (isStopped(wrappedEvent)) {\n                break\n            }\n\n            node = node.next\n        }\n        setPassiveListener(wrappedEvent, null)\n        setEventPhase(wrappedEvent, 0)\n        setCurrentTarget(wrappedEvent, null)\n\n        return !wrappedEvent.defaultPrevented\n    },\n}\n\n// `constructor` is not enumerable.\nObject.defineProperty(EventTarget.prototype, \"constructor\", {\n    value: EventTarget,\n    configurable: true,\n    writable: true,\n})\n\n// Ensure `eventTarget instanceof window.EventTarget` is `true`.\nif (\n    typeof window !== \"undefined\" &&\n    typeof window.EventTarget !== \"undefined\"\n) {\n    Object.setPrototypeOf(EventTarget.prototype, window.EventTarget.prototype)\n}\n\nexport { defineEventAttribute, EventTarget }\nexport default EventTarget\n","(() => {\r\n  function fromPairs(pairs) {\r\n    var index = -1,\r\n      length = pairs == null ? 0 : pairs.length,\r\n      result = {};\r\n    while (++index < length) {\r\n      var pair = pairs[index];\r\n      result[pair[0]] = pair[1];\r\n    }\r\n    return result;\r\n  }\r\n\r\n  var fromPairs_1 = fromPairs;\r\n\r\n  if (\"function\" !== typeof Object.fromEntries) {\r\n    Object.fromEntries = fromPairs_1;\r\n  }\r\n})();\r\n","import { isboolean, isnumber, isString, isundefined } from \"./util\";\r\nexport type Primitivetype = string | number | boolean | undefined | bigint;\r\nexport default function(a: any): a is Primitivetype {\r\n  return (\r\n    isString(a) || isnumber(a) || isboolean(a) || isundefined(a) || isbigint(a)\r\n    // typeof a === \"bigint\"\r\n  );\r\n}\r\nexport function isbigint(a: any): a is bigint {\r\n  return typeof a === \"bigint\";\r\n}\r\n","export function issymbol(a: any): a is symbol {\r\n  return typeof a === \"symbol\";\r\n  //||gettagtype(a) === \"symbol\";\r\n}\r\n\r\nexport { isplainobject };\r\nexport { isfunction as isFunction, isarray as isArray, isstring as isString };\r\nexport { isprimitive };\r\n\r\nconst isplainobject = (a: any): a is Record<any, any> =>\r\n  isobject(a) && gettagtype(a) === \"Object\";\r\n\r\nimport isprimitive from \"./isprimitive\";\r\n/* eslint-disable @typescript-eslint/explicit-function-return-type */\r\nexport function isundefined(a: any): a is void {\r\n  return (!a && a === void 0) || a === null;\r\n}\r\n\r\nexport function isnumber(a: any): a is number {\r\n  return typeof a === \"number\";\r\n}\r\nexport function isboolean(a: any): a is boolean {\r\n  return typeof a === \"boolean\";\r\n}\r\nexport function isobject(a: any): a is Exclude<object, Function> {\r\n  return typeof a === \"object\" && a !== null;\r\n}\r\n// export function isstring(a: string): true;\r\n// export function isstring(a): boolean;\r\nexport function isstring(a: any): a is string {\r\n  return typeof a === \"string\";\r\n}\r\nexport function isfunction(a: any): a is Function {\r\n  return typeof a === \"function\";\r\n}\r\n\r\nexport function isarray(a: any): a is Array<any> {\r\n  return Array.isArray(a)&&a instanceof Array \r\n//&&  \r\n//&& gettagtype(a) === \"Array\";\r\n}\r\n/* export function getsymbol(a: string) {\r\n  return Symbol(a);\r\n} */\r\nexport function gettagtype(a: any): string {\r\n  return (\r\n    {}.toString\r\n      .call(a)\r\n      .replace(\"[object \", \"\")\r\n      .replace(\"]\", \"\")\r\n      //.toLowerCase()\r\n      .trim()\r\n  );\r\n}\r\n//export function ispromise(a: any): a is Promise<any> {\r\n//  return gettagtype(a) === \"promise\" && isFunction(get(a, \"then\"));\r\n//}\r\nexport function isSet(a: any): a is Set<any> {\r\n  return a instanceof Set;\r\n}\r\nexport function isMap(a: any): a is Map<any, any> {\r\n  return a instanceof Map;\r\n}\r\nconst camelizeRE = /-(\\w)/g;\r\nexport const camelize = (str: string): string => {\r\n  return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : \"\"));\r\n};\r\n\r\nconst hyphenateRE = /\\B([A-Z])/g;\r\nexport const hyphenate = (str: string): string => {\r\n  return str.replace(hyphenateRE, \"-$1\").toLowerCase();\r\n};\r\n\r\nexport function isWeakMap(a: any): a is WeakMap<any, any> {\r\n  return a instanceof WeakMap;\r\n}\r\n","import event_target from \"event-target-shim/dist/event-target-shim\";\r\n(() => {\r\n  try {\r\n    new EventTarget();\r\n  } catch (e) {\r\n    // Reflect.set()\r\n    window.EventTarget = undefined;\r\n  }\r\n  //   if (\"function\" != typeof EventTarget) {\r\n  (() => {\r\n    if (\"function\" != typeof window.EventTarget) {\r\n      window.EventTarget = event_target;\r\n      // Reflect.set(window, \"EventTarget\", event_target);\r\n      //   window.EventTarget = (event_target as unknown) as EventTarget;\r\n    }\r\n  })();\r\n  //   }\r\n})();\r\n","(() => {\r\n  if (\r\n    \"object\" != typeof window.customElements ||\r\n    typeof window.CustomElementRegistry !== \"function\"\r\n  ) {\r\n    (function() {\r\n      /*\r\n          \r\n           Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\r\n           This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\r\n           The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\r\n           The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\r\n           Code distributed by Google as part of the polymer project is also\r\n           subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\r\n          */\r\n      \"use strict\";\r\n      var aa = new Set(\r\n        \"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph\".split(\r\n          \" \"\r\n        )\r\n      );\r\n      function g(a) {\r\n        var b = aa.has(a);\r\n        a = /^[a-z][.0-9_a-z]*-[\\-.0-9_a-z]*$/.test(a);\r\n        return !b && a;\r\n      }\r\n      function l(a) {\r\n        var b = a.isConnected;\r\n        if (void 0 !== b) return b;\r\n        for (; a && !(a.__CE_isImportDocument || a instanceof Document); )\r\n          a =\r\n            a.parentNode ||\r\n            (window.ShadowRoot && a instanceof ShadowRoot ? a.host : void 0);\r\n        return !(!a || !(a.__CE_isImportDocument || a instanceof Document));\r\n      }\r\n      function n(a, b) {\r\n        for (; b && b !== a && !b.nextSibling; ) b = b.parentNode;\r\n        return b && b !== a ? b.nextSibling : null;\r\n      }\r\n      function p(a, b, d) {\r\n        d = void 0 === d ? new Set() : d;\r\n        for (var c = a; c; ) {\r\n          if (c.nodeType === Node.ELEMENT_NODE) {\r\n            var e = c;\r\n            b(e);\r\n            var f = e.localName;\r\n            if (\"link\" === f && \"import\" === e.getAttribute(\"rel\")) {\r\n              c = e.import;\r\n              if (c instanceof Node && !d.has(c))\r\n                for (d.add(c), c = c.firstChild; c; c = c.nextSibling)\r\n                  p(c, b, d);\r\n              c = n(a, e);\r\n              continue;\r\n            } else if (\"template\" === f) {\r\n              c = n(a, e);\r\n              continue;\r\n            }\r\n            if ((e = e.__CE_shadowRoot))\r\n              for (e = e.firstChild; e; e = e.nextSibling) p(e, b, d);\r\n          }\r\n          c = c.firstChild ? c.firstChild : n(a, c);\r\n        }\r\n      }\r\n      function r(a, b, d) {\r\n        a[b] = d;\r\n      }\r\n      function u() {\r\n        this.a = new Map();\r\n        this.g = new Map();\r\n        this.c = [];\r\n        this.f = [];\r\n        this.b = !1;\r\n      }\r\n      function ba(a, b, d) {\r\n        a.a.set(b, d);\r\n        a.g.set(d.constructorFunction, d);\r\n      }\r\n      function ca(a, b) {\r\n        a.b = !0;\r\n        a.c.push(b);\r\n      }\r\n      function da(a, b) {\r\n        a.b = !0;\r\n        a.f.push(b);\r\n      }\r\n      function v(a, b) {\r\n        a.b &&\r\n          p(b, function(b) {\r\n            return w(a, b);\r\n          });\r\n      }\r\n      function w(a, b) {\r\n        if (a.b && !b.__CE_patched) {\r\n          b.__CE_patched = !0;\r\n          for (var d = 0; d < a.c.length; d++) a.c[d](b);\r\n          for (d = 0; d < a.f.length; d++) a.f[d](b);\r\n        }\r\n      }\r\n      function x(a, b) {\r\n        var d = [];\r\n        p(b, function(b) {\r\n          return d.push(b);\r\n        });\r\n        for (b = 0; b < d.length; b++) {\r\n          var c = d[b];\r\n          1 === c.__CE_state ? a.connectedCallback(c) : y(a, c);\r\n        }\r\n      }\r\n      function z(a, b) {\r\n        var d = [];\r\n        p(b, function(b) {\r\n          return d.push(b);\r\n        });\r\n        for (b = 0; b < d.length; b++) {\r\n          var c = d[b];\r\n          1 === c.__CE_state && a.disconnectedCallback(c);\r\n        }\r\n      }\r\n      function A(a, b, d) {\r\n        d = void 0 === d ? {} : d;\r\n        var c = d.u || new Set(),\r\n          e =\r\n            d.i ||\r\n            function(b) {\r\n              return y(a, b);\r\n            },\r\n          f = [];\r\n        p(\r\n          b,\r\n          function(b) {\r\n            if (\"link\" === b.localName && \"import\" === b.getAttribute(\"rel\")) {\r\n              var d = b.import;\r\n              d instanceof Node &&\r\n                ((d.__CE_isImportDocument = !0), (d.__CE_hasRegistry = !0));\r\n              d && \"complete\" === d.readyState\r\n                ? (d.__CE_documentLoadHandled = !0)\r\n                : b.addEventListener(\"load\", function() {\r\n                    var d = b.import;\r\n                    if (!d.__CE_documentLoadHandled) {\r\n                      d.__CE_documentLoadHandled = !0;\r\n                      var f = new Set(c);\r\n                      f.delete(d);\r\n                      A(a, d, { u: f, i: e });\r\n                    }\r\n                  });\r\n            } else f.push(b);\r\n          },\r\n          c\r\n        );\r\n        if (a.b) for (b = 0; b < f.length; b++) w(a, f[b]);\r\n        for (b = 0; b < f.length; b++) e(f[b]);\r\n      }\r\n      function y(a, b) {\r\n        if (void 0 === b.__CE_state) {\r\n          var d = b.ownerDocument;\r\n          if (d.defaultView || (d.__CE_isImportDocument && d.__CE_hasRegistry))\r\n            if ((d = a.a.get(b.localName))) {\r\n              d.constructionStack.push(b);\r\n              var c = d.constructorFunction;\r\n              try {\r\n                try {\r\n                  if (new c() !== b)\r\n                    throw Error(\r\n                      \"The custom element constructor did not produce the element being upgraded.\"\r\n                    );\r\n                } finally {\r\n                  d.constructionStack.pop();\r\n                }\r\n              } catch (t) {\r\n                throw ((b.__CE_state = 2), t);\r\n              }\r\n              b.__CE_state = 1;\r\n              b.__CE_definition = d;\r\n              if (d.attributeChangedCallback)\r\n                for (d = d.observedAttributes, c = 0; c < d.length; c++) {\r\n                  var e = d[c],\r\n                    f = b.getAttribute(e);\r\n                  null !== f && a.attributeChangedCallback(b, e, null, f, null);\r\n                }\r\n              l(b) && a.connectedCallback(b);\r\n            }\r\n        }\r\n      }\r\n      u.prototype.connectedCallback = function(a) {\r\n        var b = a.__CE_definition;\r\n        b.connectedCallback && b.connectedCallback.call(a);\r\n      };\r\n      u.prototype.disconnectedCallback = function(a) {\r\n        var b = a.__CE_definition;\r\n        b.disconnectedCallback && b.disconnectedCallback.call(a);\r\n      };\r\n      u.prototype.attributeChangedCallback = function(a, b, d, c, e) {\r\n        var f = a.__CE_definition;\r\n        f.attributeChangedCallback &&\r\n          -1 < f.observedAttributes.indexOf(b) &&\r\n          f.attributeChangedCallback.call(a, b, d, c, e);\r\n      };\r\n      function B(a) {\r\n        var b = document;\r\n        this.c = a;\r\n        this.a = b;\r\n        this.b = void 0;\r\n        A(this.c, this.a);\r\n        \"loading\" === this.a.readyState &&\r\n          ((this.b = new MutationObserver(this.f.bind(this))),\r\n          this.b.observe(this.a, { childList: !0, subtree: !0 }));\r\n      }\r\n      function C(a) {\r\n        a.b && a.b.disconnect();\r\n      }\r\n      B.prototype.f = function(a) {\r\n        var b = this.a.readyState;\r\n        (\"interactive\" !== b && \"complete\" !== b) || C(this);\r\n        for (b = 0; b < a.length; b++)\r\n          for (var d = a[b].addedNodes, c = 0; c < d.length; c++)\r\n            A(this.c, d[c]);\r\n      };\r\n      function ea() {\r\n        var a = this;\r\n        this.b = this.a = void 0;\r\n        this.c = new Promise(function(b) {\r\n          a.b = b;\r\n          a.a && b(a.a);\r\n        });\r\n      }\r\n      function D(a) {\r\n        if (a.a) throw Error(\"Already resolved.\");\r\n        a.a = void 0;\r\n        a.b && a.b(void 0);\r\n      }\r\n      function E(a) {\r\n        this.c = !1;\r\n        this.a = a;\r\n        this.j = new Map();\r\n        this.f = function(b) {\r\n          return b();\r\n        };\r\n        this.b = !1;\r\n        this.g = [];\r\n        this.o = new B(a);\r\n      }\r\n      E.prototype.l = function(a, b) {\r\n        var d = this;\r\n        if (!(b instanceof Function))\r\n          throw new TypeError(\"Custom element constructors must be functions.\");\r\n        if (!g(a))\r\n          throw new SyntaxError(\"The element name '\" + a + \"' is not valid.\");\r\n        if (this.a.a.get(a))\r\n          throw Error(\r\n            \"A custom element with name '\" + a + \"' has already been defined.\"\r\n          );\r\n        if (this.c) throw Error(\"A custom element is already being defined.\");\r\n        this.c = !0;\r\n        try {\r\n          var c = function(b) {\r\n              var a = e[b];\r\n              if (void 0 !== a && !(a instanceof Function))\r\n                throw Error(\"The '\" + b + \"' callback must be a function.\");\r\n              return a;\r\n            },\r\n            e = b.prototype;\r\n          if (!(e instanceof Object))\r\n            throw new TypeError(\r\n              \"The custom element constructor's prototype is not an object.\"\r\n            );\r\n          var f = c(\"connectedCallback\");\r\n          var t = c(\"disconnectedCallback\");\r\n          var k = c(\"adoptedCallback\");\r\n          var h = c(\"attributeChangedCallback\");\r\n          var m = b.observedAttributes || [];\r\n        } catch (q) {\r\n          return;\r\n        } finally {\r\n          this.c = !1;\r\n        }\r\n        b = {\r\n          localName: a,\r\n          constructorFunction: b,\r\n          connectedCallback: f,\r\n          disconnectedCallback: t,\r\n          adoptedCallback: k,\r\n          attributeChangedCallback: h,\r\n          observedAttributes: m,\r\n          constructionStack: []\r\n        };\r\n        ba(this.a, a, b);\r\n        this.g.push(b);\r\n        this.b ||\r\n          ((this.b = !0),\r\n          this.f(function() {\r\n            return fa(d);\r\n          }));\r\n      };\r\n      E.prototype.i = function(a) {\r\n        A(this.a, a);\r\n      };\r\n      function fa(a) {\r\n        if (!1 !== a.b) {\r\n          a.b = !1;\r\n          for (var b = a.g, d = [], c = new Map(), e = 0; e < b.length; e++)\r\n            c.set(b[e].localName, []);\r\n          A(a.a, document, {\r\n            i: function(b) {\r\n              if (void 0 === b.__CE_state) {\r\n                var e = b.localName,\r\n                  f = c.get(e);\r\n                f ? f.push(b) : a.a.a.get(e) && d.push(b);\r\n              }\r\n            }\r\n          });\r\n          for (e = 0; e < d.length; e++) y(a.a, d[e]);\r\n          for (; 0 < b.length; ) {\r\n            var f = b.shift();\r\n            e = f.localName;\r\n            f = c.get(f.localName);\r\n            for (var t = 0; t < f.length; t++) y(a.a, f[t]);\r\n            (e = a.j.get(e)) && D(e);\r\n          }\r\n        }\r\n      }\r\n      E.prototype.get = function(a) {\r\n        if ((a = this.a.a.get(a))) return a.constructorFunction;\r\n      };\r\n      E.prototype.m = function(a) {\r\n        if (!g(a))\r\n          return Promise.reject(\r\n            new SyntaxError(\"'\" + a + \"' is not a valid custom element name.\")\r\n          );\r\n        var b = this.j.get(a);\r\n        if (b) return b.c;\r\n        b = new ea();\r\n        this.j.set(a, b);\r\n        this.a.a.get(a) &&\r\n          !this.g.some(function(b) {\r\n            return b.localName === a;\r\n          }) &&\r\n          D(b);\r\n        return b.c;\r\n      };\r\n      E.prototype.s = function(a) {\r\n        C(this.o);\r\n        var b = this.f;\r\n        this.f = function(d) {\r\n          return a(function() {\r\n            return b(d);\r\n          });\r\n        };\r\n      };\r\n      window.CustomElementRegistry = E;\r\n      E.prototype.define = E.prototype.l;\r\n      E.prototype.upgrade = E.prototype.i;\r\n      E.prototype.get = E.prototype.get;\r\n      E.prototype.whenDefined = E.prototype.m;\r\n      E.prototype.polyfillWrapFlushCallback = E.prototype.s;\r\n      var F = window.Document.prototype.createElement,\r\n        G = window.Document.prototype.createElementNS,\r\n        ha = window.Document.prototype.importNode,\r\n        ia = window.Document.prototype.prepend,\r\n        ja = window.Document.prototype.append,\r\n        ka = window.DocumentFragment.prototype.prepend,\r\n        la = window.DocumentFragment.prototype.append,\r\n        H = window.Node.prototype.cloneNode,\r\n        I = window.Node.prototype.appendChild,\r\n        J = window.Node.prototype.insertBefore,\r\n        K = window.Node.prototype.removeChild,\r\n        L = window.Node.prototype.replaceChild,\r\n        M = Object.getOwnPropertyDescriptor(\r\n          window.Node.prototype,\r\n          \"textContent\"\r\n        ),\r\n        N = window.Element.prototype.attachShadow,\r\n        O = Object.getOwnPropertyDescriptor(\r\n          window.Element.prototype,\r\n          \"innerHTML\"\r\n        ),\r\n        P = window.Element.prototype.getAttribute,\r\n        Q = window.Element.prototype.setAttribute,\r\n        R = window.Element.prototype.removeAttribute,\r\n        S = window.Element.prototype.getAttributeNS,\r\n        T = window.Element.prototype.setAttributeNS,\r\n        U = window.Element.prototype.removeAttributeNS,\r\n        ma = window.Element.prototype.insertAdjacentElement,\r\n        na = window.Element.prototype.insertAdjacentHTML,\r\n        oa = window.Element.prototype.prepend,\r\n        pa = window.Element.prototype.append,\r\n        V = window.Element.prototype.before,\r\n        qa = window.Element.prototype.after,\r\n        ra = window.Element.prototype.replaceWith,\r\n        sa = window.Element.prototype.remove,\r\n        ta = window.HTMLElement,\r\n        W = Object.getOwnPropertyDescriptor(\r\n          window.HTMLElement.prototype,\r\n          \"innerHTML\"\r\n        ),\r\n        ua = window.HTMLElement.prototype.insertAdjacentElement,\r\n        va = window.HTMLElement.prototype.insertAdjacentHTML;\r\n      var wa = new (function() {})();\r\n      function xa() {\r\n        var a = X;\r\n        window.HTMLElement = (function() {\r\n          function b() {\r\n            var b = this.constructor,\r\n              c = a.g.get(b);\r\n            if (!c)\r\n              throw Error(\r\n                \"The custom element being constructed was not registered with `customElements`.\"\r\n              );\r\n            var e = c.constructionStack;\r\n            if (0 === e.length)\r\n              return (\r\n                (e = F.call(document, c.localName)),\r\n                Object.setPrototypeOf(e, b.prototype),\r\n                (e.__CE_state = 1),\r\n                (e.__CE_definition = c),\r\n                w(a, e),\r\n                e\r\n              );\r\n            c = e.length - 1;\r\n            var f = e[c];\r\n            if (f === wa)\r\n              throw Error(\r\n                \"The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.\"\r\n              );\r\n            e[c] = wa;\r\n            Object.setPrototypeOf(f, b.prototype);\r\n            w(a, f);\r\n            return f;\r\n          }\r\n          b.prototype = ta.prototype;\r\n          Object.defineProperty(b.prototype, \"constructor\", {\r\n            writable: !0,\r\n            configurable: !0,\r\n            enumerable: !1,\r\n            value: b\r\n          });\r\n          return b;\r\n        })();\r\n      }\r\n      function Y(a, b, d) {\r\n        function c(b) {\r\n          return function(d) {\r\n            for (var e = [], c = 0; c < arguments.length; ++c)\r\n              e[c] = arguments[c];\r\n            c = [];\r\n            for (var f = [], m = 0; m < e.length; m++) {\r\n              var q = e[m];\r\n              q instanceof Element && l(q) && f.push(q);\r\n              if (q instanceof DocumentFragment)\r\n                for (q = q.firstChild; q; q = q.nextSibling) c.push(q);\r\n              else c.push(q);\r\n            }\r\n            b.apply(this, e);\r\n            for (e = 0; e < f.length; e++) z(a, f[e]);\r\n            if (l(this))\r\n              for (e = 0; e < c.length; e++)\r\n                (f = c[e]), f instanceof Element && x(a, f);\r\n          };\r\n        }\r\n        void 0 !== d.h && (b.prepend = c(d.h));\r\n        void 0 !== d.append && (b.append = c(d.append));\r\n      }\r\n      function ya() {\r\n        var a = X;\r\n        r(Document.prototype, \"createElement\", function(b) {\r\n          if (this.__CE_hasRegistry) {\r\n            var d = a.a.get(b);\r\n            if (d) return new d.constructorFunction();\r\n          }\r\n          b = F.call(this, b);\r\n          w(a, b);\r\n          return b;\r\n        });\r\n        r(Document.prototype, \"importNode\", function(b, d) {\r\n          b = ha.call(this, b, !!d);\r\n          this.__CE_hasRegistry ? A(a, b) : v(a, b);\r\n          return b;\r\n        });\r\n        r(Document.prototype, \"createElementNS\", function(b, d) {\r\n          if (\r\n            this.__CE_hasRegistry &&\r\n            (null === b || \"http://www.w3.org/1999/xhtml\" === b)\r\n          ) {\r\n            var c = a.a.get(d);\r\n            if (c) return new c.constructorFunction();\r\n          }\r\n          b = G.call(this, b, d);\r\n          w(a, b);\r\n          return b;\r\n        });\r\n        Y(a, Document.prototype, { h: ia, append: ja });\r\n      }\r\n      function za() {\r\n        function a(a, c) {\r\n          Object.defineProperty(a, \"textContent\", {\r\n            enumerable: c.enumerable,\r\n            configurable: !0,\r\n            get: c.get,\r\n            set: function(a) {\r\n              if (this.nodeType === Node.TEXT_NODE) c.set.call(this, a);\r\n              else {\r\n                var d = void 0;\r\n                if (this.firstChild) {\r\n                  var e = this.childNodes,\r\n                    k = e.length;\r\n                  if (0 < k && l(this)) {\r\n                    d = Array(k);\r\n                    for (var h = 0; h < k; h++) d[h] = e[h];\r\n                  }\r\n                }\r\n                c.set.call(this, a);\r\n                if (d) for (a = 0; a < d.length; a++) z(b, d[a]);\r\n              }\r\n            }\r\n          });\r\n        }\r\n        var b = X;\r\n        r(Node.prototype, \"insertBefore\", function(a, c) {\r\n          if (a instanceof DocumentFragment) {\r\n            var e = Array.prototype.slice.apply(a.childNodes);\r\n            a = J.call(this, a, c);\r\n            if (l(this)) for (c = 0; c < e.length; c++) x(b, e[c]);\r\n            return a;\r\n          }\r\n          e = l(a);\r\n          c = J.call(this, a, c);\r\n          e && z(b, a);\r\n          l(this) && x(b, a);\r\n          return c;\r\n        });\r\n        r(Node.prototype, \"appendChild\", function(a) {\r\n          if (a instanceof DocumentFragment) {\r\n            var c = Array.prototype.slice.apply(a.childNodes);\r\n            a = I.call(this, a);\r\n            if (l(this)) for (var e = 0; e < c.length; e++) x(b, c[e]);\r\n            return a;\r\n          }\r\n          c = l(a);\r\n          e = I.call(this, a);\r\n          c && z(b, a);\r\n          l(this) && x(b, a);\r\n          return e;\r\n        });\r\n        r(Node.prototype, \"cloneNode\", function(a) {\r\n          a = H.call(this, !!a);\r\n          this.ownerDocument.__CE_hasRegistry ? A(b, a) : v(b, a);\r\n          return a;\r\n        });\r\n        r(Node.prototype, \"removeChild\", function(a) {\r\n          var c = l(a),\r\n            e = K.call(this, a);\r\n          c && z(b, a);\r\n          return e;\r\n        });\r\n        r(Node.prototype, \"replaceChild\", function(a, c) {\r\n          if (a instanceof DocumentFragment) {\r\n            var e = Array.prototype.slice.apply(a.childNodes);\r\n            a = L.call(this, a, c);\r\n            if (l(this)) for (z(b, c), c = 0; c < e.length; c++) x(b, e[c]);\r\n            return a;\r\n          }\r\n          e = l(a);\r\n          var f = L.call(this, a, c),\r\n            d = l(this);\r\n          d && z(b, c);\r\n          e && z(b, a);\r\n          d && x(b, a);\r\n          return f;\r\n        });\r\n        M && M.get\r\n          ? a(Node.prototype, M)\r\n          : ca(b, function(b) {\r\n              a(b, {\r\n                enumerable: !0,\r\n                configurable: !0,\r\n                get: function() {\r\n                  for (var a = [], b = 0; b < this.childNodes.length; b++) {\r\n                    var f = this.childNodes[b];\r\n                    f.nodeType !== Node.COMMENT_NODE && a.push(f.textContent);\r\n                  }\r\n                  return a.join(\"\");\r\n                },\r\n                set: function(a) {\r\n                  for (; this.firstChild; ) K.call(this, this.firstChild);\r\n                  null != a &&\r\n                    \"\" !== a &&\r\n                    I.call(this, document.createTextNode(a));\r\n                }\r\n              });\r\n            });\r\n      }\r\n      function Aa(a) {\r\n        function b(b) {\r\n          return function(e) {\r\n            for (var c = [], d = 0; d < arguments.length; ++d)\r\n              c[d] = arguments[d];\r\n            d = [];\r\n            for (var k = [], h = 0; h < c.length; h++) {\r\n              var m = c[h];\r\n              m instanceof Element && l(m) && k.push(m);\r\n              if (m instanceof DocumentFragment)\r\n                for (m = m.firstChild; m; m = m.nextSibling) d.push(m);\r\n              else d.push(m);\r\n            }\r\n            b.apply(this, c);\r\n            for (c = 0; c < k.length; c++) z(a, k[c]);\r\n            if (l(this))\r\n              for (c = 0; c < d.length; c++)\r\n                (k = d[c]), k instanceof Element && x(a, k);\r\n          };\r\n        }\r\n        var d = Element.prototype;\r\n        void 0 !== V && (d.before = b(V));\r\n        void 0 !== V && (d.after = b(qa));\r\n        void 0 !== ra &&\r\n          r(d, \"replaceWith\", function(b) {\r\n            for (var e = [], c = 0; c < arguments.length; ++c)\r\n              e[c] = arguments[c];\r\n            c = [];\r\n            for (var d = [], k = 0; k < e.length; k++) {\r\n              var h = e[k];\r\n              h instanceof Element && l(h) && d.push(h);\r\n              if (h instanceof DocumentFragment)\r\n                for (h = h.firstChild; h; h = h.nextSibling) c.push(h);\r\n              else c.push(h);\r\n            }\r\n            k = l(this);\r\n            ra.apply(this, e);\r\n            for (e = 0; e < d.length; e++) z(a, d[e]);\r\n            if (k)\r\n              for (z(a, this), e = 0; e < c.length; e++)\r\n                (d = c[e]), d instanceof Element && x(a, d);\r\n          });\r\n        void 0 !== sa &&\r\n          r(d, \"remove\", function() {\r\n            var b = l(this);\r\n            sa.call(this);\r\n            b && z(a, this);\r\n          });\r\n      }\r\n      function Ba() {\r\n        function a(a, b) {\r\n          Object.defineProperty(a, \"innerHTML\", {\r\n            enumerable: b.enumerable,\r\n            configurable: !0,\r\n            get: b.get,\r\n            set: function(a) {\r\n              var e = this,\r\n                d = void 0;\r\n              l(this) &&\r\n                ((d = []),\r\n                p(this, function(a) {\r\n                  a !== e && d.push(a);\r\n                }));\r\n              b.set.call(this, a);\r\n              if (d)\r\n                for (var f = 0; f < d.length; f++) {\r\n                  var t = d[f];\r\n                  1 === t.__CE_state && c.disconnectedCallback(t);\r\n                }\r\n              this.ownerDocument.__CE_hasRegistry ? A(c, this) : v(c, this);\r\n              return a;\r\n            }\r\n          });\r\n        }\r\n        function b(a, b) {\r\n          r(a, \"insertAdjacentElement\", function(a, e) {\r\n            var d = l(e);\r\n            a = b.call(this, a, e);\r\n            d && z(c, e);\r\n            l(a) && x(c, e);\r\n            return a;\r\n          });\r\n        }\r\n        function d(a, b) {\r\n          function e(a, b) {\r\n            for (var e = []; a !== b; a = a.nextSibling) e.push(a);\r\n            for (b = 0; b < e.length; b++) A(c, e[b]);\r\n          }\r\n          r(a, \"insertAdjacentHTML\", function(a, c) {\r\n            a = a.toLowerCase();\r\n            if (\"beforebegin\" === a) {\r\n              var d = this.previousSibling;\r\n              b.call(this, a, c);\r\n              e(d || this.parentNode.firstChild, this);\r\n            } else if (\"afterbegin\" === a)\r\n              (d = this.firstChild), b.call(this, a, c), e(this.firstChild, d);\r\n            else if (\"beforeend\" === a)\r\n              (d = this.lastChild),\r\n                b.call(this, a, c),\r\n                e(d || this.firstChild, null);\r\n            else if (\"afterend\" === a)\r\n              (d = this.nextSibling),\r\n                b.call(this, a, c),\r\n                e(this.nextSibling, d);\r\n            else\r\n              throw new SyntaxError(\r\n                \"The value provided (\" +\r\n                  String(a) +\r\n                  \") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.\"\r\n              );\r\n          });\r\n        }\r\n        var c = X;\r\n        N &&\r\n          r(Element.prototype, \"attachShadow\", function(a) {\r\n            a = N.call(this, a);\r\n            var b = c;\r\n            if (b.b && !a.__CE_patched) {\r\n              a.__CE_patched = !0;\r\n              for (var e = 0; e < b.c.length; e++) b.c[e](a);\r\n            }\r\n            return (this.__CE_shadowRoot = a);\r\n          });\r\n        O && O.get\r\n          ? a(Element.prototype, O)\r\n          : W && W.get\r\n          ? a(HTMLElement.prototype, W)\r\n          : da(c, function(b) {\r\n              a(b, {\r\n                enumerable: !0,\r\n                configurable: !0,\r\n                get: function() {\r\n                  return H.call(this, !0).innerHTML;\r\n                },\r\n                set: function(a) {\r\n                  var b = \"template\" === this.localName,\r\n                    c = b ? this.content : this,\r\n                    e = G.call(document, this.namespaceURI, this.localName);\r\n                  for (e.innerHTML = a; 0 < c.childNodes.length; )\r\n                    K.call(c, c.childNodes[0]);\r\n                  for (a = b ? e.content : e; 0 < a.childNodes.length; )\r\n                    I.call(c, a.childNodes[0]);\r\n                }\r\n              });\r\n            });\r\n        r(Element.prototype, \"setAttribute\", function(a, b) {\r\n          if (1 !== this.__CE_state) return Q.call(this, a, b);\r\n          var e = P.call(this, a);\r\n          Q.call(this, a, b);\r\n          b = P.call(this, a);\r\n          c.attributeChangedCallback(this, a, e, b, null);\r\n        });\r\n        r(Element.prototype, \"setAttributeNS\", function(a, b, d) {\r\n          if (1 !== this.__CE_state) return T.call(this, a, b, d);\r\n          var e = S.call(this, a, b);\r\n          T.call(this, a, b, d);\r\n          d = S.call(this, a, b);\r\n          c.attributeChangedCallback(this, b, e, d, a);\r\n        });\r\n        r(Element.prototype, \"removeAttribute\", function(a) {\r\n          if (1 !== this.__CE_state) return R.call(this, a);\r\n          var b = P.call(this, a);\r\n          R.call(this, a);\r\n          null !== b && c.attributeChangedCallback(this, a, b, null, null);\r\n        });\r\n        r(Element.prototype, \"removeAttributeNS\", function(a, b) {\r\n          if (1 !== this.__CE_state) return U.call(this, a, b);\r\n          var d = S.call(this, a, b);\r\n          U.call(this, a, b);\r\n          var e = S.call(this, a, b);\r\n          d !== e && c.attributeChangedCallback(this, b, d, e, a);\r\n        });\r\n        ua\r\n          ? b(HTMLElement.prototype, ua)\r\n          : ma\r\n          ? b(Element.prototype, ma)\r\n          : console.warn(\r\n              \"Custom Elements: `Element#insertAdjacentElement` was not patched.\"\r\n            );\r\n        va\r\n          ? d(HTMLElement.prototype, va)\r\n          : na\r\n          ? d(Element.prototype, na)\r\n          : console.warn(\r\n              \"Custom Elements: `Element#insertAdjacentHTML` was not patched.\"\r\n            );\r\n        Y(c, Element.prototype, { h: oa, append: pa });\r\n        Aa(c);\r\n      }\r\n      var Z = window.customElements;\r\n      if (\r\n        !Z ||\r\n        Z.forcePolyfill ||\r\n        \"function\" != typeof Z.define ||\r\n        \"function\" != typeof Z.get\r\n      ) {\r\n        var X = new u();\r\n        xa();\r\n        ya();\r\n        Y(X, DocumentFragment.prototype, { h: ka, append: la });\r\n        za();\r\n        Ba();\r\n        document.__CE_hasRegistry = !0;\r\n        var customElements = new E(X);\r\n        Object.defineProperty(window, \"customElements\", {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          value: customElements\r\n        });\r\n      }\r\n    }.call(self));\r\n\r\n    //# sourceMappingURL=custom-elements.min.js.map\r\n\r\n    window.CustomElementRegistry = Reflect.get(\r\n      Reflect.getPrototypeOf(window.customElements),\r\n      \"constructor\"\r\n    );\r\n  }\r\n})();\r\n","(() => {\r\n  function flattenDeep(arr1) {\r\n    return arr1.reduce(\r\n      (acc, val) => acc.concat(Array.isArray(val) ? flattenDeep(val) : val),\r\n\r\n      []\r\n    );\r\n  }\r\n\r\n  function arrayflat(depth = 1) {\r\n    if (depth <= 1) {\r\n      return this.reduce((acc, val) => acc.concat(val), []);\r\n    } else if (depth > 10) {\r\n      return flattenDeep(this);\r\n    } else {\r\n      let result = [...this];\r\n      while (depth >= 1) {\r\n        result = arrayflat.call(result);\r\n        depth--;\r\n      }\r\n      return result;\r\n    }\r\n  }\r\n\r\n  if (typeof Array.prototype.flat !== \"function\") {\r\n    Array.prototype.flat = arrayflat;\r\n  }\r\n})();\r\n","import { isfunction, isobject } from \"./UtilTools/util\";\r\nconst { HTMLElement, customElements, Proxy } = window;\r\nif (\r\n  !isfunction(HTMLElement) ||\r\n  //   typeof HTMLElement !== \"function\" ||\r\n  !isfunction(Proxy) ||\r\n  //   typeof Proxy !== \"function\" ||\r\n  !isobject(customElements)\r\n  /*||\r\n  //   typeof customElements !== \"object\" ||\r\n  !isfunction(window.CustomElementRegistry)\r\n  //||\r\n  //   typeof CustomElementRegistry !== \"function\"\r\n\r\n*/\r\n) {\r\n  console.error(\"Proxy,HTMLElement ,customElements ,browser not supported !\");\r\n  throw new TypeError();\r\n}\r\n","const acceptValue = [\"input\", \"textarea\", \"option\", \"select\"];\r\n\r\nexport default (tag: string, attr: string, attrtype: string) => {\r\n  return (\r\n    (attr === \"value\" && acceptValue.includes(tag) && attrtype !== \"button\") ||\r\n    (attr === \"selected\" && tag === \"option\") ||\r\n    (attr === \"checked\" && tag === \"input\") ||\r\n    (attr === \"muted\" && tag === \"video\")\r\n  );\r\n};\r\n","import mustUseDomProp from \"./mustUseDomProp\";\r\n/* const camelizeRE = /-(\\w)/g;\r\nconst camelize = (str: string): string => {\r\n  return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : \"\"));\r\n};\r\n */\r\nconst hyphenateRE = /\\B([A-Z])/g;\r\nconst hyphenate = (str: string): string => {\r\n  return str.replace(hyphenateRE, \"-$1\").toLowerCase();\r\n};\r\nconst String = window.String;\r\nconst Reflect = window.Reflect;\r\nconst { get, set, ownKeys } = Reflect;\r\nconst valuestring = \"value\";\r\nfunction isobject(a: any): a is Record<any, any> {\r\n  return typeof a === \"object\" && a !== null;\r\n}\r\nfunction isstring(a: any): a is string {\r\n  return typeof a === \"string\";\r\n}\r\nfunction isArray(a: any): a is Array<any> {\r\n  return Array.isArray(a);\r\n}\r\n\r\nfunction isSet(a: any): a is Set<any> {\r\n  return a instanceof Set;\r\n}\r\n\r\nconst isinputcheckbox = (\r\n  ele: HTMLElement | Element | SVGElement | HTMLInputElement\r\n) =>\r\n  \"input\" === geteletagname(ele) &&\r\n  (get(ele, \"type\") === \"checkbox\" || get(ele, \"type\") === \"radio\");\r\n\r\n//stylejson\r\nfunction objtostylestring(obj: object): string {\r\n  //style\r\n\r\n  obj = JSON.parse(JSON.stringify(obj));\r\n\r\n  const objentries = Object.entries(obj).map(([key, value]) => [\r\n    hyphenate(key).trim(),\r\n    value\r\n  ]);\r\n\r\n  return objentries.map(([key, value]) => key + \":\" + value).join(\";\");\r\n}\r\nfunction asserthtmlelement(ele: any) {\r\n  if (!(ele instanceof Element)) {\r\n    console.error(ele);\r\n    console.error(\"invalid HTMLElement!\");\r\n    throw TypeError();\r\n  }\r\n}\r\nexport default function createeleattragentreadwrite(\r\n  ele: Element\r\n): Record<string, any> {\r\n  asserthtmlelement(ele);\r\n\r\n  var temp: Record<string, any> = Object.create(null);\r\n\r\n  const outputattrs: Record<string, any> = new Proxy(temp, {\r\n    ownKeys(/* target */) {\r\n      const isinputtextortextareaflag = isinputtextortextarea(ele);\r\n\r\n      const keys = attributesownkeys(ele);\r\n\r\n      return Array.from(\r\n        new Set(\r\n          [\r\n            ...keys,\r\n            isinputcheckbox(ele) ? \"checked\" : undefined,\r\n            isinputtextortextareaflag ? valuestring : undefined\r\n            //Array.from(new Set([...keys, valuestring]))\r\n            //  : keys\r\n          ]\r\n            .flat(Infinity)\r\n            .filter(a => !!a)\r\n        )\r\n      );\r\n    },\r\n    get(target, key) {\r\n      //   const isinputtextortextareaflag = isinputtextortextarea(ele);\r\n\r\n      //   if (isinputcheckbox(ele) && key === \"checked\") {\r\n      //     return get(ele, \"checked\");\r\n      //   }\r\n      //   if (isinputtextortextareaflag && key === valuestring) {\r\n      //     return get(ele, valuestring);\r\n\r\n      //   }\r\n      if (mustUseDomProp(geteletagname(ele), String(key), get(ele, \"type\"))) {\r\n        return get(ele, String(key));\r\n      } else {\r\n        const v = getattribute(ele, String(key));\r\n        // ele.getAttribute(String(key));\r\n        //   console.log(v);\r\n        if (v === \"\") {\r\n          return true;\r\n        }\r\n        /* truebug */\r\n        if (v === null) {\r\n          return;\r\n        }\r\n\r\n        //true\r\n\r\n        if (isstring(v)) {\r\n          try {\r\n            return JSON.parse(String(v)); // v\r\n          } catch (error) {\r\n            return v;\r\n          }\r\n        } else return;\r\n      }\r\n    },\r\n    set(t, key, v) {\r\n      //   const isinputtextortextareaflag = isinputtextortextarea(ele);\r\n\r\n      //\r\n      if (\"function\" === typeof v) {\r\n        console.error(v);\r\n\r\n        console.error(\"Setting properties as functions is not allowed\");\r\n        throw TypeError();\r\n\r\n        // throw TypeError(\"\");\r\n      }\r\n      /* inputcheckbox checked,,checked*/\r\n      /*  if (geteletagname(ele) === \"input\" && key === \"checked\") {\r\n        set(ele, key, v);\r\n        return true;\r\n      }\r\n\r\n      if (isinputtextortextareaflag && key === valuestring) {\r\n        //value,\r\n        return set(ele, valuestring, String(v));\r\n      }  */\r\n\r\n      if (mustUseDomProp(geteletagname(ele), String(key), get(ele, \"type\"))) {\r\n        return set(ele, String(key), v);\r\n      } else if (key === \"style\") {\r\n        const csstext = isstring(v)\r\n          ? v\r\n          : isobject(v)\r\n          ? objtostylestring(v)\r\n          : String(v);\r\n        //csstext\r\n        set(get(ele, \"style\"), \"cssText\", csstext.trim());\r\n        // ele.style.cssText = csstext.trim();\r\n\r\n        //    setattribute(\r\n        //      ele,\r\n        //       String(key),\r\n        //      isstring(v) ? v : isobject(v) ? objtostylestring(v) : String(v)\r\n        //     );\r\n        /*   ele.setAttribute(\r\n          String(key),\r\n          isstring(v) ? v : isobject(v) ? objtostylestring(v) : String(v)\r\n        ); */\r\n        return true;\r\n      } else if (key === \"class\" && isobject(v)) {\r\n        const classtext = isArray(v)\r\n          ? v.join(\" \")\r\n          : isSet(v)\r\n          ? [...v].join(\" \")\r\n          : String(v);\r\n\r\n        setattribute(ele, String(key), classtext);\r\n        return true;\r\n        /*  if (isArray(v)) {\r\n          setattribute(ele, String(key), v.join(\" \"));\r\n        } else if (isSet(v)) {\r\n          setattribute(ele, String(key), [...v].join(\" \"));\r\n        } else {\r\n          setattribute(ele, String(key), String(v));\r\n        }*/\r\n        //\r\n      } else {\r\n        /* falseattribute */\r\n\r\n        if (false === v || v === null || v === undefined) {\r\n          removeAttribute(ele, String(key));\r\n          return true;\r\n        }\r\n        //true,\r\n        if (isSet(v)) {\r\n          setattribute(ele, String(key), JSON.stringify([...v]));\r\n          return true;\r\n        } else {\r\n          if (v === true) {\r\n            v = \"\";\r\n          }\r\n\r\n          setattribute(\r\n            ele,\r\n            String(key),\r\n            isobject(v) ? JSON.stringify(v) : String(v)\r\n          );\r\n          /*  ele.setAttribute(\r\n          String(key),\r\n          isobject(v) ? JSON.stringify(v) : String(v)\r\n        ); */\r\n          return true;\r\n        }\r\n      }\r\n      //   return true;\r\n    },\r\n    deleteProperty(t, k) {\r\n      removeAttribute(ele, String(k));\r\n      // ele.removeAttribute(String(k));\r\n      return true;\r\n    },\r\n    has(target, key) {\r\n      return ownKeys(outputattrs).includes(key);\r\n      /*\r\nconst isinputtextortextareaflag = isinputtextortextarea(ele);\r\n  \r\n      if (isinputtextortextareaflag && key === valuestring) {\r\n        return true;\r\n      } else {\r\n        return hasAttribute(ele, String(key));\r\n\r\n        // ele.hasAttribute(String(key));\r\n      }\r\n\r\n*/\r\n    },\r\n    defineProperty() {\r\n      return false;\r\n    },\r\n    getOwnPropertyDescriptor(target, key) {\r\n      const otherdescipter = {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true\r\n      };\r\n      const myvalue: any = get(outputattrs, key);\r\n      if (typeof myvalue !== \"undefined\") {\r\n        return {\r\n          value: myvalue,\r\n          ...otherdescipter\r\n        };\r\n      } else {\r\n        return;\r\n      }\r\n\r\n      /*  if (isinputtextortextareaflag && key === valuestring) {\r\n        return {\r\n          value: get(ele, valuestring),\r\n          ...otherdescipter\r\n          //   enumerable: true,\r\n          //   configurable: true,\r\n          //   writable: true\r\n        };\r\n      } else {\r\n        const attr = getattribute(ele, String(key));\r\n        // ele.getAttribute(String(key));\r\n\r\n        //true\r\n        let outvalue;\r\n        if (attr === \"\") {\r\n          outvalue = true;\r\n        }\r\n        if (outvalue) {\r\n          return {\r\n            value: outvalue,\r\n            ...otherdescipter\r\n            // enumerable: true,\r\n            // configurable: true,\r\n            // writable: true\r\n          };\r\n        } else {\r\n          return;\r\n        }\r\n      } */\r\n    },\r\n    setPrototypeOf() {\r\n      return false;\r\n    }\r\n    /*  setPrototypeOf() {\r\n      return false;\r\n    },\r\n    getPrototypeOf() {\r\n      return null;\r\n    }*/\r\n  });\r\n  return outputattrs;\r\n}\r\nfunction attributesownkeys(\r\n  ele: HTMLElement | Element | SVGElement | HTMLInputElement\r\n): string[] {\r\n  //   return ownKeys(ele.attributes).filter(k => !/\\d/.test(String(k)[0]));\r\n  return ele.getAttributeNames();\r\n}\r\nfunction getattribute(\r\n  ele: HTMLElement | Element | SVGElement | HTMLInputElement,\r\n  key: string\r\n) {\r\n  return ele.getAttribute(key);\r\n}\r\nfunction geteletagname(ele: Element /* { tagName: string } */) {\r\n  return ele.tagName.toLowerCase();\r\n}\r\nfunction setattribute(\r\n  ele: HTMLElement | Element | SVGElement | HTMLInputElement,\r\n  key: string,\r\n  value: string\r\n) {\r\n  return ele.setAttribute(key, value);\r\n}\r\nfunction removeAttribute(\r\n  ele: HTMLElement | Element | SVGElement | HTMLInputElement,\r\n  key: string\r\n) {\r\n  return ele.removeAttribute(key);\r\n}\r\n\r\n/* function hasAttribute(\r\n  ele: HTMLElement | Element | SVGElement | HTMLInputElement,\r\n  key: string\r\n) {\r\n  return ele.hasAttribute(key);\r\n}\r\n */\r\nfunction isinputtextortextarea(\r\n  ele: HTMLElement | Element | SVGElement | HTMLInputElement\r\n) {\r\n  const tagname = geteletagname(ele);\r\n  return (\r\n    tagname === \"textarea\" ||\r\n    tagname === \"select\" ||\r\n    (tagname === \"input\" && get(ele, \"type\") === \"text\")\r\n\r\n    /* select */\r\n  );\r\n}\r\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","import { Htmlelementconstructor } from \"./AttributeClass/createComponent\";\r\nimport { CallbackReactiveState } from \"./Reactivity/watch\";\r\n\r\nexport const cached_callback_eventlistner = new WeakMap<\r\n  Function,\r\n  EventListener\r\n>();\r\nexport const cached_create_componet = new WeakMap<\r\n  Function,\r\n  Htmlelementconstructor\r\n>();\r\nexport const cached_callback_debounced_watchs = new WeakMap<\r\n  CallbackReactiveState,\r\n  Function\r\n>();\r\n","import { isMap, isWeakMap } from \"./util\";\r\n\r\n// const { Reflect } = window;\r\n// export default Reflect;\r\nexport const {\r\n  apply,\r\n  construct,\r\n  defineProperty,\r\n  deleteProperty,\r\n  //   get,\r\n  getOwnPropertyDescriptor,\r\n  getPrototypeOf,\r\n  has,\r\n\r\n  //   isExtensible,\r\n  ownKeys,\r\n  preventExtensions\r\n  //   set\r\n  //   setPrototypeOf\r\n} = Reflect;\r\n/* getsetreflect.getreflect.setmap.setmap.get */\r\nexport function get(\r\n  target: Map<any, any> | WeakMap<any, any>,\r\n  propertyKey: PropertyKey\r\n): any;\r\nexport function get(\r\n  target: Exclude<object, Map<any, any> | WeakMap<any, any>>,\r\n  propertyKey: PropertyKey\r\n): //   receiver?: any\r\nany;\r\nexport function get(\r\n  target: object,\r\n  propertyKey: PropertyKey\r\n  //   receiver?: any\r\n): any {\r\n  if (isMap(target) || isWeakMap(target)) {\r\n    // debugger;\r\n    return target.get(propertyKey);\r\n  } else {\r\n    // debugger;\r\n    return Reflect.get(target, propertyKey /* , receiver */);\r\n  }\r\n}\r\nexport function set(\r\n  target: Map<any, any> | WeakMap<any, any>,\r\n  propertyKey: PropertyKey,\r\n  value: any\r\n): boolean;\r\nexport function set(\r\n  target: Exclude<object, Map<any, any> | WeakMap<any, any>>,\r\n  propertyKey: PropertyKey,\r\n  value: any\r\n): //   receiver?: any\r\nboolean;\r\nexport function set(\r\n  target: object,\r\n  propertyKey: PropertyKey,\r\n  value: any\r\n  //   receiver?: any\r\n): boolean {\r\n  if (isMap(target) || isWeakMap(target)) {\r\n    target.set(propertyKey, value);\r\n    // debugger;\r\n    return true;\r\n  } else {\r\n    // debugger;\r\n    return Reflect.set(target, propertyKey, value /* , receiver */);\r\n  }\r\n}\r\n\r\n// export {};\r\n/*\r\napply()\r\n Function.prototype.apply() \r\nconstruct()\r\n new  new target(...args)\r\ndefineProperty()\r\n Object.defineProperty() \r\ndeleteProperty()\r\ndelete delete target[name]\r\n//Reflect.enumerate()\r\nfor...in \r\nget()\r\n target[name]\r\ngetOwnPropertyDescriptor()\r\n Object.getOwnPropertyDescriptor()\r\ngetPrototypeOf()\r\n Object.getPrototypeOf()\r\nhas()\r\n in  \r\nisExtensible()\r\n Object.isExtensible().\r\nownKeys()\r\n( Object.keys(), enumerable).\r\npreventExtensions()\r\n Object.preventExtensions()Boolean\r\nset()\r\nBooleantrue\r\nsetPrototypeOf()\r\n Object.setPrototypeOf()\r\n*/\r\n","let watchrecord: [ReactiveState<any>, Function][] = [];\r\n/* watchstatecallback,\r\nremoveeventlistener,\r\naddeventlistener\r\n*/\r\nimport ReactiveState from \"../Reactivity/ReactiveState\";\r\nimport { isFunction } from \"../UtilTools/util\";\r\nexport function getwatchrecords() {\r\n  return [...watchrecord];\r\n}\r\nexport function usewatch(state: ReactiveState<any>, callback: Function) {\r\n  if (ctxopen) {\r\n    watchrecord.push([state, callback]);\r\n  }\r\n}\r\nfunction clearwatch() {\r\n  watchrecord = [];\r\n}\r\nexport const invalid_Function = \"invalid Function\";\r\nconst errormessage =\r\n  \"invalid useMounted or useUnMounted out of createComponent\";\r\nlet ctxopen = false;\r\nlet MountedSet: Set<Function> = new Set();\r\nlet UnMountedSet: Set<Function> = new Set();\r\nlet StateSet: Set<ReactiveState<any>> = new Set();\r\n/*  ReactiveState*/\r\n\r\nexport function getstates() {\r\n  return [...StateSet];\r\n}\r\nexport function recordusestste(state: ReactiveState<any>) {\r\n  if (ctxopen) {\r\n    StateSet.add(state);\r\n  }\r\n}\r\nexport function getMounted() {\r\n  return [...MountedSet];\r\n}\r\nexport function getUnMounted() {\r\n  return [...UnMountedSet];\r\n}\r\nexport function useMounted(fun: Function) {\r\n  if (isFunction(fun)) {\r\n    if (ctxopen) {\r\n      MountedSet.add(fun);\r\n    } else {\r\n      //console.error()\r\n      console.error(errormessage);\r\n      throw Error();\r\n    }\r\n  } else {\r\n    console.error(fun);\r\n    console.error(invalid_Function);\r\n    throw TypeError();\r\n  }\r\n}\r\n\r\nexport function useUnMounted(fun: Function) {\r\n  if (isFunction(fun)) {\r\n    if (ctxopen) {\r\n      UnMountedSet.add(fun);\r\n    } else {\r\n      console.error(errormessage);\r\n      throw Error();\r\n      //throw Error(errormessage);\r\n    }\r\n  } else {\r\n    console.error(fun);\r\n    console.error(invalid_Function);\r\n    throw TypeError();\r\n    //throw TypeError(invalid_Function);\r\n  }\r\n}\r\nexport function clearMounted() {\r\n  MountedSet = new Set();\r\n}\r\n\r\nfunction clearstate() {\r\n  StateSet = new Set();\r\n}\r\nexport function clearUnMounted() {\r\n  UnMountedSet = new Set();\r\n}\r\nexport function openctx() {\r\n  ctxopen = true;\r\n  clearall();\r\n}\r\nexport function closectx() {\r\n  ctxopen = false;\r\n  clearall();\r\n}\r\nfunction clearall() {\r\n  clearMounted();\r\n  clearUnMounted();\r\n  clearstate();\r\n  clearwatch();\r\n}\r\n","const EventTarget = window.EventTarget;\r\nimport debounce from \"lodash/debounce\";\r\nimport { cached_callback_eventlistner } from \"../cached-map\";\r\n// import Reflect from \"./reflect\";\r\nimport isprimitive, { Primitivetype } from \"../UtilTools/isprimitive\";\r\nimport { defineProperty } from \"../UtilTools/reflect\";\r\nimport { isobject, isSet } from \"../UtilTools/util\";\r\nimport { UnwrapedState } from \"./watch\";\r\nimport { recordusestste } from \"src/mounted-unmounted/Component-context\";\r\nexport const addonelistner = Symbol(\"addonelistner\");\r\nexport const removeonelistner = Symbol(\"removeonelistner\");\r\n// import { Primitive } from 'lodash';\r\n// export const callbackmap = Symbol(\"callbackmap\");\r\nexport const cancelsubscribe = Symbol(\"cancelsubscribe\");\r\nconst debouncedispatch = Symbol(\"debouncedispatch\");\r\nexport const invalid_primitive_or_object_state =\r\n  \"invalid primitive or object state\";\r\nexport function isReactiveState(a: any): a is ReactiveState<any> {\r\n  return (\r\n    a instanceof ReactiveState && a[Symbol.toStringTag] === \"ReactiveState\"\r\n  );\r\n}\r\n// export const textnodesymbol = Symbol(\"textnode\");\r\nexport const changetextnodesymbol = Symbol(\"changetextnode\");\r\nexport const eventtargetsymbol = Symbol(\"eventtatget\");\r\nexport const memlisteners = Symbol(\"memlisteners\");\r\nexport const dispatchsymbol = Symbol(\"dispatch\");\r\nexport const subscribesymbol = Symbol(\"subscribe\");\r\nexport const removeallistenerssymbol = Symbol(\"removeallisteners\");\r\nexport const addallistenerssymbol = Symbol(\"addallisteners\");\r\n/* const forkarryaprototype = {};\r\nownKeys(Array.prototype).forEach(key => {\r\n  forkarryaprototype[key] = Array.prototype[key];\r\n}); */\r\n/* class forkarray {}\r\nObject.assign(forkarray.prototype, forkarryaprototype);\r\nforkarray.prototype.constructor = forkarray;\r\ndeleteProperty(forkarray.prototype, \"length\"); */\r\n/* extends forkarray  */\r\n\r\nexport default class ReactiveState<T extends UnwrapedState> {\r\n  value: T extends Array<any>\r\n    ? Array<any>\r\n    : T extends Function\r\n    ? Function\r\n    : T extends Primitivetype\r\n    ? Primitivetype\r\n    : object;\r\n  //extends Primitivetype ? Primitivetype : Exclude<object, Function>;\r\n  //   [callbackmap] = new Map<Function, EventListener>();\r\n\r\n  readonly [Symbol.toStringTag] = \"ReactiveState\";\r\n\r\n  constructor(init?: T) {\r\n    //super();\r\n    // this.value = undefined;\r\n\r\n    // if (isprimitive(init) || isobject(init)) {\r\n    this.value = init as any; //as T; /* extends Primitivetype\r\n    //  ? Primitivetype\r\n    //  : Exclude<object, Function>; */\r\n    defineProperty(this, \"value\", {\r\n      value: init,\r\n      configurable: true,\r\n      writable: true\r\n    });\r\n\r\n    // this.value = init;\r\n    // } else {\r\n    //   console.error(init);\r\n    //   console.error(invalid_primitive_or_object_state);\r\n    //   throw TypeError();\r\n    // }\r\n    // this[eventtargetsymbol] = new EventTarget();\r\n\r\n    /*\r\n  //  Object.defineProperty(this, Symbol.toStringTag, {\r\n //     value: \"ReactiveState\",\r\n   //   configurable: true\r\n    //});\r\n\r\n*/\r\n    recordusestste(this);\r\n    const debouncedfun = debounce((eventname?: string) => {\r\n      const name = eventname ? String(eventname) : \"value\";\r\n\r\n      this[eventtargetsymbol].dispatchEvent(\r\n        new CustomEvent(\"value\", { detail: name })\r\n      );\r\n    });\r\n    this[debouncedispatch] = (eventname?: string) => {\r\n      debouncedfun(eventname);\r\n    };\r\n  }\r\n  [debouncedispatch]: (eventname?: string | undefined) => void;\r\n  /* get [Symbol.toStringTag]() {\r\n  //  return \"ReativeState\";\r\n\r\n} */\r\n  [removeallistenerssymbol]() {\r\n    this[memlisteners].forEach(callback => {\r\n      this[removeonelistner](callback);\r\n    });\r\n  }\r\n  [removeonelistner](callback: EventListener) {\r\n    const name = \"value\";\r\n    this[eventtargetsymbol].removeEventListener(name, callback);\r\n  }\r\n  [addonelistner](callback: EventListener) {\r\n    const name = \"value\";\r\n    this[eventtargetsymbol].addEventListener(name, callback);\r\n  }\r\n  [addallistenerssymbol]() {\r\n    // const name = \"value\";\r\n    this[memlisteners].forEach(callback => {\r\n      this[addonelistner](callback);\r\n      //   this[eventtargetsymbol].addEventListener(name, callback);\r\n    });\r\n  }\r\n  /*  [changetextnodesymbol](textnode: Text) {\r\n    this[textnodesymbol] = textnode;\r\n  } */\r\n  // [textnodesymbol]: Text | undefined;\r\n  /*  [changetextnodesymbol](textnode: Text) {\r\n      this[textnodesymbol] = textnode;\r\n    } */\r\n  // [textnodesymbol]: Text | undefined;\r\n\r\n  [eventtargetsymbol] = new EventTarget();\r\n  [memlisteners] = new Set<EventListener>();\r\n\r\n  //this\r\n  valueOf = () => {\r\n    return this.value;\r\n  };\r\n  toString() {\r\n    const value = this.valueOf();\r\n    return isprimitive(value)\r\n      ? String(value)\r\n      : isSet(value)\r\n      ? JSON.stringify([...(value as Set<any>)])\r\n      : isobject(value)\r\n      ? JSON.stringify(value)\r\n      : \"\";\r\n  }\r\n\r\n  [dispatchsymbol](eventname?: string) {\r\n    //\r\n\r\n    this[debouncedispatch](eventname);\r\n  }\r\n  [subscribesymbol](\r\n    callback: Function\r\n    /*, eventname?: string*/\r\n  ) {\r\n    let eventlistener: EventListener;\r\n    const possiblecallback = cached_callback_eventlistner.get(callback);\r\n    if (possiblecallback) {\r\n      eventlistener = possiblecallback;\r\n    } else {\r\n      //\r\n      eventlistener = () => callback(/* this.valueOf() */);\r\n\r\n      cached_callback_eventlistner.set(callback, eventlistener);\r\n    }\r\n    // this[eventtargetsymbol].addEventListener(\"value\", callback);\r\n    // const name = eventname ? String(eventname) : \"value\";\r\n    //  const name = \"value\";\r\n    this[memlisteners].add(eventlistener);\r\n  }\r\n  [cancelsubscribe](callback: Function) {\r\n    const eventlistener = cached_callback_eventlistner.get(callback);\r\n    /*  if (!eventlistener) {\r\n      throw new Error();\r\n    } */\r\n    if (eventlistener) {\r\n      this[memlisteners].delete(eventlistener);\r\n      this[removeonelistner](eventlistener);\r\n    }\r\n  }\r\n\r\n  [Symbol.toPrimitive](): string | undefined | Primitivetype {\r\n    //return this.value;\r\n    const value = this.valueOf();\r\n    return isprimitive(value)\r\n      ? value\r\n      : isobject(value)\r\n      ? JSON.stringify(value)\r\n      : void 0;\r\n  }\r\n}\r\n/* Reflect.defineProperty(ReactiveState.prototype, Symbol.toStringTag, {\r\n  value: \"ReactiveState\"\r\n}); */\r\n","/* \r\n        \r\n        [[\"value\",[\"f\",\"f\"]],[\"value\",[\"f\",\"f\"]]]\r\n\r\n\r\n        [[\"value\",[\"f\",\"f\",\"f\",\"f\"]]]\r\n        \r\n        */\r\nexport function merge_entries(\r\n  a: [string, any][] /* Array<[any, Array<any>]> */\r\n): [string, any][] {\r\n  const m: { [s: string]: Set<any> } = {};\r\n\r\n  a.forEach(([key, value]) => {\r\n    if (!m[key]) {\r\n      m[key] = new Set();\r\n    }\r\n    // m[key] && (m[key] = new Set());\r\n\r\n    value.forEach((v: any) => {\r\n      m[key].add(v);\r\n    });\r\n  });\r\n  return Object.entries(m).map(([k, v]) => [k, [...v]]);\r\n}\r\n","const VirtualElementSet = new WeakSet<Virtualdom<any>>();\r\nconst Letter_case_and_Chinese = /[A-Za-z\\u4e00-\\u9fa5]/;\r\nimport { Class } from \"../CustomClass/customclass\";\r\nimport ReactiveState, { isReactiveState } from \"../Reactivity/ReactiveState\";\r\n//// import { Class } from \"./rendervdomtoreal\";\r\nimport { merge_entries } from \"../UtilTools/merge-entries\";\r\nimport { defineProperty, preventExtensions } from \"../UtilTools/reflect\";\r\nimport { isstring } from \"../UtilTools/util\";\r\nimport { ElementAttrs } from \"./create-element\";\r\nimport { VaildVDom } from \"./isvalidvdom\";\r\n// //export function isVirtualdom(a: any): a is Virtualdom<any> {\r\n//   return a instanceof Virtualdom;\r\n// }//\r\nexport function isVirtualdom(a: any): a is Virtualdom<any> {\r\n  return VirtualElementSet.has(a);\r\n  /*   isobject(a) &&\r\n    // has(a, isvirtualelement) &&\r\n    get(a, isvirtualelement) === isvirtualelement */\r\n}\r\n// export const isvirtualelement = Symbol(\"isvirtualelement\");\r\nexport type Vdomchildren = Array<VaildVDom>;\r\nexport { createVirtualElement };\r\nfunction createVirtualElement<T extends Class | string | Function>(\r\n  type: T,\r\n  props: ElementAttrs = {},\r\n  children: Vdomchildren = []\r\n): Virtualdom<T> {\r\n  props = Object.assign({}, props);\r\n  children = children.flat(1 / 0);\r\n\r\n  const propsentries = Object.entries(props);\r\n  const propsentriesNOTevents = propsentries.filter(\r\n    ([key]) => !(key.startsWith(\"@\") || key.startsWith(\"on\"))\r\n  );\r\n  const Entries_beginning_with_a_letter = propsentriesNOTevents.filter(\r\n    ([key]) => Letter_case_and_Chinese.test(key[0])\r\n  );\r\n  const virtual = Object.create(null);\r\n  const vdom = virtual;\r\n  [\r\n    \"onevent\",\r\n    \"element\",\r\n    \"type\",\r\n    \"props\",\r\n    \"children\",\r\n    \"directives\",\r\n    \"bindattr\"\r\n  ].forEach(key => {\r\n    defineProperty(virtual, key, {\r\n      //   enumerable: false,\r\n      writable: true\r\n    });\r\n  });\r\n  //   [\"type\", \"props\", \"children\", \"directives\", \"bindattr\"].forEach(key => {\r\n  //     defineProperty(virtual, key, {\r\n  //       enumerable: true,\r\n  //       writable: true\r\n  //     });\r\n  //   });\r\n  vdom.element = [];\r\n  Object.assign(virtual, {\r\n    type,\r\n    bindattr: Object.fromEntries(\r\n      Entries_beginning_with_a_letter.filter(e => isReactiveState(e[1]))\r\n    ),\r\n    props: Object.fromEntries(\r\n      Entries_beginning_with_a_letter.filter(e => !isReactiveState(e[1])).map(\r\n        ([key, value]) => [key, isstring(value) ? value.trim() : value]\r\n      )\r\n    ),\r\n    children,\r\n    onevent: Object.fromEntries(\r\n      merge_entries([\r\n        ...propsentries\r\n          .filter(([key]) => \"@\" == key[0])\r\n          .map(([key, value]) => [\r\n            key\r\n              .slice(1)\r\n              .toLowerCase()\r\n              .trim(),\r\n            [value].flat(1 / 0)\r\n          ]),\r\n        ...propsentries\r\n          .filter(([key]) => key.startsWith(\"on\"))\r\n          .map(([key, value]) => [\r\n            key\r\n              .slice(2)\r\n              .toLowerCase()\r\n              .trim(),\r\n            [value].flat(1 / 0)\r\n          ])\r\n      ] as [string, any][])\r\n    ),\r\n    directives: Object.fromEntries(\r\n      propsentriesNOTevents\r\n        .filter(([key]) => key[0] === \"*\" || key[0] === \"_\" || key[0] === \"$\")\r\n        .map(([key, value]) => [\r\n          key\r\n            .slice(1)\r\n            .toLowerCase()\r\n            .trim(),\r\n          value\r\n        ])\r\n    )\r\n  });\r\n  defineProperty(virtual, Symbol.toStringTag, { value: \"VirtualElement\" });\r\n  //   virtual[Symbol.toStringTag] = \"VirtualElement\";\r\n  //   virtual[isvirtualelement] = isvirtualelement;\r\n  //   defineProperty(virtual, isvirtualelement, { value: isvirtualelement });\r\n  preventExtensions(virtual);\r\n  VirtualElementSet.add(virtual);\r\n\r\n  Object.freeze(vdom);\r\n  return virtual;\r\n}\r\n// JSON.stringify\r\ninterface Virtualdom<T extends Class | string | Function> {\r\n  //   readonly [isvirtualelement]: unique symbol;\r\n  readonly [Symbol.toStringTag]: \"VirtualElement\";\r\n  readonly element: Element[];\r\n  readonly type: T;\r\n  readonly props: ElementAttrs;\r\n  readonly children: Vdomchildren;\r\n  readonly directives: Record<string, any>;\r\n  //   { [key: string]: any };\r\n  readonly onevent: Record<string, Array<EventListener>>;\r\n  //   {\r\n  //     [key: string]: Array<EventListener>;\r\n  //   };\r\n  readonly bindattr: Record<string, ReactiveState<any>>;\r\n  /* {\r\n    [key: string]: ReactiveState<any>;\r\n  }; */\r\n}\r\nexport default Virtualdom;\r\n// //export default class Virtualdom<T extends Class | string | Function> {\r\n//   [Symbol.toStringTag] = \"VirtualElement\";\r\n//   // get [Symbol.toStringTag]() {\r\n//     return \"VirtualElement\";\r\n//   // } //\r\n// //   options: any |undefined\r\n// //  element: undefined | Element | Node;\r\n//   type: T | undefined;\r\n//   props: ElementAttrs = {};\r\n//   children: Vdomchildren = [];\r\n//   directives: object = {};\r\n//   onevent: { [key: string]: Array<EventListener> } = {};\r\n//   bindattr: { [key: string]: ReactiveState<any> } = {};\r\n//   constructor(type: T, props: ElementAttrs = {}, children: Vdomchildren = []) {\r\n//     //\r\n//     props = { ...props };\r\n//     const Letter_case_and_Chinese = /[A-Za-z\\u4e00-\\u9fa5]/;\r\n//     // console.log(type, props, children);\r\n//     //on\r\n//     const propsentries = Object.entries(props);\r\n//     //\r\n// .map(([key, value]) => [\r\n// key.startsWith(\"on\")?key.replace(\"on\",\"@\")key\r\n// ,\r\n// value\r\n\r\n// ]);\r\n// //\r\n// //   const propsentriesNOTevents = propsentries.filter(\r\n//       ([key]) => !(key.startsWith(\"@\") || key.startsWith(\"on\"))\r\n//     );\r\n//     const Entries_beginning_with_a_letter = propsentriesNOTevents.filter(([key]) =>\r\n//       Letter_case_and_Chinese.test(key[0])\r\n//     );\r\n\r\n//     Object.assign(this, {\r\n//       type,\r\n//       bindattr: Object.fromEntries(\r\n//         //   propsentriesNOTevents\r\n//           .filter(([key]) => Letter_case_and_Chinese.test(key[0])) //\r\n// //    Entries_beginning_with_a_letter.filter(\r\n//           e => isReactiveState(e[1])\r\n//           // e[1] instanceof ReactiveState\r\n//         )\r\n//       ),\r\n//       props: Object.fromEntries(\r\n//         //   propsentriesNOTevents\r\n//           .filter(([key]) => Letter_case_and_Chinese.test(key[0])) //\r\n// //  Entries_beginning_with_a_letter.filter(\r\n//           e => !isReactiveState(e[1])\r\n//           //    e[1] instanceof ReactiveState\r\n//         )\r\n//       ),\r\n//       children: children.flat(1 / 0),\r\n//       onevent: Object.fromEntries(\r\n//         // entries\r\n//         [\r\n//         ['value',[f,f]]\r\n//         ,\r\n//         ['value',[f,f]]\r\n//       ]\r\n//         \r\n\r\n//          [\r\n//         ['value',[f,f,f,f]]\r\n//          ]\r\n//         //\r\n\r\n// //\r\n\r\n//         [[\"value\",[\"f\",\"f\"]],[\"value\",[\"f\",\"f\"]]]\r\n\r\n//         [[\"value\",[\"f\",\"f\",\"f\",\"f\"]]]\r\n\r\n//         //\r\n// //     merge_entries([\r\n//           ...propsentries\r\n//             .filter(([key]) => /\\@/.test(key[0]))\r\n//             .map(([key, value]) => [\r\n//               //\r\n//               key\r\n//                 .slice(1)\r\n//                 .toLowerCase()\r\n//                 .trim(),\r\n//               //\r\n//               [value].flat(1 / 0)\r\n//             ]),\r\n//           ...propsentries\r\n//             .filter(([key]) => key.startsWith(\"on\"))\r\n//             .map(([key, value]) => [\r\n//               //\r\n//               key\r\n//                 .slice(2)\r\n//                 .toLowerCase()\r\n//                 .trim(),\r\n//               //\r\n//               [value].flat(1 / 0)\r\n//             ])\r\n//         ])\r\n//       ),\r\n\r\n//       //\"*\"\"_\"\r\n//       directives: Object.fromEntries(\r\n//         propsentriesNOTevents\r\n//         //  .filter(([key]) => /\\//\r\n// //.test(key[0]) || key[0].startsWith(\"_\"))\r\n//         //  .map(([key, value]) => [\r\n//             //\r\n//             key\r\n//               .slice(1)\r\n//               .toLowerCase()\r\n//               .trim(),\r\n\r\n//             value\r\n//           ])\r\n//       )\r\n//     });\r\n//     //\r\n//  Object.defineProperty(this, Symbol.toStringTag, {\r\n//       value: \"virtualdom\",\r\n//       configurable: true\r\n//     });\r\n// //\r\n// //  }\r\n// }//\r\n// // defineProperty(Virtualdom.prototype, Symbol.toStringTag, {\r\n//   value: \"VirtualElement\"\r\n// });\r\n//  //\r\n","export type VaildVDom =\r\n  | Virtualdom<any>\r\n  | string\r\n  | number\r\n  | Vdomchildren\r\n  | ReactiveState<any>;\r\n// import { VaildVDom } from \"./isvalidvdom\";\r\nimport Virtualdom, {\r\n  isVirtualdom,\r\n  Vdomchildren\r\n} from \"../CreateElement/VirtualElement\";\r\nimport ReactiveState, { isReactiveState } from \"../Reactivity/ReactiveState\";\r\nimport { isArray, isnumber, isstring } from \"../UtilTools/util\";\r\n\r\nexport function isvalidvdom(v: any): v is VaildVDom {\r\n  if (isstring(v)) {\r\n    return true;\r\n  }\r\n  if (isnumber(v)) {\r\n    return true;\r\n  }\r\n  let flag = false;\r\n  if (isArray(v)) {\r\n    /*flag = v\r\n        .map((ele: any) => {\r\n          return isvalidvdom(ele);\r\n          //isstring(ele) || ele instanceof Virtualdom;\r\n        })\r\n        .includes(false)\r\n        ? false\r\n        : true;\r\n      return flag;*/\r\n    //https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/every\r\n    //\r\n    /* children */\r\n    return /* !! */ /* v.length */ /* && */ v.every(e => isvalidvdom(e));\r\n  } else if (\r\n    isVirtualdom(v)\r\n    // v instanceof Virtualdom\r\n  ) {\r\n    return isvalidvdom(v.children);\r\n    /*  if (isvalidvdom(v.children)) {\r\n        return true;\r\n      } */\r\n  } else if (\r\n    isReactiveState(v)\r\n    //  v instanceof ReactiveState\r\n  ) {\r\n    return true;\r\n  }\r\n  /*  else {\r\n    } */\r\n  return flag;\r\n}\r\n","import { Class } from \"../CustomClass/customclass\";\r\nimport { isfunction } from \"../UtilTools/util\";\r\n\r\nexport function isclassextendsHTMLElement(initclass: {\r\n  prototype: any;\r\n}): initclass is Class {\r\n  return !!(\r\n    isfunction(initclass) &&\r\n    initclass.prototype &&\r\n    initclass.prototype instanceof HTMLElement\r\n  );\r\n}\r\n","export function cssrulestocsstext(cssrules: Array<CSSRule>): string {\r\n  return cssrules.map(c => c.cssText).join(\"\\n\");\r\n  // .replace(/\\n/g, \"\");\r\n}\r\n","export { getrandomstringandnumber };\r\nimport { get } from \"src/UtilTools/reflect\";\r\n\r\nconst charactorlist = Array(26)\r\n  .fill(undefined)\r\n  .map((v, i) => 97 + i)\r\n  .map(n => String.fromCharCode(n));\r\n\r\nconst hexnumberlist = Array(16)\r\n  .fill(undefined)\r\n  .map((v, i) => i)\r\n  .map(a => a.toString(16));\r\n\r\nconst charactorandnumberlist = [\r\n  ...new Set([...hexnumberlist, ...charactorlist])\r\n];\r\n\r\nfunction getrandomcharactor() {\r\n  return get(\r\n    //  Array(26)\r\n    //  .fill(undefined)\r\n    //  .map((v, i) => 97 + i)\r\n    // .map(n => String.fromCharCode(n))\r\n    charactorlist,\r\n    Math.floor(Math.random() * charactorlist.length)\r\n  );\r\n}\r\nfunction getrandomhexnumberandcharactor() {\r\n  return get(\r\n    // Array(16)\r\n    //  .fill(undefined)\r\n    // .map((v, i) => i)\r\n    charactorandnumberlist,\r\n    Math.floor(Math.random() * charactorandnumberlist.length)\r\n  );\r\n\r\n  //.toString(16);\r\n}\r\nfunction getrandomstringandnumber(length = 1) {\r\n  return (\r\n    Array(length)\r\n      .fill(undefined)\r\n      .map(() => getrandomcharactor())\r\n\r\n      .join(\"\") +\r\n    \"-\" +\r\n    Array(length)\r\n      .fill(undefined)\r\n      .map(() => getrandomhexnumberandcharactor())\r\n      .join(\"\")\r\n  );\r\n}\r\n","export const invalid_custom_element_class = \"invalid custom element class !\";\r\n// import { isclassextendsHTMLElement } from \"./CustomElement/create-costum-elemet\";\r\nimport { get, getPrototypeOf, has, set } from \"../UtilTools/reflect\";\r\nimport { isobject } from \"../UtilTools/util\";\r\nimport { getrandomstringandnumber } from \"./getrandomstringandnumber\";\r\nimport { isclassextendsHTMLElement } from \"./isclassextendsHTMLElement\";\r\nif (\r\n  //   typeof Proxy !== \"function\" ||\r\n  !isobject(window.customElements) //||\r\n  //   typeof customElements !== \"object\" ||\r\n\r\n  //||\r\n  //   typeof CustomElementRegistry !== \"function\"\r\n) {\r\n  console.error(\" customElements  not supported !\");\r\n  throw new TypeError();\r\n}\r\n\r\nfunction Usevaluetoquerythekeyfromthetable(\r\n  table: object,\r\n  Componentstatusname: any\r\n): string | undefined {\r\n  const outputentrie = Object.entries(table).find(v => {\r\n    return v[1] === Componentstatusname;\r\n  });\r\n  return outputentrie ? outputentrie[0] : undefined;\r\n}\r\n\r\ninterface ElementDefinitionOptions {\r\n  extends?: string;\r\n}\r\nwindow.CustomElementRegistry = get(\r\n  getPrototypeOf(window.customElements),\r\n  \"constructor\"\r\n);\r\nconst elementset = Symbol.for(\"elementset\");\r\nconst elementmap = Symbol.for(\"elementmap\");\r\n\r\ninterface CustomElements extends CustomElementRegistry {\r\n  [elementset]: Set<Function>;\r\n  [elementmap]: Record<string, Function>;\r\n}\r\nconst { CustomElementRegistry } = window;\r\nconst customElements = window.customElements as CustomElements;\r\n// export default customElements;\r\n\r\nif (!has(customElements, elementset)) {\r\n  Reflect.set(customElements, elementset, new Set());\r\n  //   assert(elementset in customElements);\r\n  //   customElements[elementset] = new Set();\r\n}\r\nif (!has(customElements, elementmap)) {\r\n  Reflect.set(customElements, elementmap, {});\r\n  //   customElements[elementmap] = {};\r\n}\r\n// debugger;\r\nexport default (initclass: Function, extendsname?: string) =>\r\n  RandomDefineCustomElement(initclass, extendsname);\r\n\r\nfunction RandomDefineCustomElement(\r\n  initclass: Function,\r\n  extendsname?: string,\r\n  length = 1\r\n): string | undefined {\r\n  if (!isclassextendsHTMLElement(initclass)) {\r\n    console.error(initclass);\r\n    console.error(invalid_custom_element_class);\r\n    throw TypeError();\r\n  }\r\n\r\n  //\r\n  //   console.log(get(customElements, elementset));\r\n  //   debugger;\r\n  if (!get(customElements, elementset).has(initclass)) {\r\n    const elementname = getrandomstringandnumber(length);\r\n\r\n    if (customElements.get(elementname)) {\r\n      return RandomDefineCustomElement(initclass, extendsname, length + 1);\r\n    } else {\r\n      if (extendsname) {\r\n        customElements.define(elementname, initclass, { extends: extendsname });\r\n      } else {\r\n        customElements.define(elementname, initclass);\r\n      }\r\n    }\r\n\r\n    return elementname;\r\n  } else {\r\n    return Usevaluetoquerythekeyfromthetable(\r\n      get(customElements, elementmap),\r\n      initclass\r\n    );\r\n  }\r\n\r\n  //\r\n}\r\n\r\n/* customElements.get = function name(name) {\r\n  return customElements[elementmap].get(name);\r\n};\r\n */\r\ncustomElements.define = function(\r\n  name: string,\r\n  constructor: Function,\r\n  options?: ElementDefinitionOptions\r\n): void {\r\n  if (!isclassextendsHTMLElement(constructor)) {\r\n    console.error(constructor);\r\n    console.error(invalid_custom_element_class);\r\n    throw TypeError();\r\n  }\r\n  if (!get(customElements, elementset).has(constructor)) {\r\n    if (has(customElements[elementmap], name)) {\r\n      /*  */\r\n      RandomDefineCustomElement(\r\n        constructor,\r\n        options ? options.extends : undefined\r\n      );\r\n    } else {\r\n      CustomElementRegistry.prototype.define.call(\r\n        customElements,\r\n        name,\r\n        constructor,\r\n        options\r\n      );\r\n      customElements[elementset].add(constructor);\r\n      customElements[elementmap][name] = constructor;\r\n    }\r\n  }\r\n};\r\nset(customElements, Symbol.iterator, () => {\r\n  const entries = Object.entries(customElements[elementmap]);\r\n\r\n  return entries[Symbol.iterator].call(entries);\r\n});\r\n/* customElements[Symbol.iterator] = () => {\r\n  const entries = Object.entries(customElements[elementmap]);\r\n\r\n  return entries[Symbol.iterator].call(entries);\r\n}; */\r\n","import { get } from \"../UtilTools/reflect\";\r\nimport { isFunction } from \"../UtilTools/util\";\r\nconst componentsymbol = Symbol(\"component\");\r\nexport { componentsymbol };\r\nexport function iscomponent(a: any) {\r\n  return (\r\n    isFunction(a) &&\r\n    //  has(a, componentsymbol) &&\r\n    get(a, componentsymbol) === componentsymbol\r\n  );\r\n}\r\n","// const document = window.document;\r\n//import { seteletext, setelehtml } from \"./directives\";\r\n//export { seteletext, setelehtml };\r\n\r\nexport function seteletext(e: Element | Node, v: string) {\r\n  e.textContent = v;\r\n}\r\nexport function setelehtml(e: Element, v: string) {\r\n  e.innerHTML = v;\r\n}\r\nexport function appendchild(\r\n  container: HTMLElement | SVGSVGElement | SVGElement | Element | Node,\r\n  ele: HTMLElement | SVGElement | Element | Node\r\n) {\r\n  container.appendChild(ele);\r\n}\r\nexport function createsvgelement() {\r\n  return createElementNS(svgnamespace, \"svg\");\r\n}\r\nexport function createnonescript() {\r\n  return createDocumentFragment();\r\n}\r\nexport function createDocumentFragment() {\r\n  return document.createDocumentFragment();\r\n}\r\nexport function createnativeelement(type: string) {\r\n  return document.createElement(type);\r\n}\r\nexport function createElementNS(namespace: string, name: string) {\r\n  return document.createElementNS(namespace, name);\r\n}\r\nexport function createtextnode(data: string | number) {\r\n  return document.createTextNode(String(data));\r\n}\r\nexport const svgnamespace = \"http://www.w3.org/2000/svg\";\r\nexport function changetext(textnode: Text, value: string) {\r\n  textnode.nodeValue = String(value);\r\n}\r\n// export default document;\r\n\r\nexport const mathnamespace = \"http://www.w3.org/1998/Math/MathML\";\r\n\r\nexport function createmathelement() {\r\n  return createElementNS(mathnamespace, \"math\");\r\n}\r\nexport function createComment() {\r\n  return document.createComment(\"\");\r\n}\r\nexport function removeElement(element: Element) {\r\n  element.remove();\r\n}\r\nexport function removeNode(node: Element | Node) {\r\n  //   node.remove();\r\n  let parentNode = node.parentNode;\r\n  if (parentNode) {\r\n    parentNode.removeChild(node);\r\n  }\r\n}\r\nexport function replaceChild(newChild: Node, oldChild: Node) {\r\n  let parentNode = oldChild.parentNode;\r\n  if (parentNode) {\r\n    parentNode.replaceChild(newChild, oldChild);\r\n  }\r\n}\r\n\r\nexport function domaddlisten(\r\n  ele: Element | Node,\r\n  event: string,\r\n  call: EventListener\r\n) {\r\n  ele.addEventListener(event, call);\r\n}\r\n\r\nexport function domremovelisten(\r\n  ele: Element | Node,\r\n  event: string,\r\n  call: EventListener\r\n) {\r\n  ele.removeEventListener(event, call);\r\n}\r\nexport function getchildren(ele: Element) {\r\n  return [...ele.children];\r\n}\r\nexport function getchildNodes(ele: Element | Node) {\r\n  return [...ele.childNodes];\r\n}\r\nexport function getAttribute(ele: Element, name: string) {\r\n  return HTMLElementprototype.getAttribute.call(ele, name);\r\n}\r\nexport function setAttribute(ele: Element, name: string, value: any) {\r\n  HTMLElementprototype.setAttribute.call(ele, name, value);\r\n}\r\nexport function removeAttribute(ele: Element, name: string) {\r\n  HTMLElementprototype.removeAttribute.call(ele, name);\r\n}\r\nconst HTMLElementprototype = HTMLElement.prototype;\r\n\r\nexport function insertfirst(\r\n  container: HTMLElement | Element,\r\n  ele: HTMLElement\r\n) {\r\n  container.insertBefore(ele, container.firstChild);\r\n}\r\nexport function createanotherhtmldocument() {\r\n  return document.implementation.createHTMLDocument(\"\");\r\n}\r\n/* export function getparentNode(ele: Node): Node {\r\n  return ele.parentNode ? ele.parentNode : ele;\r\n}\r\n */\r\nexport function querySelectorAll(selector: string) {\r\n  return [...document.querySelectorAll(selector)];\r\n}\r\n","import { isArray, isundefined } from \"./util\";\r\n/* export function toArray<T not Array>(a: T): Array<T>;\r\nexport function toArray<T>(a: Array<T>): Array<T>; */\r\n// export function toArray<T>(a: Array<T>): Array<T>;\r\nexport function toArray(a: any): any[] {\r\n  return (isArray(a) ? a : [a]).flat(1 / 0).filter(a => !isundefined(a));\r\n}\r\n","import { appendchild, /* setelehtml,  */ seteletext } from \"../UtilTools/dom\";\r\nimport { toArray } from \"../UtilTools/toArray\";\r\nexport default function<\r\n  T extends HTMLElement | SVGSVGElement | SVGElement | Element | Node\r\n>(\r\n  ele:\r\n    | Node\r\n    | Array<\r\n        | HTMLElement\r\n        | Text\r\n        | SVGSVGElement\r\n        | DocumentFragment\r\n        | SVGElement\r\n        | Element\r\n        | Node\r\n      >\r\n    | SVGElement\r\n    | DocumentFragment\r\n    | HTMLElement\r\n    | Text\r\n    | SVGSVGElement\r\n    | Element,\r\n  container: T,\r\n  clear: boolean = true\r\n): T {\r\n  if (clear) {\r\n    seteletext(container, \"\");\r\n  }\r\n  //   container.innerHTML = \"\";\r\n  /*  let eles: Array<any>;\r\n  if (Array.isArray(ele)) {\r\n    eles = ele;\r\n  } else {\r\n    // appendchild(container, ele);\r\n    eles = [ele];\r\n  } */\r\n  const eles = toArray(ele).flat(Infinity);\r\n  eles.forEach((e: Node | HTMLElement | Element | SVGElement) =>\r\n    appendchild(container, e)\r\n  );\r\n  return container;\r\n}\r\nimport mountrealelement from \"./mount-real-element\";\r\nexport { mountrealelement };\r\n","import { isArray } from \"src/UtilTools/util\";\r\n\r\nexport function isNodeArray(arr: any[]): arr is Node[] {\r\n  //https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/every\r\n  //\r\n  return !!(isArray(arr) && arr.length && arr.every(a => isNode(a)));\r\n  //!array.map(e => e instanceof Node).includes(false);\r\n}\r\nexport function isNode(a: any): a is Node {\r\n  return a instanceof Node;\r\n}\r\n","export const invalid_Virtualdom = \"invalid Virtualdom \";\r\n// import { VaildVDom } from \"../AttributeClass/conditon\";\r\n// import document from \"./UtilTools/dom\";\r\n// import { isvalidvdom } from \"./CreateElement/html\";\r\nimport mount from \"./mount-real-element\";\r\nimport render from \"../RenderVirtual/render-vdom-to-real\";\r\nimport { toArray } from \"../UtilTools/toArray\";\r\nimport { isArray } from \"../UtilTools/util\";\r\nimport { isvalidvdom, VaildVDom } from \"../CreateElement/isvalidvdom\";\r\nimport { isNode, isNodeArray } from \"./isNodeArray\";\r\nexport default function MountElement<T extends Element>(\r\n  vdom: VaildVDom | Node | Element | Array<Node | Element>,\r\n  container: T\r\n): T {\r\n  if (isArray(vdom)) {\r\n    vdom = vdom.flat(Infinity);\r\n    if (!vdom.length) {\r\n      //\r\n      console.error(\"Empty array not allowed\");\r\n      throw new TypeError();\r\n    }\r\n  }\r\n  const el = container;\r\n  if (!(el instanceof HTMLElement)) {\r\n    console.error(el);\r\n    console.error(\"invalid container HTMLElement!\");\r\n    throw TypeError();\r\n  }\r\n\r\n  if (\r\n    el === document.body ||\r\n    el === document.documentElement ||\r\n    el === document.head\r\n  ) {\r\n    console.error(el);\r\n    console.error(\"Do not mount  to <html> or <body> <head>.\");\r\n    throw Error();\r\n  }\r\n  /*   if (\r\n    !(\r\n      isvalidvdom(vdom) ||\r\n      vdom instanceof Node ||\r\n      (isArray(vdom) && isNodeArray(vdom))\r\n    )\r\n  ) {\r\n    console.error(vdom);\r\n    throw TypeError(invalid_Virtualdom);\r\n  } */\r\n\r\n  /*   let elesarray: Array<any>;\r\n  if (Array.isArray(vdom)) {\r\n    elesarray = vdom;\r\n  } else {\r\n    elesarray = [vdom];\r\n  } */\r\n  const elesarray = toArray(vdom);\r\n  if (isvalidvdom(vdom)) {\r\n    // mount(elesarray.map(e => render(e)), container);\r\n    mount(render(elesarray), container);\r\n  } else if (isNode(vdom) /*  instanceof Node */ || isNodeArray(vdom)) {\r\n    mount(elesarray, container);\r\n  } else {\r\n    console.error(vdom);\r\n    console.error(invalid_Virtualdom);\r\n    throw TypeError();\r\n  }\r\n\r\n  //\r\n  return container;\r\n}\r\n","import debounce from \"lodash/debounce\";\r\nimport { cached_callback_debounced_watchs } from \"../cached-map\";\r\nimport { invalid_ReactiveState } from \"../AttributeClass/conditon\";\r\nimport {\r\n  invalid_Function,\r\n  usewatch\r\n} from \"../mounted-unmounted/Component-context\";\r\nimport ReactiveState, {\r\n  addallistenerssymbol,\r\n  cancelsubscribe,\r\n  isReactiveState,\r\n  removeallistenerssymbol,\r\n  subscribesymbol\r\n} from \"./ReactiveState\";\r\nimport { toArray } from \"../UtilTools/toArray\";\r\n//import { requestAnimationFrame } from \"./directives\";\r\nimport { isarray, isFunction } from \"../UtilTools/util\";\r\nexport type CancelWatchfun = () => void;\r\nexport type UnwrapedState = any; //Primitivetype | Exclude<object, Function>;\r\n\r\nexport interface CallbackReactiveState /* <\r\n  \r\n> */ {\r\n  (...args: UnwrapedState[]): any;\r\n}\r\n\r\nexport function watch<T extends UnwrapedState>(\r\n  state: ReactiveState<T> | Array<ReactiveState<T>>,\r\n\r\n  callback: CallbackReactiveState\r\n): CancelWatchfun {\r\n  if (isarray(state) || isReactiveState(state)) {\r\n    const statearray: ReactiveState<any>[] = toArray(state);\r\n    if (!statearray.length) {\r\n      console.error(\"Empty array not allowed\");\r\n      throw new Error();\r\n    }\r\n    /* watchcallback */\r\n    const debouncedcallback = debounce(callback);\r\n    const stateandlisteners: [ReactiveState<any>, Function][] = statearray.map(\r\n      state1 => {\r\n        const listener: Function = (() => {\r\n          /* callbacklistener */\r\n          const cachedfun = cached_callback_debounced_watchs.get(callback);\r\n          if (cachedfun) {\r\n            return cachedfun;\r\n          } else {\r\n            const listenfun = () => {\r\n              //watch\r\n              debouncedcallback(...statearray.map(r => r.valueOf()));\r\n            };\r\n            cached_callback_debounced_watchs.set(callback, listenfun);\r\n            return listenfun;\r\n          }\r\n        })();\r\n        watchsingle(\r\n          state1,\r\n\r\n          listener\r\n        );\r\n\r\n        return [state1, listener];\r\n      }\r\n    );\r\n\r\n    const cancelWatch: CancelWatchfun = () => {\r\n      stateandlisteners.forEach(([state, listener]) => {\r\n        state[cancelsubscribe](listener);\r\n      });\r\n    };\r\n    return cancelWatch;\r\n  }\r\n  //  else if (isReactiveState(state)) {\r\n  //  watchsingle(state, callback);\r\n  ////return watch(toArray(state),callback)\r\n  // }\r\n  else {\r\n    console.error(state);\r\n    console.error(callback);\r\n    console.error(invalid_ReactiveState + invalid_Function);\r\n    throw new TypeError();\r\n  }\r\n}\r\n\r\nfunction watchsingle(\r\n  state: ReactiveState<any>,\r\n  callback: Function\r\n  //  statekey?: string\r\n) {\r\n  if (\r\n    !(\r\n      isReactiveState(state) &&\r\n      // state instanceof ReactiveState\r\n      isFunction(callback)\r\n    )\r\n  ) {\r\n    console.error(state);\r\n    console.error(callback);\r\n    console.error(invalid_ReactiveState + invalid_Function);\r\n\r\n    throw TypeError();\r\n  }\r\n\r\n  state[subscribesymbol](callback);\r\n\r\n  //  if (statekey) {\r\n\r\n  //   state[subscribesymbol](callback, statekey);\r\n  // } else {\r\n\r\n  //  }\r\n\r\n  requestAnimationFrame(() => {\r\n    rewatch(state);\r\n    // state[addallistenerssymbol]();\r\n  });\r\n\r\n  usewatch(state, callback);\r\n}\r\nexport function unwatch(state: ReactiveState<any>): void {\r\n  state[removeallistenerssymbol]();\r\n}\r\n\r\nexport function rewatch(state: ReactiveState<any>): void {\r\n  state[addallistenerssymbol]();\r\n}\r\nexport default watch;\r\n","import { isboolean } from \"./util\";\r\n\r\n// import { getparentNode } from \"./dom\";\r\n\r\nexport function isconnected(element: Node) {\r\n  /* edge  element.isConnected,*/\r\n  const isConnectedstate = element.isConnected;\r\n  if (isboolean(isConnectedstate)) {\r\n    return isConnectedstate;\r\n  } else {\r\n    return document.documentElement === getancestornode(element);\r\n  }\r\n}\r\nfunction getancestornode(node: Node) {\r\n  while (\r\n    node &&\r\n    node.parentNode &&\r\n    node.parentNode !== document\r\n    /*  getparentNode(node) &&\r\n    getparentNode(node) !== node &&\r\n    getparentNode(node) !== document */\r\n  ) {\r\n    //   if(getparentNode(node)){}\r\n    node = node.parentNode; // getparentNode(node);\r\n  }\r\n  return node;\r\n}\r\n","import ReactiveState, { isReactiveState } from \"../Reactivity/ReactiveState\";\r\nimport { watch } from \"src/Reactivity/watch\";\r\nimport { isconnected } from \"src/UtilTools/isconnected\";\r\nimport { isstring } from \"src/UtilTools/util\";\r\n\r\nexport { createhtmlandtextdirective };\r\nfunction createhtmlandtextdirective(seteletext: Function, errorname: string) {\r\n  return function(ele: Element, text: string | ReactiveState<any>) {\r\n    const element = ele;\r\n    if (\r\n      isstring(text)\r\n      //typeof text == \"string\"\r\n    ) {\r\n      requestAnimationFrame(() => {\r\n        seteletext(ele, text);\r\n        /*    ele.textContent = text;*/\r\n        //   console.log(ele.outerHTML);\r\n      });\r\n    } else if (\r\n      isReactiveState(text)\r\n      //  text instanceof ReactiveState\r\n    ) {\r\n      //   const ReactiveState = text;\r\n      watch(text, (/* state: { value: any } */) => {\r\n        const state = text;\r\n        if (isconnected(element)) {\r\n          seteletext(ele, String(state));\r\n        }\r\n        /* ele.textContent = String(state);*/\r\n      });\r\n      //   ReactiveState[subscribesymbol]((state: { value: any }) => {\r\n      //     ele.textContent = String(state.value);\r\n      //   });\r\n      requestAnimationFrame(() => {\r\n        // console.log(\"text\");\r\n        seteletext(ele, String(text));\r\n\r\n        /*  ele.textContent = String(text);*/\r\n      });\r\n    } else {\r\n      console.error(text);\r\n      console.error(\"invalid \" + errorname);\r\n      throw TypeError();\r\n    }\r\n  };\r\n}\r\n","import { invalid_Function } from \"../mounted-unmounted/Component-context\";\r\nimport directives from \"./directives\";\r\nimport { isplainobject } from \"../UtilTools/util\";\r\nimport Virtualdom from \"../CreateElement/VirtualElement\";\r\nexport interface Extendfun {\r\n  (\r\n    value: any,\r\n    element: Element,\r\n\r\n    vdom: Virtualdom<any>\r\n  ): void;\r\n}\r\nexport interface ExtendOptions {\r\n  [s: string]: Extendfun;\r\n}\r\nexport { extenddirectives };\r\nexport default function extenddirectives(options: ExtendOptions = {}) {\r\n  if (!isplainobject(options)) {\r\n    console.error(options);\r\n    throw new TypeError();\r\n  }\r\n  Object.entries(options).forEach(([key, value]) => {\r\n    if (typeof value !== \"function\") {\r\n      console.error(value);\r\n      console.error(invalid_Function);\r\n      throw TypeError();\r\n    } else {\r\n      if (!directives[key]) {\r\n        Reflect.set(directives, key, value);\r\n      } else {\r\n        console.error(directives);\r\n        console.error(\"do not extend existing directive\");\r\n        throw new Error();\r\n      }\r\n    }\r\n  });\r\n  return directives;\r\n}\r\n","export const { requestAnimationFrame } = window;\r\nimport ReactiveState from \"../Reactivity/ReactiveState\";\r\nimport { setelehtml, seteletext } from \"../UtilTools/dom\";\r\nimport { apply, set } from \"../UtilTools/reflect\";\r\nimport { isfunction, isobject } from \"../UtilTools/util\";\r\nimport Virtualdom from \"../CreateElement/VirtualElement\";\r\nimport { createhtmlandtextdirective } from \"./create-html-and-text-directive\";\r\nimport extenddirectives, { ExtendOptions } from \"./extend-directive\";\r\nexport { directive };\r\nconst directive: ExtendOptions = {\r\n  ref(ref: object | Function, ele: Element, _vdom: Virtualdom<any>) {\r\n    if (isfunction(ref)) {\r\n      apply(ref as Function, undefined, [ele]);\r\n      // ref(ele)\r\n      //   ref.call(undefined, ele);\r\n    } else if (isobject(ref)) {\r\n      set(ref as object, \"value\", ele);\r\n      //   ref.value = ele;\r\n    } else {\r\n      console.log(_vdom);\r\n      console.error(ref);\r\n      console.error(\"invalid ref\");\r\n      throw TypeError();\r\n    }\r\n  }\r\n};\r\nextenddirectives({\r\n  html(\r\n    html: string | ReactiveState<any>,\r\n    ele: Element,\r\n\r\n    _vdom: Virtualdom<any>\r\n  ) {\r\n    console.log(_vdom);\r\n    createhtmlandtextdirective(setelehtml, \"html\")(ele, html);\r\n\r\n    // ele.innerHTML = html;\r\n    // console.log(ele.outerHTML);\r\n    /*  if (typeof html == \"string\") {\r\n          requestAnimationFrame(() => {\r\n            setelehtml(ele, html);\r\n    \r\n            /* ele.innerHTML = html;*/\r\n    //   console.log(ele.outerHTML);\r\n    /*     });\r\n        } else if (html instanceof ReactiveState) {\r\n          //   const ReactiveState = html;\r\n          watch(html, (state: { value: any }) => {\r\n            /*ele.innerHTML = String(state);*/\r\n    /*\r\n            setelehtml(ele, String(state));\r\n          });\r\n          //   ReactiveState[subscribesymbol]((state: { value: any }) => {\r\n          //     ele.innerHTML = String(state.value);\r\n          //   });\r\n          requestAnimationFrame(() => {\r\n            // console.log(\"html\");\r\n            /*  ele.innerHTML = String(html);*/\r\n    /*\r\n      //      setelehtml(ele, String(html));\r\n     //     });\r\n      //  } else {\r\n    \r\n    //console.error()\r\n      //    throw TypeError(\"invalid html\");\r\n     //   }\r\n    \r\n    */\r\n  },\r\n  text(\r\n    text: string | ReactiveState<any>,\r\n    ele: Element,\r\n    _vdom: Virtualdom<any>\r\n  ) {\r\n    console.log(_vdom);\r\n    createhtmlandtextdirective(seteletext, \"text\")(ele, text);\r\n\r\n    /*\r\n    \r\n      // ele.textContent = text;\r\n        // console.log(ele.outerHTML);\r\n        if (typeof text == \"string\") {\r\n          requestAnimationFrame(() => {\r\n            seteletext(ele, text);\r\n            /*    ele.textContent = text;*/\r\n    /*      //   console.log(ele.outerHTML);\r\n          });\r\n        } else if (text instanceof ReactiveState) {\r\n          //   const ReactiveState = text;\r\n          watch(text, (state: { value: any }) => {\r\n            seteletext(ele, String(state));\r\n    \r\n            /* ele.textContent = String(state);*/\r\n    /*   });\r\n          //   ReactiveState[subscribesymbol]((state: { value: any }) => {\r\n          //     ele.textContent = String(state.value);\r\n          //   });\r\n          requestAnimationFrame(() => {\r\n            // console.log(\"text\");\r\n            seteletext(ele, String(text));\r\n    \r\n            /*  ele.textContent = String(text);*/\r\n    /*    });\r\n       // } else {\r\n      //    throw TypeError(\"invalid text\");\r\n     //   }\r\n    \r\n    */\r\n  }\r\n});\r\n\r\nexport default directive;\r\n","import onevent /*  eventlistenerssymbol  */ from \"./handle-onevent\";\r\nexport { onevent };\r\nimport { invalid_Function } from \"../mounted-unmounted/Component-context\";\r\nimport { domaddlisten, domremovelisten } from \"../UtilTools/dom\";\r\nimport { get, has, set } from \"../UtilTools/reflect\";\r\nimport { toArray } from \"../UtilTools/toArray\";\r\nimport { /* isArray, */ isfunction } from \"../UtilTools/util\";\r\nexport const eventlistenerssymbol = Symbol(\"eventlisteners\");\r\nexport default function(\r\n  element: Element | Node,\r\n  eventname: string,\r\n  callback: EventListener | Array<EventListener>\r\n) {\r\n  /* if (!element[eventlistenerssymbol]) {\r\n    element[eventlistenerssymbol] = [];\r\n  }\r\n*/\r\n  firstaddlisteners(element, eventname, toArray(callback));\r\n  /*\r\n//  if (isfunction(callback)) {\r\n//    firstaddlisteners(element, eventname, [callback]);\r\n//  } else if (isArray(callback)) {\r\n//    firstaddlisteners(element, eventname, callback);\r\n // } else {\r\n //   console.error(callback);\r\n //   throw TypeError(invalid_Function);\r\n // }\r\n*/\r\n}\r\nexport function firstaddlisteners(\r\n  ele: Element | Node,\r\n  event: string,\r\n  callarray: Array<EventListener>\r\n) {\r\n  const element = ele;\r\n  callarray.forEach((call: EventListener) => {\r\n    if (!isfunction(call)) {\r\n      console.error(call);\r\n      console.error(invalid_Function);\r\n      throw TypeError();\r\n    }\r\n\r\n    if (!has(element, eventlistenerssymbol)) {\r\n      set(element, eventlistenerssymbol, []);\r\n      //   element[eventlistenerssymbol] = [];\r\n    }\r\n    (get(ele, eventlistenerssymbol) as [string, EventListener][])\r\n      /* ele[eventlistenerssymbol] */\r\n      .push([event, call]);\r\n    domaddlisten(ele, event, call);\r\n  });\r\n}\r\nexport function removelisteners(\r\n  ele: Element | Node\r\n  //   event: string,\r\n  //   callarray: Array<EventListener>\r\n) {\r\n  // const element = ele;\r\n  if (has(ele, eventlistenerssymbol)) {\r\n    (get(ele, eventlistenerssymbol) as [string, EventListener][])\r\n      /*   ele[eventlistenerssymbol] */\r\n\r\n      .forEach(([event, call]) => {\r\n        //   ele[eventlistenerssymbol].push([event, call]);\r\n        domremovelisten(ele, event, call);\r\n      });\r\n  }\r\n}\r\nexport function readdlisteners(\r\n  ele: Element | Node\r\n  //   event: string,\r\n  //   callarray: Array<EventListener>\r\n) {\r\n  if (has(ele, eventlistenerssymbol)) {\r\n    (get(ele, eventlistenerssymbol) as [string, EventListener][]).forEach(\r\n      ([event, call]) => {\r\n        //   ele[eventlistenerssymbol].push([event, call]);\r\n        domaddlisten(ele, event, call);\r\n      }\r\n    );\r\n  }\r\n}\r\n","export { render };\r\nimport { createcostumelemet } from \"../CustomClass/create-costum-elemet\";\r\nimport { iscomponent } from \"../AttributeClass/iscomponent\";\r\nimport mount from \"../MountElement/mount-real-element\";\r\nimport { invalid_Virtualdom } from \"../MountElement/MountElement\";\r\nimport ReactiveState, { isReactiveState } from \"../Reactivity/ReactiveState\";\r\nimport { watch } from \"../Reactivity/watch\";\r\nimport {\r\n  changetext,\r\n  createDocumentFragment,\r\n  createElementNS,\r\n  createmathelement,\r\n  //   createnonescript,\r\n  createnativeelement,\r\n  createsvgelement,\r\n  createtextnode,\r\n  mathnamespace,\r\n  svgnamespace\r\n} from \"../UtilTools/dom\";\r\nimport { isconnected } from \"../UtilTools/isconnected\";\r\nimport { get, set } from \"../UtilTools/reflect\";\r\nimport {\r\n  isArray,\r\n  isfunction,\r\n  isnumber,\r\n  isobject,\r\n  isstring\r\n} from \"../UtilTools/util\";\r\nimport Virtualdom, {\r\n  isVirtualdom,\r\n  Vdomchildren\r\n} from \"../CreateElement/VirtualElement\";\r\nimport handleprops from \"./handle-props\";\r\nimport { autocreateclass } from \"src/AttributeClass/createComponent\";\r\n\r\nexport const bindstatesymbol = Symbol(\"bindstate\");\r\n\r\n// export const reactivestatesymbol = Symbol(\"reactive\");\r\n// export const virtualdomsymbol = Symbol(\"virtualelement\");\r\n/* ,dom */\r\nfunction throwinvalideletype(type?: any): never {\r\n  console.error(type);\r\n  console.error(\"invalid element type!\");\r\n  console.error(invalid_Virtualdom);\r\n  throw TypeError(/*\"invalid element type!\"*/);\r\n}\r\nexport default function render(\r\n  vdom: Virtualdom<string | Function>,\r\n  namespace?: string\r\n): Element;\r\nexport default function render(\r\n  vdom: Virtualdom<\"script\" | \"\" | \"html\">,\r\n  namespace?: string\r\n): Node;\r\nexport default function render(\r\n  vdom: Vdomchildren,\r\n  namespace?: string\r\n): Array<Node | Element>;\r\nexport default function render(\r\n  vdom: string | ReactiveState<any> | number,\r\n  namespace?: string\r\n): Node;\r\nexport default function render(\r\n  vdom: Array<Virtualdom<any>>,\r\n  namespace?: string\r\n): Array<Element>;\r\nexport default function render(\r\n  vdom: Array<string | ReactiveState<any> | number>,\r\n  namespace?: string\r\n): Array<Node>;\r\nexport default function render(\r\n  vdom: Virtualdom<any> | string | number | ReactiveState<any> | Vdomchildren,\r\n  namespace?: string\r\n): Array<Node | Element> | Element | Node {\r\n  if (isArray(vdom)) {\r\n    return (vdom as (string | number | ReactiveState<any> | Virtualdom<any>)[])\r\n      .map(a => render(a as any))\r\n      .flat(1 / 0);\r\n  }\r\n  if (isnumber(vdom) || isstring(vdom)) {\r\n    const textnode = createtextnode(vdom);\r\n    // set(textnode, virtualdomsymbol, vdom);\r\n    // textnode[virtualdomsymbol] = vdom;\r\n    return textnode;\r\n\r\n    // } else if (typeof vdom === \"string\") {\r\n    // return createtextnode(vdom);\r\n  } else if (isReactiveState(vdom) /*instanceof ReactiveState*/) {\r\n    const reactive = vdom;\r\n    const textnode = createtextnode(String(reactive));\r\n    // set(textnode, virtualdomsymbol, vdom);\r\n    // textnode[virtualdomsymbol] = reactive;\r\n\r\n    //textnode[reactivestatesymbol] = reactive;\r\n    /*  try {\r\n      reactive[textnodesymbol] = textnode;\r\n    } catch (error) {\r\n      console.warn(error);\r\n    } */\r\n\r\n    watch(reactive, (/* state: ReactiveState<any> */) => {\r\n      const state = reactive;\r\n      if (isconnected(element)) {\r\n        changetext(textnode, String(state));\r\n      }\r\n    });\r\n    const element = textnode;\r\n    set(element, bindstatesymbol, new Set());\r\n    // element[bindstatesymbol] = new Set();\r\n    (get(element, bindstatesymbol) as Set<ReactiveState<any>>).add(reactive);\r\n    // element[bindstatesymbol].add(reactive);\r\n    return textnode;\r\n  } else if (\r\n    isVirtualdom(vdom)\r\n    //vdom instanceof Virtualdom && \"type\" in vdom\r\n  ) {\r\n    let { type } = vdom;\r\n    if (isfunction(type)) {\r\n      type = autocreateclass(type);\r\n      // debugger;\r\n    }\r\n    let element:\r\n      | Element\r\n      | HTMLElement\r\n      | SVGSVGElement\r\n      | SVGElement\r\n      | undefined = undefined;\r\n    if (typeof type === \"string\") {\r\n      if (type === \"script\") {\r\n        /*  */\r\n\r\n        return createDocumentFragment();\r\n      } else if (type === \"svg\") {\r\n        /* svg?svg */\r\n        element = createsvgelement();\r\n      } else if (type === \"math\") {\r\n        /* svg?svg */\r\n        element = createmathelement();\r\n      } else if (\"\" === type || type === \"html\") {\r\n        const fragmentnode = createDocumentFragment();\r\n\r\n        mount(render(vdom.children), fragmentnode);\r\n\r\n        return fragmentnode;\r\n        //html\r\n        // return render(vdom.children);\r\n        // element = createDocumentFragment();\r\n      } else {\r\n        element = namespace\r\n          ? createElementNS(namespace, type)\r\n          : createnativeelement(type);\r\n      }\r\n    } else if (typeof type == \"function\") {\r\n      //props\r\n\r\n      /*static defaultProps = {\r\n        name: 'Omi',\r\n        myAge: 18\r\n  }*/\r\n      if (isobject(type[\"defaultProps\"])) {\r\n        /*  readonly props*/\r\n        Object.assign(\r\n          vdom.props,\r\n          JSON.parse(JSON.stringify({ ...type[\"defaultProps\"], ...vdom.props }))\r\n        );\r\n        /* vdom.props = JSON.parse(\r\n          JSON.stringify({ ...type[\"defaultProps\"], ...vdom.props })\r\n        ); */\r\n      }\r\n\r\n      const propsjson = JSON.parse(\r\n        JSON.stringify({\r\n          ...vdom.props,\r\n          ...Object.fromEntries(\r\n            Object.entries(vdom.bindattr).map(([key, value]) => {\r\n              return [key, value.value];\r\n            })\r\n          )\r\n        })\r\n      );\r\n      element = createcostumelemet(\r\n        type,\r\n        propsjson,\r\n        vdom.children\r\n        // vdom.options\r\n      );\r\n    } else {\r\n      throwinvalideletype(vdom);\r\n      // throw TypeError(\"invalid element type!\");\r\n    }\r\n    /*  if (element) {\r\n      const attribute1: { [key: string]: any } = createeleattr(element);\r\n      Object.assign(\r\n        attribute1,\r\n\r\n        /* false */\r\n    //     vdom.props\r\n    //     // Object.fromEntries(Object.entries(vdom.props).filter())\r\n    //   );\r\n    // } */\r\n    // apply(handleprops)\r\n\r\n    /* children, */\r\n    /* web components childnodes,slot */\r\n    /* https://webkit.org/blog/4096/introducing-shadow-dom-api/ */\r\n    /*  */\r\n    /* https://developer.mozilla.org/zh-CN/docs/Web/API/Element/slot */\r\n    if (\r\n      type &&\r\n      (isfunction(type) || isstring(type))\r\n      // /\r\n      //   /\r\n\r\n      /* typeof type !== \"function\" */\r\n    ) {\r\n      /* children, */\r\n      if (\r\n        !iscomponent(type)\r\n        // componentsymbol !== type[componentsymbol]\r\n      ) {\r\n        if (element) {\r\n          mount(\r\n            vdom.children.map(e => {\r\n              if (type === \"svg\" && isVirtualdom(e)) {\r\n                /* svg?svg */\r\n                //   element.innerHTML = element.innerHTML;\r\n                return render(e, svgnamespace);\r\n              } else if (type === \"math\" && isVirtualdom(e)) {\r\n                return render(e, mathnamespace);\r\n              } else if (namespace && isVirtualdom(e)) {\r\n                return render(e, namespace);\r\n              } else {\r\n                return render(e as any) as any;\r\n              }\r\n            }),\r\n\r\n            element\r\n          );\r\n          //   return element;\r\n        }\r\n      }\r\n    }\r\n    /* select,value, option,,\r\n    \r\n    children,attributes,\r\n    */\r\n    if (element) {\r\n      handleprops(element, vdom);\r\n    }\r\n\r\n    return element as Node | Element;\r\n  } else {\r\n    throwinvalideletype(vdom);\r\n    // throw TypeError(\"invalid element type!\");\r\n  }\r\n  //   throw Error();\r\n  //   throwinvalideletype();\r\n\r\n  /* console.error(vdom);\r\n  throw new Error(); */\r\n  //   return;\r\n  //   throw new Error();\r\n}\r\n","import { Class, Custom } from \"./customclass\";\r\n//import setlikearray from \"./setlikearay\";\r\n// const customElementsarray = new Set;\r\nimport RandomDefineCustomElement, {\r\n  invalid_custom_element_class\r\n} from \"./CustomElementRegistry\";\r\nimport { construct } from \"../UtilTools/reflect\";\r\nimport { isclassextendsHTMLElement } from \"./isclassextendsHTMLElement\";\r\nimport { autocreateclass } from \"src/AttributeClass/createComponent\";\r\nimport { isfunction } from \"src/UtilTools/util\";\r\n\r\n// import Reflect from \"./reflect\";\r\n\r\n// import { Class } from \"./rendervdomtoreal\";\r\n\r\nexport function createcostumelemet(\r\n  initclass: Class | Custom,\r\n  propsjson?: object,\r\n  children?: any[]\r\n  //   options?: any\r\n): HTMLElement {\r\n  let type = initclass;\r\n  if (isfunction(type)) {\r\n    type = autocreateclass(type);\r\n    // debugger;\r\n  }\r\n  initclass = type;\r\n  if (isclassextendsHTMLElement(initclass)) {\r\n    // customElementsarray.push(initclass);\r\n    /*   const elementname =\r\n     getcustomelementname(initclass); */\r\n    /* if (customElements.get(elementname) === initclass) {\r\n    } else {\r\n      customElements.define(elementname, initclass);\r\n    } */\r\n    RandomDefineCustomElement(initclass);\r\n    return construct(initclass, [propsjson, children /* , options */]); // (children);\r\n  } else {\r\n    console.error(initclass);\r\n    console.error(invalid_custom_element_class);\r\n    throw TypeError();\r\n  }\r\n}\r\n","import createeleattr from \"@masx200/dom-element-attribute-agent-proxy\";\r\nimport ReactiveState, { isReactiveState } from \"../Reactivity/ReactiveState\";\r\nimport watch from \"src/Reactivity/watch\";\r\nimport { isconnected } from \"src/UtilTools/isconnected\";\r\nimport { get, has, set } from \"src/UtilTools/reflect\";\r\nimport { isfunction } from \"src/UtilTools/util\";\r\nimport Virtualdom from \"../CreateElement/VirtualElement\";\r\nimport directives from \"../Directives/directives\";\r\nimport { onevent } from \"./handle-onevent\";\r\nimport { bindstatesymbol /* virtualdomsymbol */ } from \"./render-vdom-to-real\";\r\n\r\nexport default handleprops;\r\nfunction handleprops(\r\n  element: HTMLElement | Element | SVGSVGElement | SVGElement,\r\n  vdom: Virtualdom<any>\r\n) {\r\n  /* if (!vdom.element) {\r\n    vdom.element = element;\r\n  }\r\n */\r\n  vdom.element.push(element);\r\n  /*  if (vdom.element.length > 1) {\r\n    console.log(vdom);\r\n  } */\r\n  ((element, vdom) => {\r\n    Object.entries(vdom.directives).forEach(([name, value]) => {\r\n      if (\r\n        isfunction(\r\n          directives[name]\r\n        ) /* typeof directives[name] === \"function\" */\r\n        /*name in directives &&*/\r\n      ) {\r\n        directives[name](value, element, vdom);\r\n      } else {\r\n        console.error(vdom.directives);\r\n        console.error(\"invalid directives \" + name);\r\n        throw new Error();\r\n      }\r\n    });\r\n\r\n    const attribute1: Record<string, any> = createeleattr(element);\r\n    Object.assign(\r\n      attribute1,\r\n\r\n      /* false */\r\n      vdom.props\r\n      // Object.fromEntries(Object.entries(vdom.props).filter())\r\n    );\r\n    /*  */\r\n    // set(element, virtualdomsymbol, vdom);\r\n    // element[virtualdomsymbol] = vdom;\r\n    /* ,dom */\r\n\r\n    /*  */\r\n\r\n    Object.entries(vdom.bindattr).forEach(([key, primitivestate]) => {\r\n      attribute1[key] = primitivestate.valueOf();\r\n      watch(primitivestate, (/* state: ReactiveState<any> */) => {\r\n        const state = primitivestate;\r\n        if (isconnected(element)) {\r\n          attribute1[key] = state.valueOf();\r\n        }\r\n      });\r\n      /*     primitivestate[subscribesymbol]();\r\n        requestAnimationFrame(() => {\r\n          primitivestate[addallistenerssymbol]();\r\n        }); */\r\n    });\r\n\r\n    /*  */\r\n\r\n    /*  if (!element[eventlistenerssymbol]) {\r\n        element[eventlistenerssymbol] = [];\r\n      }\r\n  */\r\n    Object.entries(vdom.onevent).forEach(([event, callbacks]) => {\r\n      onevent(element, event, callbacks);\r\n    });\r\n  })(element, vdom);\r\n  /*  if (!element[bindstatesymbol]) {\r\n      element[bindstatesymbol] = new Set();\r\n    }\r\n  */\r\n  [...Object.values(vdom.bindattr), ...Object.values(vdom.directives)]\r\n    .flat(1 / 0)\r\n    .filter(\r\n      e => isReactiveState(e)\r\n      // e instanceof ReactiveState\r\n    )\r\n\r\n    .forEach((e: ReactiveState<any>) => {\r\n      if (!has(element, bindstatesymbol)) {\r\n        set(element, bindstatesymbol, new Set());\r\n        // element[bindstatesymbol] = new Set();\r\n      }\r\n      (get(element, bindstatesymbol) as Set<ReactiveState<any>>).add(e);\r\n      //   element[bindstatesymbol].add(e);\r\n    });\r\n}\r\n","import createElement from \"../CreateElement/create-element\";\r\nimport render from \"../RenderVirtual/render-vdom-to-real\";\r\n\r\nconst componentsstylesheet: Map<string, Set<string>> = new Map();\r\n// { [key: string]: Set<string> }\r\n\r\nexport { componentsstylesheet };\r\n\r\nexport function createlinkstylesheet(url: string): HTMLLinkElement {\r\n  return render(\r\n    createElement(\"link\", { href: url, rel: \"stylesheet\" })\r\n  ) as HTMLLinkElement;\r\n}\r\n","export { createcssBlob };\r\nfunction createcssBlob(source: string): string {\r\n  const cachedBlob = sourcecssblobCache.get(source);\r\n  if (cachedBlob) {\r\n    return cachedBlob;\r\n  } else {\r\n    const bloburl = URL.createObjectURL(\r\n      new Blob([source], { type: \"text/css\" })\r\n    );\r\n    sourcecssblobCache.set(source, bloburl);\r\n    return bloburl;\r\n  }\r\n}\r\nconst sourcecssblobCache = new Map<string, string>();\r\n","import { componentsstylesheet } from \"./parsecss-transformcss\";\r\nimport { get, set } from \"src/UtilTools/reflect\";\r\nimport { createcssBlob } from \"./create-cssurlblob\";\r\n\r\nexport function savestyleblob(\r\n  tagname: string,\r\n  csstext?: string,\r\n  urltext?: string\r\n) {\r\n  tagname = tagname.toLowerCase();\r\n  const prefix = tagname;\r\n  if (\r\n    !get(componentsstylesheet, prefix)\r\n    // componentsstylesheet[tagname]\r\n  ) {\r\n    set(componentsstylesheet, tagname, new Set());\r\n    // componentsstylesheet[tagname] = ;\r\n  }\r\n  if (csstext) {\r\n    get(componentsstylesheet, prefix).add(createcssBlob(csstext));\r\n  } else if (urltext) {\r\n    get(componentsstylesheet, prefix).add(urltext);\r\n  }\r\n}\r\n","import {\r\n  isCSSImportRule,\r\n  isCSSMediaRule,\r\n  //   isCSSRule,\r\n  isCSSStyleRule\r\n} from \"./isCSSRule\";\r\nimport { prefixcssmediarule } from \"./prefix-cssmediarule\";\r\nimport { savestyleblob } from \"./savestyleblob\";\r\nimport { selectoraddprefix } from \"./selectoraddprefix\";\r\n// import { isundefined } from \"src/UtilTools/util\";\r\n\r\nexport function prefixcssrules(\r\n  cssRulesarray: Array<CSSRule>,\r\n  prefix: string\r\n): Array<CSSRule> {\r\n  return cssRulesarray\r\n    .map((cssrule: CSSRule) => {\r\n      if (isCSSStyleRule(cssrule)) {\r\n        const resultoutput = selectoraddprefix(cssrule, prefix);\r\n        // console.log(resultoutput);\r\n        return resultoutput;\r\n      } else if (isCSSMediaRule(cssrule)) {\r\n        /*  selectoraddprefix,*/\r\n\r\n        // return cssrule;\r\n\r\n        return prefixcssmediarule(cssrule, prefix);\r\n      } else if (isCSSImportRule(cssrule)) {\r\n        //url\r\n        savestyleblob(prefix, undefined, cssrule.href);\r\n        return;\r\n      } else {\r\n        return cssrule;\r\n      }\r\n    })\r\n    .filter(Boolean) as Array<CSSRule>;\r\n}\r\n","import { gettagtype } from \"src/UtilTools/util\";\r\n\r\nexport function isCSSStyleRule(a: any): a is CSSStyleRule {\r\n  return gettagtype(a) === \"CSSStyleRule\";\r\n}\r\nexport function isCSSMediaRule(a: any): a is CSSMediaRule {\r\n  return gettagtype(a) === \"CSSMediaRule\";\r\n}\r\nexport function isCSSImportRule(a: any): a is CSSImportRule {\r\n  return gettagtype(a) === \"CSSImportRule\";\r\n}\r\nexport function isCSSRule(a: any): a is CSSRule {\r\n  return a instanceof CSSRule;\r\n}\r\n","// import { get } from \"src/UtilTools/reflect\";\r\n/*  selectoraddprefix,*/\r\nexport function selectoraddprefix(cssstylerule: CSSStyleRule, prefix: string) {\r\n  /* Edge CSSStyleRuleselectorText?*/\r\n  //css \r\n  //h1,p,h3,div\r\n  const selectorold = cssstylerule.selectorText;\r\n  const stylebodyold = cssstylerule.cssText.slice(selectorold.length);\r\n  const selectorTextss = selectorold;\r\n\r\n  const selectorarray = selectorTextss.split(\",\");\r\n  const selectoraftertransform = selectorarray\r\n    .map(selectorTextone => {\r\n      let prefixselector = prefix + \" \" + selectorTextone;\r\n\r\n      if (selectorTextone.startsWith(\"*\")) {\r\n        prefixselector =\r\n          prefixselector + \",\" + selectorTextone.replace(\"*\", prefix);\r\n      }\r\n      return prefixselector;\r\n    })\r\n    .join(\",\");\r\n\r\n  /*   cssstylerule.selectorText = selectoraftertransform;\r\n    if (cssstylerule.selectorText.startsWith(prefix)) {\r\n      return cssstylerule;\r\n    } else { */\r\n  // console.trace();\r\n  return {\r\n    /* , */\r\n    // type: cssstylerule.type,\r\n    // parentRule: cssstylerule.parentRule,\r\n    // parentStyleSheet: cssstylerule.parentStyleSheet,\r\n    // style: cssstylerule.style,\r\n    // styleMap: get(cssstylerule, \"styleMap\"),\r\n    selectorText: selectoraftertransform,\r\n    cssText: selectoraftertransform + stylebodyold,\r\n    // cssText: selectoraftertransform + stylebodyold,\r\n    // selectorText: selectoraftertransform,\r\n    [Symbol.toStringTag]: \"CSSStyleRule\"\r\n  };\r\n  // }\r\n\r\n  /*\r\n    const prefixselector = prefix + \" \" + selectorText;\r\n    if (selectorText.startsWith(\"*\")) {\r\n      cssstylerule.selectorText =\r\n        selectorText.replace(\"*\", prefix) + \",\" + prefixselector;\r\n      /* '* ',selectorrule*/\r\n\r\n  /* \r\n      *{font-size:80px !important;}\r\n  p{color:blue !important;} \r\n  */\r\n  /* \r\n      \r\n      q-9, q-9 * { font-size: 80px !important; }\r\n  q-9 p { color: blue !important; }\r\n  \r\n      */\r\n  /* } else {\r\n      cssstylerule.selectorText = prefixselector;\r\n    }\r\n  */\r\n}\r\n","import { prefixcssrules } from \"./transform-prefix-cssrules\";\r\nimport { cssrulestocsstext } from \"./cssrulestocsstext\";\r\n\r\nexport function prefixcssmediarule(cssrule: CSSMediaRule, prefix: string) {\r\n  const rulesarr = prefixcssrules([...cssrule.cssRules], prefix);\r\n  const conditionText = cssrule.conditionText;\r\n  const cssText =\r\n    cssrule.cssText.slice(0, 7) +\r\n    conditionText +\r\n    \"{\" +\r\n    cssrulestocsstext(rulesarr) +\r\n    \"}\";\r\n  return {\r\n    cssText,\r\n    conditionText,\r\n    cssRules: rulesarr,\r\n    [Symbol.toStringTag]: \"CSSMediaRule\"\r\n  };\r\n}\r\n","import { render } from \"src/RenderVirtual/render-vdom-to-real\";\r\nimport createElement from \"src/CreateElement/create-element\";\r\nimport { createanotherhtmldocument, appendchild } from \"src/UtilTools/dom\";\r\nimport { get } from \"src/UtilTools/reflect\";\r\n\r\nexport function parsecsstext(text: string): Array<CSSRule> {\r\n  const styleelement = render(\r\n    createElement(\"style\", [text])\r\n  ) as HTMLStyleElement;\r\n  //   console.dir(styleelement);\r\n  /* documentsheet */\r\n  //const otherdocument = document.implementation.createHTMLDocument(\"\");\r\n  const otherdocument = createanotherhtmldocument();\r\n  appendchild(otherdocument.documentElement, styleelement);\r\n  //otherdocument.firstElementChild.appendChild(styleelement);\r\n  return Array.from(\r\n    get(\r\n      get(styleelement, \"sheet\"),\r\n\r\n      \"cssRules\"\r\n    )\r\n  );\r\n}\r\n","// import { parsecsstext } from \"./parsecss-transformcss\";\r\nimport { prefixcssrules } from \"./transform-prefix-cssrules\";\r\nimport { cssrulestocsstext } from \"./cssrulestocsstext\";\r\nimport { parsecsstext } from \"./parsecsstext\";\r\n\r\nexport function transformcsstext(text: string, prefix: string): string {\r\n  const cachedtext = oldcsstotransformedcss.get(text);\r\n  if (cachedtext) {\r\n    return cachedtext;\r\n  } else {\r\n    const css = text;\r\n    const cssomold = parsecsstext(css);\r\n    const cssomnew = prefixcssrules(cssomold, prefix).filter(Boolean);\r\n    //   console.log(cssomnew);\r\n    //   console.log([css, prefix, cssomold, cssomnew]);\r\n    const cssnewtext = cssrulestocsstext(cssomnew);\r\n    //   console.log([text, cssomold, cssomnew, cssnewtext]);\r\n    oldcsstotransformedcss.set(text, cssnewtext);\r\n    return cssnewtext;\r\n  }\r\n}\r\nconst oldcsstotransformedcss = new Map<string, string>();\r\n","import { transformcsstext } from \"./transformcsstext\";\r\nimport { savestyleblob } from \"./savestyleblob\";\r\n// import { savestyleblob } from \"./parsecss-transformcss\";\r\n\r\nexport function registercssprefix(text: string, prefix: string) {\r\n  //   debugger;\r\n  //   console.trace();\r\n  const css = text;\r\n  const cssnewtext = transformcsstext(css, prefix);\r\n  //   cssnewtext.forEach(url => {\r\n  /* cssurl */\r\n  savestyleblob(prefix, cssnewtext);\r\n  //   });\r\n}\r\n","import {\r\n  componentsstylesheet,\r\n  createlinkstylesheet\r\n  //   loadlinkstyle\r\n} from \"./parsecss-transformcss\";\r\nimport { querySelectorAll } from \"src/UtilTools/dom\";\r\nimport { get } from \"src/UtilTools/reflect\";\r\nimport { loadlinkstyle } from \"./loadlinkstyle\";\r\n\r\nexport function waitloadallstyle(\r\n  prefix: string,\r\n  containerthis: Element | HTMLElement | SVGSVGElement | SVGElement\r\n) {\r\n  return Promise.all(\r\n    [...get(componentsstylesheet, prefix)].map(styleurl => {\r\n      if (\r\n        querySelectorAll(`link[rel=\"stylesheet\"][href=\"${styleurl}\"]`).length\r\n      ) {\r\n        return Promise.resolve();\r\n      } else {\r\n        /* linkstylesheet, */\r\n        return loadlinkstyle(createlinkstylesheet(styleurl), containerthis);\r\n      }\r\n    })\r\n  );\r\n}\r\n","import { appendchild } from \"src/UtilTools/dom\";\r\n\r\nexport function loadlinkstyle(\r\n  stylelinkelement: HTMLElement,\r\n  container: HTMLElement | Element | SVGSVGElement | SVGElement\r\n): Promise<void> {\r\n  return new Promise(rs => {\r\n    const loaderrorfun = () => {\r\n      stylelinkelement.onload = stylelinkelement.onerror = null;\r\n      rs();\r\n      //   console.log(stylelinkelement.href);\r\n    };\r\n    stylelinkelement.onload = loaderrorfun;\r\n    stylelinkelement.onerror = loaderrorfun;\r\n    appendchild(container, stylelinkelement);\r\n  });\r\n}\r\n","export default function<T extends object>(target: T): T {\r\n  return new Proxy(target, {\r\n    set() {\r\n      return true;\r\n    },\r\n    defineProperty() {\r\n      return false;\r\n    },\r\n    deleteProperty() {\r\n      return false;\r\n    },\r\n    setPrototypeOf() {\r\n      return false;\r\n    }\r\n  });\r\n}\r\n","export function setimmediate(fun: Function) {\r\n  return Promise.resolve().then(() => fun());\r\n}\r\n","import {\r\n  innerstatesymbol,\r\n  innerwatchrecords\r\n} from \"../AttributeClass/createComponent\";\r\nimport { cached_callback_eventlistner } from \"../cached-map\";\r\nimport { isNode } from \"../MountElement/isNodeArray\";\r\n// import { isNode } from \"./MountElement/MountElement\";\r\nimport ReactiveState, {\r\n  addonelistner,\r\n  dispatchsymbol,\r\n  //   callbackmap,\r\n  removeonelistner\r\n} from \"../Reactivity/ReactiveState\";\r\nimport { rewatch /* , unwatch */, unwatch } from \"../Reactivity/watch\";\r\nimport {\r\n  readdlisteners,\r\n  removelisteners\r\n} from \"../RenderVirtual/handle-onevent\";\r\nimport { bindstatesymbol } from \"../RenderVirtual/render-vdom-to-real\";\r\nimport { getchildNodes } from \"../UtilTools/dom\";\r\nimport { get, has } from \"../UtilTools/reflect\";\r\nimport { isArray } from \"../UtilTools/util\";\r\n\r\nexport function onmounted(ele: Element | Node | Array<Node>) {\r\n  if (isArray(ele)) {\r\n    ele.forEach(e => {\r\n      onmounted(e);\r\n    });\r\n  } else if (\r\n    isNode(ele)\r\n    //   ele instanceof Node\r\n  ) {\r\n    // if (has(ele, eventlistenerssymbol)) {\r\n    readdlisteners(ele);\r\n    // }\r\n    //\r\n    if (\r\n      has(ele, bindstatesymbol)\r\n      // ele[bindstatesymbol]\r\n    ) {\r\n      (get(ele, bindstatesymbol) as ReactiveState<any>[])\r\n\r\n        /*  ele[bindstatesymbol] */\r\n        .forEach((state: ReactiveState<any>) => {\r\n          rewatch(state);\r\n\r\n          /* dom */\r\n          state[dispatchsymbol]();\r\n        });\r\n    }\r\n    if (\r\n      has(ele, innerstatesymbol)\r\n      //   ele[innerstatesymbol]\r\n    ) {\r\n      (get(ele, innerstatesymbol) as ReactiveState<any>[]).forEach(\r\n        (state: ReactiveState<any>) => {\r\n          rewatch(state);\r\n        }\r\n      );\r\n    }\r\n    // readdlisteners(ele);\r\n    /* watchstatecallback,\r\nremoveeventlistener,\r\naddeventlistener\r\n*/\r\n    if (has(ele, innerwatchrecords)) {\r\n      const watchrecords = get(ele, innerwatchrecords) as [\r\n        ReactiveState<any>,\r\n        Function\r\n      ][];\r\n      watchrecords.forEach(([state, callback]) => {\r\n        const eventlistener = cached_callback_eventlistner.get(callback);\r\n        /*   if (!eventlistener) {\r\n          throw new Error();\r\n        } */\r\n        if (eventlistener) {\r\n          state[addonelistner](eventlistener);\r\n        }\r\n      });\r\n    }\r\n    onmounted(getchildNodes(ele));\r\n  }\r\n\r\n  //\r\n}\r\nexport function onunmounted(ele: Element | Node | Array<Node>) {\r\n  if (isArray(ele)) {\r\n    ele.forEach(e => {\r\n      onunmounted(e);\r\n    });\r\n  } else if (\r\n    isNode(ele)\r\n    //   ele instanceof Node\r\n  ) {\r\n    // if (\r\n    //   has(ele, eventlistenerssymbol)\r\n    //   // ele[eventlistenerssymbol]\r\n    // ) {\r\n    removelisteners(ele);\r\n    // }\r\n    /*   if (ele[bindstatesymbol]) {\r\n      ele[bindstatesymbol].forEach((state: ReactiveState) => {\r\n        unwatch(state);\r\n      });\r\n */\r\n    // readdlisteners(ele);\r\n    // }\r\n    //\r\n    /* unwatch ReactiveState*/\r\n    if (\r\n      has(ele, innerstatesymbol)\r\n      // ele[innerstatesymbol]\r\n    ) {\r\n      (get(ele, innerstatesymbol) as ReactiveState<any>[]).forEach(\r\n        (state: ReactiveState<any>) => {\r\n          unwatch(state);\r\n        }\r\n      );\r\n    }\r\n    if (has(ele, innerwatchrecords)) {\r\n      const watchrecords = get(ele, innerwatchrecords) as [\r\n        ReactiveState<any>,\r\n        Function\r\n      ][];\r\n      watchrecords.forEach(([state, callback]) => {\r\n        const eventlistener = cached_callback_eventlistner.get(callback);\r\n        /*  if (!eventlistener) {\r\n          throw new Error();\r\n        } */\r\n        if (eventlistener) {\r\n          state[removeonelistner](eventlistener);\r\n        }\r\n      });\r\n    }\r\n    onunmounted(getchildNodes(ele));\r\n  }\r\n}\r\n","export const readysymbol = Symbol(\"readystate\");\r\n","import createeleattragentreadwrite from \"@masx200/dom-element-attribute-agent-proxy\";\r\nimport { setimmediate } from \"src/UtilTools/setimmediate\";\r\nimport {\r\n  onmounted,\r\n  onunmounted\r\n} from \"../mounted-unmounted/element-onmount-unmount\";\r\nimport { get } from \"../UtilTools/reflect\";\r\nimport { isFunction, isfunction, isobject } from \"../UtilTools/util\";\r\nimport { readysymbol } from \"./readysymbol\";\r\nexport const attributeChangedCallback = Symbol(\"attributeChanged\");\r\nexport const firstinstalledcallback = Symbol(\"firstinstalled\");\r\n/* \r\n\r\n super.disconnectedCallback();\r\n\r\n babel?\r\n\r\n  connectedCallback() {\r\n            //    return _asyncToGenerator((function*() {}\r\n                ))();\r\n            }\r\n            disconnectedCallback() {\r\n               // return _asyncToGenerator((function*() {}\r\n                ))();\r\n            }\r\n*/\r\nexport function connectedCallback(componentelement: HTMLElement) {\r\n  AttrChange.prototype.connectedCallback.call(componentelement);\r\n}\r\n\r\nexport function disconnectedCallback(componentelement: HTMLElement) {\r\n  AttrChange.prototype.disconnectedCallback.call(componentelement);\r\n}\r\nexport class AttrChange extends HTMLElement {\r\n  //   abstract [firstinstalledcallback]();\r\n  disconnectedCallback() {\r\n    setimmediate(() => {\r\n      onunmounted(this);\r\n    });\r\n  }\r\n  connectedCallback() {\r\n    setimmediate(() => {\r\n      if (!this[readysymbol]) {\r\n        this[readysymbol] = true;\r\n        const callback = get(this, firstinstalledcallback);\r\n        if (isfunction(callback)) {\r\n          // get(this,firstinstalledcallback)\r\n          setimmediate(() => {\r\n            callback.call(this);\r\n          });\r\n        }\r\n      }\r\n      onmounted(this);\r\n    });\r\n\r\n    // onmounted(this);\r\n  }\r\n  [readysymbol] = false;\r\n  // [attributessymbol]: Record<string, ReactiveState<any>>;\r\n  constructor() {\r\n    super();\r\n    const defaultProps = get(this.constructor, \"defaultProps\");\r\n    // this.constructor[\"defaultProps\"];\r\n    const attrs: Record<string, any> = createeleattragentreadwrite(this);\r\n    //   const props = {};\r\n    if (isobject(defaultProps)) {\r\n      /*     if (!this[attributessymbol]) {\r\n        this[attributessymbol] = {};\r\n      } */\r\n      Object.assign(attrs, defaultProps);\r\n      // Object.assign(props, this.constructor[\"defaultProps\"]);\r\n    }\r\n\r\n    // mutation observer setattribute\r\n    new MutationObserver(mutations => {\r\n      mutations.forEach(mutation => {\r\n        if (mutation.type == \"attributes\") {\r\n          console.log(\r\n            \"The \" + mutation.attributeName + \" attribute was modified.\"\r\n          );\r\n          const callback = get(this, attributeChangedCallback);\r\n\r\n          let qualifiedName = mutation.attributeName;\r\n          if (\r\n            qualifiedName &&\r\n            isFunction(\r\n              callback\r\n              // this[attributeChangedCallback]\r\n            )\r\n          ) {\r\n            // setimmediate(() => {\r\n            callback.call(this, qualifiedName);\r\n            // });\r\n          }\r\n        }\r\n      });\r\n    }).observe(this, { attributes: true });\r\n  }\r\n  //   [attributeChangedCallback](name?: string): void;\r\n  // prototype!: HTMLElement;\r\n  /*  defaultProps?: { [key: string]: any } | undefined;\r\n  css?: string | undefined; */\r\n  /* constructor() {\r\n    super();\r\n  } */\r\n\r\n  /* seteletext,children */\r\n  //   get textContent() {\r\n  //     return String(super.textContent || \"\");\r\n  //   }\r\n  //   set textContent(_a: string) {\r\n  //     console.trace();\r\n  //     // return;\r\n  //   }\r\n  //   get innerHTML() {\r\n  //     return super.innerHTML;\r\n  //   }\r\n  //   set innerHTML(_a: string) {\r\n  //     // return;\r\n  //   }\r\n  //   get innerText() {\r\n  //     return super.innerText;\r\n  //   }\r\n  //   set innerText(_a: string) {\r\n  //     // return;\r\n  //   }\r\n  // [attributeChangedCallback](\r\n  //   name: string\r\n\r\n  /* _name?: any, _oldValue?: any, _newValue?: any */\r\n  // ) {\r\n  //   noop(name);\r\n  //\r\n  //  }\r\n  /* constructor() {\r\n    super();\r\n  } */\r\n\r\n  //innerhtmlinnertexttextcontent\r\n  /* disconnectedCallback() {\r\n  //console.log('Custom square element removed from page.');\r\n} */\r\n  /* connectedCallback() {\r\n  //console.log('Custom square element added to page.');\r\n  updateStyle(this);\r\n} */\r\n  //\r\n  //   connectedCallback(){}\r\n  /* attributeChangedCallback(name, oldValue, newValue) {\r\n  //console.log('Custom square element attributes changed.');\r\n  updateStyle(this);\r\n} */\r\n  //   setAttribute(qualifiedName: string, value: string) {\r\n  //     const callback = get(this, attributeChangedCallback);\r\n  //     const oldValue = getAttribute(this, qualifiedName);\r\n  //     // super.getAttribute(qualifiedName);\r\n\r\n  //     if (oldValue !== value) {\r\n  //       setAttribute(this, qualifiedName, value);\r\n  //       //   super.setAttribute(qualifiedName, value);\r\n  //       if (\r\n  //         isFunction(\r\n  //           callback\r\n  //           // this[attributeChangedCallback]\r\n  //         )\r\n  //       ) {\r\n  //         // setimmediate(() => {\r\n  //         callback.call(this, qualifiedName, oldValue, value);\r\n  //         // });\r\n  //       }\r\n  //     }\r\n  //   }\r\n  //   removeAttribute(qualifiedName: string) {\r\n  //     const callback = get(this, attributeChangedCallback);\r\n  //     const oldValue = getAttribute(this, qualifiedName);\r\n\r\n  //     if (null !== oldValue) {\r\n  //       //   super.removeAttribute(qualifiedName);\r\n  //       removeAttribute(this, qualifiedName);\r\n  //       if (isFunction(callback)) {\r\n  //         // setimmediate(() => {\r\n  //         callback.call(this, qualifiedName, oldValue, undefined);\r\n  //         // });\r\n  //       }\r\n  //     }\r\n  //   }\r\n}\r\n","const waittranformcsssymbol = Symbol(\"waittranformcss\");\r\nexport const innerwatchrecords = Symbol(\"innerwatchrecord\");\r\nexport const innerstatesymbol = Symbol(\"innerstate\");\r\nimport createeleattragentreadwrite from \"@masx200/dom-element-attribute-agent-proxy\";\r\nimport { isvalidvdom } from \"src/CreateElement/isvalidvdom\";\r\nimport { isclassextendsHTMLElement } from \"src/CustomClass/isclassextendsHTMLElement\";\r\nimport { registercssprefix } from \"src/ScopedCSS/registercssprefix\";\r\nimport { waitloadallstyle } from \"src/ScopedCSS/waitloadallstyle\";\r\nimport { cached_create_componet } from \"../cached-map\";\r\n// import { Class } from \"./rendervdomtoreal\";\r\nimport Virtualdom, { Vdomchildren } from \"../CreateElement/VirtualElement\";\r\nimport { Custom } from \"../CustomClass/customclass\";\r\nimport {\r\n  closectx,\r\n  getMounted,\r\n  getstates,\r\n  getUnMounted,\r\n  getwatchrecords,\r\n  invalid_Function,\r\n  openctx\r\n} from \"../mounted-unmounted/Component-context\";\r\n// import { isvalidvdom } from \"../CreateElement/html\";\r\n// import { Promise } from \"q\";\r\n// import { inflate } from \"zlib\";\r\n// import { componentsymbol } from \"./iscomponent\";\r\n// import { insertfirst } from \"./dom\";\r\nimport mount from \"../MountElement/mount-real-element\";\r\nimport {\r\n  /* createApp, */ invalid_Virtualdom\r\n} from \"../MountElement/MountElement\";\r\nimport ReactiveState, {\r\n  dispatchsymbol /* , { dispatchsymbol } */\r\n} from \"../Reactivity/ReactiveState\";\r\nimport readonlyproxy from \"../Reactivity/readonly-proxy\";\r\nimport render from \"../RenderVirtual/render-vdom-to-real\";\r\nimport {\r\n  /* parsecsstext,\r\n                        prefixcssrules,\r\n                        cssrulestocsstext, */\r\n  //   savestyleblob,\r\n  componentsstylesheet\r\n  //   createlinkstylesheet,\r\n  //   transformcsstext,\r\n  //   registercssprefix\r\n  /*  loadlinkstyle,\r\n                        createlinkstylesheet */\r\n  //   savestyleblob\r\n  //   waitloadallstyle\r\n} from \"../ScopedCSS/parsecss-transformcss\";\r\nimport { seteletext } from \"../UtilTools/dom\";\r\nimport { apply, defineProperty, get, set } from \"../UtilTools/reflect\";\r\nimport { setimmediate } from \"../UtilTools/setimmediate\";\r\nimport { toArray } from \"../UtilTools/toArray\";\r\nimport { isfunction, isobject, isstring } from \"../UtilTools/util\";\r\nimport {\r\n  AttrChange,\r\n  attributeChangedCallback,\r\n  connectedCallback,\r\n  disconnectedCallback,\r\n  firstinstalledcallback\r\n} from \"./attr-change\";\r\nimport createcomponent from \"./createComponent\";\r\nimport { componentsymbol } from \"./iscomponent\";\r\nimport { readysymbol } from \"./readysymbol\";\r\nexport const attributessymbol = Symbol(\"attributes\");\r\nconst elementsymbol = Symbol(\"innerelement\");\r\nconst inner_vdom_symbol = Symbol(\"innervdom\");\r\nconst mountedsymbol = Symbol(\"mounted\");\r\nconst unmountedsymbol = Symbol(\"unmounted\");\r\nexport interface Htmlelementconstructor {\r\n  new (): HTMLElement;\r\n  prototype: HTMLElement;\r\n  defaultProps?: Record<string, any>;\r\n  css?: string;\r\n}\r\nfunction createComponent(custfun: Custom): Htmlelementconstructor {\r\n  if (isfunction(custfun)) {\r\n    const cached_class = cached_create_componet.get(custfun);\r\n    if (cached_class) {\r\n      return cached_class;\r\n    }\r\n\r\n    const defaultProps = get(custfun, \"defaultProps\"); //custfun[\"defaultProps\"];\r\n    const css = get(custfun, \"css\");\r\n    class Component extends AttrChange {\r\n      [innerwatchrecords]: [ReactiveState<any>, Function][];\r\n      [attributessymbol]: Record<string, ReactiveState<any>> = {};\r\n      // new (propsjson?: object | undefined, children?: any[] | undefined): HTMLElement\r\n\r\n      //   constructor(...args: any[]);\r\n\r\n      [waittranformcsssymbol]: undefined | (() => Promise<void>);\r\n      constructor(\r\n        propsjson: Record<string, any> = {},\r\n        children: Vdomchildren = [] /* , options?: any */ //   : HTMLElement;\r\n      ) {\r\n        super();\r\n        // this[attributessymbol] = {};\r\n        const css = get(this.constructor, \"css\");\r\n\r\n        if (css) {\r\n          const prefix = this.tagName.toLowerCase();\r\n          if (\r\n            !get(componentsstylesheet, prefix)\r\n            /*  componentsstylesheet[prefix] */\r\n          ) {\r\n            set(componentsstylesheet, prefix, new Set());\r\n            /* css */\r\n            // console.trace();\r\n            this[waittranformcsssymbol] = () => {\r\n              return setimmediate(() => {\r\n                registercssprefix(css, prefix);\r\n              });\r\n            };\r\n\r\n            /* csscssom ,,,blob,link-stylesheet,*/\r\n            /* const cssomold = parsecsstext(css);\r\n                const cssomnew = prefixcssrules(cssomold, prefix);\r\n                //   console.log([css, prefix, cssomold, cssomnew]);\r\n                const cssnewtext = cssrulestocsstext(cssomnew); */\r\n            // const cssnewtext = transformcsstext(css, prefix);\r\n            // savestyleblob(prefix, cssnewtext);\r\n            // console.log(cssnewtext, componentsstylesheet);\r\n          }\r\n        }\r\n        // const defaultProps = get(this.constructor, \"defaultProps\");\r\n        // this.constructor[\"defaultProps\"];\r\n        const attrs: Record<string, any> = createeleattragentreadwrite(this);\r\n        //   const props = {};\r\n        /*    if (isobject(defaultProps)) {\r\n          Object.assign(attrs, defaultProps);\r\n          // Object.assign(props, this.constructor[\"defaultProps\"]);\r\n        } */\r\n        if (isobject(propsjson)) {\r\n          Object.assign(attrs, propsjson);\r\n          // Object.assign(props, propsjson);\r\n        }\r\n        // console.log({ ...attrs });\r\n        //   this[attributessymbol] = createeleattragentreadwrite(this);\r\n        // const props = createeleattragentreadwrite(this);/\r\n        const props = attrs;\r\n        openctx();\r\n\r\n        const thisattributess = Object.fromEntries(\r\n          Object.entries(props).map(([key]) => [\r\n            key,\r\n            (() => {\r\n              /* getterattribute */\r\n              const attributes = createeleattragentreadwrite(this) as Record<\r\n                string,\r\n                any\r\n              >;\r\n              const state = new ReactiveState();\r\n              defineProperty(state, \"value\", {\r\n                get() {\r\n                  return get(attributes, key);\r\n                },\r\n                configurable: true\r\n              });\r\n              //   usestste(state);\r\n              return state;\r\n            })()\r\n          ])\r\n        );\r\n        this[attributessymbol] = thisattributess;\r\n        // console.log({ props, thisattributess });\r\n        // debugger;\r\n        /* attributesreactivestatesinnerstates */\r\n        const readonlyprop = readonlyproxy(\r\n          Object.fromEntries(\r\n            Object.entries(thisattributess).map(([key, value]) => [\r\n              key,\r\n              readonlyproxy(value)\r\n            ])\r\n          )\r\n        );\r\n\r\n        let possiblyvirtualdom:\r\n          | string\r\n          | Virtualdom<any>\r\n          | ReactiveState<any>\r\n          | (string | Virtualdom<any> | ReactiveState<any>)[]\r\n          | any;\r\n        try {\r\n          possiblyvirtualdom = apply(custfun, undefined, [\r\n            readonlyprop,\r\n            children.flat(1 / 0)\r\n          ]);\r\n          /* custfun.call(\r\n            undefined,\r\n            //propsreactivestatevalue\r\n            // readonlyproxy(thisattributess),\r\n            readonlyprop,\r\n            children */\r\n          // );\r\n        } catch (error) {\r\n          closectx();\r\n          console.error(\"error in component\");\r\n          throw error;\r\n        }\r\n        /* \r\n        if (isArray(possiblyvirtualdom)) {\r\n          possiblyvirtualdom = possiblyvirtualdom\r\n            .flat(Infinity)\r\n            .filter(Boolean);\r\n        } */\r\n        possiblyvirtualdom = toArray(possiblyvirtualdom);\r\n        if (isvalidvdom(possiblyvirtualdom)) {\r\n          const vdomarray /* isArray(possiblyvirtualdom)\r\n                ? possiblyvirtualdom\r\n                : [possiblyvirtualdom]; */ = toArray(\r\n            possiblyvirtualdom\r\n          );\r\n          //\r\n          this[inner_vdom_symbol] = vdomarray.flat(Infinity).filter(Boolean);\r\n          this[mountedsymbol] = getMounted();\r\n          this[unmountedsymbol] = getUnMounted();\r\n          this[innerstatesymbol] = getstates();\r\n          this[innerwatchrecords] = getwatchrecords();\r\n          closectx();\r\n        } else {\r\n          closectx();\r\n          console.error(possiblyvirtualdom);\r\n          console.error(invalid_Virtualdom);\r\n          throw TypeError();\r\n        }\r\n\r\n        //   this[mountedsymbol] = getMounted();\r\n        //   this[unmountedsymbol] = getUnMounted();\r\n      }\r\n      //   prototype!: HTMLElement;\r\n      //   defaultProps?: { [key: string]: any } | undefined;\r\n      //  css?: string | undefined;\r\n      [innerstatesymbol]: Array<ReactiveState<any>>;\r\n      static [componentsymbol] = componentsymbol;\r\n      static css = isstring(css) && css ? css : undefined;\r\n      [readysymbol] = false;\r\n      [mountedsymbol]: Array<Function>;\r\n      [unmountedsymbol]: Array<Function>;\r\n      static defaultProps = isobject(defaultProps)\r\n        ? JSON.parse(JSON.stringify(defaultProps))\r\n        : undefined;\r\n\r\n      [elementsymbol]: Array<Node>;\r\n      [inner_vdom_symbol]: Array<\r\n        Virtualdom<any> | ReactiveState<any> | string | number\r\n      >;\r\n      // | undefined;\r\n      [firstinstalledcallback]() {\r\n        const thencallbackfirst = () => {\r\n          /* css */\r\n          seteletext(this, \"\");\r\n          /* link style sheethead */\r\n          return waitloadallstyle(prefix, document.head);\r\n        };\r\n        const thencallbacksecond = () => {\r\n          //   console.log(\"style load all\");\r\n          //   console.log(\"mount1\");\r\n          mount(this[elementsymbol], this, false);\r\n          this[waittranformcsssymbol] = undefined;\r\n        };\r\n        if (!this[elementsymbol]) {\r\n          const innervdom = this[inner_vdom_symbol];\r\n          if (innervdom) {\r\n            this[elementsymbol] = render(innervdom).flat(Infinity);\r\n            this[inner_vdom_symbol] = [];\r\n            /*,  */\r\n          }\r\n        }\r\n\r\n        const css = get(this.constructor, \"css\");\r\n        const prefix = this.tagName.toLowerCase();\r\n        if (css /*  && componentsstylesheet[prefix] */) {\r\n          const waitcallback = this[waittranformcsssymbol];\r\n          if (waitcallback) {\r\n            waitcallback()\r\n              .then(thencallbackfirst)\r\n              .then(thencallbacksecond);\r\n          } else {\r\n            Promise.resolve(thencallbackfirst).then(thencallbacksecond);\r\n          }\r\n\r\n          /*  children */\r\n\r\n          /* css, */\r\n          /* css@import */\r\n          /*  */\r\n          //   console.log(componentsstylesheet[prefix]);\r\n          // if (componentsstylesheet[prefix]) {\r\n          /* const stylelinkelement = createlinkstylesheet(\r\n              componentsstylesheet[prefix]\r\n            ); */\r\n          /*   stylelinkelement.onload = () => {\r\n              mount(this[elementsymbol], this, false);\r\n            };\r\n            stylelinkelement.onerror = () => {\r\n              mount(this[elementsymbol], this, false);\r\n            }; */\r\n          // insertfirst(this, stylelinkelement);\r\n          // }\r\n          /*  Promise.all(\r\n              [...componentsstylesheet[prefix]].map(styleurl =>\r\n                loadlinkstyle(createlinkstylesheet(styleurl), this)\r\n              )\r\n            )\r\n*/\r\n        } else {\r\n          // console.log(\"mount2\");\r\n          mount(this[elementsymbol], this);\r\n        }\r\n      }\r\n      connectedCallback() {\r\n        setimmediate(() => {\r\n          connectedCallback(this);\r\n          // if (!this[elementsymbol]) {\r\n          //   this[elementsymbol] = render(this[vdomsymbol]).flat(Infinity);\r\n          // }\r\n          //    /*  if (!this[readysymbol]) {\r\n          //       this[readysymbol] = true;\r\n          //       /*  */\r\n          //       //   mount(this[elementsymbol], this, false);\r\n          //     } */\r\n          //mounted callback \r\n          this[mountedsymbol].forEach(f => {\r\n            setimmediate(f);\r\n          });\r\n        });\r\n\r\n        // onmounted(this);\r\n        // super.connectedCallback();\r\n      }\r\n      disconnectedCallback() {\r\n        setimmediate(() => {\r\n          disconnectedCallback(this);\r\n          this[unmountedsymbol].forEach(f => {\r\n            setimmediate(f);\r\n          });\r\n        });\r\n\r\n        // onunmounted(this);\r\n        // super.disconnectedCallback();\r\n      }\r\n      [attributeChangedCallback](\r\n        name: string /* , oldValue: any, newValue: any */\r\n      ) {\r\n        // console.log(this[attributessymbol]);\r\n        // if (!this[attributessymbol]) {\r\n        //   this[attributessymbol] = {};\r\n        // }\r\n        if (this[readysymbol]) {\r\n          {\r\n            const propreactivestate = this[attributessymbol][name];\r\n            /*   const attributes = createeleattragentreadwrite(this) as Record<\r\n              string,\r\n              any\r\n            >; */\r\n            if (propreactivestate) {\r\n              /* getterattribute */\r\n              propreactivestate[dispatchsymbol]();\r\n              //   propreactivestate[\"value\"] = attributes[name];\r\n\r\n              /* ReactiveState */\r\n              /*   set(\r\n            get(this, attributessymbol)[name],\r\n            \"value,\",\r\n            (createeleattragentreadwrite(this) as { [key: string]: any })[\r\n              name\r\n            ] as any */\r\n              //   );\r\n              /*   this[attributessymbol][name].value = createeleattragentreadwrite(\r\n            this\r\n          )[name]; */\r\n              //   this[attributessymbol][name][dispatchsymbol]();\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    cached_create_componet.set(custfun, Component);\r\n    return Component;\r\n  } else {\r\n    console.error(custfun);\r\n    console.error(invalid_Function);\r\n    throw TypeError();\r\n  }\r\n}\r\nexport { createcomponent as createComponent };\r\nexport default (custfun: Custom | Htmlelementconstructor) =>\r\n  autocreateclass(custfun);\r\nexport function autocreateclass(\r\n  custfun: Custom | Htmlelementconstructor\r\n): Htmlelementconstructor {\r\n  if (isclassextendsHTMLElement(custfun)) {\r\n    return custfun;\r\n  } else if (isfunction(custfun)) {\r\n    return createComponent(custfun);\r\n  } else {\r\n    throw TypeError();\r\n  }\r\n}\r\n","import h from \"./create-element\";\r\nexport { h };\r\nimport { Class, Custom } from \"../CustomClass/customclass\";\r\nimport ReactiveState from \"../Reactivity/ReactiveState\";\r\nimport { apply } from \"../UtilTools/reflect\";\r\nimport {\r\n  isarray,\r\n  isfunction,\r\n  isplainobject,\r\n  isstring\r\n} from \"../UtilTools/util\";\r\nimport Virtualdom, {\r\n  createVirtualElement,\r\n  Vdomchildren\r\n} from \"./VirtualElement\";\r\nimport {\r\n  autocreateclass,\r\n  Htmlelementconstructor\r\n} from \"../AttributeClass/createComponent\";\r\ntype styleprop =\r\n  | string\r\n  | object\r\n  | ReactiveState<string>\r\n  | ReactiveState<object>;\r\n\r\ntype classprop =\r\n  | string\r\n  | Set<string>\r\n  | Array<string>\r\n  | ReactiveState<string | Set<string> | Array<string>>;\r\nexport interface ElementAttrs {\r\n  style?: styleprop;\r\n  class?: classprop;\r\n  [key: string]: any;\r\n}\r\n\r\nexport default function<T extends Htmlelementconstructor | string | Custom>(\r\n  type: T,\r\n  propsorchildren?: Vdomchildren,\r\n  ...children: Vdomchildren\r\n): Virtualdom<T>;\r\nexport default function<T extends Vdomchildren>(\r\n  type: \"\",\r\n  propsorchildren?: T,\r\n  ...children: T\r\n): T;\r\nexport default function<T extends Vdomchildren>(\r\n  type: \"\",\r\n  props?: ElementAttrs,\r\n  ...children: T\r\n): T;\r\nexport default function<T extends Htmlelementconstructor | string | Custom>(\r\n  type: T,\r\n  props?: ElementAttrs,\r\n  ...children: Vdomchildren\r\n): Virtualdom<T>;\r\n// \r\n/* \r\nh(type,...children)\r\nh(type,children)\r\n*/\r\n\r\nexport default function(\r\n  type?: Htmlelementconstructor | string | Custom,\r\n  propsorchildren?: Vdomchildren | ElementAttrs,\r\n  ...children: Vdomchildren\r\n) {\r\n  if (isfunction(type)) {\r\n    type = autocreateclass(type);\r\n    // debugger;\r\n  }\r\n\r\n  if (isarray(propsorchildren)) {\r\n    return apply(createElement, undefined, [\r\n      type,\r\n      undefined,\r\n      [...propsorchildren, ...children].flat(1 / 0)\r\n    ]);\r\n    /*   createElement(\r\n      type,\r\n      undefined,\r\n      [...propsorchildren, ...children].flat(1 / 0)\r\n    ); */\r\n  } else {\r\n    return apply(createElement, undefined, [\r\n      type,\r\n      propsorchildren,\r\n      ...children\r\n    ]); // createElement(...arguments);\r\n  }\r\n}\r\nfunction createElement<T extends Vdomchildren>(\r\n  type: \"\",\r\n  props?: ElementAttrs,\r\n  ...children: T\r\n): T;\r\nfunction createElement<T extends Function | string>(\r\n  type: T,\r\n  props?: ElementAttrs,\r\n  ...children: Vdomchildren\r\n): Virtualdom<T>;\r\n\r\n/* function createElement<T extends Vdomchildren>(\r\n  type: \"\",\r\n  props?: ElementAttrs,\r\n  ...children: T\r\n): T; */\r\n\r\nfunction createElement<T extends Function | string | Class>(\r\n  type?: T,\r\n  props: ElementAttrs = {},\r\n  ...children: Vdomchildren\r\n): Virtualdom<T> | Vdomchildren {\r\n  // | Array<Virtualdom | string>\r\n  // if(isarray()){}\r\n  /* add fragment element */\r\n  //   console.log(type, props, children);\r\n  let typenormalized: \"\" | Function | string =\r\n    isstring(type) || isfunction(type) ? type : \"\";\r\n  const propsnormalized = isplainobject(props) ? props : {};\r\n  const childrennormalized: Vdomchildren = children\r\n    .flat(Infinity)\r\n    .map(a => (a === 0 ? \"0\" : a))\r\n    .filter(a => !!a);\r\n  if (\r\n    isstring(typenormalized)\r\n    //   typeof typenormalized === \"string\"\r\n  ) {\r\n    typenormalized = typenormalized.trim().toLowerCase();\r\n  }\r\n\r\n  if (\r\n    //typeof typenormalized === \"string\" &&\r\n\r\n    \"\" === typenormalized\r\n  ) {\r\n    return childrennormalized;\r\n  } else {\r\n    /* propsnormalized = Object.fromEntries(\r\n    Object.entries(propsnormalized).map(([key, value]) => [\r\n      key.trim().toLowerCase(),\r\n      value\r\n    ])\r\n  ); */\r\n\r\n    /* return new Virtualdom(\r\n      typenormalized,\r\n      propsnormalized,\r\n      childrennormalized\r\n    ) as Virtualdom<any>;\r\n*/\r\n    return apply(createVirtualElement, undefined, [\r\n      typenormalized,\r\n      propsnormalized,\r\n      childrennormalized\r\n    ]) as Virtualdom<T>;\r\n\r\n    /*  createVirtualElement(\r\n     \r\n    ); */\r\n  }\r\n}\r\n","// declare interface Array<T> {\r\n//   flat(arg0: number): any[];\r\n// }\r\nimport createeleattr from \"@masx200/dom-element-attribute-agent-proxy\";\r\nimport { isvalidvdom, VaildVDom } from \"../CreateElement/isvalidvdom\";\r\nimport createElement from \"../CreateElement/create-element\";\r\n// import createElement from \"./createelement\";\r\nimport Virtualdom, { Vdomchildren } from \"../CreateElement/VirtualElement\";\r\n// const readysymbol = Symbol(\"ready\");\r\nimport {\r\n  onmounted,\r\n  onunmounted\r\n} from \"../mounted-unmounted/element-onmount-unmount\";\r\nimport mount from \"../MountElement/mount-real-element\";\r\nimport { invalid_Virtualdom } from \"../MountElement/MountElement\";\r\nimport ReactiveState, { isReactiveState } from \"../Reactivity/ReactiveState\";\r\nimport render from \"../RenderVirtual/render-vdom-to-real\";\r\nimport { setelehtml } from \"../UtilTools/dom\";\r\nimport { get } from \"../UtilTools/reflect\";\r\n// import mount from \"./mount\";\r\nimport { isboolean, isundefined } from \"../UtilTools/util\";\r\nimport {\r\n  AttrChange,\r\n  attributeChangedCallback,\r\n  connectedCallback,\r\n  disconnectedCallback,\r\n  firstinstalledcallback\r\n} from \"./attr-change\";\r\nimport { Htmlelementconstructor } from \"./createComponent\";\r\n// import { isvalidvdom } from \"../CreateElement/html\";\r\nimport { componentsymbol } from \"./iscomponent\";\r\nimport { readysymbol } from \"./readysymbol\";\r\n\r\n// import { readysymbol } from \"./createComponent\";\r\nexport const invalid_ReactiveState = \"invalid ReactiveState\";\r\nconst truevdomsymbol = Symbol(\"truevdom\");\r\nconst falsevdomsymbol = Symbol(\"falsevdom\");\r\nconst trueelesymbol = Symbol(\"trueele\");\r\nconst falseelesymbol = Symbol(\"falseele\");\r\nconst handletrue = Symbol(\"handletrue\");\r\nconst handlefalse = Symbol(\"handlefalse\");\r\n\r\nexport default function(\r\n  conditon: ReactiveState<boolean> | boolean,\r\n  iftrue?: VaildVDom,\r\n  iffalse?: VaildVDom\r\n): Virtualdom<Htmlelementconstructor> {\r\n  if (!(isReactiveState(conditon) || isboolean(conditon))) {\r\n    console.error(conditon);\r\n    console.error(invalid_ReactiveState);\r\n    throw TypeError();\r\n  }\r\n  [iftrue, iffalse].forEach(a => {\r\n    if (!(isundefined(a) || isvalidvdom(a))) {\r\n      console.error(a);\r\n      console.error(invalid_Virtualdom);\r\n      throw new TypeError();\r\n    }\r\n  });\r\n  const options = { true: iftrue, false: iffalse };\r\n  const optionstrue = get(options, \"true\");\r\n  const optionsfalse = get(options, \"false\");\r\n  class Condition extends AttrChange {\r\n    // prototype!: HTMLElement;\r\n    // defaultProps?: { [key: string]: any } | undefined;\r\n    // css?: string | undefined;\r\n    static [componentsymbol] = componentsymbol;\r\n    [readysymbol] = false;\r\n    [truevdomsymbol]: Vdomchildren = [optionstrue].flat(1 / 0).filter(Boolean);\r\n    /*isarray(optionstrue)\r\n    ? optionstrue.filter(Boolean)\r\n    : */\r\n\r\n    [falsevdomsymbol]: Vdomchildren = [optionsfalse]\r\n      .flat(1 / 0)\r\n      .filter(Boolean);\r\n    /* isarray(optionsfalse)\r\n    ? optionsfalse.filter(Boolean)\r\n    : */\r\n\r\n    //  /*    constructor() /* propsjson?: object, children?: any[], options: object = {} */ {\r\n    //       super();\r\n    //       // if(){}\r\n\r\n    //       this[truevdomsymbol] =\r\n    //         /*isarray(optionstrue)\r\n    //         ? optionstrue.filter(Boolean)\r\n    //         : */\r\n    //         [optionstrue].flat(1 / 0).filter(Boolean);\r\n    //       this[falsevdomsymbol] =\r\n    //         /* isarray(optionsfalse)\r\n    //         ? optionsfalse.filter(Boolean)\r\n    //         : */\r\n\r\n    //         [optionsfalse].flat(1 / 0).filter(Boolean);\r\n    //       // optionsfalse;\r\n    //     } */\r\n    [falseelesymbol]: Node[];\r\n    [trueelesymbol]: Node[];\r\n    // [truevdomsymbol]: any[];\r\n    // [falsevdomsymbol]: any[];\r\n    //   [readysymbol] = false;\r\n    [handlefalse]() {\r\n      setelehtml(this, \"\");\r\n      if (this[falsevdomsymbol]) {\r\n        if (!this[falseelesymbol]) {\r\n          // } else {\r\n          this[falseelesymbol] = render(this[falsevdomsymbol]);\r\n          // this[falsevdomsymbol].map(e => render(e));\r\n          this[falsevdomsymbol] = [];\r\n        }\r\n      }\r\n      //   mount(this[falseelesymbol], this);\r\n      const elementtomount = this[falseelesymbol];\r\n      mount(elementtomount, this);\r\n      // elementtomount.forEach(e => onmounted(e));\r\n      onmounted(elementtomount);\r\n      if (this[trueelesymbol]) {\r\n        onunmounted(this[trueelesymbol]);\r\n        //   this[trueelesymbol].forEach(e => onunmounted(e));\r\n      }\r\n      //   }\r\n    }\r\n    [handletrue]() {\r\n      setelehtml(this, \"\");\r\n      if (this[truevdomsymbol]) {\r\n        if (!this[trueelesymbol]) {\r\n          this[trueelesymbol] = render(this[truevdomsymbol]);\r\n\r\n          // this[truevdomsymbol].map(e => render(e));\r\n          /*  */\r\n          this[truevdomsymbol] = [];\r\n        }\r\n      }\r\n      //\r\n      //   mount(this[trueelesymbol], this);\r\n      const elementtomount = this[trueelesymbol];\r\n      mount(elementtomount, this);\r\n      onmounted(elementtomount);\r\n      // elementtomount.forEach(e => onmounted(e));\r\n      if (this[falseelesymbol]) {\r\n        onunmounted(this[falseelesymbol]);\r\n        //   this[falseelesymbol].forEach(e => onunmounted(e));\r\n      }\r\n      //   }\r\n    }\r\n    [firstinstalledcallback]() {\r\n      const attrs: { [key: string]: any } = createeleattr(this);\r\n      // console.log(attrs);\r\n      if (true === attrs[\"value\"]) {\r\n        get(this, handletrue).call(this);\r\n      } else if (!attrs[\"value\"]) {\r\n        /* \"@masx200/dom-element-attribute-agent-proxy\"\r\n      false,undefined\r\n      */\r\n        get(this, handlefalse).call(this);\r\n        //\r\n      }\r\n    }\r\n    connectedCallback() {\r\n      connectedCallback(this);\r\n      //   super.connectedCallback();\r\n\r\n      /*   if (!this[readysymbol]) {\r\n        // createApp(this[elementsymbol], this);\r\n        this[readysymbol] = true;\r\n\r\n        const attrs: { [key: string]: any } = createeleattr(this);\r\n        // console.log(attrs);\r\n        if (true === attrs[\"value\"]) {\r\n          get(this, handletrue).call(this);\r\n        }\r\n        if (false === attrs[\"value\"]) {\r\n          get(this, handlefalse).call(this);\r\n          //\r\n        }\r\n      } */\r\n      //   onmounted(this);\r\n      //\r\n    }\r\n    disconnectedCallback() {\r\n      disconnectedCallback(this);\r\n      //   onunmounted(this);\r\n      //   super.connectedCallback();\r\n    }\r\n\r\n    [attributeChangedCallback](\r\n      name: string /* , oldValue: any, newValue: any */\r\n    ) {\r\n      if (this[readysymbol]) {\r\n        // console.log(name, oldValue, newValue);\r\n        if (name === \"value\") {\r\n          const attrs: Record<string, any> = createeleattr(this);\r\n          //   console.log(attrs);\r\n          if (true === attrs[\"value\"]) {\r\n            this[handletrue]();\r\n            //\r\n          } else if (!attrs[\"value\"]) {\r\n            this[handlefalse]();\r\n            //\r\n          }\r\n        }\r\n\r\n        //\r\n      }\r\n    }\r\n  }\r\n  /* vdom.options = { true: iftrue, false: iffalse }; */\r\n  const vdom = createElement(Condition, { value: conditon });\r\n  return vdom;\r\n  /*  */\r\n}\r\n","import { isFunction, isobject, issymbol } from \"src/UtilTools/util\";\r\nimport {\r\n  get,\r\n  has,\r\n  ownKeys,\r\n  getOwnPropertyDescriptor\r\n} from \"src/UtilTools/reflect\";\r\n\r\nexport function getproperyreadproxy<T extends object>(a: T): T {\r\n  const __proto__ = \"__proto__\";\r\n  /*  */\r\n  //   const target = isobject(a) ? a : getPrototypeOf(a);\r\n  const target = a;\r\n  return new Proxy(target, {\r\n    getOwnPropertyDescriptor(target, key) {\r\n      //symbolundefined\r\n      if (issymbol(key)) {\r\n        return;\r\n      } else {\r\n        return getOwnPropertyDescriptor(target, key);\r\n      }\r\n    },\r\n    ownKeys(target) {\r\n      let myvalue = get(target, \"value\");\r\n      const myvalueobj = isobject(myvalue) ? myvalue : myvalue[__proto__];\r\n      //   return ownKeys(target);\r\n      return Array.from(new Set([...ownKeys(target), ...ownKeys(myvalueobj)]));\r\n\r\n      /* Array.from(\r\n          new Set([...ownKeys(target), ...ownKeys(get(target, \"value\"))])\r\n        ); */\r\n    },\r\n    has(target, key) {\r\n      const myvalue = get(target, \"value\");\r\n      const myvalueobj = isobject(myvalue) ? myvalue : myvalue[__proto__];\r\n      return has(target, key) || has(myvalueobj, key);\r\n    },\r\n    get(target, key) {\r\n      if (has(target, key)) {\r\n        return get(target, key);\r\n      } else {\r\n        const myvalue = get(target, \"value\");\r\n        const myvalueobj = /*  isobject(myvalue) ? myvalue :  */ Object(\r\n          myvalue\r\n        );\r\n\r\n        if (has(myvalueobj, key)) {\r\n          /* string,number,this */\r\n          const property = get(myvalueobj, key);\r\n          return isFunction(property) ? property.bind(myvalueobj) : property;\r\n        }\r\n      }\r\n      //   return get(target, key);\r\n      /*  const myvalue = get(target, \"value\");\r\n  \r\n        if (has(target, key)) {\r\n          return get(target, key);\r\n        } else if (has(myvalue, key)) {\r\n          return get(myvalue, key);\r\n        } */\r\n    }\r\n  });\r\n}\r\n","/* interface CallbackReactiveState<\r\n \r\n> {\r\n  (...args: T[]): any;\r\n} */\r\nimport { invalid_ReactiveState } from \"../AttributeClass/conditon\";\r\nimport { invalid_Function } from \"../mounted-unmounted/Component-context\";\r\nimport {\r\n  apply,\r\n  //   getPrototypeOf\r\n  //   set\r\n  defineProperty\r\n} from \"../UtilTools/reflect\";\r\nimport { toArray } from \"../UtilTools/toArray\";\r\nimport {\r\n  isArray,\r\n  isFunction,\r\n  isfunction,\r\n  isobject,\r\n  isprimitive\r\n} from \"../UtilTools/util\";\r\nimport computed from \"./computed\";\r\nimport { getproperyreadproxy } from \"./getproperyread-proxy\";\r\nimport ReactiveState, {\r\n  dispatchsymbol,\r\n  isReactiveState\r\n} from \"./ReactiveState\";\r\nimport { CallbackReactiveState, UnwrapedState, watch } from \"./watch\";\r\n\r\n//const { defineProperty } = Object;\r\nexport default function<T extends UnwrapedState>(\r\n  state: ReactiveState<T> | Array<ReactiveState<T>>,\r\n  callback: CallbackReactiveState,\r\n  setter?: SetterFun\r\n): ReactiveState<any> {\r\n  if (\r\n    !(\r\n      (isArray(state) || isReactiveState(state)) &&\r\n      // state instanceof ReactiveState\r\n      isFunction(callback)\r\n    )\r\n  ) {\r\n    console.error(state);\r\n    console.error(callback);\r\n    console.error(invalid_ReactiveState + invalid_Function);\r\n\r\n    throw TypeError();\r\n  }\r\n  const state1array: ReactiveState<T>[] =\r\n    //   if (isReactiveState(state)) {\r\n    toArray(state);\r\n  if (!state1array.length) {\r\n    console.error(\"Empty array not allowed\");\r\n    throw new Error();\r\n  }\r\n  /*  state1 = Arraycomputed(\r\n      toArray(state),\r\n\r\n      callback\r\n    ); */\r\n  //   } else if (isArray(state)) {\r\n  //     state1array = state;\r\n  //     // state1 = Arraycomputed(state, callback);\r\n  //   } else {\r\n  //     state1array = Array.from(state);\r\n  //   }\r\n  const state1 = Arraycomputed(state1array, callback, setter);\r\n  //   usestste(state1);\r\n  return state1;\r\n}\r\ntype SetterFun = (v: any) => void;\r\nfunction Arraycomputed<T extends UnwrapedState>(\r\n  state: ReactiveState<T>[],\r\n  callback: CallbackReactiveState,\r\n  setter?: SetterFun\r\n): ReactiveState<any> {\r\n  const reactivestate = new ReactiveState();\r\n  const getter = () => {\r\n    //\r\n    const value = apply(callback, undefined, state.map(st => st.valueOf()));\r\n    // callback(...state.map(st => st.valueOf()));\r\n    const possiblevalue = isReactiveState(value) ? value.valueOf() : value;\r\n\r\n    if (isobject(possiblevalue) || isprimitive(possiblevalue)) {\r\n      return possiblevalue;\r\n    } else {\r\n      console.error(possiblevalue);\r\n      throw TypeError();\r\n    }\r\n  };\r\n\r\n  let memorized = getter();\r\n\r\n  // if (isFunction(memorized)) {\r\n  //   console.error(memorized);\r\n  //   throw new TypeError();\r\n  // }\r\n  defineProperty(reactivestate, \"value\", {\r\n    set: isfunction(setter) ? setter : undefined,\r\n    get: getter,\r\n    configurable: true\r\n  });\r\n\r\n  state.forEach(state => {\r\n    watch(state, () => {\r\n      let newvalue = getter();\r\n      if (newvalue !== memorized) {\r\n        reactivestate[dispatchsymbol]();\r\n\r\n        memorized = newvalue;\r\n      }\r\n      //\r\n    });\r\n  });\r\n\r\n  return getproperyreadproxy(reactivestate);\r\n}\r\n\r\n// export function getproperyreadproxy<T extends object>(a: T): T;\r\n\r\nexport { computed };\r\n","const Setprototype = Set.prototype;\r\nconst Mapprototype = Map.prototype;\r\nfunction ispromise(a: any): a is Promise<any> {\r\n  return a instanceof Promise;\r\n}\r\nfunction isdate(a: any): a is Date {\r\n  return a instanceof Date;\r\n}\r\nfunction isregexp(a: any): a is RegExp {\r\n  return a instanceof RegExp;\r\n}\r\nfunction isMap(a: any): a is Map<any, any> {\r\n  return a instanceof Map;\r\n}\r\nfunction isSet(a: any): a is Set<any> {\r\n  return a instanceof Set;\r\n}\r\nfunction isArray(a: any): a is any[] {\r\n  return Array.isArray(a);\r\n}\r\n\"use strict\";\r\nconst Reflect = window.Reflect;\r\nconst {\r\n  ownKeys,\r\n  deleteProperty,\r\n  apply,\r\n  construct,\r\n  defineProperty,\r\n  get,\r\n  getOwnPropertyDescriptor,\r\n  getPrototypeOf,\r\n  has,\r\n\r\n  set,\r\n  setPrototypeOf\r\n} = Reflect;\r\nfunction isobject(a: any): a is Exclude<object, Function> {\r\n  return typeof a === \"object\" && a !== null;\r\n}\r\nfunction isfunction(a: any): a is Function {\r\n  return typeof a === \"function\";\r\n}\r\n/* API\r\nfunction deepobserveagent(target: Object | Function, callback: callback): any;\r\n\r\ninterface callback {\r\n  (\r\n    target: Object | Function,\r\n    patharray: Array<any>,\r\n    newvalue: any,\r\n    oldvalue: any\r\n  ): void;\r\n}\r\n\r\n*/\r\ninterface Callback<\r\n  T extends object | Function | any[] | Set<any> | Map<any, any>\r\n> {\r\n  (target: T, patharray: Array<string>, newvalue: any, oldvalue: any): void;\r\n}\r\nfunction deepobserveaddpath<\r\n  T extends object | Function | any[] | Set<any> | Map<any, any>\r\n>(\r\n  target: T,\r\n  callback: Callback<T>,\r\n  patharray: Array<string> = [],\r\n  ancestor = target\r\n): T {\r\n  if (\r\n    !isfunction(callback)\r\n\r\n    //typeof callback !== \"function\"\r\n  ) {\r\n    console.error(callback);\r\n    console.error(\"observe callback invalid !\");\r\n    throw Error();\r\n\r\n    //throw Error(\"callback not defined!\");\r\n    // setTimeout(() => {\r\n    // }, 0);\r\n\r\n    // callback(t, k, v);\r\n  }\r\n\r\n  /* promise,date,regexp,, */\r\n\r\n  if (ispromise(target) || isregexp(target) || isdate(target)) {\r\n    return target;\r\n  }\r\n  if (isfunction(target) || isobject(target)) {\r\n    //\r\n\r\n    let fakeobj: T;\r\n    if (isSet(target)) {\r\n      fakeobj = new Set([...target]) as any;\r\n      set(fakeobj, \"add\", (value: any) => {\r\n        Setprototype.add.call(target, value);\r\n        callback(ancestor, patharray, undefined, undefined);\r\n\r\n        return Setprototype.add.call(fakeobj, value);\r\n      });\r\n      set(fakeobj, \"delete\", (value: any) => {\r\n        Setprototype.delete.call(target, value);\r\n        callback(ancestor, patharray, undefined, undefined);\r\n        return Setprototype.delete.call(fakeobj, value);\r\n      });\r\n      set(fakeobj, \"clear\", () => {\r\n        Setprototype.clear.call(target);\r\n        callback(ancestor, patharray, undefined, undefined);\r\n        return Setprototype.clear.call(fakeobj);\r\n      });\r\n      //   fakeobj.add = () => {};\r\n    } else if (isMap(target)) {\r\n      fakeobj = new Map([...target]) as any;\r\n      set(fakeobj, \"clear\", () => {\r\n        Mapprototype.clear.call(target);\r\n        callback(ancestor, patharray, undefined, undefined);\r\n        return Mapprototype.clear.call(fakeobj);\r\n      });\r\n      set(fakeobj, \"set\", (key: any, value: any) => {\r\n        Mapprototype.set.call(target, key, value);\r\n        callback(ancestor, patharray, undefined, undefined);\r\n        return Mapprototype.set.call(fakeobj, key, value);\r\n      });\r\n      set(fakeobj, \"delete\", (value: any) => {\r\n        Mapprototype.delete.call(target, value);\r\n        callback(ancestor, patharray, undefined, undefined);\r\n        return Mapprototype.delete.call(fakeobj, value);\r\n      });\r\n    } else if (isArray(target)) {\r\n      fakeobj = [] as T;\r\n      /* VM462:1 Uncaught TypeError: 'getOwnPropertyDescriptor' on proxy: trap returned descriptor for property 'length' that is incompatible with the existing property in the proxy target\r\n    at Function.getOwnPropertyDescriptors (<anonymous>)\r\n    at <anonymous>:1:8 */\r\n    } else if (isfunction(target)) {\r\n      fakeobj = (() => {}) as T;\r\n    } else {\r\n      fakeobj = {} as T;\r\n    }\r\n    if (!isSet(target) && !isMap(target)) {\r\n      setPrototypeOf(fakeobj, null);\r\n    }\r\n    // return (fakeobj => {\r\n    return new Proxy(fakeobj, {\r\n      defineProperty(t, p, a) {\r\n        callback(\r\n          ancestor,\r\n          [...patharray, String(p)],\r\n          //valuegetter\r\n          has(a, \"value\") ? a.value : isfunction(a.get) ? a.get() : undefined,\r\n          get(target, p)\r\n        );\r\n        return defineProperty(target, p, a);\r\n      },\r\n      deleteProperty(t, p) {\r\n        callback(\r\n          ancestor,\r\n          [...patharray, String(p)],\r\n          undefined,\r\n          get(target, p)\r\n\r\n          //target[p]\r\n        );\r\n        return deleteProperty(target, p);\r\n      },\r\n      ownKeys(/*  t*/) {\r\n        return ownKeys(target);\r\n      },\r\n      has(t, p) {\r\n        return has(target, p);\r\n      },\r\n      getPrototypeOf(/* t */) {\r\n        return getPrototypeOf(target);\r\n      },\r\n      setPrototypeOf(t, v) {\r\n        return setPrototypeOf(target, v);\r\n      },\r\n      construct(t, argumentslist) {\r\n        if (\r\n          isfunction(target)\r\n          //typeof target === \"function\"\r\n        ) {\r\n          return construct(target, argumentslist);\r\n        }\r\n      },\r\n      apply(t, thisarg, argarray) {\r\n        /* index.ts:153 Uncaught TypeError: Method Set.prototype.values called on incompatible receiver [object Object] */\r\n        if (isfunction(target)) {\r\n          /*  if (isSet(thisarg) || isMap(thisarg)) {\r\n            const result = apply(target, thisarg, argarray);\r\n            if (\r\n              target === Setprototype.delete ||\r\n              target === Setprototype.add ||\r\n              target === Setprototype.clear ||\r\n              (target === Mapprototype.set ||\r\n                target === Mapprototype.clear ||\r\n                target === Mapprototype.delete)\r\n            ) {\r\n              callback(ancestor, patharray, undefined, undefined);\r\n            }\r\n\r\n            return result;\r\n          } else { */\r\n          return apply(target, thisarg, argarray);\r\n        }\r\n        //   debugger;\r\n        // }\r\n      },\r\n      /* TypeError: 'get' on proxy: property 'prototype' is a read-only and non-configurable data property on the proxy target but the proxy did not return its actual value (expected '[object Symbol]' but got '[object Object]') */\r\n      getOwnPropertyDescriptor(t, k) {\r\n        var descripter = getOwnPropertyDescriptor(target, k);\r\n        if (isArray(target) && k === \"length\") {\r\n          return descripter;\r\n        } else {\r\n          if (descripter) {\r\n            descripter.configurable = true;\r\n            return descripter;\r\n          } else {\r\n            return;\r\n          }\r\n        }\r\n      },\r\n      //   return {\r\n      //     ...getOwnPropertyDescriptor(t, k),\r\n      //     ...{ configurable: true, writable: true }\r\n      //   };\r\n      // },\r\n\r\n      /* \r\n          https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/handler/getOwnPropertyDescriptor\r\n           TypeError\r\n  \r\n  getOwnPropertyDescriptor  object  undefined\r\n  \r\n  \r\n  \r\n  \r\n  Object.getOwnPropertyDescriptortarget Object.defineProperty  */\r\n\r\n      /* https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/handler/set\r\n  \r\n  proxyTypeError:\r\n  \r\n  \r\n  setundefined\r\n  setfalse TypeError \r\n  */\r\n      set(t, k, v) {\r\n        // console.log(\"set\", [t, k, v]);\r\n        if (\r\n          isfunction(callback)\r\n          //typeof callback === \"function\"\r\n        ) {\r\n          //throw Error(\"callback not defined!\");\r\n          callback(\r\n            ancestor,\r\n            [...patharray, String(k)] /* patharray.concat(k) */,\r\n            v,\r\n            get(target, k)\r\n            // target[k]\r\n          );\r\n        }\r\n\r\n        return set(target, k, v);\r\n        // return true;\r\n        /* Uncaught TypeError: 'set' on proxy: trap returned truish for property 'prototype' which exists in the proxy target as a non-configurable and non-writable data property with a different value */\r\n      },\r\n\r\n      /* \r\n          https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/handler/get\r\n          proxy TypeError:\r\n  \r\n  \r\n  getundefinedundefined */\r\n      get(t, k) {\r\n        // console.log(\"get\", [t, k]);\r\n        var value = get(target, k);\r\n\r\n        if (isfunction(value) && (isSet(target) || isMap(target))) {\r\n          return get(fakeobj, k).bind(fakeobj);\r\n        }\r\n        if (isfunction(value) || isobject(value)) {\r\n          // var descripter = getOwnPropertyDescriptor(t, k);\r\n          // /* descripter  undefined */\r\n          // if (\r\n          //   descripter &&\r\n          //   descripter.writable === false &&\r\n          //   descripter.configurable === false\r\n          // ) {\r\n          //   console.warn(\r\n          //     `!\\n\\n\\n`,\r\n          //     [t, k, value]\r\n          //   );\r\n          //   return value;\r\n          // } else {\r\n          return deepobserveaddpath(\r\n            value,\r\n            callback,\r\n            [...patharray, String(k)],\r\n            //  patharray.concat(k),\r\n            target\r\n          );\r\n          // }\r\n        } else {\r\n          return value;\r\n        }\r\n      }\r\n    });\r\n    // })(fakeobj);\r\n  } else {\r\n    return target;\r\n  }\r\n}\r\nexport default function observedeepagent<\r\n  T extends object | Function | any[] | Set<any> | Map<any, any>\r\n>(target: T, callback: Callback<T>): T {\r\n  if (\r\n    !isfunction(callback)\r\n    //typeof callback !== \"function\"\r\n  ) {\r\n    console.error(callback);\r\n    console.error(\"observe callback  invalid function !\");\r\n    throw Error();\r\n\r\n    //throw Error(\"callback not defined!\");\r\n    // setTimeout(() => {\r\n    // }, 0);\r\n\r\n    // callback(t, k, v);\r\n  }\r\n  if (\r\n    !isfunction(Proxy)\r\n    //typeof Proxy !== \"function\"\r\n  ) {\r\n    console.error(\"Proxy unsupported!\");\r\n    throw Error();\r\n\r\n    //setTimeout(() => {\r\n\r\n    // }, 0);\r\n    // return target;\r\n  }\r\n\r\n  // else\r\n  if (isfunction(target) || isobject(target)) {\r\n    return deepobserveaddpath(target, callback /*, [], target*/);\r\n  } else {\r\n    return target;\r\n  }\r\n}\r\n","// import deepobserve from \"deep-observe-agent-proxy\";\r\nimport { set } from \"../UtilTools/reflect\";\r\nimport { isfunction, isobject, isprimitive } from \"../UtilTools/util\";\r\nimport { getproperyreadproxy } from \"./getproperyread-proxy\";\r\n// import { getproperyreadproxy } from \"./computed\";\r\nimport handleobjectstate from \"./handle-object-state\";\r\nimport ReactiveState, {\r\n  dispatchsymbol,\r\n  invalid_primitive_or_object_state,\r\n  // textnodesymbol,\r\n  isReactiveState\r\n} from \"./ReactiveState\";\r\nimport { UnwrapedState } from \"./watch\";\r\nexport const set_prototype = Set.prototype;\r\n\r\nexport default function<T extends UnwrapedState>(\r\n  init: ReactiveState<T>\r\n): ReactiveState<T>;\r\nexport default function<T extends UnwrapedState>(\r\n  init: Exclude<T, ReactiveState<any>> | undefined\r\n): ReactiveState<T>;\r\nexport default function<T extends UnwrapedState>(\r\n  init: Exclude<T, ReactiveState<any>> | ReactiveState<T> | undefined\r\n): ReactiveState<T> {\r\n  /*  ReactiveState*/\r\n  const state: ReactiveState<T> = createstate(init as any) as ReactiveState<T>;\r\n  //   usestste(state);\r\n  return state;\r\n}\r\n\r\nfunction createstate<T extends UnwrapedState>(\r\n  init: ReactiveState<T>\r\n): ReactiveState<T>;\r\nfunction createstate<T extends UnwrapedState>(\r\n  init: Exclude<T, ReactiveState<any>> | undefined\r\n): ReactiveState<T>;\r\n\r\nfunction createstate<T extends UnwrapedState>(\r\n  init: Exclude<T, ReactiveState<any>> | ReactiveState<T> | undefined\r\n) {\r\n  /*   if (!(isprimitive(init) || isobject(init) || isReactiveState(init))) {\r\n    console.error(init);\r\n    console.error(invalid_primitive_or_object_state);\r\n    throw TypeError();\r\n  } */\r\n  // /*   const inittype = isfunction(init)\r\n  //     ? \"function\"\r\n  //     : isprimitive(init)\r\n  //     ? \"primitive\"\r\n  //     : /* isobject(init)\r\n  //     ? \"object\" */\r\n  //       /* : */ void 0; */\r\n  if (isprimitive(init) || isfunction(init)) {\r\n    return getproperyreadproxy(\r\n      new Proxy(new ReactiveState(init), {\r\n        defineProperty() {\r\n          return false;\r\n        },\r\n        deleteProperty() {\r\n          return false;\r\n        },\r\n        set(target, key, value) {\r\n          /*  if (key === textnodesymbol) {\r\n          return set(target, key, value);\r\n        } */\r\n\r\n          /* , */\r\n          if (\r\n            key === \"value\" &&\r\n            ((isprimitive(value) && isprimitive(init)) ||\r\n              (isfunction(value) && isfunction(init)))\r\n          ) {\r\n            if (target[key] !== value) {\r\n              /*  */\r\n              set(target, key, value);\r\n              target[dispatchsymbol]();\r\n            }\r\n            return true;\r\n          } else {\r\n            console.error(value);\r\n            console.error(init);\r\n            console.error(invalid_primitive_or_object_state);\r\n            throw TypeError();\r\n            // return false;\r\n          }\r\n        },\r\n        setPrototypeOf() {\r\n          return false;\r\n        }\r\n      })\r\n    );\r\n  } else if (\r\n    isReactiveState(init)\r\n    // init instanceof ReactiveState\r\n  ) {\r\n    // init ReactiveState ReactiveState\r\n    return createstate(init.valueOf() as any);\r\n  } else if (isobject(init)) {\r\n    // ReactiveState ReactiveState\r\n    //ReactiveState1=createstate( {aaaaa:ReactiveState2})\r\n    //\r\n    // else {\r\n    //   console.error(init);\r\n    //console.error(invalid_primitive_or_object_state)\r\n    //  throw TypeError();\r\n    //throw TypeError(\"invalid State\");\r\n    // }\r\n    return handleobjectstate(init);\r\n  } else {\r\n    throw Error();\r\n  }\r\n}\r\n\r\n// /*\r\n// let initobj=init\r\n// const containReactiveState=(isplainobject(init))&&Object.values(init).map(a=>isReactiveState(a)).includes(true)\r\n// const state_entries=Object.entries(init).filter(([key,a])=>isReactiveState(a))\r\n\r\n// if(\r\n// containReactiveState\r\n// ){\r\n\r\n// initobj={...init}\r\n\r\n// state_entries\r\n// .forEach(\r\n// ([key,state])=>{\r\n\r\n// defineProperty(initobj,key,{\r\n// enumerable:true,\r\n// get(){\r\n\r\n// return state.valueOf()\r\n\r\n// },\r\n// configurable: true\r\n\r\n// })\r\n\r\n// })\r\n\r\n// }\r\n// let reactive\r\n// =new ReactiveState(\r\n\r\n// initobj\r\n\r\n// )\r\n\r\n// if(containReactiveState){\r\n// state_entries.forEach(\r\n// ([key,state])=>{\r\n\r\n// watch(state,()=>{\r\n\r\n// reactive[dispatchsymbol](String(key));\r\n\r\n// })\r\n// }\r\n// )\r\n// }\r\n\r\n//     return new Proxy(\r\n// reactive\r\n\r\n// , {\r\n//     ownKeys(target) {\r\n//     return Array.from(\r\n//       new Set([...ownKeys(target), ...ownKeys(get(target, \"value\"))])\r\n//     );\r\n//   }\r\n//   ,\r\n//   setPrototypeOf() {\r\n//     return false;\r\n//   },\r\n//       defineProperty() {\r\n//         return false;\r\n//       },\r\n//       getOwnPropertyDescriptor(target, key) {\r\n//         const myvalue = get(target, \"value\");\r\n\r\n//         const descripter =\r\n//           getOwnPropertyDescriptor(target, key) ||\r\n//           getOwnPropertyDescriptor(myvalue, key);\r\n//         if (descripter) {\r\n//           descripter.configurable = true;\r\n//         }\r\n\r\n//         return descripter;\r\n//       },\r\n//       deleteProperty(target, key) {\r\n//         const myvalue = get(target, \"value\");\r\n//         if (has(myvalue, key)) {\r\n//           deleteProperty(myvalue, key);\r\n//           target[dispatchsymbol](String(key));\r\n//           return true;\r\n//         } else {\r\n//           return true;\r\n//         }\r\n//       },\r\n//       has(target, key) {\r\n//         const myvalue = get(target, \"value\");\r\n//         return has(target, key) || has(myvalue, key);\r\n//       },\r\n//       get(target, key) {\r\n//         const value = get(target, \"value\");\r\n\r\n//         if (\r\n//           key === \"value\" &&\r\n//           (isarray(value)  || isplainobject(value))\r\n//         ) {\r\n//           return deepobserve(get(target, key), (_target_, patharray) => {\r\n//             target[dispatchsymbol](patharray[0]);\r\n//           });\r\n//         } else if (has(target, key)) {\r\n//           return get(target, key);\r\n//         } else if (has(value, key)) {\r\n//           if (isSet(value) ) {\r\n//             const myvalue = value;\r\n//             if (key === \"add\") {\r\n//               return (add: any) => {\r\n//                 if (!set_prototype.has.call(myvalue, add)) {\r\n//                   const returnvalue = set_prototype[key].call(myvalue, add);\r\n//                   target[dispatchsymbol]();\r\n//                   return returnvalue;\r\n//                 }\r\n//               };\r\n//             } else if (key === \"delete\") {\r\n//               return (dele: any) => {\r\n//                 if (\r\n// set_prototype.has.call(myvalue, dele)) {\r\n//                   const returnvalue = set_prototype[key].call(myvalue, dele);\r\n//                   target[dispatchsymbol]();\r\n//                   return returnvalue;\r\n//                 }\r\n//               }\r\n// else if (key === \"clear\") {\r\n//               return () => {\r\n//                 if (value.length) {\r\n//                   const returnvalue = set_prototype[key].call(myvalue);\r\n//                   target[dispatchsymbol]();\r\n//                   return returnvalue;\r\n//                 }\r\n//               }\r\n// else {\r\n\r\n// return  get(value, key)\r\n// }\r\n\r\n//             }\r\n//           } else {\r\n// //arrayplainobject\r\n// if(\r\n// (isarray(value)  || isplainobject(value))\r\n// ){\r\n// return deepobserve(get(value, key), () => {\r\n//               target[dispatchsymbol](String(key));\r\n//             });\r\n// }\r\n// else{\r\n// return get(value, key)\r\n// }\r\n\r\n//           }\r\n\r\n//           /*  */\r\n//         }\r\n//     }},\r\n\r\n//     set(target, key, value)\r\n//      {\r\n\r\n// if(isReactiveState(value)){\r\n// // isReactiveState\r\n// value=value.valueOf()\r\n\r\n// }\r\n//       /*   if (key === textnodesymbol) {\r\n//         return set(target, key, value);\r\n//       } */\r\n//       const myvalue = get(target, \"value\");\r\n//       if (key === \"value\" && isobject(value)) {\r\n//         // if (target[key] !== value) {\r\n//         set(target, key, value);\r\n//         target[dispatchsymbol]();\r\n\r\n//         // }\r\n//         return true;\r\n//       } else if (!has(target, key)) {\r\n//         set(myvalue, key, value);\r\n//         target[dispatchsymbol](String(key));\r\n\r\n//         //\r\n//       } else if (key === \"length\") {\r\n//         set(myvalue, key, value);\r\n//         target[dispatchsymbol](key);\r\n//       } else {\r\n//         return false;\r\n//       }\r\n//       return true;\r\n\r\n//     }\r\n\r\n// }) */\r\n","import deepobserve from \"@masx200/deep-observe-agent-proxy\";\r\nimport { set_prototype } from \"./create-state\";\r\nimport ReactiveState, {\r\n  dispatchsymbol,\r\n  invalid_primitive_or_object_state,\r\n  isReactiveState\r\n} from \"./ReactiveState\";\r\nimport {\r\n  defineProperty,\r\n  deleteProperty,\r\n  get,\r\n  getOwnPropertyDescriptor,\r\n  has,\r\n  ownKeys,\r\n  set\r\n} from \"../UtilTools/reflect\";\r\nimport {\r\n  isArray,\r\n  isarray,\r\n  isobject,\r\n  isplainobject,\r\n  isSet,\r\n  issymbol,\r\n  isfunction\r\n} from \"../UtilTools/util\";\r\nimport { watch } from \"./watch\";\r\n\r\nexport default function(init: object): ReactiveState<object> {\r\n  const reactive: ReactiveState<object> = new ReactiveState(init);\r\n\r\n  let initobj = init;\r\n  const containReactiveState =\r\n    isplainobject(init) && Object.values(init).some(a => isReactiveState(a));\r\n  const state_entries = Object.entries(init).filter(e => {\r\n    const a = e[1];\r\n    return isReactiveState(a);\r\n  });\r\n  if (containReactiveState) {\r\n    initobj = Object.assign({}, init);\r\n    // initobj = { ...init };\r\n    state_entries.forEach(([key, state]) => {\r\n      defineProperty(initobj, key, {\r\n        enumerable: true,\r\n        get() {\r\n          return state.valueOf();\r\n        },\r\n        set: nvalue => {\r\n          state.value = nvalue;\r\n        },\r\n        configurable: true\r\n      });\r\n    });\r\n  }\r\n  //   const inittype = isfunction(init)\r\n  //   ? \"function\"\r\n  //   : isprimitive(init)\r\n  //   ? \"primitive\"\r\n  //   : /* isobject(init)\r\n  //   ? \"object\" */\r\n  //     /* : */ void 0;\r\n  if (containReactiveState) {\r\n    state_entries.forEach(([key, state]) => {\r\n      watch(state, () => {\r\n        reactive[dispatchsymbol](String(key));\r\n      });\r\n    });\r\n    // console.log(reactive);\r\n  }\r\n  reactive.value = initobj;\r\n\r\n  const objproxyhandler: ProxyHandler<object> = {};\r\n  objproxyhandler.ownKeys = target => {\r\n    return Array.from(\r\n      new Set([...ownKeys(target), ...ownKeys(get(target, \"value\"))])\r\n    );\r\n  };\r\n  objproxyhandler.setPrototypeOf = () => {\r\n    return false;\r\n  };\r\n  objproxyhandler.defineProperty = () => {\r\n    return false;\r\n  };\r\n  objproxyhandler.getOwnPropertyDescriptor = (\r\n    target: ReactiveState<object>,\r\n    key\r\n  ) => {\r\n    //symbolundefined\r\n    if (issymbol(key)) {\r\n      return;\r\n    }\r\n    const myvalue = get(target, \"value\");\r\n\r\n    const descripter =\r\n      getOwnPropertyDescriptor(target, key) ||\r\n      getOwnPropertyDescriptor(myvalue, key);\r\n    if (descripter) {\r\n      descripter.configurable = true;\r\n    }\r\n\r\n    return descripter;\r\n  };\r\n  objproxyhandler.deleteProperty = (target: ReactiveState<object>, key) => {\r\n    const myvalue = get(target, \"value\");\r\n    if (has(myvalue, key)) {\r\n      deleteProperty(myvalue, key);\r\n      target[dispatchsymbol](String(key));\r\n      return true;\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n  objproxyhandler.has = (target: ReactiveState<object>, key) => {\r\n    const myvalue = get(target, \"value\");\r\n    return has(target, key) || has(myvalue, key);\r\n  };\r\n  objproxyhandler.get = (target: ReactiveState<object>, key) => {\r\n    const value = get(target, \"value\");\r\n    const deepflage = isarray(value) || isplainobject(value);\r\n    if (key === \"value\" && deepflage) {\r\n      return deepobserve(get(target, key), (_target_, patharray) => {\r\n        target[dispatchsymbol](patharray[0]);\r\n      });\r\n    } else if (has(target, key)) {\r\n      return get(target, key);\r\n    } else if (has(value, key)) {\r\n      const resultvalue = get(value, key);\r\n      if (isSet(value)) {\r\n        if (key === \"add\" || key === \"clear\" || key === \"delete\") {\r\n          switch (key) {\r\n            case \"add\": {\r\n              return ((add: any) => {\r\n                if (!set_prototype.has.call(value, add)) {\r\n                  const returnvalue = set_prototype[key].call(value, add);\r\n                  target[dispatchsymbol]();\r\n                  return returnvalue;\r\n                }\r\n                return;\r\n              }).bind(value);\r\n            }\r\n            // break;\r\n            case \"delete\": {\r\n              return ((dele: any) => {\r\n                if (set_prototype.has.call(value, dele)) {\r\n                  const returnvalue = set_prototype[key].call(value, dele);\r\n                  target[dispatchsymbol]();\r\n                  return returnvalue;\r\n                }\r\n                return;\r\n              }).bind(value);\r\n            }\r\n            // break;\r\n            case \"clear\": {\r\n              return (() => {\r\n                if (value.size) {\r\n                  const returnvalue = set_prototype[key].call(value);\r\n                  target[dispatchsymbol]();\r\n                  return returnvalue;\r\n                }\r\n                return;\r\n              }).bind(value);\r\n            }\r\n            // break;\r\n          }\r\n        } else {\r\n          /* VM1933:1 Uncaught TypeError: Method Set.prototype.values called on incompatible receiver [object Object] */\r\n          return isfunction(resultvalue)\r\n            ? resultvalue.bind(value)\r\n            : resultvalue;\r\n        }\r\n      } else if (\r\n        deepflage &&\r\n        (isarray(resultvalue) || isplainobject(resultvalue))\r\n      ) {\r\n        return deepobserve(resultvalue, () => {\r\n          target[dispatchsymbol](String(key));\r\n        });\r\n      } else {\r\n        return resultvalue;\r\n      }\r\n    }\r\n  };\r\n  objproxyhandler.set = (target: ReactiveState<object>, key, value) => {\r\n    if (isReactiveState(value)) {\r\n      // isReactiveState\r\n      value = value.valueOf();\r\n    }\r\n    const myvalue = get(target, \"value\");\r\n    /* , */\r\n    if (\r\n      key === \"value\" &&\r\n      isobject(value) &&\r\n      ((isArray(init) && isarray(value)) || (!isArray(init) && !isarray(value)))\r\n    ) {\r\n      if (target[key] !== value) {\r\n        set(target, key, value);\r\n        target[dispatchsymbol]();\r\n      }\r\n      return true;\r\n    } else if (!has(target, key)) {\r\n      if (myvalue[key] !== value) {\r\n        set(myvalue, key, value);\r\n        target[dispatchsymbol](String(key));\r\n      }\r\n      return true;\r\n      //\r\n    } else {\r\n      console.error(value);\r\n      console.error(init);\r\n      console.error(invalid_primitive_or_object_state);\r\n      throw TypeError();\r\n      //   return false;\r\n    }\r\n    // return true;\r\n  };\r\n  return new Proxy(\r\n    reactive,\r\n\r\n    objproxyhandler\r\n  ) as ReactiveState<object>;\r\n}\r\n","import createeleattr from \"@masx200/dom-element-attribute-agent-proxy\";\r\nimport { asserttype } from \"src/asserttype\";\r\nimport { setimmediate } from \"src/UtilTools/setimmediate\";\r\nimport createElement from \"../CreateElement/create-element\";\r\nimport Virtualdom, { isVirtualdom } from \"../CreateElement/VirtualElement\";\r\nimport mount from \"../MountElement/mount-real-element\";\r\nimport computed from \"../Reactivity/computed\";\r\nimport createstate from \"../Reactivity/create-state\";\r\nimport ReactiveState, { isReactiveState } from \"../Reactivity/ReactiveState\";\r\nimport render from \"../RenderVirtual/render-vdom-to-real\";\r\nimport { appendchild, getchildren, removeElement } from \"../UtilTools/dom\";\r\nimport { get, set } from \"../UtilTools/reflect\";\r\nimport { isArray, isfunction, isSet } from \"../UtilTools/util\";\r\nimport {\r\n  AttrChange,\r\n  attributeChangedCallback,\r\n  connectedCallback,\r\n  disconnectedCallback,\r\n  firstinstalledcallback\r\n} from \"./attr-change\";\r\n// import { VaildVDom } from \"./conditon\";\r\nimport { Htmlelementconstructor } from \"./createComponent\";\r\nimport { componentsymbol } from \"./iscomponent\";\r\nimport { readysymbol } from \"./readysymbol\";\r\nexport { ListMap };\r\nexport default ListMap;\r\nconst listvalueattr = Symbol(\"listvalueattr\");\r\n// const listlengthsymbol = Symbol(\"listlength\");\r\nconst listinnervdom = Symbol(\"listinnervdom\");\r\nconst listinnerelement = Symbol(\"listinnerelement\");\r\n/*  */\r\n// const cached_vdom_symbol = Symbol(\"cached_vdom\");\r\nconst cached_realele = Symbol(\"cached_realele\");\r\nfunction ListMap(\r\n  list: any[] | Set<any> | ReactiveState<any[] | Set<any>>,\r\n  mapfun: (value: ReactiveState<any>, index: number) => Virtualdom<any>\r\n): Virtualdom<Htmlelementconstructor> {\r\n  if (!isArray(list) && !isSet(list) && !isReactiveState(list)) {\r\n    console.error(list);\r\n    throw new TypeError();\r\n  }\r\n  if (!isfunction(mapfun)) {\r\n    console.error(mapfun);\r\n    throw new TypeError();\r\n  }\r\n\r\n  const ITEMfactory = (value: ReactiveState<any>, index: number) => {\r\n    const possiblevdom = mapfun(value, index);\r\n    asserttype(isVirtualdom(possiblevdom));\r\n    return possiblevdom;\r\n  };\r\n  function indextovdom(index: number, thiscom: ListMap) {\r\n    /* indexelement, */\r\n    // index => {\r\n    /* const cached_vdom1 = get(thiscom[cached_vdom_symbol], index);\r\n    if (cached_vdom1) {\r\n      return cached_vdom1;\r\n    } else { */\r\n    const vdom = ITEMfactory(\r\n      computed(thiscom[listvalueattr], v => (v as any[])[index] as any),\r\n\r\n      index\r\n    );\r\n    //   set(thiscom[cached_vdom_symbol], index, vdom);\r\n    return vdom;\r\n    // }\r\n    //   }\r\n  }\r\n  //   const itemclass = createComponent(\r\n  //     Object.assign(\r\n  //       (\r\n  //         props: Record<string, ReactiveState<any>>,\r\n  //         children: [(0 | undefined)?]\r\n  //       ) => {\r\n  //         const { value: propvalue /* , index: propindex */ } = props as {\r\n  //           value: ReactiveState<any>;\r\n  //           //   index: ReactiveState<any>;\r\n  //         };\r\n  //         // const myprops = {propvalue,}\r\n  //         const value = propvalue; //myprops.value;\r\n  //         const [propindex = 0] = children;\r\n  //         const index = Number(propindex); //myprops.index.valueOf() as number;\r\n  //         return mapfun(value, index);\r\n  //       },\r\n  //       { defaultProps: { /*  index: 0, */ value: undefined } }\r\n  //     ) as Custom\r\n  //     //,/* {defaultProps:{\r\n\r\n  //     //  value\r\n  //     // }} */\r\n  //   );\r\n  /* class */\r\n  //   const itemtagname = RandomDefineCustomElement(itemclass);\r\n  //   const ITEMfactory = (value: ReactiveState<any>, index: number) =>\r\n  //     createElement(itemclass, { value }, index);\r\n  //   console.log(ITEMfactory);\r\n  class ListMap extends AttrChange {\r\n    // /* constructor() {\r\n    //   super();\r\n    //   /*    const defaultProps = get(this.constructor, \"defaultProps\");\r\n    //   // this.constructor[\"defaultProps\"];\r\n    //   const attrs: Record<string, any> = createeleattragentreadwrite(this);\r\n    //   //   const props = {};\r\n    //   if (isobject(defaultProps)) {\r\n    //     Object.assign(attrs, defaultProps);\r\n    //     // Object.assign(props, this.constructor[\"defaultProps\"]);\r\n    //   } */\r\n    // } */\r\n    static defaultProps = { value: [] };\r\n    // [cached_vdom_symbol]: Map<number, Virtualdom<any>> = new Map();\r\n    [cached_realele]: Map<number, Element> = new Map();\r\n    [listvalueattr] = createstate([]);\r\n    // [listlengthsymbol]: number;\r\n    [listinnerelement]: Array<Element | Node>;\r\n    [listinnervdom]: Array<Virtualdom<any>>; //Virtualdom<Htmlelementconstructor>[];\r\n    static [componentsymbol] = componentsymbol;\r\n    [readysymbol] = false;\r\n    [attributeChangedCallback](name: string) {\r\n      if (this[readysymbol]) {\r\n        if (name === \"value\") {\r\n          const attrs = createeleattr(this);\r\n          const value = attrs[\"value\"];\r\n\r\n          if (!isArray(value)) {\r\n            console.log(value);\r\n            throw new TypeError();\r\n          }\r\n          // this[listlengthsymbol] = value.length;\r\n          /*  */\r\n          set(this[listvalueattr], \"value\", value);\r\n          //  [] = ;\r\n          const domchildren = getchildren(this);\r\n          const newlength = value.length;\r\n          const oldlength = domchildren.length;\r\n          if (newlength > oldlength) {\r\n            const numindexs = Array(newlength)\r\n              .fill(undefined)\r\n              .map((v, i) => i)\r\n              .slice(oldlength);\r\n\r\n            // const vdomstoadd: Array<Virtualdom<any>> = numindexs.map();\r\n            const realelementstoadd: Element[] = numindexs.map(index => {\r\n              //   const index = i + oldlength;\r\n              //   const index = Number(vdom.children[0]);\r\n\r\n              //   const index = vdom.props.index;\r\n\r\n              const cached_element = get(this[cached_realele], index);\r\n              /* element */\r\n              if (cached_element) {\r\n                return cached_element;\r\n              } else {\r\n                const vdom = indextovdom(index, this);\r\n                const element = render(vdom);\r\n                set(this[cached_realele], index, element);\r\n                return element;\r\n              }\r\n            });\r\n            /* this[listinnervdom].push(...vdomstoadd);\r\n            this[listinnerelement].push(...realelementstoadd); */\r\n            realelementstoadd.forEach(element => appendchild(this, element));\r\n          } else if (newlength < oldlength) {\r\n            /*  */\r\n            /*  this[listinnervdom] = this[listinnervdom].slice(0, newlength);\r\n            this[listinnerelement] = this[listinnerelement].slice(0, newlength); */\r\n            getchildren(this)\r\n              .slice(newlength)\r\n              .forEach(element => removeElement(element));\r\n          }\r\n        }\r\n      }\r\n    }\r\n    disconnectedCallback() {\r\n      //   onunmounted(this);\r\n      //   super.disconnectedCallback();\r\n\r\n      setimmediate(() => {\r\n        disconnectedCallback(this);\r\n        /* if (itemtagname) {\r\n          querySelectorAll(itemtagname).forEach(e => removeNode(e));\r\n        } */\r\n      });\r\n    }\r\n    [firstinstalledcallback]() {\r\n      const attrs = createeleattr(this);\r\n      const value: any[] = attrs[\"value\"];\r\n\r\n      if (!isArray(value)) {\r\n        console.log(value);\r\n        throw new TypeError();\r\n      }\r\n      /*  */\r\n      // this[listvalueattr][\"value\"] = value;\r\n      set(this[listvalueattr], \"value\", value);\r\n      this[listinnervdom] = value.map((v, index) =>\r\n        ITEMfactory(\r\n          computed(this[listvalueattr], v => (v as any[])[index] as any),\r\n\r\n          index\r\n        )\r\n      );\r\n      this[listinnerelement] = render(this[listinnervdom]);\r\n      // /*   Object.entries(this[listinnervdom]).forEach(([key, value]) => {\r\n      //     /*  this[cached_vdom_symbol]Map*/\r\n      //     set(this[cached_vdom_symbol], key, value);\r\n      //   }); */\r\n      Object.entries(this[listinnerelement]).forEach(([key, value]) => {\r\n        /* this[cached_realele] Map\r\n         */\r\n        set(this[cached_realele], Number(key), value);\r\n      });\r\n      //   Object.assign(this[cached_vdom_symbol], this[listinnervdom]);\r\n      //   Object.assign(this[cached_realele], this[listinnerelement]);\r\n      mount(this[listinnerelement], this);\r\n\r\n      /* , */\r\n      this[listinnerelement] = [];\r\n      this[listinnervdom] = [];\r\n    }\r\n    connectedCallback() {\r\n      /*   if (!this[readysymbol]) {\r\n        this[readysymbol] = true;\r\n\r\n       \r\n        // this[listlengthsymbol] = value.length;\r\n      } */\r\n      //   onmounted(this);\r\n      connectedCallback(this);\r\n    }\r\n  }\r\n  return createElement(ListMap, { value: list });\r\n}\r\n","export function asserttype(con: boolean) :asserts con{\r\n  if (!con) {\r\n    throw new TypeError();\r\n  }\r\n}\r\n","import { setimmediate } from \"src/UtilTools/setimmediate\";\r\nimport { h } from \"../CreateElement/create-element\";\r\nimport Virtualdom from \"../CreateElement/VirtualElement\";\r\nimport { Custom } from \"../CustomClass/customclass\";\r\n// import { isclassextendsHTMLElement } from \"../CustomElement/create-costum-elemet\";\r\nimport { mountrealelement } from \"../MountElement/mount-real-element\";\r\nimport ReactiveState, { isReactiveState } from \"../Reactivity/ReactiveState\";\r\nimport { CancelWatchfun, watch } from \"../Reactivity/watch\";\r\nimport render from \"../RenderVirtual/render-vdom-to-real\";\r\nimport { isfunction } from \"../UtilTools/util\";\r\nimport {\r\n  AttrChange,\r\n  connectedCallback,\r\n  disconnectedCallback,\r\n  firstinstalledcallback\r\n} from \"./attr-change\";\r\nimport { autocreateclass, Htmlelementconstructor } from \"./createComponent\";\r\nimport { componentsymbol } from \"./iscomponent\";\r\nimport { readysymbol } from \"./readysymbol\";\r\nconst cancel_watch_symbol = Symbol(\"cancel_watch\");\r\nconst cached_class_element = Symbol(\"cached_class_element\");\r\nconst switch_mount_symbol = Symbol(\"switch_mount\");\r\n// const current_element_class = Symbol(\"current_element_class\");\r\nexport { Switchable };\r\nfunction Switchable(\r\n  funstate: ReactiveState<Htmlelementconstructor | Custom>\r\n): Virtualdom<Htmlelementconstructor> {\r\n  if (!isReactiveState(funstate)) {\r\n    console.error(funstate);\r\n    throw new TypeError();\r\n  }\r\n  class Switchable extends AttrChange {\r\n    // [current_element_class]: Htmlelementconstructor;\r\n    [cached_class_element] = new WeakMap<Htmlelementconstructor, Element>();\r\n    disconnectedCallback() {\r\n      //   onunmounted(this);\r\n      //   super.disconnectedCallback();\r\n      setimmediate(() => {\r\n        disconnectedCallback(this);\r\n        if (isfunction(this[cancel_watch_symbol])) {\r\n          this[cancel_watch_symbol]();\r\n        }\r\n      });\r\n    }\r\n    [cancel_watch_symbol]: CancelWatchfun;\r\n    static [componentsymbol] = componentsymbol;\r\n    [readysymbol] = false;\r\n    [switch_mount_symbol](eleclass: Custom | Htmlelementconstructor) {\r\n      eleclass = autocreateclass(eleclass);\r\n      /*  if (!isclassextendsHTMLElement(eleclass)) {\r\n        console.error(eleclass);\r\n        throw new TypeError();\r\n      } */\r\n      //   this[current_element_class] = eleclass;\r\n      const eleme = this[cached_class_element].get(eleclass);\r\n      if (eleme) {\r\n        mountrealelement(eleme, this);\r\n        // return;\r\n      } else {\r\n        const elementreal = render(h(eleclass));\r\n\r\n        this[cached_class_element].set(eleclass, elementreal);\r\n        mountrealelement(elementreal, this);\r\n        // return;\r\n      }\r\n    }\r\n    [firstinstalledcallback]() {\r\n      const callmountswitch = () => {\r\n        this[switch_mount_symbol](funstate.valueOf() as\r\n          | Custom\r\n          | Htmlelementconstructor);\r\n      };\r\n      callmountswitch();\r\n      this[cancel_watch_symbol] = watch(funstate, () => {\r\n        callmountswitch();\r\n      });\r\n    }\r\n    connectedCallback() {\r\n      connectedCallback(this);\r\n      /* if (!this[readysymbol]) {\r\n        this[readysymbol] = true;\r\n      } */\r\n      //   onmounted(this);\r\n    }\r\n  }\r\n  return h(Switchable);\r\n}\r\nexport default Switchable;\r\n","interface Ref<T = any | undefined> {\r\n  value: T | undefined;\r\n}\r\n\r\nexport default function createRef<T = any | undefined>(value?: T): Ref<T> {\r\n  return { value };\r\n}\r\n","var n=function(t,r,u,e){for(var p=1;p<r.length;p++){var s=r[p],h=\"number\"==typeof s?u[s]:s,a=r[++p];1===a?e[0]=h:3===a?e[1]=Object.assign(e[1]||{},h):5===a?(e[1]=e[1]||{})[r[++p]]=h:6===a?e[1][r[++p]]+=h+\"\":e.push(a?t.apply(null,n(t,h,u,[\"\",null])):h)}return e},t=function(n){for(var t,r,u=1,e=\"\",p=\"\",s=[0],h=function(n){1===u&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?s.push(n||e,0):3===u&&(n||e)?(s.push(n||e,1),u=2):2===u&&\"...\"===e&&n?s.push(n,3):2===u&&e&&!n?s.push(!0,5,e):u>=5&&((e||!n&&5===u)&&(s.push(e,u,r),u=6),n&&(s.push(n,u,r),u=6)),e=\"\"},a=0;a<n.length;a++){a&&(1===u&&h(),h(a));for(var f=0;f<n[a].length;f++)t=n[a][f],1===u?\"<\"===t?(h(),s=[s],u=3):e+=t:4===u?\"--\"===e&&\">\"===t?(u=1,e=\"\"):e=t+e[0]:p?t===p?p=\"\":e+=t:'\"'===t||\"'\"===t?p=t:\">\"===t?(h(),u=1):u&&(\"=\"===t?(u=5,r=e,e=\"\"):\"/\"===t&&(u<5||\">\"===n[a][f+1])?(h(),3===u&&(s=s[0]),u=s,(s=s[0]).push(u,2),u=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(h(),u=2):e+=t),3===u&&\"!--\"===e&&(u=4,s=s[0])}return h(),s},r=\"function\"==typeof Map,u=r?new Map:{},e=r?function(n){var r=u.get(n);return r||u.set(n,r=t(n)),r}:function(n){for(var r=\"\",e=0;e<n.length;e++)r+=n[e].length+\"-\"+n[e];return u[r]||(u[r]=t(n))};export default function(t){var r=n(this,e(t),arguments,[]);return r.length>1?r:r[0]}\n","import { invalid_ReactiveState } from \"../AttributeClass/conditon\";\r\nimport { querySelectorAll } from \"../UtilTools/dom\";\r\nimport directives from \"./extend-directive\";\r\nimport { invalid_Virtualdom } from \"../MountElement/MountElement\";\r\nimport ReactiveState, {\r\n  // ReactiveState,\r\n  isReactiveState\r\n} from \"../Reactivity/ReactiveState\";\r\nimport { get, set } from \"../UtilTools/reflect\";\r\nimport { toArray } from \"../UtilTools/toArray\";\r\nimport Virtualdom from \"../CreateElement/VirtualElement\";\r\ndirectives({\r\n  value(value, element, vdom) {\r\n    model(\r\n      [\"input\", \"textarea\", \"select\"],\r\n      \"value\",\r\n      \"value\",\r\n      [\"change\", \"input\"],\r\n      value,\r\n      vdom\r\n    );\r\n  },\r\n  checked(value, element, vdom) {\r\n    model([\"input\"], \"checked\", \"checked\", [\"change\"], value, vdom);\r\n\r\n    /* nameinput,radio,,,change */\r\n    const eventname = \"click\";\r\n    const origin = toArray(vdom.onevent[eventname]);\r\n    const eventsarray = origin;\r\n    const dispatchallsamename: EventListener = (event: Event) => {\r\n      const inputelement = event.target as HTMLInputElement;\r\n      const name = (event.target as HTMLInputElement).name;\r\n      if (name) {\r\n        querySelectorAll(`input[name=${name}]`)\r\n          /* inputelement */\r\n          .filter(ele => ele !== inputelement)\r\n\r\n          .forEach(element => {\r\n            element.dispatchEvent(new Event(\"change\"));\r\n          });\r\n      }\r\n    };\r\n\r\n    set(\r\n      vdom.onevent,\r\n      eventname,\r\n      toArray([...eventsarray, dispatchallsamename]).filter(Boolean)\r\n    );\r\n  }\r\n});\r\nfunction model(\r\n  types: string[],\r\n  bindattribute: string,\r\n  domprop: string,\r\n  eventnames: string[],\r\n  value: ReactiveState<any>,\r\n  vdom: Virtualdom<any>\r\n) {\r\n  if (!isReactiveState(value)) {\r\n    console.error(value);\r\n    console.error(invalid_ReactiveState + invalid_Virtualdom);\r\n    throw TypeError();\r\n  }\r\n  if (types.includes(vdom.type)) {\r\n    // const vdom = virtualdom;\r\n    set(vdom.bindattr, bindattribute, value);\r\n    /*  [\r\n      // vdom.bindattr[\"checked\"] = value;\r\n      \"change\",\r\n      \"input\"\r\n    ]. */\r\n\r\n    eventnames.forEach(eventname => {\r\n      const origin = vdom.onevent[eventname];\r\n\r\n      const eventsarray = toArray(origin);\r\n\r\n      set(\r\n        vdom.onevent,\r\n        eventname,\r\n        toArray([\r\n          ...eventsarray,\r\n\r\n          (e: any) => {\r\n            return (value.value = get(e.target, domprop));\r\n          }\r\n        ]).filter(Boolean)\r\n      );\r\n    });\r\n  } else {\r\n    console.error(vdom);\r\n    console.error(invalid_ReactiveState + invalid_Virtualdom);\r\n    throw TypeError();\r\n  }\r\n}\r\n\r\n/* directives({\r\n  value(_element: Element, value: ReactiveState<any>, vdom: Virtualdom<any>) {\r\n    // console.log(vdom);\r\n    if (\r\n      isReactiveState(value) &&\r\n      //   value instanceof ReactiveState\r\n\r\n      (vdom.type === \"input\" ||\r\n        vdom.type === \"textarea\" ||\r\n        vdom.type === \"select\")\r\n    ) {\r\n      vdom.bindattr[\"value\"] = value;\r\n      [\"change\", \"input\"].forEach(eventname => {\r\n        const origin = vdom.onevent[eventname];\r\n\r\n        const eventsarray = toArray(origin);\r\n\r\n        set(\r\n          vdom.onevent,\r\n          eventname,\r\n          [\r\n            ...eventsarray,\r\n\r\n            (e: any) => {\r\n              return (value.value = e.target.value);\r\n            }\r\n          ].filter(Boolean)\r\n        );\r\n      });\r\n    } else {\r\n      console.log(_element);\r\n      console.error(value);\r\n      console.error(vdom);\r\n      console.error(invalid_ReactiveState + invalid_Virtualdom);\r\n      throw TypeError();\r\n    }\r\n  }\r\n});\r\ndirectives({\r\n  checked(_element: Element, value: ReactiveState<any>, vdom: Virtualdom<any>) {\r\n    // console.log(vdom);\r\n    if (\r\n      isReactiveState(value) &&\r\n      //   value instanceof ReactiveState\r\n\r\n      vdom.type === \"input\"\r\n    ) {\r\n      vdom.bindattr[\"checked\"] = value;\r\n      [\"change\", \"input\"].forEach(eventname => {\r\n        const origin = vdom.onevent[eventname];\r\n\r\n        const eventsarray = toArray(origin);\r\n\r\n        set(\r\n          vdom.onevent,\r\n          eventname,\r\n          [\r\n            ...eventsarray,\r\n\r\n            (e: any) => {\r\n              return (value.value = e.target.checked);\r\n            }\r\n          ].filter(Boolean)\r\n        );\r\n      });\r\n    } else {\r\n      console.log(_element);\r\n      console.error(value);\r\n      console.error(vdom);\r\n      console.error(invalid_ReactiveState + invalid_Virtualdom);\r\n      throw TypeError();\r\n      //throw TypeError(invalid_ReactiveState + invalid_Virtualdom);\r\n    }\r\n  }\r\n}); */\r\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport {\r\n  watch,\r\n  computed,\r\n  createComponent,\r\n  createElement,\r\n  //   createElement,\r\n  createState,\r\n  h,\r\n  MountElement,\r\n  useMounted,\r\n  useUnMounted\r\n} from \"./mvvm-view\";\r\nconsole.log([h, createElement]);\r\nfunction useMousePosition() {\r\n  const x = createState(0);\r\n  const y = createState(0);\r\n\r\n  function update(e) {\r\n    x.value = e.pageX;\r\n    y.value = e.pageY;\r\n  }\r\n\r\n  useMounted(() => {\r\n    window.addEventListener(\"mousemove\", update);\r\n  });\r\n\r\n  useUnMounted(() => {\r\n    window.removeEventListener(\"mousemove\", update);\r\n  });\r\n\r\n  return { x, y };\r\n}\r\n\r\nconst mycomapp = createComponent(() => {\r\n  const { x, y } = useMousePosition();\r\n  const plus = computed(x, x => {\r\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\r\n    // @ts-ignore\r\n    return x + 100;\r\n  });\r\n  // other logic...\r\n\r\n  const multi = computed([x, y], (x, y) => {\r\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\r\n    // @ts-ignore\r\n    return x * y;\r\n  });\r\n  //   console.log(plus, multi);\r\n  let count = 0;\r\n  const cancelwatch = watch([x, y, multi, plus], (...args) => {\r\n    if (count === 0) {\r\n      console.time(\"watchmousemove50\");\r\n    }\r\n    console.log(count, args);\r\n    count++;\r\n    if (count > 50) {\r\n      cancelwatch();\r\n      console.timeEnd(\"watchmousemove50\");\r\n    }\r\n  });\r\n  return (\r\n    <div>\r\n      <h3> </h3>\r\n      <h2>x:{x}</h2>\r\n\r\n      <h1>y:{y}</h1>\r\n      <p>x+100 {plus}</p>\r\n      <p>x*y {multi}</p>\r\n    </div>\r\n  );\r\n});\r\nmycomapp.css = `\r\n*{font-size:80px !important;}\r\np{color:blue !important;}\r\n`;\r\nvar vdom = createElement(mycomapp);\r\n// MountElement(vdom, document.getElementById(\"root\"));\r\ndocument.body.appendChild(MountElement(vdom, document.createElement(\"div\")));\r\n","/* eslint-disable @typescript-eslint/ban-ts-ignore */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport {\r\n  Condition,\r\n  ListMap,\r\n  // @ts-ignore\r\n  computed,\r\n  // @ts-ignore\r\n  createElement,\r\n  createRef,\r\n  createState,\r\n  // @ts-ignore\r\n  h,\r\n  MountElement,\r\n  // @ts-ignore\r\n  watch\r\n} from \"./mvvm-view\";\r\nconst refarray = [];\r\nconst liststate = createState(\r\n  Array(10)\r\n    .fill(undefined)\r\n    // @ts-ignore\r\n    .map((v, i) => i)\r\n);\r\nwatch(liststate, a => console.dir([liststate, a]));\r\nconst testlistvdom = (\r\n  <div>\r\n    <button\r\n      _text=\"push\"\r\n      onclick={() => {\r\n        // @ts-ignore\r\n        liststate.push(Math.random());\r\n      }}\r\n    />\r\n    <button\r\n      _text=\"pop\"\r\n      onclick={() => {\r\n        // @ts-ignore\r\n        liststate.pop();\r\n      }}\r\n    />\r\n\r\n    <button\r\n      _text=\"shift\"\r\n      onclick={() => {\r\n        // @ts-ignore\r\n        liststate.shift();\r\n      }}\r\n    />\r\n    <button\r\n      _text=\"unshift\"\r\n      onclick={() => {\r\n        // @ts-ignore\r\n        liststate.unshift(Math.random());\r\n      }}\r\n    />\r\n    {ListMap(liststate, (value, index) => (\r\n      <div\r\n        _ref={ele => {\r\n          // @ts-ignore\r\n          refarray.length = liststate.length;\r\n          refarray[index] = ele;\r\n        }}\r\n      >\r\n        {[\"item:\", \"value:\", value, \"index:\", index]}\r\n      </div>\r\n    ))}\r\n  </div>\r\n);\r\nconst weathercondition = createState(true);\r\nconst vdom = [\r\n  Condition(weathercondition, testlistvdom),\r\n  <>\r\n    <button\r\n      onclick={() => {\r\n        weathercondition.value = !weathercondition.value;\r\n      }}\r\n    >\r\n      condition toggle\r\n    </button>\r\n  </>\r\n];\r\n\r\ndocument.body.appendChild(MountElement(vdom, document.createElement(\"div\")));\r\nconsole.log(vdom, refarray, liststate);\r\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport {\r\n  createComponent,\r\n  createElement,\r\n  //   createElement,\r\n  createRef,\r\n  createState,\r\n  h,\r\n  html,\r\n  MountElement,\r\n  watch\r\n} from './mvvm-view';\r\n// eslint-disable-next-line @typescript-eslint/ban-ts-ignore\r\n// @ts-ignore\r\nimport modulecss from \"./main.b9c7ffd191cff11a9b96.css\";\r\nconsole.log([h, createElement]);\r\nconst mycomapp = createComponent(() => {\r\n  const inputpassword = createState(\"\");\r\n  const inputref = createRef();\r\n  const inputref2 = createRef();\r\n  console.log(inputref2);\r\n  console.log(inputpassword);\r\n  watch(inputpassword, console.log);\r\n  const vdom = html`\r\n    <h1 style=\"padding-top: 127.6px;\">\r\n      <svg\r\n        style=\"\r\n      width: 100%;\r\n      height: 200px;\r\n  \"\r\n        class=\"octicon octicon-book\"\r\n        viewBox=\"0 0 16 16\"\r\n        version=\"1.1\"\r\n        width=\"16\"\r\n        height=\"16\"\r\n        aria-hidden=\"true\"\r\n      >\r\n        <path\r\n          fill-rule=\"evenodd\"\r\n          d=\"M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z\"\r\n        ></path></svg\r\n      ><svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 3046.7 875.7\"\r\n        style=\"\r\n      width: 100%;\r\n      height: 200px;\r\n  \"\r\n      >\r\n        <title>logo-on-dark-bg</title>\r\n        <rect Color=\"#FFF\" x=\"0\" y=\"0\" width=\"3046.7\" height=\"875.7\" />\r\n        <path\r\n          fill=\"#FFF\"\r\n          d=\"M387 0l387 218.9v437.9L387 875.7 0 656.8V218.9L387 0z\"\r\n        />\r\n        <path\r\n          fill=\"#8ED6FB\"\r\n          d=\"M704.9 641.7L399.8 814.3V679.9l190.1-104.6 115 66.4zm20.9-18.9V261.9l-111.6 64.5v232l111.6 64.4zM67.9 641.7L373 814.3V679.9L182.8 575.3 67.9 641.7zM47 622.8V261.9l111.6 64.5v232L47 622.8zm13.1-384.3L373 61.5v129.9L172.5 301.7l-1.6.9-110.8-64.1zm652.6 0l-312.9-177v129.9l200.5 110.2 1.6.9 110.8-64z\"\r\n        />\r\n        <path\r\n          fill=\"#1C78C0\"\r\n          d=\"M373 649.3L185.4 546.1V341.8L373 450.1v199.2zm26.8 0l187.6-103.1V341.8L399.8 450.1v199.2zM198.1 318.2l188.3-103.5 188.3 103.5-188.3 108.7-188.3-108.7z\"\r\n        />\r\n        <path\r\n          fill=\"#F5FAFA\"\r\n          d=\"M1164.3 576.3h82.5l84.1-280.2h-80.4l-49.8 198.8-53.1-198.8H1078l-53.6 198.8-49.3-198.8h-80.4l83.6 280.2h82.5l52-179.5 51.5 179.5zM1335.2 437c0 84.1 57.3 146.3 147.4 146.3 69.7 0 107.2-41.8 117.9-61.6l-48.8-37c-8 11.8-30 34.3-68.1 34.3-41.3 0-71.3-26.8-72.9-64.3H1608c.5-5.4.5-10.7.5-16.1 0-91.6-49.3-149.5-136.1-149.5-79.9 0-137.2 63.2-137.2 147.9zm77.7-30.6c3.2-32.1 25.7-56.8 60.6-56.8 33.8 0 58.4 22.5 60 56.8h-120.6zm223.5 169.9h69.7v-28.9c7.5 9.1 35.4 35.9 83.1 35.9 80.4 0 137.2-60.5 137.2-146.8 0-86.8-52.5-147.3-132.9-147.3-48.2 0-76.1 26.8-83.1 36.4V188.9h-73.9v387.4h-.1zm71.8-139.3c0-52.5 31.1-82.5 71.8-82.5 42.9 0 71.8 33.8 71.8 82.5 0 49.8-30 80.9-71.8 80.9-45 0-71.8-36.5-71.8-80.9zm247 239.5h73.9V547.3c7 9.1 34.8 35.9 83.1 35.9 80.4 0 132.9-60.5 132.9-147.3 0-85.7-56.8-146.8-137.2-146.8-47.7 0-75.6 26.8-83.1 36.4V296h-69.7v380.5h.1zm71.8-241.1c0-44.5 26.8-80.9 71.8-80.9 41.8 0 71.8 31.1 71.8 80.9 0 48.8-28.9 82.5-71.8 82.5-40.7 0-71.8-30-71.8-82.5zm231.5 54.1c0 58.9 48.2 93.8 105 93.8 32.2 0 53.6-9.6 68.1-25.2l4.8 18.2h65.4V398.9c0-62.7-26.8-109.8-116.8-109.8-42.9 0-85.2 16.1-110.4 33.2l27.9 50.4c20.9-10.7 46.6-19.8 74.5-19.8 32.7 0 50.9 16.6 50.9 41.3v18.2c-10.2-7-32.2-15.5-60.6-15.5-65.4-.1-108.8 37.4-108.8 92.6zm73.9-2.2c0-23 19.8-39.1 48.2-39.1s48.8 14.5 48.8 39.1c0 23.6-20.4 38.6-48.2 38.6s-48.8-15.5-48.8-38.6zm348.9 30.6c-46.6 0-79.8-33.8-79.8-81.4 0-45 29.5-82 77.2-82 31.6 0 53.1 15.5 65.4 26.8l20.9-62.2c-18.2-13.9-47.2-30-88.4-30-85.2 0-149 62.7-149 147.9s62.2 146.3 149.5 146.3c40.7 0 71.3-17.1 87.3-30l-19.8-60.5c-12.4 10.1-34.9 25.1-63.3 25.1zm110.9 58.4h73.9V431.6l93.8 144.7h86.8L2940.6 423l98.6-127h-83.1l-90 117.9v-225h-73.9v387.4z\"\r\n        />\r\n      </svg>\r\n    </h1>\r\n    <div>\r\n      <div>\r\n        <noscript>You need to enable JavaScript to run this app.</noscript>\r\n        <div id=\"root\">\r\n          <div>\r\n            <div class=\"container-fluid fixed-top\" id=\"my\">\r\n              <nav\r\n                class=\"navbar navbar-default navbar navbar-expand-sm bg-light navbar-light\"\r\n                role=\"navigation\"\r\n              >\r\n                <div>\r\n                  <a\r\n                    class=\"navbar-brand mui-btn mui-btn-primary mui-btn-outlined\"\r\n                    href=\"#/\"\r\n                    >masx200\r\n                    <hr id=\"hidewidthless500\" />\r\n                    github</a\r\n                  ><button\r\n                    class=\"navbar-toggler\"\r\n                    type=\"button\"\r\n                    data-toggle=\"collapse\"\r\n                  >\r\n                    <span class=\"navbar-toggler-icon\"></span>\r\n                  </button>\r\n                </div>\r\n                <div\r\n                  class=\"collapse navbar-collapse\"\r\n                  id=\"example-navbar-collapse\"\r\n                  style=\"display: none;\"\r\n                >\r\n                  <ul class=\"nav navbar-nav\" id=\"allnavbar\">\r\n                    <li id=\"mynav1\">\r\n                      <a\r\n                        class=\"nav-link mui-btn mui-btn-primary mui-btn-outlined\"\r\n                        href=\"#/react-home\"\r\n                        >REACT</a\r\n                      >\r\n                    </li>\r\n                    <li>\r\n                      <a\r\n                        class=\"nav-link mui-btn mui-btn-primary mui-btn-outlined\"\r\n                        href=\"#/react-rssreader\"\r\n                        >rss</a\r\n                      >\r\n                    </li>\r\n                    <li id=\"mynav2\">\r\n                      <a\r\n                        class=\"nav-link mui-btn mui-btn-primary mui-btn-outlined\"\r\n                        href=\"#/react-about\"\r\n                        >REACT</a\r\n                      >\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                      <a\r\n                        class=\"nav-link mui-btn mui-btn-primary mui-btn-outlined\"\r\n                        href=\"#/picalc\"\r\n                        ></a\r\n                      >\r\n                    </li>\r\n                    <li>\r\n                      <a\r\n                        class=\"nav-link mui-btn mui-btn-primary mui-btn-outlined\"\r\n                        href=\"#/react-huami\"\r\n                        ></a\r\n                      >\r\n                    </li>\r\n                    <li>\r\n                      <a\r\n                        class=\"nav-link mui-btn mui-btn-primary mui-btn-outlined\"\r\n                        href=\"#/decoder\"\r\n                        >JSfuck-and-hieroglyphy-Decoder</a\r\n                      >\r\n                    </li>\r\n                    <li>\r\n                      <a\r\n                        class=\"nav-link mui-btn mui-btn-primary mui-btn-outlined\"\r\n                        href=\"#/jsfuck\"\r\n                        >JSfuck-ENCODER</a\r\n                      >\r\n                    </li>\r\n                    <li>\r\n                      <a\r\n                        class=\"nav-link mui-btn mui-btn-primary mui-btn-outlined\"\r\n                        href=\"#/hieroglyphy\"\r\n                        >hieroglyphy-ENCODER</a\r\n                      >\r\n                    </li>\r\n                    <li>\r\n                      <a\r\n                        class=\"nav-link mui-btn mui-btn-primary mui-btn-outlined\"\r\n                        href=\"#/webpack-react-vue-spa-awesome-config\"\r\n                        >webpack-react-vue-  web\r\n                        </a\r\n                      >\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                      <a\r\n                        class=\"nav-link mui-btn mui-btn-primary mui-btn-outlined\"\r\n                        href=\"#/IMPORTCJSAMDUMD\"\r\n                        >-commonjsumdamd</a\r\n                      >\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                      <a\r\n                        class=\"nav-link mui-btn mui-btn-primary mui-btn-outlined\"\r\n                        href=\"#/react-simple-global-state-store-hook\"\r\n                        >React</a\r\n                      >\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                      <a\r\n                        class=\"nav-link mui-btn mui-btn-primary mui-btn-outlined\"\r\n                        href=\"#/excellent-vscode-extensions-for-javascript\"\r\n                        >VScode</a\r\n                      >\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                      <a\r\n                        class=\"nav-link mui-btn mui-btn-primary mui-btn-outlined\"\r\n                        href=\"#/vue-simple-global-state-store-manager\"\r\n                        >Vue</a\r\n                      >\r\n                    </li>\r\n                    <li>\r\n                      <a\r\n                        href=\"./my-vue-router-project/index.html\"\r\n                        class=\"nav-link mui-btn mui-btn-primary mui-btn-outlined\"\r\n                        >vue</a\r\n                      >\r\n                    </li>\r\n                    <li>\r\n                      <a\r\n                        href=\"./my-vue-router-project/index.html#/about\"\r\n                        class=\"nav-link mui-btn mui-btn-primary mui-btn-outlined\"\r\n                        >Vue</a\r\n                      >\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </nav>\r\n            </div>\r\n            <div class=\"container\" id=\"my\" style=\"padding-top: 127.6px;\">\r\n              <div class=\"hello flowerpassword\">\r\n                <h1> </h1>\r\n\r\n                <div id=\"rong1\" class=\"container\" style=\"text-align: center;\">\r\n                  <div id=\"rong2\">\r\n                    <h2><span>1</span></h2>\r\n                    <div id=\"input\">\r\n                      <p></p>\r\n                      <h3></h3>\r\n                      <p></p>\r\n                      <p>\r\n                        <input\r\n                          *ref=${inputref}\r\n                          @change=${e => console.log(e, inputref)}\r\n                          @input=${e => console.log(e)}\r\n                          id=\"password\"\r\n                          placeholder=\"\"\r\n                          name=\"password\"\r\n                          type=\"password\"\r\n                          tabindex=\"1\"\r\n                          class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 form-control\"\r\n                          value=\"\"\r\n                        />\r\n                      </p>\r\n                      <p></p>\r\n                      <span>+</span>\r\n                      <h3></h3>\r\n                      <p></p>\r\n                      <p>\r\n                        <input\r\n                          *ref=${inputref2}\r\n                          *value=${inputpassword}\r\n                          @input=${e => console.log(e)}\r\n                          id=\"key\"\r\n                          placeholder=\"\"\r\n                          name=\"key\"\r\n                          type=\"text\"\r\n                          tabindex=\"2\"\r\n                          class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 form-control\"\r\n                          value=\"\"\r\n                        />\r\n                      </p>\r\n                    </div>\r\n                    <br />\r\n                    <p></p>\r\n                    <h2><span>2</span></h2>\r\n                    <p></p>\r\n                    <div id=\"get\">\r\n                      <p id=\"tuijian\"></p>\r\n                      <p></p>\r\n                      <h3></h3>\r\n                      <p></p>\r\n                      <span id=\"myhezi\"\r\n                        ><p>\r\n                          <input\r\n                            id=\"cod222222222222e16\"\r\n                            readonly=\"\"\r\n                            class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 snippet code16d form-control\"\r\n                            value=\"\"\r\n                          />\r\n                        </p>\r\n                        <br />\r\n                        <p>\r\n                          <button\r\n                            id=\"copycode16\"\r\n                            data-clipboard-target=\"#code16\"\r\n                            class=\"btn btn-lg btn copycode16d btn-info\"\r\n                            style=\"width: 100%;\"\r\n                          >\r\n                            \r\n                          </button>\r\n                        </p></span\r\n                      >\r\n                      <p>\r\n                        <span id=\"copyOK\" style=\"display: none;\"\r\n                          ></span\r\n                        >\r\n                      </p>\r\n                      <p></p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <script\r\n          type=\"text/javascript\"\r\n          src=\"https://cdn.jsdelivr.net/gh/masx200/masx200.github.io@4.3.3/bundle.runtime~main.3a15bebb435b0d3fead6.js\"\r\n        ></script\r\n        ><script\r\n          type=\"text/javascript\"\r\n          src=\"https://cdn.jsdelivr.net/gh/masx200/masx200.github.io@4.3.3/chunk.vendors~main.f7c5ea92c1b78a8ff211.js\"\r\n        ></script\r\n        ><script\r\n          type=\"text/javascript\"\r\n          src=\"https://cdn.jsdelivr.net/gh/masx200/masx200.github.io@4.3.3/chunk.main.b9c7ffd191cff11a9b96.js\"\r\n        ></script>\r\n      </div>\r\n      <div contenteditable=${false}>\r\n        \r\n      </div>\r\n      <div contenteditable>\r\n        \r\n      </div>\r\n    </div>\r\n    <h1>\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n        version=\"1.1\"\r\n        baseProfile=\"full\"\r\n        style=\"\r\n      width:600px;\r\n      height: 600px;\r\n  \"\r\n      >\r\n        <g fill-opacity=\"0.7\" stroke=\"black\" stroke-width=\"0.1cm\">\r\n          <circle\r\n            cx=\"6cm\"\r\n            cy=\"2cm\"\r\n            r=\"100\"\r\n            fill=\"red\"\r\n            transform=\"translate(0,50)\"\r\n          />\r\n          <circle\r\n            cx=\"6cm\"\r\n            cy=\"2cm\"\r\n            r=\"100\"\r\n            fill=\"blue\"\r\n            transform=\"translate(70,150)\"\r\n          />\r\n          <circle\r\n            cx=\"6cm\"\r\n            cy=\"2cm\"\r\n            r=\"100\"\r\n            fill=\"green\"\r\n            transform=\"translate(-70,150)\"\r\n          />\r\n        </g>\r\n      </svg>\r\n\r\n      <svg\r\n        style=\"\r\n      width: 100%;\r\n      height: 200px;\r\n  \"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 3046.7 875.7\"\r\n      >\r\n        <title>logo-on-dark-bg</title>\r\n        <rect Color=\"#FFF\" x=\"0\" y=\"0\" width=\"3046.7\" height=\"875.7\" />\r\n        <path\r\n          fill=\"#FFF\"\r\n          d=\"M387 0l387 218.9v437.9L387 875.7 0 656.8V218.9L387 0z\"\r\n        />\r\n        <path\r\n          fill=\"#8ED6FB\"\r\n          d=\"M704.9 641.7L399.8 814.3V679.9l190.1-104.6 115 66.4zm20.9-18.9V261.9l-111.6 64.5v232l111.6 64.4zM67.9 641.7L373 814.3V679.9L182.8 575.3 67.9 641.7zM47 622.8V261.9l111.6 64.5v232L47 622.8zm13.1-384.3L373 61.5v129.9L172.5 301.7l-1.6.9-110.8-64.1zm652.6 0l-312.9-177v129.9l200.5 110.2 1.6.9 110.8-64z\"\r\n        />\r\n        <path\r\n          fill=\"#1C78C0\"\r\n          d=\"M373 649.3L185.4 546.1V341.8L373 450.1v199.2zm26.8 0l187.6-103.1V341.8L399.8 450.1v199.2zM198.1 318.2l188.3-103.5 188.3 103.5-188.3 108.7-188.3-108.7z\"\r\n        />\r\n        <path\r\n          fill=\"#F5FAFA\"\r\n          d=\"M1164.3 576.3h82.5l84.1-280.2h-80.4l-49.8 198.8-53.1-198.8H1078l-53.6 198.8-49.3-198.8h-80.4l83.6 280.2h82.5l52-179.5 51.5 179.5zM1335.2 437c0 84.1 57.3 146.3 147.4 146.3 69.7 0 107.2-41.8 117.9-61.6l-48.8-37c-8 11.8-30 34.3-68.1 34.3-41.3 0-71.3-26.8-72.9-64.3H1608c.5-5.4.5-10.7.5-16.1 0-91.6-49.3-149.5-136.1-149.5-79.9 0-137.2 63.2-137.2 147.9zm77.7-30.6c3.2-32.1 25.7-56.8 60.6-56.8 33.8 0 58.4 22.5 60 56.8h-120.6zm223.5 169.9h69.7v-28.9c7.5 9.1 35.4 35.9 83.1 35.9 80.4 0 137.2-60.5 137.2-146.8 0-86.8-52.5-147.3-132.9-147.3-48.2 0-76.1 26.8-83.1 36.4V188.9h-73.9v387.4h-.1zm71.8-139.3c0-52.5 31.1-82.5 71.8-82.5 42.9 0 71.8 33.8 71.8 82.5 0 49.8-30 80.9-71.8 80.9-45 0-71.8-36.5-71.8-80.9zm247 239.5h73.9V547.3c7 9.1 34.8 35.9 83.1 35.9 80.4 0 132.9-60.5 132.9-147.3 0-85.7-56.8-146.8-137.2-146.8-47.7 0-75.6 26.8-83.1 36.4V296h-69.7v380.5h.1zm71.8-241.1c0-44.5 26.8-80.9 71.8-80.9 41.8 0 71.8 31.1 71.8 80.9 0 48.8-28.9 82.5-71.8 82.5-40.7 0-71.8-30-71.8-82.5zm231.5 54.1c0 58.9 48.2 93.8 105 93.8 32.2 0 53.6-9.6 68.1-25.2l4.8 18.2h65.4V398.9c0-62.7-26.8-109.8-116.8-109.8-42.9 0-85.2 16.1-110.4 33.2l27.9 50.4c20.9-10.7 46.6-19.8 74.5-19.8 32.7 0 50.9 16.6 50.9 41.3v18.2c-10.2-7-32.2-15.5-60.6-15.5-65.4-.1-108.8 37.4-108.8 92.6zm73.9-2.2c0-23 19.8-39.1 48.2-39.1s48.8 14.5 48.8 39.1c0 23.6-20.4 38.6-48.2 38.6s-48.8-15.5-48.8-38.6zm348.9 30.6c-46.6 0-79.8-33.8-79.8-81.4 0-45 29.5-82 77.2-82 31.6 0 53.1 15.5 65.4 26.8l20.9-62.2c-18.2-13.9-47.2-30-88.4-30-85.2 0-149 62.7-149 147.9s62.2 146.3 149.5 146.3c40.7 0 71.3-17.1 87.3-30l-19.8-60.5c-12.4 10.1-34.9 25.1-63.3 25.1zm110.9 58.4h73.9V431.6l93.8 144.7h86.8L2940.6 423l98.6-127h-83.1l-90 117.9v-225h-73.9v387.4z\"\r\n        />\r\n      </svg>\r\n    </h1>\r\n  `;\r\n  console.log(vdom);\r\n  return vdom;\r\n  // MountElement(vdom, document.getElementById(\"root\"));\r\n});\r\nmycomapp.css = modulecss;\r\nvar vdom = createElement(mycomapp);\r\nMountElement(vdom, document.getElementById(\"root\"));\r\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport {\r\n  createComponent,\r\n  createElement,\r\n  createState,\r\n  h,\r\n  //   createElement,\r\n  html,\r\n  MountElement,\r\n  watch\r\n} from './mvvm-view';\r\nconsole.log([h, createElement]);\r\nconst vdom = (\r\n  <select\r\n    onchange={e => console.log(e)}\r\n    style={{ textAlign: \"center\", fontSize: \"30px\", color: \"#65a4f0\" }}\r\n    value=\"94b92331-e2f4-40c6-90ee-80e203a4de3a\"\r\n    name=\"version_id\"\r\n    id=\"version_id\"\r\n    class=\"StyleSelectBox\"\r\n  >\r\n    <option value=\"0\">- Select version -</option>\r\n    <option value=\"94b92331-e2f4-40c6-90ee-80e203a4de3a\">\r\n      Windows 10 Insider Preview 18999.1 (vb_release) [arm64]\r\n    </option>\r\n    <option value=\"7268dbc9-dfe0-4947-af82-67f384e95cb6\">\r\n      Windows 10 Insider Preview 18999.1 (vb_release) [x64]\r\n    </option>\r\n    <option value=\"08f0d32e-c68a-46a8-b301-57e86b4e96e0\">\r\n      Windows 10 Insider Preview 18999.1 (vb_release) [x86]\r\n    </option>\r\n    <option value=\"9fa87c7f-75fa-4e5e-9ca3-1e19cb2c743f\">\r\n      Windows 10 Insider Preview 18995.1 (vb_release) [x64]\r\n    </option>\r\n    <option value=\"5173796c-11ac-47d7-9ed7-dbad6d5c9486\">\r\n      Windows 10 Insider Preview 18995.1 (vb_release) [x86]\r\n    </option>\r\n    <option value=\"4adf5f24-213a-472c-ae94-70f3cb81bade\">\r\n      Windows 10 Insider Preview 18995.1 (vb_release) [arm64]\r\n    </option>\r\n    <option value=\"9287fe5e-2cb3-4064-820f-3e336a3ddff4\">\r\n      Windows 10 Insider Preview 18990.1 (vb_release) [arm64]\r\n    </option>\r\n    <option value=\"5e420f0d-b3a5-424c-9b55-5c2cf939af14\">\r\n      Windows 10 Insider Preview 18990.1 (vb_release) [x86]\r\n    </option>\r\n    <option value=\"13e2104c-c98c-43b2-b232-9b2a4b5af2ac\">\r\n      Windows 10 Insider Preview 18990.1 (vb_release) [x64]\r\n    </option>\r\n  </select>\r\n);\r\n\r\nconst element = document.body.appendChild(\r\n  MountElement(vdom, document.createElement(\"div\"))\r\n);\r\nconsole.log([vdom, element]);\r\n","/* eslint-disable @typescript-eslint/ban-ts-ignore */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport {\r\n  createComponent,\r\n  createElement,\r\n  //   createElement,\r\n  createState,\r\n  h,\r\n  MountElement,\r\n  watch\r\n} from \"./mvvm-view\";\r\nconsole.log([h, createElement]);\r\nconst number = createState(10);\r\nfunction increment() {\r\n  // @ts-ignore\r\n  number.value++;\r\n}\r\nfunction decrement() {\r\n  // @ts-ignore\r\n  number.value--;\r\n}\r\nconst store = { number, increment, decrement };\r\nlet timer = setInterval(() => {\r\n  increment();\r\n}, 2000);\r\nsetTimeout(() => {\r\n  clearInterval(timer);\r\n}, 8000);\r\nconst mycomappclass = createComponent(() => {\r\n  watch(store.number, number => {\r\n    // console.trace();\r\n    console.log({ ...store }, number);\r\n  });\r\n  const vdom = (\r\n    <div>\r\n      <h3> </h3>\r\n      <h2>number:{store.number}</h2>\r\n\r\n      <button onclick={store.increment}>increment</button>\r\n      <button onclick={store.decrement}>decrement</button>\r\n    </div>\r\n  );\r\n  return vdom;\r\n});\r\nlet vdom = [\r\n  createElement(mycomappclass),\r\n  createElement(mycomappclass),\r\n  createElement(mycomappclass)\r\n];\r\n\r\ndocument.body.appendChild(MountElement(vdom, document.createElement(\"div\")));\r\n\r\nsetTimeout(() => {\r\n  vdom.forEach(vdom => {\r\n    const element = vdom.element;\r\n    // element.parentNode.removeChild(element);\r\n    element.forEach(e => e.remove());\r\n  });\r\n  // @ts-ignore\r\n  number.value = -50;\r\n\r\n  vdom.forEach(vdom => {\r\n    const element = vdom.element;\r\n    // document.body.appendChild(element);\r\n    element.forEach(e => document.body.appendChild(e));\r\n  });\r\n  vdom = undefined;\r\n}, 5000);\r\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport {\r\n  computed,\r\n  createElement,\r\n  createRef,\r\n  createState,\r\n  h,\r\n  MountElement,\r\n  watch\r\n} from \"./mvvm-view\";\r\nconsole.log([h, createElement]);\r\nconst lirefs = [];\r\n// console.log()\r\n// export{vdom}\r\nconst temp_ref = createRef();\r\nconst check = createState(false);\r\nconst check2 = createState(true);\r\nwatch(check2, a => console.log(a));\r\nconst check3 = createState(true);\r\nwatch(check3, a => console.log(a));\r\nconst check4 = createState(true);\r\nwatch(check4, a => console.log(a));\r\nconst notcheck = computed(\r\n  check,\r\n  a => !a,\r\n  v => {\r\n    // console.log(v);\r\n    console.log(notcheck, check, v);\r\n    // check3.value = v;\r\n    check.value = !v;\r\n  }\r\n);\r\nvar list = Array(10)\r\n  .fill(undefined)\r\n  .map((v, i) => i);\r\nwatch(check, a => console.log(a));\r\nwatch(notcheck, a => console.log(a));\r\nvar vdom = (\r\n  <>\r\n    <input type=\"radio\" _checked={check4} name=\"myname1\" />\r\n    <input type=\"radio\" _checked={check3} name=\"myname1\" />\r\n    <input type=\"radio\" _checked={check2} name=\"myname2\" />\r\n    <input type=\"radio\" _checked={check4} name=\"myname2\" />\r\n    {[\r\n      <input type=\"checkbox\" _checked={check} />,\r\n      <input type=\"checkbox\" _checked={notcheck} />,\r\n      <>\r\n        <ul>\r\n          {list.map((a, index) => (\r\n            <li\r\n              $ref={ele => {\r\n                lirefs[index] = ele;\r\n                lirefs.length = list.length;\r\n              }}\r\n            >\r\n              item{a}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <header\r\n          class=\"common-header fixed noborder floating\"\r\n          id=\"git-header-nav\"\r\n          _ref={temp_ref}\r\n        >\r\n          <div class=\"ui container\">\r\n            <div class=\"ui menu header-menu\">\r\n              <div class=\"git-nav-expand-bar\">\r\n                <i class=\"iconfont icon-mode-table\"></i>\r\n              </div>\r\n              <div class=\"gitee-nav__sidebar\">\r\n                <div class=\"gitee-nav__sidebar-container\">\r\n                  <div class=\"gitee-nav__sidebar-top\">\r\n                    <div class=\"gitee-nav__avatar-box\">\r\n                      <a href=\"/masx200\" onclick={e => e.preventDefault()}>\r\n                        <img\r\n                          alt=\"1081296_masx200\"\r\n                          class=\"ui avatar image masx200-avatar\"\r\n                          src=\"https://avatar.gitee.com/uploads/96/1081296_masx200.png?1566294318\"\r\n                        />\r\n                      </a>\r\n                    </div>\r\n                    <div class=\"gitee-nav__info-box\">\r\n                      <a href=\"/masx200\">masx200</a>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"gitee-nav__sidebar-middle\">\r\n                    <div class=\"gitee-nav__sidebar-list\">\r\n                      <ul>\r\n                        <li class=\"gitee-nav__sidebar-item\">\r\n                          <a href=\"/masx200\">\r\n                            <i class=\"iconfont icon-ic-dashboard\"></i>\r\n                            <span class=\"gitee-nav__sidebar-name\">\r\n                              \r\n                            </span>\r\n                          </a>\r\n                        </li>\r\n                        <li class=\"gitee-nav__sidebar-item\">\r\n                          <a href=\"/explore\">\r\n                            <i class=\"iconfont icon-ic-discover\"></i>\r\n                            <span class=\"gitee-nav__sidebar-name\">\r\n                              \r\n                            </span>\r\n                          </a>\r\n                        </li>\r\n                        <li class=\"gitee-nav__sidebar-item\">\r\n                          <a href=\"/gists\">\r\n                            <i class=\"iconfont icon-ic-gists1\"></i>\r\n                            <span class=\"gitee-nav__sidebar-name\">\r\n                              \r\n                            </span>\r\n                          </a>\r\n                        </li>\r\n                        <li class=\"gitee-nav__sidebar-item\">\r\n                          <a href=\"/enterprises\">\r\n                            <i class=\"iconfont icon-ic-enterprise\"></i>\r\n                            <span class=\"gitee-nav__sidebar-name\"></span>\r\n                          </a>\r\n                        </li>\r\n                        <li class=\"gitee-nav__sidebar-item\">\r\n                          <a href=\"/education\">\r\n                            <i class=\"iconfont icon-ic-education\"></i>\r\n                            <span class=\"gitee-nav__sidebar-name\"></span>\r\n                          </a>\r\n                        </li>\r\n                        <li class=\"gitee-nav__sidebar-item split-line\"></li>\r\n                        <li class=\"gitee-nav__sidebar-item\">\r\n                          <a href=\"/search\">\r\n                            <i class=\"iconfont icon-ic-search\"></i>\r\n                            <span class=\"gitee-nav__sidebar-name\"></span>\r\n                          </a>\r\n                        </li>\r\n                        <li class=\"gitee-nav__sidebar-item\">\r\n                          <a href=\"/help\">\r\n                            <i class=\"iconfont icon-help-circle\"></i>\r\n                            <span class=\"gitee-nav__sidebar-name\">\r\n                              \r\n                            </span>\r\n                          </a>\r\n                        </li>\r\n                        <li class=\"gitee-nav__sidebar-item\">\r\n                          <a href=\"/terms\">\r\n                            <i class=\"iconfont icon-file\"></i>\r\n                            <span class=\"gitee-nav__sidebar-name\">\r\n                              \r\n                            </span>\r\n                          </a>\r\n                        </li>\r\n                        <li class=\"gitee-nav__sidebar-item\">\r\n                          <a href=\"/about_us\">\r\n                            <i class=\"iconfont icon-issuepx\"></i>\r\n                            <span class=\"gitee-nav__sidebar-name\">\r\n                              \r\n                            </span>\r\n                          </a>\r\n                        </li>\r\n                        <li class=\"gitee-nav__sidebar-item\">\r\n                          <a href=\"/profile\">\r\n                            <i class=\"iconfont icon-edit\"></i>\r\n                            <span class=\"gitee-nav__sidebar-name\"></span>\r\n                          </a>\r\n                        </li>\r\n                        <li class=\"gitee-nav__sidebar-item\">\r\n                          <a href=\"/logout\" data-method=\"delete\" rel=\"nofollow\">\r\n                            <i class=\"iconfont icon-ic-logout\"></i>\r\n                            <span class=\"gitee-nav__sidebar-name\"></span>\r\n                          </a>\r\n                        </li>\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"gitee-nav__sidebar-bottom\">\r\n                    <div class=\"gitee-nav__sidebar-close-button\">\r\n                      <i class=\"fa fa-angle-double-left\"></i>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"item gitosc-logo\">\r\n                <a href=\"/\">\r\n                  <img\r\n                    class=\"ui inline image\"\r\n                    height=\"28\"\r\n                    src=\"https://gitee.com//logo.svg?20171024\"\r\n                    width=\"95\"\r\n                  />\r\n                  <img\r\n                    class=\"ui inline black image\"\r\n                    height=\"28\"\r\n                    src=\"https://gitee.com//logo-black.svg?20171024\"\r\n                    width=\"95\"\r\n                  />\r\n                </a>\r\n              </div>\r\n              <a href=\"/explore\" class=\"item \" title=\"\">\r\n                \r\n              </a>\r\n              <a href=\"/enterprises\" class=\"item \" title=\"\">\r\n                \r\n                <sup class=\"ui red label\"></sup>\r\n              </a>\r\n              <a href=\"/education\" class=\"item \" title=\"\">\r\n                \r\n              </a>\r\n              <a\r\n                href=\"https://blog.gitee.com/\"\r\n                class=\"item\"\r\n                id=\"gitee-blog\"\r\n                target=\"_blank\"\r\n                title=\"\"\r\n              >\r\n                \r\n              </a>\r\n              <div class=\"dropdown item ui\" id=\"my-gitee-dropdown\" tabindex=\"0\">\r\n                <a href=\"/masx200/dashboard\"></a>\r\n                <i class=\"dropdown icon\"></i>\r\n                <div class=\"menu transition hidden\" tabindex=\"-1\">\r\n                  <div class=\"header user-projects\">\r\n                    <a\r\n                      href=\"/masx200/projects\"\r\n                      class=\"pull-right\"\r\n                      target=\"_blank\"\r\n                    >\r\n                      \r\n                    </a>\r\n                    \r\n                    <span class=\"count\">(11)</span>\r\n                  </div>\r\n                  <a\r\n                    target=\"_blank\"\r\n                    href=\"/masx200/mvvm-reactive-view\"\r\n                    title=\"masx200/mvvm-reactive-view\"\r\n                    class=\"item\"\r\n                  >\r\n                    masx200/mvvm-reactive-view\r\n                  </a>\r\n                  <a\r\n                    target=\"_blank\"\r\n                    href=\"/masx200/webpack-react-vue-spa-awesome-config\"\r\n                    title=\"masx200/webpack-react-vue-spa-awesome-config\"\r\n                    class=\"item\"\r\n                  >\r\n                    masx200/webpack-react-vue-spa-awesome-config\r\n                  </a>\r\n                  <a\r\n                    target=\"_blank\"\r\n                    href=\"/masx200/custom-elements-random-define\"\r\n                    title=\"masx200/custom-elements-random-define\"\r\n                    class=\"item\"\r\n                  >\r\n                    masx200/custom-elements-random-define\r\n                  </a>\r\n                  <a\r\n                    target=\"_blank\"\r\n                    href=\"/masx200/importcjsamdumd\"\r\n                    title=\"masx200/importcjsamdumd\"\r\n                    class=\"item\"\r\n                  >\r\n                    masx200/importcjsamdumd\r\n                  </a>\r\n                  <a\r\n                    target=\"_blank\"\r\n                    href=\"/masx200/dom-element-attribute-agent-proxy\"\r\n                    title=\"masx200/dom-element-attribute-agent-proxy\"\r\n                    class=\"item\"\r\n                  >\r\n                    masx200/dom-element-attribute-agent-proxy\r\n                  </a>\r\n                </div>\r\n              </div>\r\n              <div class=\"center responsive-logo\">\r\n                <a href=\"/\">\r\n                  <img\r\n                    class=\"ui inline image\"\r\n                    height=\"24\"\r\n                    src=\"https://gitee.com//logo.svg?20171024\"\r\n                    width=\"85\"\r\n                  />\r\n                  <img\r\n                    class=\"ui inline black image\"\r\n                    height=\"24\"\r\n                    src=\"https://gitee.com//logo-black.svg?20171024\"\r\n                    width=\"85\"\r\n                  />\r\n                </a>\r\n              </div>\r\n              <div class=\"right menu userbar\" id=\"git-nav-user-bar\">\r\n                <div class=\"item git-nav-search-item\">\r\n                  <form\r\n                    accept-charset=\"UTF-8\"\r\n                    action=\"/search\"\r\n                    autocomplete=\"on\"\r\n                    data-text-filter=\"\"\r\n                    data-text-require=\"1\"\r\n                    id=\"navbar-search-form\"\r\n                    method=\"get\"\r\n                  >\r\n                    <div style=\"margin:0;padding:0;display:inline\">\r\n                      <input name=\"utf8\" type=\"hidden\" value=\"\" />\r\n                    </div>\r\n                    <div class=\"ui mini fluid input\">\r\n                      <input\r\n                        id=\"navbar-search-input\"\r\n                        name=\"q\"\r\n                        placeholder=\"...\"\r\n                        type=\"text\"\r\n                        value=\"\"\r\n                      />\r\n                      <input\r\n                        id=\"navbar-search-type\"\r\n                        name=\"type\"\r\n                        type=\"hidden\"\r\n                      />\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n                <div\r\n                  class=\"item ui dropdown empty\"\r\n                  data-count-path=\"/notifications/unread_count\"\r\n                  data-enable=\"\"\r\n                  data-mark-notice-path=\"/notifications/mark\"\r\n                  id=\"notice-dropdown\"\r\n                  tabindex=\"0\"\r\n                >\r\n                  <a href=\"/notifications\" class=\"remind-button\">\r\n                    <i class=\"iconfont icon-remind\"></i>\r\n                    <div class=\"notice-count total\">1</div>\r\n                  </a>\r\n                  <div\r\n                    class=\"notice-dropdown-panel menu transition hidden\"\r\n                    tabindex=\"-1\"\r\n                    style=\"left: -165px;\"\r\n                  >\r\n                    <div class=\"notice-dropdown-panel-header\">\r\n                      <div\r\n                        class=\"tab\"\r\n                        data-data-path=\"/notifications/notices?scope=referer\"\r\n                        data-html-path=\"/notifications/referer\"\r\n                        data-scope=\"referer\"\r\n                      >\r\n                        <div class=\"content\">\r\n                          @ <div class=\"notice-count referer\"></div>\r\n                        </div>\r\n                      </div>\r\n                      <div\r\n                        class=\"tab active\"\r\n                        data-data-path=\"/notifications/notices?scope=infos\"\r\n                        data-html-path=\"/notifications/infos\"\r\n                        data-scope=\"infos\"\r\n                      >\r\n                        <div class=\"content\">\r\n                          \r\n                          <div class=\"notice-count infos\">1</div>\r\n                        </div>\r\n                      </div>\r\n                      <div\r\n                        class=\"tab\"\r\n                        data-data-path=\"/notifications/notices?scope=messages\"\r\n                        data-html-path=\"/notifications/messages\"\r\n                        data-scope=\"messages\"\r\n                      >\r\n                        <div class=\"content\">\r\n                          \r\n                          <div class=\"notice-count messages\"></div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"item notice-dropdown-panel-container\">\r\n                      <div class=\"ui dimmer over active\">\r\n                        <div class=\"ui loader\"></div>\r\n                      </div>\r\n                      <div class=\"notice-list\" style=\"min-height: auto;\">\r\n                        <a\r\n                          class=\"noti\"\r\n                          href=\"/masx200/mvvm-reactive-view\"\r\n                          target=\"_blank\"\r\n                          data-type=\"project\"\r\n                          data-id=\"50555275\"\r\n                        >\r\n                          <div class=\"title\">\r\n                             masx200/mvvm-reactive-view \r\n                            https://github.com/masx200/mvvm-reactive-view.git\r\n                            \r\n                          </div>\r\n                          <div class=\"meta\">\r\n                            <time class=\"timeago\">2</time> {\" \"}\r\n                            <span class=\"namespace\">\r\n                              masx200/mvvm-reactive-view\r\n                            </span>\r\n                          </div>\r\n                        </a>\r\n                      </div>\r\n                      <div class=\"notice-dropdown-panel-blank\">\r\n                        \r\n                      </div>\r\n                    </div>\r\n                    <div class=\"notice-dropdown-panel-footer\">\r\n                      <div class=\"action\">\r\n                        <div class=\"side left\">\r\n                          <a href=\"javascript: void(0);\" class=\"mark-notices\">\r\n                            \r\n                          </a>\r\n                        </div>\r\n                        <div class=\"side right\">\r\n                          <a\r\n                            href=\"/notifications/infos\"\r\n                            class=\"load-all\"\r\n                            target=\"_blank\"\r\n                          >\r\n                            \r\n                          </a>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div\r\n                  class=\"ui dropdown link item\"\r\n                  id=\"git-nav-create\"\r\n                  tabindex=\"0\"\r\n                >\r\n                  <i class=\"iconfont icon-add-thin\"></i>\r\n                  <div class=\"right menu\" tabindex=\"-1\">\r\n                    <a href=\"/projects/new\" class=\"item\">\r\n                      <i class=\"add square icon\"></i>\r\n                      \r\n                    </a>\r\n                    <a href=\"/masx200/codes/new\" class=\"item\">\r\n                      <i class=\"code icon\"></i>\r\n                      \r\n                    </a>\r\n                    <a href=\"/organizations/new\" class=\"item\">\r\n                      <i class=\"group icon\"></i>\r\n                      \r\n                    </a>\r\n                    <a href=\"/enterprises/new\" class=\"item\">\r\n                      <i class=\"icon iconfont icon-enterprise\"></i>\r\n                      \r\n                    </a>\r\n                    <a href=\"/projects/oauth_github\" class=\"item\">\r\n                      <i class=\"github icon\"></i> GitHub \r\n                    </a>\r\n                  </div>\r\n                </div>\r\n                <div class=\"ui dropdown item\" id=\"git-nav-user\" tabindex=\"0\">\r\n                  <img\r\n                    alt=\"1081296_masx200\"\r\n                    class=\"ui avatar image\"\r\n                    src=\"https://avatar.gitee.com/uploads/96/1081296_masx200.png!avatar30?1566294318\"\r\n                  />\r\n                  <i class=\"dropdown icon\"></i>\r\n                  <div class=\"right menu\" tabindex=\"-1\">\r\n                    <a href=\"/masx200\" class=\"item\">\r\n                      <i class=\"iconfont icon-ic-home\"></i>\r\n                      \r\n                    </a>\r\n                    <a href=\"/profile\" class=\"item\">\r\n                      <div class=\"mayun-icon my-ic-edit my-ic-edit-dims\"></div>\r\n                      \r\n                    </a>\r\n                    <div class=\"divider\"></div>\r\n                    <a href=\"/gists\" class=\"item\">\r\n                      <div class=\"iconfont icon-ic-gist\"></div>\r\n                      \r\n                    </a>\r\n                    <a\r\n                      href=\"https://gitee.com/help\"\r\n                      class=\"item\"\r\n                      target=\"_blank\"\r\n                    >\r\n                      <div class=\"mayun-icon my-ic-help my-ic-help-dims\"></div>\r\n                      \r\n                    </a>\r\n                    <div class=\"divider\"></div>\r\n                    <a\r\n                      href=\"/logout\"\r\n                      class=\"item destroy-user-session\"\r\n                      data-method=\"delete\"\r\n                      rel=\"nofollow\"\r\n                    >\r\n                      <div class=\"mayun-icon my-ic-exit my-ic-exit-dims\"></div>\r\n                      \r\n                    </a>\r\n                  </div>\r\n                </div>\r\n                <script></script>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </header>\r\n      </>\r\n    ]}\r\n  </>\r\n);\r\nconsole.log(vdom, temp_ref, lirefs);\r\ndocument.body.appendChild(MountElement(vdom, document.createElement(\"div\")));\r\n","// @ts-nocheck\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport {\r\n  Condition,\r\n  createElement,\r\n  //   createElement,\r\n  createRef,\r\n  createState,\r\n  h,\r\n  html,\r\n  MountElement,\r\n  watch\r\n} from './mvvm-view';\r\nconsole.log([h, createElement]);\r\n/* console.log([\r\n  Fragment,\r\n  createRef,\r\n  html,\r\n  MountElement,\r\n  h,\r\n  createElement,\r\n  createState,\r\n  watch,\r\n  Condition,\r\n  createComponent,\r\n  useMounted,\r\n  useUnMounted\r\n]); */\r\n// console.log(createElement(Fragment));\r\n(() => {\r\n  var mystate = createState(true);\r\n  //   watch(mystate, console.log);\r\n  console.log(\"mystatetest\", mystate);\r\n  var vdom = Condition(\r\n    mystate,\r\n    \"testtrue\",\r\n    createElement(\"div\", undefined, \"testfalese\")\r\n  );\r\n  var vdom2 = Condition(\r\n    mystate,\r\n    undefined,\r\n    createElement(\"div\", undefined, \"testwwwwwwwwwfalese\")\r\n  );\r\n  var vdom3 = Condition(\r\n    mystate,\r\n    createElement(\"div\", undefined, \"testwwwwwwwtrueeeeeeeeee\"),\r\n    undefined\r\n  );\r\n  console.log([vdom, vdom2, vdom3]);\r\n  document.body.appendChild(\r\n    MountElement([vdom, vdom2, vdom3], document.createElement(\"div\"))\r\n  );\r\n  var timer = setInterval(() => {\r\n    mystate.value = !mystate.value;\r\n    // setInterval(() => {\r\n    //   mystate.value = true;\r\n    // }, 1500);\r\n  }, 1000);\r\n  setTimeout(() => {\r\n    clearInterval(timer);\r\n  }, 10000);\r\n})();\r\n\r\n(() => {\r\n  const stylestate = createState({ display: \"block\", width: \"100%\" });\r\n  const inputref = createRef();\r\n  const state1 = createState(\"hello\");\r\n  const vdom = html`\r\n    <div style=${{ display: \"block\", width: \"100%\" }}>hello world!</div>\r\n    <input\r\n      style=\"width:100%\"\r\n      @input=${e => (state1.value = e.target.value)}\r\n      *ref=${inputref}\r\n      @change=${e => (state1.value = e.target.value)}\r\n      id=\"co11111111111de16\"\r\n      class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 snippet code16d form-control\"\r\n      value=${state1}\r\n    />\r\n    <h1 style=${stylestate}>mvvm-reactive-view</h1>\r\n    <button\r\n      @click=${() => {\r\n        stylestate.color = \"red\";\r\n      }}\r\n    >\r\n      red</button\r\n    ><button\r\n      @click=${() => {\r\n        stylestate.color = \"green\";\r\n      }}\r\n    >\r\n      green\r\n    </button>\r\n  `;\r\n  watch(stylestate, console.log);\r\n  watch(state1, console.log);\r\n  console.log(vdom);\r\n  MountElement(vdom, document.getElementById(\"app\"));\r\n})();\r\n\r\n// console.log(MountElement);\r\n// console.log(h);\r\n// console.log([].flat);\r\n\r\n// console.log(Object.fromEntries);\r\n// console.log(setImmediate);\r\n(() => {\r\n  const vdom2 = html`\r\n    <div *text=${\"<a>textcontent</a>\"}></div>\r\n    <div *html=${\"<a>innerhtml</a>\"}></div>\r\n  `;\r\n  console.log(vdom2);\r\n  document.body.appendChild(MountElement(vdom2, document.createElement(\"div\")));\r\n\r\n  const state1 = createState(\"<a>textcontent</a>\");\r\n\r\n  const state2 = createState(\"<a>innerhtml</a>\");\r\n  /* setInterval(() => {\r\n  state2.value = state2.value + \"qw\";\r\n  //   if (state2.value.length > 60) {\r\n  //     state2.value = \"\";\r\n  //   }\r\n  state1.value = state2.value;\r\n}, 2000); */\r\n  const vdom3 = html`\r\n  <textarea value=${state1} @input=${[\r\n    e => {\r\n      state1.value = e.target.value;\r\n    }\r\n  ]}></textarea>\r\n  <input value=${state2} style='width:100%' @change=${[\r\n    e => {\r\n      state2.value = e.target.value;\r\n    }\r\n  ]}  \r\n@input=${[\r\n    e => {\r\n      state2.value = e.target.value;\r\n    }\r\n  ]}\r\n></input>\r\n`;\r\n  console.log(vdom3);\r\n  // watch(state1, console.log);\r\n  // watch(state2, console.log);\r\n  document.body.appendChild(MountElement(vdom3, document.createElement(\"div\")));\r\n  //////////////////////\r\n  const state3 = createState(\"<a>innerhtml</a>\");\r\n  const vdom4 = (\r\n    <>\r\n      <div _text={state3}></div>\r\n      <div _html={state3}></div>\r\n\r\n      <script> </script>\r\n    </>\r\n  );\r\n\r\n  // setInterval(() => {\r\n  //   state3.value = String(Math.random());\r\n  // }, 2000);\r\n  watch(state1, state => (state3.value = state));\r\n  watch(state2, state => (state1.value = state));\r\n  console.log(state3);\r\n  // watch(state3, console.log);\r\n  console.log(vdom4);\r\n  document.body.appendChild(MountElement(vdom4, document.createElement(\"div\")));\r\n\r\n  /////////////////////\r\n  const objstate = createState({ a: \"w\", 6: \"xxxxxxx\", tttttttt: \"true\" });\r\n  const objstate2 = createState(`{ a: \"w\", 6: \"xxxxxxx\", tttttttt: \"true\" }`);\r\n  // watch(objstate, console.log);\r\n  // watch(objstate2, console.log);\r\n  console.log(objstate);\r\n  setTimeout(() => {\r\n    //\r\n    objstate.length = 10;\r\n    objstate2.value = 2222222222222;\r\n    //   objstate.push(Math.random());\r\n    //   objstate.push(Math.random());\r\n  }, 2000);\r\n\r\n  const objstatearray = createState([\r\n    { a: \"w\", 6: \"xxxxxxx\", tttttttt: \"true\" },\r\n    1,\r\n    true,\r\n    \"test\"\r\n  ]);\r\n  const stylestate = createState({ display: \"block\", width: \"100%\" });\r\n\r\n  //\r\n  const classsetstate = createState(\r\n    new Set([\"xxxxxxx\", \"wwwwwww\", \"eeeeeeee\"])\r\n  );\r\n\r\n  console.log(\"classsetstate\", classsetstate);\r\n  watch(classsetstate, a => console.log(a));\r\n  setTimeout(() => {\r\n    classsetstate.add(\"vvvvvvvvvvv\");\r\n  }, 5000);\r\n  setTimeout(() => {\r\n    classsetstate.delete(\"eeeeeeee\");\r\n  }, 4000);\r\n\r\n  //\r\n\r\n  const vdomobj = html`\r\n    <div style=${{ display: \"block\", width: \"100%\" }}>${objstate2}</div>\r\n    <div style=${stylestate} class=${new Set([\"wwwwwww\", \"eeeeeeee\"])}>\r\n      ${objstatearray}\r\n    </div>\r\n    ${objstate}\r\n    <div style=${stylestate} class=${classsetstate} />\r\n  `;\r\n  document.body.appendChild(\r\n    MountElement(vdomobj, document.createElement(\"div\"))\r\n  );\r\n  console.log(vdomobj);\r\n\r\n  /* requestAnimationFrame(() => {\r\n  //   watch(objstatearray, console.log);\r\n}); */\r\n\r\n  requestAnimationFrame(() => {\r\n    objstatearray.unshift(Math.random());\r\n    //   objstate.sort();\r\n    objstatearray.push(\"qqqqqqqqq\");\r\n    //   objstatearray.push(Math.random());\r\n\r\n    objstatearray.unshift(Math.random());\r\n    //   objstatearray.sort();\r\n    objstatearray.push(\"qqqqqqqqq\");\r\n    objstatearray.length = 10;\r\n    objstatearray.push(Math.random());\r\n  });\r\n  console.log(objstatearray);\r\n  const timer = setInterval(() => {\r\n    objstate2.value += String(Math.random());\r\n  }, 1000);\r\n  setTimeout(() => {\r\n    clearInterval(timer);\r\n  }, 10000);\r\n  console.log([objstate2, createState(objstate2)]);\r\n  //   console.log(Object.getOwnPropertyDescriptors(objstatearray));\r\n  console.log(Object.entries(objstate));\r\n})();\r\n(() => {\r\n  var vdom = html`\r\n    <math>\r\n      <mrow>\r\n        <mrow>\r\n          <msup>\r\n            <mi>a</mi>\r\n            <mn>2</mn>\r\n          </msup>\r\n          <mo>+</mo>\r\n          <msup>\r\n            <mi>b</mi>\r\n            <mn>2</mn>\r\n          </msup>\r\n        </mrow>\r\n        <mo>=</mo>\r\n        <msup>\r\n          <mi>c</mi>\r\n          <mn>2</mn>\r\n        </msup>\r\n      </mrow>\r\n    </math>\r\n  `;\r\n  document.body.appendChild(MountElement(vdom, document.createElement(\"div\")));\r\n  console.log(vdom);\r\n})();\r\n\r\n/*const mytestclass = class extends HTMLElement {\r\n  constructor(...argwwwuments) {\r\n    super();\r\n    // console.log(argwwwuments);\r\n  }\r\n};\r\ncustomElements.define(\"mejej-rjeken\", mytestclass);\r\nconsole.log(mytestclass, RandomDefine(mytestclass));\r\n\r\nconsole.log(\r\n  Array(999)\r\n    .fill()\r\n    .map(() => RandomDefine(class extends HTMLElement {}))\r\n);\r\n*/\r\nclass Bqqqqqqqqq extends HTMLElement {}\r\nclass Aqqqqqqqqq extends HTMLElement {}\r\nconsole.log(customElements, [...customElements]);\r\ncustomElements.define(\"qqqqqqqqqq-----a\", Bqqqqqqqqq);\r\ncustomElements.define(\"qqqqqqqqqq-----a\", Aqqqqqqqqq);\r\ndocument.body.appendChild(\r\n  MountElement(\r\n    [h(Bqqqqqqqqq), createElement(Aqqqqqqqqq)],\r\n    document.createElement(\"div\")\r\n  )\r\n);\r\n","/* eslint-disable @typescript-eslint/ban-ts-ignore */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport {\r\n  createComponent,\r\n  createElement,\r\n  createState,\r\n  h,\r\n  //   createElement,\r\n  html,\r\n  MountElement,\r\n  watch\r\n} from \"./mvvm-view\";\r\nconsole.log([h, createElement]);\r\n/* console.log([\r\n  condition,\r\n  Fragment,\r\n  createRef,\r\n  html,\r\n  MountElement,\r\n  h,\r\n  createElement,\r\n  createState,\r\n  watch,\r\n  \r\n  createComponent,\r\n  useMounted,\r\n  useUnMounted\r\n]); */\r\n// setTimeout(\r\n(() => {\r\n  (() => {\r\n    var myvdom1111111 = createElement(\r\n      class extends HTMLElement {\r\n        constructor(...argwwwuments) {\r\n          super();\r\n          console.log(argwwwuments);\r\n        }\r\n      },\r\n      {\r\n        style: {\r\n          display: \"block\"\r\n        }\r\n      },\r\n      \"hhhhhhhhhhhhtests\"\r\n    );\r\n    console.log(myvdom1111111);\r\n    document.body.appendChild(\r\n      MountElement(myvdom1111111, document.createElement(\"div\"))\r\n    );\r\n    document.body.appendChild(\r\n      MountElement(\r\n        createElement(\r\n          (() => {\r\n            var Aaaaaaaaaa = class extends HTMLElement {};\r\n            /*  \r\n                  static defaultProps = {\r\n                    name: \"HelloKitty\",\r\n                    myAge: 18\r\n                  };\r\n                  \r\n                  */\r\n            Aaaaaaaaaa.defaultProps = {\r\n              name: \"HelloKitty\",\r\n              myAge: 18\r\n            };\r\n            return Aaaaaaaaaa;\r\n          })()\r\n        ),\r\n        document.createElement(\"div\")\r\n      )\r\n    );\r\n    const myele1 = createElement(\r\n      class extends HTMLElement {\r\n        static defaultProps = {\r\n          name: \"aaaaaaaaaaHelloKitty\",\r\n          myAge: 1999999999999998\r\n        };\r\n      }\r\n    );\r\n    console.log(myele1);\r\n    document.body.appendChild(\r\n      MountElement(myele1, document.createElement(\"div\"))\r\n    );\r\n    document.body.appendChild(\r\n      MountElement(myele1, document.createElement(\"div\"))\r\n    );\r\n  })();\r\n})(); /* , 0); */\r\n/* (async () => {\r\n  const { default: importcjsamdumd } = await import(\r\n    \"https://cdn.jsdelivr.net/gh/masx200/importcjsamdumd@latest/dist/index.esm.min.js\"\r\n  );\r\n\r\n  await importcjsamdumd({\r\n    omi: \"https://cdn.jsdelivr.net/npm/omi@6.11.3/dist/omi.esm.js\"\r\n  });\r\n\r\n  return await importcjsamdumd(\r\n    \"https://cdn.jsdelivr.net/npm/omim@0.1.17/button/index.js\"\r\n  );\r\n})().then(console.log); */\r\n// ));\r\n{\r\n  const vdom = createElement(\"div\", [\r\n    html`\r\n      <html>\r\n        testhtml\r\n      </html>\r\n      <button\r\n        onclick=${[\r\n          console.log,\r\n          () => {\r\n            console.log(\"onclick\");\r\n          }\r\n        ]}\r\n        *text=\"clicktest\"\r\n        @click=${[\r\n          console.log,\r\n          () => {\r\n            console.log(\"@click\");\r\n          }\r\n        ]}\r\n      />\r\n      <style></style>\r\n    `\r\n  ]);\r\n\r\n  document.body.appendChild(MountElement(vdom, document.createElement(\"div\")));\r\n  console.log(\"onclick\", \" @click\", vdom);\r\n}\r\n(async () => {\r\n  const defaultProps = { cccccc: \"bbbbbbb\" };\r\n  const css = await (await fetch(\r\n    \"https://cdn.jsdelivr.net/gh/masx200/masx200.github.io@4.2.2/src/assetscss/github-6556dfa9be535e551ffffaadfecdad99.min.css\"\r\n  )).text();\r\n  /* createComponent */\r\n  const Hellowordclass = Object.assign(\r\n    () => {\r\n      return createElement(\"div\", [\"hello world\"], \"createComponent\");\r\n    },\r\n    { css, defaultProps }\r\n  );\r\n  const vdom = <Hellowordclass></Hellowordclass>;\r\n  let vdom1 = h(Hellowordclass);\r\n  document.body.appendChild(\r\n    MountElement([vdom, vdom1], document.createElement(\"div\"))\r\n  );\r\n  console.log([\"createComponent\", Hellowordclass, vdom]);\r\n})();\r\n(() => {\r\n  const colortext = createState(\"red\");\r\n  const stylestate = createState({\r\n    display: \"block\",\r\n    width: \"100%\",\r\n    color: colortext\r\n  });\r\n  /* const inputref = createRef();\r\n  const state1 = createState(\"hello\"); */\r\n  const vdom = html`\r\n    <hr />\r\n    <h1 style=${stylestate}>input color ${colortext}</h1>\r\n    <input _value=${colortext} />\r\n    <hr />\r\n  `;\r\n  /* watch(stylestate, console.log);\r\n  watch(state1, console.log); */\r\n  console.log([vdom, colortext, stylestate]);\r\n  // @ts-ignore\r\n  watch([colortext, stylestate], (a, b) => console.log([a, { ...b }]));\r\n  document.body.appendChild(MountElement(vdom, document.createElement(\"div\")));\r\n})();\r\n(() => {\r\n  const colortext = createState(\"blue\");\r\n  const stylestate = createState({\r\n    display: \"block\",\r\n    width: \"100%\",\r\n    color: colortext\r\n  });\r\n  /* const inputref = createRef();\r\n    const state1 = createState(\"hello\"); */\r\n  const vdom = html`\r\n    <hr />\r\n    <h1 style=${stylestate}>input color ${colortext}</h1>\r\n    <input _value=${colortext} />\r\n    <hr />\r\n  `;\r\n  /* watch(stylestate, console.log);\r\n    watch(state1, console.log); */\r\n  //   console.log([vdom, colortext, stylestate]);\r\n  var inter = setInterval(() => {\r\n    // @ts-ignore\r\n    colortext.value = \"#\" + (Math.random() * 16 ** 7).toString(16).slice(0, 6);\r\n  }, 1000);\r\n  setTimeout(() => {\r\n    clearInterval(inter);\r\n  }, 10000);\r\n  // @ts-ignore\r\n  watch([colortext, stylestate], (a, b) => console.log([a, { ...b }]));\r\n  document.body.appendChild(MountElement(vdom, document.createElement(\"div\")));\r\n})();\r\n","/* eslint-disable @typescript-eslint/ban-ts-ignore */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport {\r\n  createComponent,\r\n  createElement,\r\n  //   createElement,\r\n  createState,\r\n  h,\r\n  html,\r\n  MountElement,\r\n  useMounted,\r\n  useUnMounted,\r\n  watch\r\n} from \"./mvvm-view\";\r\n// eslint-disable-next-line @typescript-eslint/ban-ts-ignore\r\n// @ts-ignore\r\nimport mycss from \"./test.css\";\r\nconsole.log([h, createElement]);\r\n(() => {\r\n  var mycom = createComponent(\r\n    Object.assign(\r\n      (props, children) => {\r\n        const number = createState(1);\r\n        useMounted(() => {\r\n          console.log(\"mounted1\");\r\n        });\r\n        useMounted(() => {\r\n          console.log(\"mounted2\", props);\r\n        });\r\n        useUnMounted(() => {\r\n          console.log(\"unmounted\");\r\n        });\r\n        watch(props.cccccc, cccccc => {\r\n          console.log(\"cccccc\", cccccc);\r\n        });\r\n        return (\r\n          <div\r\n            onclick={() => {\r\n              // @ts-ignore\r\n              number.value++;\r\n            }}\r\n          >\r\n            {[\r\n              number,\r\n              <br />,\r\n              \"wwwwwwwwwwww\",\r\n              createElement(\"div\", [\"createComponent\"]),\r\n              children,\r\n              createElement(\"div\", <>props cccccc {props.cccccc}</>)\r\n            ]}\r\n          </div>\r\n        );\r\n      },\r\n      { defaultProps: { cccccc: \"bbbbbbb\" }, css: mycss }\r\n    )\r\n  );\r\n  //   /* mycom.defaultProps = { cccccc: \"bbbbbbb\" };\r\n  //   mycom.css = mycss; /* css``; */ */\r\n  const myclasscomponent = mycom;\r\n  let vdom = createElement(\r\n    myclasscomponent,\r\n    {\r\n      aaaaaa: 222222222,\r\n      tttttt: \"dddddddddd\"\r\n    },\r\n    \"children\"\r\n  );\r\n  console.log([vdom, myclasscomponent, mycom]);\r\n  document.body.appendChild(MountElement(vdom, document.createElement(\"div\")));\r\n  setTimeout(() => {\r\n    vdom.element.forEach(e => {\r\n      e.setAttribute(\"cccccc\", \"aaaaaaaaaaaaaaaaaabbbbbbbbbbnnnnnnnnnnnnn\");\r\n    });\r\n    vdom = undefined;\r\n  }, 5000);\r\n  document.body.appendChild(\r\n    MountElement(\r\n      createElement(\r\n        myclasscomponent,\r\n\r\n        [\r\n          <form\r\n            id=\"newsletterForm\"\r\n            class=\"newsletter-form nodisable\"\r\n            name=\"newsletter-form\"\r\n            action=\"https://www.mozilla.org/en-US/newsletter/\"\r\n            method=\"post\"\r\n          >\r\n            <div class=\"newsletter-head\">\r\n              <h2 class=\"newsletter-teaser\"> Web </h2>\r\n              <p class=\"newsletter-description\">\r\n                 MDN \r\n              </p>\r\n\r\n              <p class=\"newsletter-lang\"></p>\r\n            </div>\r\n\r\n            <div class=\"newsletter-fields\">\r\n              <input type=\"hidden\" id=\"fmt\" name=\"fmt\" value=\"H\" />\r\n              <input\r\n                type=\"hidden\"\r\n                id=\"newsletterNewslettersInput\"\r\n                name=\"newsletters\"\r\n                value=\"app-dev\"\r\n              />\r\n              <div id=\"newsletterErrors\" class=\"newsletter-errors\"></div>\r\n\r\n              <div\r\n                id=\"newsletterEmail\"\r\n                class=\"form-group newsletter-group-email\"\r\n              >\r\n                <label for=\"newsletterEmailInput\" class=\"form-label offscreen\">\r\n                  \r\n                </label>\r\n                <input\r\n                  type=\"email\"\r\n                  id=\"newsletterEmailInput\"\r\n                  name=\"email\"\r\n                  class=\"form-input newsletter-input-email\"\r\n                  required=\"\"\r\n                  placeholder=\"you@example.com\"\r\n                  size=\"30\"\r\n                />\r\n              </div>\r\n\r\n              <div\r\n                id=\"newsletterPrivacy\"\r\n                class=\"form-group form-group-agree newsletter-group-privacy hidden\"\r\n              >\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"newsletterPrivacyInput\"\r\n                  name=\"privacy\"\r\n                  required=\"\"\r\n                />\r\n                <label for=\"newsletterPrivacyInput\">\r\n                   Mozilla \r\n                  <a href=\"https://www.mozilla.org/privacy/\"></a>\r\n                  \r\n                </label>\r\n              </div>\r\n              <div id=\"newsletterSubmit\" class=\"newsletter-group-submit\">\r\n                <button\r\n                  id=\"newsletter-submit\"\r\n                  type=\"submit\"\r\n                  class=\"button neutral newsletter-submit\"\r\n                >\r\n                  \r\n                  <svg\r\n                    class=\"icon icon-arrow\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"23\"\r\n                    height=\"28\"\r\n                    viewBox=\"0 0 23 28\"\r\n                    aria-hidden=\"true\"\r\n                  >\r\n                    <path d=\"M23 15a2.01 2.01 0 0 1-.578 1.422L12.25 26.594c-.375.359-.891.578-1.422.578s-1.031-.219-1.406-.578L8.25 25.422c-.375-.375-.594-.891-.594-1.422s.219-1.047.594-1.422L12.828 18h-11C.703 18 0 17.062 0 16v-2c0-1.062.703-2 1.828-2h11L8.25 7.406a1.96 1.96 0 0 1 0-2.812l1.172-1.172c.375-.375.875-.594 1.406-.594s1.047.219 1.422.594l10.172 10.172c.375.359.578.875.578 1.406z\"></path>\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        ]\r\n      ),\r\n      document.createElement(\"div\")\r\n    )\r\n  );\r\n})();\r\n","import { render, h } from './mvvm-view';\r\n/* eslint-disable @typescript-eslint/ban-ts-ignore */\r\nsetTimeout(() => {\r\n  // @ts-ignore\r\n  Object.values(Object.fromEntries(customElements))\r\n    .map(c => render(h(c)))\r\n    .forEach(e => document.body.appendChild(e));\r\n}, 8000);\r\nsetTimeout(() => {\r\n  // @ts-ignore\r\n  Object.values(Object.fromEntries(customElements))\r\n    .map(c => new c())\r\n    .forEach(e => document.body.appendChild(e));\r\n}, 8000);\r\n","import { createState, watch } from \"./mvvm-view\";\r\n\r\nconst funstate = createState(() => {});\r\nwatch(funstate, fun => {\r\n  console.log([funstate, fun]);\r\n});\r\nrequestAnimationFrame(() => {\r\n  setTimeout(() => {\r\n    funstate.value = class extends HTMLElement {};\r\n  }, 50);\r\n});\r\nconsole.dir(funstate);\r\n","import {\r\n  Switchable,\r\n  createComponent,\r\n  createState,\r\n  render,\r\n  h,\r\n  watch\r\n} from \"./mvvm-view\";\r\n// import { watch } from \"../../dist\";\r\nconst com1 = createComponent(() => {\r\n  return <h1>component 1</h1>;\r\n});\r\nconst com2 = createComponent(() => {\r\n  return <h1>component 2</h1>;\r\n});\r\nconst com3 = createComponent(() => {\r\n  return <h1>component 3</h1>;\r\n});\r\nconst com4 = () => {\r\n  return <h1>component 4</h1>;\r\n};\r\nconst mystate = createState(com1);\r\nconst vdom = Switchable(mystate);\r\nconst element = render(vdom);\r\ndocument.body.appendChild(element);\r\nsetTimeout(() => {\r\n  mystate.value = com2;\r\n  setTimeout(() => {\r\n    mystate.value = com3;\r\n    setTimeout(() => {\r\n      mystate.value = com4;\r\n    }, 2000);\r\n  }, 2000);\r\n}, 2000);\r\nconsole.log([vdom, mystate, com1, com2, com3, com4]);\r\nwatch(mystate, state => {\r\n  console.log([state, element]);\r\n});\r\n\r\ndocument.body.appendChild(\r\n  render(\r\n    h(() => (\r\n      <div>\r\n        <button\r\n          $text=\"component 1\"\r\n          onclick={() => {\r\n            mystate.value = com1;\r\n          }}\r\n        />\r\n        <button\r\n          $text=\"component 2\"\r\n          onclick={() => {\r\n            mystate.value = com2;\r\n          }}\r\n        />\r\n        <button\r\n          $text=\"component 3\"\r\n          onclick={() => {\r\n            mystate.value = com3;\r\n          }}\r\n        />\r\n        <button\r\n          $text=\"component 4\"\r\n          onclick={() => {\r\n            mystate.value = com4;\r\n          }}\r\n        />\r\n      </div>\r\n    ))\r\n  )\r\n);\r\n"],"names":["privateData","WeakMap","wrappers","pd","event","get","setCancelFlag","data","passiveListener","cancelable","canceled","preventDefault","console","error","Event","eventTarget","set","this","eventPhase","currentTarget","stopped","immediateStopped","timeStamp","Date","now","Object","defineProperty","value","enumerable","keys","i","length","key","defineRedirectDescriptor","[object Object]","configurable","defineCallDescriptor","apply","arguments","getWrapper","proto","prototype","wrapper","BaseEvent","CustomEvent","call","create","constructor","writable","isFunc","getOwnPropertyDescriptor","getPrototypeOf","isStopped","setPassiveListener","type","stopPropagation","stopImmediatePropagation","Boolean","bubbles","composed","cancelBubble","window","setPrototypeOf","listenersMap","ATTRIBUTE","isObject","x","getListeners","listeners","TypeError","defineEventAttribute","eventTargetPrototype","eventName","node","listenerType","listener","next","prev","delete","newNode","passive","once","defineCustomEventTarget","eventNames","CustomEventTarget","EventTarget","Array","isArray","types","Map","fromPairs_1","a","isString","isnumber","isboolean","isundefined","issymbol","options","optionsIsObj","capture","undefined","wrappedEvent","err","handleEvent","defaultPrevented","e","event_target","customElements","CustomElementRegistry","aa","Set","split","g","b","has","test","l","isConnected","__CE_isImportDocument","Document","parentNode","ShadowRoot","host","n","nextSibling","p","d","c","nodeType","Node","ELEMENT_NODE","f","localName","getAttribute","import","add","firstChild","__CE_shadowRoot","r","u","v","w","__CE_patched","push","__CE_state","connectedCallback","y","z","disconnectedCallback","A","__CE_hasRegistry","readyState","__CE_documentLoadHandled","addEventListener","ownerDocument","defaultView","constructionStack","constructorFunction","Error","pop","t","__CE_definition","attributeChangedCallback","observedAttributes","B","document","MutationObserver","bind","observe","childList","subtree","C","disconnect","ea","Promise","D","E","j","o","indexOf","addedNodes","Function","SyntaxError","k","h","m","q","adoptedCallback","shift","reject","some","s","define","upgrade","whenDefined","polyfillWrapFlushCallback","F","createElement","G","createElementNS","ha","importNode","ia","prepend","ja","append","ka","DocumentFragment","la","H","cloneNode","I","appendChild","J","insertBefore","K","removeChild","L","replaceChild","M","N","Element","attachShadow","O","P","Q","setAttribute","R","removeAttribute","S","getAttributeNS","T","setAttributeNS","U","removeAttributeNS","ma","insertAdjacentElement","na","insertAdjacentHTML","oa","pa","V","before","qa","after","ra","replaceWith","sa","remove","ta","HTMLElement","W","ua","va","wa","Y","Z","forcePolyfill","X","TEXT_NODE","childNodes","slice","COMMENT_NODE","textContent","join","createTextNode","toLowerCase","previousSibling","lastChild","String","innerHTML","content","namespaceURI","self","Reflect","flat","arrayflat","depth","reduce","acc","val","concat","flattenDeep","arr1","result","pairs","index","pair","fromEntries","isplainobject","isobject","gettagtype","isstring","isfunction","isarray","toString","replace","trim","isSet","isMap","isWeakMap","Proxy","acceptValue","tag","attr","attrtype","includes","hyphenateRE","hyphenate","str","ownKeys","valuestring","isinputcheckbox","ele","geteletagname","createeleattragentreadwrite","temp","outputattrs","isinputtextortextareaflag","tagname","getAttributeNames","from","Infinity","filter","target","mustUseDomProp","JSON","parse","csstext","obj","stringify","entries","map","classtext","setattribute","otherdescipter","myvalue","tagName","global","freeSelf","freeGlobal","root","Symbol","objectProto","hasOwnProperty","nativeObjectToString","symToStringTag","toStringTag","isOwn","unmasked","nullTag","undefinedTag","getRawTag","objectToString","symbolTag","isObjectLike","baseGetTag","NAN","NaN","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","isSymbol","other","valueOf","isBinary","FUNC_ERROR_TEXT","nativeMax","Math","max","nativeMin","min","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","args","thisArg","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","setTimeout","timeWaiting","debounced","isInvoking","clearTimeout","toNumber","cancel","flush","cached_callback_eventlistner","cached_create_componet","cached_callback_debounced_watchs","construct","deleteProperty","preventExtensions","propertyKey","watchrecord","ctxopen","MountedSet","UnMountedSet","StateSet","useMounted","fun","isFunction","useUnMounted","closectx","clearall","addonelistner","removeonelistner","cancelsubscribe","debouncedispatch","isReactiveState","ReactiveState","eventtargetsymbol","memlisteners","dispatchsymbol","subscribesymbol","removeallistenerssymbol","addallistenerssymbol","init","state","debouncedfun","debounce","eventname","name","dispatchEvent","detail","forEach","callback","removeEventListener","isprimitive","eventlistener","possiblecallback","toPrimitive","merge_entries","VirtualElementSet","WeakSet","Letter_case_and_Chinese","isVirtualdom","createVirtualElement","props","children","assign","propsentries","propsentriesNOTevents","startsWith","Entries_beginning_with_a_letter","virtual","vdom","element","bindattr","onevent","directives","freeze","isvalidvdom","every","isclassextendsHTMLElement","initclass","cssrulestocsstext","cssrules","cssText","charactorlist","fill","fromCharCode","hexnumberlist","charactorandnumberlist","getrandomstringandnumber","floor","random","elementset","for","elementmap","extendsname","RandomDefineCustomElement","table","Componentstatusname","outputentrie","find","elementname","extends","iterator","componentsymbol","seteletext","setelehtml","appendchild","container","createDocumentFragment","namespace","createtextnode","svgnamespace","mathnamespace","domaddlisten","getchildren","getchildNodes","querySelectorAll","selector","toArray","clear","isNode","MountElement","el","body","documentElement","head","elesarray","mount","render","arr","watch","statearray","debouncedcallback","stateandlisteners","state1","cachedfun","listenfun","requestAnimationFrame","rewatch","isconnected","isConnectedstate","createhtmlandtextdirective","errorname","text","extenddirectives","directive","ref","_vdom","html","eventlistenerssymbol","callarray","bindstatesymbol","throwinvalideletype","reactive","textnode","nodeValue","autocreateclass","fragmentnode","propsjson","attribute1","createeleattr","primitivestate","callbacks","values","componentsstylesheet","sourcecssblobCache","savestyleblob","urltext","prefix","source","cachedBlob","bloburl","URL","createObjectURL","Blob","prefixcssrules","cssRulesarray","cssrule","cssstylerule","selectorold","selectorText","stylebodyold","selectoraftertransform","selectorTextone","prefixselector","rulesarr","cssRules","conditionText","href","parsecsstext","styleelement","implementation","createHTMLDocument","oldcsstotransformedcss","registercssprefix","cachedtext","cssnewtext","waitloadallstyle","containerthis","all","styleurl","resolve","stylelinkelement","rs","loaderrorfun","onload","onerror","url","rel","setimmediate","then","onmounted","innerstatesymbol","innerwatchrecords","onunmounted","readysymbol","firstinstalledcallback","componentelement","AttrChange","defaultProps","attrs","mutations","mutation","qualifiedName","attributeName","attributes","waittranformcsssymbol","attributessymbol","elementsymbol","inner_vdom_symbol","mountedsymbol","unmountedsymbol","createComponent","custfun","cached_class","css","Component","thisattributess","readonlyprop","readonlyproxy","possiblyvirtualdom","vdomarray","thencallbackfirst","thencallbacksecond","innervdom","waitcallback","propreactivestate","propsorchildren","typenormalized","propsnormalized","childrennormalized","truevdomsymbol","falsevdomsymbol","trueelesymbol","falseelesymbol","handletrue","handlefalse","conditon","iftrue","iffalse","true","false","optionstrue","optionsfalse","Condition","elementtomount","getproperyreadproxy","myvalueobj","property","setter","state1array","reactivestate","getter","st","possiblevalue","memorized","newvalue","Setprototype","Mapprototype","deepobserveaddpath","patharray","ancestor","RegExp","fakeobj","argumentslist","thisarg","argarray","descripter","observedeepagent","set_prototype","createstate","initobj","containReactiveState","state_entries","nvalue","objproxyhandler","deepflage","deepobserve","_target_","resultvalue","returnvalue","dele","size","listvalueattr","listinnervdom","listinnerelement","cached_realele","ListMap","list","mapfun","ITEMfactory","possiblevdom","con","domchildren","newlength","oldlength","cached_element","thiscom","computed","Number","cancel_watch_symbol","cached_class_element","switch_mount_symbol","Switchable","funstate","eleclass","eleme","mountrealelement","elementreal","callmountswitch","createRef","model","bindattribute","domprop","eventnames","eventsarray","inputelement","log","useMousePosition","createState","update","pageX","pageY","mycomapp","plus","multi","count","cancelwatch","timeEnd","refarray","liststate","dir","testlistvdom","_text","onclick","unshift","_ref","weathercondition","inputpassword","inputref","inputref2","modulecss","getElementById","onchange","style","textAlign","fontSize","color","id","class","number","increment","decrement","store","timer","setInterval","clearInterval","mycomappclass","lirefs","temp_ref","check","check2","check3","check4","notcheck","_checked","$ref","alt","src","height","width","title","tabindex","action","autocomplete","method","placeholder","mystate","vdom2","vdom3","stylestate","display","state2","state3","vdom4","_html","objstate","tttttttt","objstate2","objstatearray","classsetstate","vdomobj","Bqqqqqqqqq","Aqqqqqqqqq","myvdom1111111","argwwwuments","Aaaaaaaaaa","myAge","myele1","cccccc","fetch","Hellowordclass","vdom1","colortext","inter","mycom","mycss","myclasscomponent","aaaaaa","tttttt","required","xmlns","viewBox","com1","com2","com3","com4","$text"],"mappings":"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"}