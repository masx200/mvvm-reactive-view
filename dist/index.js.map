{"version":3,"file":"index.js","sources":["../node_modules/lodash/fromPairs.js","../src/Object-fromEntries.ts","../src/setImmediate.ts","../src/array-prototype-flat.ts","../src/util.ts","../src/virtualdom.ts","../node_modules/htm/dist/htm.module.js","../src/createelement.ts","../src/html.ts","../src/directives.ts","../src/onevent.ts","../src/setlikearay.ts","../src/customelement.ts","../src/dom.ts","../src/mount.ts","../node_modules/dom-element-attribute-agent-proxy/dist/index.js","../src/rendervdomtoreal.ts","../src/createApp.ts","../src/createref.ts"],"sourcesContent":["/**\n * The inverse of `_.toPairs`; this method returns an object composed\n * from key-value `pairs`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} pairs The key-value pairs.\n * @returns {Object} Returns the new object.\n * @example\n *\n * _.fromPairs([['a', 1], ['b', 2]]);\n * // => { 'a': 1, 'b': 2 }\n */\nfunction fromPairs(pairs) {\n  var index = -1,\n      length = pairs == null ? 0 : pairs.length,\n      result = {};\n\n  while (++index < length) {\n    var pair = pairs[index];\n    result[pair[0]] = pair[1];\n  }\n  return result;\n}\n\nmodule.exports = fromPairs;\n","import fromPairs from \"lodash/fromPairs.js\";\r\n// console.log(fromPairs);\r\nif (\"function\" !== typeof Object.fromEntries) Object.fromEntries = fromPairs;\r\n","export const globalthis = new Function(\"return this\")();\r\nif (!globalthis.globalThis) {\r\n  globalthis.globalThis = globalthis;\r\n}\r\n\r\nconst setImmediate = async (fn: Function, ...args: any[]) => {\r\n  await Promise.resolve();\r\n  return fn(...args);\r\n};\r\nif (typeof globalthis.setImmediate !== \"function\") {\r\n  globalthis.setImmediate = setImmediate;\r\n}\r\nexport { setImmediate };\r\n","// import flattenDepth from \"lodash/flattenDepth\";\r\n// import flattenDepth from \"core-js-pure/features/array/flat\";\r\nif (typeof Array.prototype.flat !== \"function\") {\r\n  Array.prototype.flat =\r\n    //   function(depth: number = 1) {\r\n    //     return flattenDepth(this, depth);\r\n    //   };\r\n    arrayflat;\r\n}\r\n\r\nfunction arrayflat(depth: number = 1) {\r\n  if (depth <= 1) {\r\n    return this.reduce(\r\n      (acc: { concat: (arg0: any) => void }, val: any) => acc.concat(val),\r\n      []\r\n    );\r\n  } else {\r\n    return flattenDeep(this);\r\n  }\r\n}\r\nfunction flattenDeep(arr1: any[]) {\r\n  return arr1.reduce(\r\n    (acc: { concat: { (arg0: any): void; (arg0: any): void } }, val: any) =>\r\n      Array.isArray(val) ? acc.concat(flattenDeep(val)) : acc.concat(val),\r\n    []\r\n  );\r\n}\r\n/*\r\nexport function flat(arr: any, depth?: any) {\r\n  return arrayflat.call(arr, depth);\r\n}\r\n */\r\n","export function isobject(a: any) {\r\n  return typeof a === \"object\" && a !== null;\r\n}\r\nexport function isstring(a: any) {\r\n  return typeof a === \"string\";\r\n}\r\nexport function isfunction(a: any) {\r\n  return typeof a === \"function\";\r\n}\r\n\r\nexport function isarray(a: any) {\r\n  return a instanceof Array && Array.isArray(a);\r\n}\r\nexport { isfunction as isFunction, isarray as isArray, isstring as isString };\r\nexport function getsymbol(a: string) {\r\n  return Symbol.for(a);\r\n}\r\nexport function gettagtype(a: any) {\r\n  return {}.toString\r\n    .call(a)\r\n    .replace(\"[object \", \"\")\r\n    .replace(\"]\", \"\")\r\n    .toLowerCase();\r\n}\r\n","import { Class } from \"./rendervdomtoreal\";\r\nexport default class Virtualdom {\r\n  type: string | Function | undefined | Class;\r\n  props: object | undefined = {};\r\n  children: Array<Virtualdom | string> = [];\r\n  directives: object = {};\r\n  onevent: object = {};\r\n  constructor(\r\n    type: Function | string = \"\",\r\n    props: object = {},\r\n    children: Array<Virtualdom | string> = []\r\n  ) {\r\n    const propsentries = Object.entries(props);\r\n    Object.assign(this, {\r\n      type,\r\n      props: Object.fromEntries(\r\n        propsentries.filter(([key]) => /[A-Za-z]/.test(key[0]))\r\n      ),\r\n      children,\r\n      onevent: Object.fromEntries(\r\n        propsentries\r\n          .filter(([key]) => /\\@/.test(key[0]))\r\n          .map(([key, value]) => [key.slice(1), value])\r\n      ),\r\n      directives: Object.fromEntries(\r\n        propsentries\r\n          .filter(([key]) => /\\*/.test(key[0]))\r\n          .map(([key, value]) => [key.slice(1), value])\r\n      )\r\n    });\r\n    Object.defineProperty(this, Symbol.toStringTag, { value: \"virtualdom\" });\r\n  }\r\n}\r\n","var n=function(t,r,u,e){for(var p=1;p<r.length;p++){var s=r[p],h=\"number\"==typeof s?u[s]:s,a=r[++p];1===a?e[0]=h:3===a?e[1]=Object.assign(e[1]||{},h):5===a?(e[1]=e[1]||{})[r[++p]]=h:6===a?e[1][r[++p]]+=h+\"\":e.push(a?t.apply(null,n(t,h,u,[\"\",null])):h)}return e},t=function(n){for(var t,r,u=1,e=\"\",p=\"\",s=[0],h=function(n){1===u&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?s.push(n||e,0):3===u&&(n||e)?(s.push(n||e,1),u=2):2===u&&\"...\"===e&&n?s.push(n,3):2===u&&e&&!n?s.push(!0,5,e):u>=5&&((e||!n&&5===u)&&(s.push(e,u,r),u=6),n&&(s.push(n,u,r),u=6)),e=\"\"},a=0;a<n.length;a++){a&&(1===u&&h(),h(a));for(var f=0;f<n[a].length;f++)t=n[a][f],1===u?\"<\"===t?(h(),s=[s],u=3):e+=t:4===u?\"--\"===e&&\">\"===t?(u=1,e=\"\"):e=t+e[0]:p?t===p?p=\"\":e+=t:'\"'===t||\"'\"===t?p=t:\">\"===t?(h(),u=1):u&&(\"=\"===t?(u=5,r=e,e=\"\"):\"/\"===t&&(u<5||\">\"===n[a][f+1])?(h(),3===u&&(s=s[0]),u=s,(s=s[0]).push(u,2),u=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(h(),u=2):e+=t),3===u&&\"!--\"===e&&(u=4,s=s[0])}return h(),s},r=\"function\"==typeof Map,u=r?new Map:{},e=r?function(n){var r=u.get(n);return r||u.set(n,r=t(n)),r}:function(n){for(var r=\"\",e=0;e<n.length;e++)r+=n[e].length+\"-\"+n[e];return u[r]||(u[r]=t(n))};export default function(t){var r=n(this,e(t),arguments,[]);return r.length>1?r:r[0]}\n","import { isstring, isarray, isobject, isfunction } from \"./util\";\r\nimport Virtualdom from \"./virtualdom\";\r\nexport default function h(\r\n  type: Function | string = \"\",\r\n  props: any = {},\r\n  ...children: Array<Virtualdom | string>\r\n): Virtualdom | Array<Virtualdom | string> {\r\n  // | Array<Virtualdom | string>\r\n  // if(isarray()){}\r\n  /* add fragment element */\r\n  var typenormalized = isstring(type) || isfunction(type) ? type : \"\";\r\n  var propsnormalized = isobject(props) ? props : {};\r\n  var childrennormalized = children.flat(Infinity);\r\n  if (typeof typenormalized === \"string\" && \"\" === typenormalized) {\r\n    return childrennormalized;\r\n  }\r\n  return new Virtualdom(typenormalized, propsnormalized, childrennormalized);\r\n}\r\n","import { isstring, isarray, isobject, isfunction } from \"./util\";\r\nimport Virtualdom from \"./virtualdom\";\r\nimport htm from \"htm/dist/htm.module.js\";\r\nimport h from \"./createelement\";\r\n\r\nconst html = htm.bind(h);\r\n\r\n/* 如果出现未闭合标签会产生错误的vdom */\r\nexport function isvalidvdom(v: any) {\r\n  var flag = false;\r\n  if (isarray(v)) {\r\n    flag = v\r\n      .map((ele: any) => {\r\n        return isstring(ele) || ele instanceof Virtualdom;\r\n      })\r\n      .includes(false)\r\n      ? false\r\n      : true;\r\n  } else if (v instanceof Virtualdom) {\r\n    if (isvalidvdom(v.children)) {\r\n      flag = true;\r\n    }\r\n  } else {\r\n    if (isstring(v)) {\r\n      flag = true;\r\n    }\r\n  }\r\n  return flag;\r\n}\r\nfunction assertvalidvirtualdom(...args: any[]) {\r\n  var vdom = html(...args);\r\n  if (isvalidvdom(vdom)) {\r\n    return vdom;\r\n  } else {\r\n    throw new TypeError(\r\n      \"invalid Virtualdom!\" + \"\\n\" + JSON.stringify(vdom, null, 4)\r\n    );\r\n  }\r\n}\r\nexport default assertvalidvirtualdom;\r\n","export default {\r\n  ref(ele: Element, ref: { value: any }) {\r\n    if (typeof ref == \"object\") {\r\n      ref.value = ele;\r\n    } else {\r\n      throw TypeError(\"invalid ref\");\r\n    }\r\n  },\r\n  html(ele: Element, html: string) {\r\n    // ele.innerHTML = html;\r\n    // console.log(ele.outerHTML);\r\n    if (typeof html == \"string\") {\r\n      requestAnimationFrame(() => {\r\n        ele.innerHTML = html;\r\n        //   console.log(ele.outerHTML);\r\n      });\r\n    } else {\r\n      throw TypeError(\"invalid html\");\r\n    }\r\n  },\r\n  text(ele: Element, text: string) {\r\n    // ele.textContent = text;\r\n    // console.log(ele.outerHTML);\r\n    if (typeof text == \"string\") {\r\n      requestAnimationFrame(() => {\r\n        ele.textContent = text;\r\n        //   console.log(ele.outerHTML);\r\n      });\r\n    } else {\r\n      throw TypeError(\"invalid text\");\r\n    }\r\n  }\r\n};\r\n","import { isArray, isFunction, isString } from \"./util\";\r\nexport default function(\r\n  element: Element,\r\n  eventname: string,\r\n  callback: EventListener | Array<EventListener>\r\n) {\r\n  if (typeof callback === \"function\") {\r\n    addlisteners(element, eventname, [callback]);\r\n  } else if (isArray(callback)) {\r\n    addlisteners(element, eventname, callback);\r\n  } else {\r\n    throw TypeError(\"invalid EventListener\");\r\n  }\r\n}\r\nfunction addlisteners(\r\n  ele: Element,\r\n  event: string,\r\n  callarray: Array<EventListener>\r\n) {\r\n  callarray.forEach((call: EventListener) => {\r\n    domaddlisten(ele, event, call);\r\n  });\r\n}\r\nfunction domaddlisten(ele: Element, event: string, call: EventListener) {\r\n  ele.addEventListener(event, call);\r\n}\r\n","import { isstring, isarray, isobject, isfunction } from \"./util\";\r\n// import {isclassextendsHTMLElement} from './customelement';\r\nexport default class setlikearray extends Array {\r\n  constructor() {\r\n    super();\r\n    Object.defineProperty(this, Symbol.toStringTag, { value: \"setlikearray\" });\r\n  }\r\n  push(...items: any[]): number {\r\n    items.forEach(item => {\r\n      if (isfunction(item) || isobject(item)) {\r\n        if (!this.includes(item)) {\r\n          super.push(item);\r\n        }\r\n      }\r\n    });\r\n\r\n    return this.length;\r\n  }\r\n}\r\n","import { isfunction } from \"./util\";\r\nimport { Class } from \"./rendervdomtoreal\";\r\nimport setlikearray from \"./setlikearay\";\r\nconst customElementsarray = new setlikearray();\r\nexport function createcostumelemet(\r\n  initclass: Class | Function,\r\n\r\n  children?: any[]\r\n): HTMLElement {\r\n  if (isclassextendsHTMLElement(initclass)) {\r\n    customElementsarray.push(initclass);\r\n    const elementname = getcustomelementname(initclass);\r\n    if (customElements.get(elementname) === initclass) {\r\n    } else {\r\n      customElements.define(elementname, initclass);\r\n    }\r\n\r\n    return Reflect.construct(initclass, [children]); // (children);\r\n  } else {\r\n    throw TypeError(\"invalid custom element class !\");\r\n  }\r\n}\r\nfunction getcustomelementname(initclass: any) {\r\n  return \"c-\" + customElementsarray.indexOf(initclass);\r\n}\r\nexport function isclassextendsHTMLElement(initclass: { prototype: any }) {\r\n  return !!(\r\n    isfunction(initclass) &&\r\n    initclass.prototype &&\r\n    initclass.prototype instanceof HTMLElement\r\n  );\r\n}\r\n","export function appendchild(\r\n  container: HTMLElement | SVGSVGElement | SVGElement | Element,\r\n  ele: HTMLElement | SVGElement | Element\r\n) {\r\n  container.appendChild(ele);\r\n}\r\nexport function createsvgelement() {\r\n  return document.createElementNS(svgnamespace, \"svg\");\r\n}\r\nexport function createnonescript() {\r\n  return document.createDocumentFragment();\r\n}\r\nexport function createnativeelement(type: string) {\r\n  return document.createElement(type);\r\n}\r\nexport function createElementNS(namespace: string, name: string) {\r\n  return document.createElementNS(namespace, name);\r\n}\r\nexport function createtextnode(data: string) {\r\n  return document.createTextNode(data);\r\n}\r\nexport const svgnamespace = \"http://www.w3.org/2000/svg\";\r\n","import { appendchild } from \"./dom\";\r\nexport default function(\r\n  ele:\r\n    | Array<\r\n        | HTMLElement\r\n        | Text\r\n        | SVGSVGElement\r\n        | DocumentFragment\r\n        | SVGElement\r\n        | Element\r\n      >\r\n    | SVGElement\r\n    | DocumentFragment\r\n    | HTMLElement\r\n    | Text\r\n    | SVGSVGElement\r\n    | Element,\r\n  container: HTMLElement | SVGSVGElement | SVGElement | Element\r\n) {\r\n  container.innerHTML = \"\";\r\n  let eles: Array<any>;\r\n  if (ele instanceof Array) {\r\n    eles = ele;\r\n  } else {\r\n    // appendchild(container, ele);\r\n    eles = [ele];\r\n  }\r\n  eles.forEach(e => appendchild(container, e));\r\n}\r\n","function isobject(a) {\r\n    return typeof a === \"object\" && a !== null;\r\n}\r\nfunction isstring(a) {\r\n    return typeof a === \"string\";\r\n}\r\nfunction asserthtmlelement(ele) {\r\n    if (!(ele instanceof HTMLElement ||\r\n        ele instanceof SVGElement ||\r\n        ele instanceof Element)) {\r\n        throw TypeError(\"invalid HTMLElement!\");\r\n    }\r\n    else\r\n        return true;\r\n}\r\nfunction createeleattragentreadwrite(ele) {\r\n    asserthtmlelement(ele);\r\n    const isinputtextortextarea = (ele.tagName === \"INPUT\" && Reflect.get(ele, \"type\") === \"text\") ||\r\n        ele.tagName === \"TEXTAREA\";\r\n    var temp = Object.create(null);\r\n    return new Proxy(temp, {\r\n        ownKeys() {\r\n            const keys = Reflect.ownKeys(ele.attributes).filter(k => !/\\d/.test(String(k)[0]));\r\n            return isinputtextortextarea\r\n                ? Array.from(new Set([...keys, \"value\"]))\r\n                : keys;\r\n        },\r\n        get(target, key) {\r\n            if (isinputtextortextarea && key === \"value\") {\r\n                return Reflect.get(ele, \"value\");\r\n            }\r\n            else {\r\n                var v = ele.getAttribute(String(key));\r\n                if (!v) {\r\n                    return;\r\n                }\r\n                if (isstring(v)) {\r\n                    try {\r\n                        return JSON.parse(String(v));\r\n                    }\r\n                    catch (error) {\r\n                        return v;\r\n                    }\r\n                }\r\n                else\r\n                    return;\r\n            }\r\n        },\r\n        set(t, key, v) {\r\n            if (isinputtextortextarea && key === \"value\") {\r\n                return Reflect.set(ele, \"value\", v);\r\n            }\r\n            else {\r\n                ele.setAttribute(String(key), isobject(v) ? JSON.stringify(v) : String(v));\r\n                return true;\r\n            }\r\n        },\r\n        deleteProperty(t, k) {\r\n            ele.removeAttribute(String(k));\r\n            return true;\r\n        },\r\n        has(target, key) {\r\n            if (isinputtextortextarea && key === \"value\") {\r\n                return true;\r\n            }\r\n            else {\r\n                return ele.hasAttribute(String(key));\r\n            }\r\n        },\r\n        defineProperty() {\r\n            return false;\r\n        },\r\n        getOwnPropertyDescriptor(target, key) {\r\n            if (isinputtextortextarea && key === \"value\") {\r\n                return {\r\n                    value: Reflect.get(ele, \"value\"),\r\n                    enumerable: true,\r\n                    configurable: true,\r\n                    writable: true\r\n                };\r\n            }\r\n            else {\r\n                var attr = ele.getAttribute(String(key));\r\n                if (attr) {\r\n                    return {\r\n                        value: attr,\r\n                        enumerable: true,\r\n                        configurable: true,\r\n                        writable: true\r\n                    };\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n            }\r\n        },\r\n        setPrototypeOf() {\r\n            return false;\r\n        },\r\n        getPrototypeOf() {\r\n            return null;\r\n        }\r\n    });\r\n}\r\n\r\nexport default createeleattragentreadwrite;\r\n//# sourceMappingURL=index.js.map\r\n","import directives from \"./directives\";\r\nimport onevent from \"./onevent\";\r\nimport { createcostumelemet } from \"./customelement\";\r\nimport {\r\n  svgnamespace,\r\n  createsvgelement,\r\n  createnonescript,\r\n  createnativeelement,\r\n  createElementNS,\r\n  createtextnode\r\n} from \"./dom\";\r\nfunction throwinvalideletype() {\r\n  throw TypeError(\"invalid element type!\");\r\n}\r\nimport mount from \"./mount\";\r\nimport createeleattr from \"dom-element-attribute-agent-proxy\";\r\n// import { isstring, isarray, isobject, isfunction } from \"./util\";\r\nimport Virtualdom from \"./virtualdom\";\r\n\r\nexport default function render(\r\n  vdom: Virtualdom | string,\r\n  namespace?: string\r\n):\r\n  | HTMLElement\r\n  | Text\r\n  | SVGSVGElement\r\n  | DocumentFragment\r\n  | SVGElement\r\n  | Element {\r\n  if (typeof vdom === \"string\") {\r\n    return createtextnode(vdom);\r\n  } else if (vdom instanceof Virtualdom && \"type\" in vdom) {\r\n    let element: HTMLElement | SVGSVGElement | SVGElement | Element;\r\n    if (typeof vdom.type === \"string\") {\r\n      if (vdom.type === \"script\") {\r\n        /* 禁止加载脚本 */\r\n\r\n        return createnonescript();\r\n      } else if (vdom.type === \"svg\") {\r\n        /* 没想到svg的创建方式这么特别?否则显示不出svg */\r\n        element = createsvgelement();\r\n      } else {\r\n        element = namespace\r\n          ? createElementNS(namespace, vdom.type)\r\n          : createnativeelement(vdom.type);\r\n      }\r\n    } else if (typeof vdom.type == \"function\") {\r\n      element = createcostumelemet(vdom.type, vdom.children);\r\n    } else {\r\n      throwinvalideletype();\r\n      // throw TypeError(\"invalid element type!\");\r\n    }\r\n    var attribute1 = createeleattr(element);\r\n    Object.assign(attribute1, vdom.props);\r\n\r\n    /* 添加事件绑定和指令执行 */\r\n\r\n    Object.entries(vdom.directives).forEach(([name, value]) => {\r\n      if (name in directives && typeof directives[name] === \"function\") {\r\n        directives[name](element, value);\r\n      } else {\r\n        throw new Error(\"invalid directives \" + name);\r\n      }\r\n    });\r\n    Object.entries(vdom.onevent).forEach(([event, callbacks]) => {\r\n      onevent(element, event, callbacks);\r\n    });\r\n    /* 自定义组件不添加children,而是从构造函数传入 */\r\n    if (typeof vdom.type !== \"function\") {\r\n      mount(\r\n        vdom.children.map(e => {\r\n          if (vdom.type === \"svg\") {\r\n            /* 没想到svg的创建方式这么特别?否则显示不出svg */\r\n            //   element.innerHTML = element.innerHTML;\r\n            return render(e, svgnamespace);\r\n          } else if (namespace) {\r\n            return render(e, namespace);\r\n          } else {\r\n            return render(e);\r\n          }\r\n        }),\r\n\r\n        element\r\n      );\r\n    }\r\n    return element;\r\n  } else {\r\n    throwinvalideletype();\r\n    // throw TypeError(\"invalid element type!\");\r\n  }\r\n}\r\n\r\nexport interface Class {\r\n  new (children?: any[]): HTMLElement;\r\n}\r\n","import { isvalidvdom } from \"./html\";\r\nimport Virtualdom from \"./virtualdom\";\r\nimport render from \"./rendervdomtoreal\";\r\nimport mount from \"./mount\";\r\nexport default function(\r\n  vdom: Virtualdom | string | Array<Virtualdom | string>,\r\n  container: HTMLElement | Element\r\n) {\r\n  const el = container;\r\n  if (!isvalidvdom(vdom)) {\r\n    throw TypeError(\r\n      \"invalid Virtualdom \" + \"\\n\" + JSON.stringify(vdom, null, 4)\r\n    );\r\n  }\r\n  if (!(el instanceof HTMLElement)) {\r\n    throw TypeError(\"invalid container HTMLElement!\");\r\n  }\r\n\r\n  if (\r\n    el === document.body ||\r\n    el === document.documentElement ||\r\n    el === document.head\r\n  ) {\r\n    throw Error(\"Do not mount  to <html> or <body> <head>.\");\r\n  }\r\n  let elesarray: Array<string | Virtualdom>;\r\n  if (vdom instanceof Array) {\r\n    elesarray = vdom;\r\n  } else {\r\n    elesarray = [vdom];\r\n  }\r\n  mount(elesarray.map(e => render(e)), container);\r\n\r\n  //\r\n  return container;\r\n}\r\n","export default function(init: any) {\r\n  return { value: init };\r\n}\r\n"],"names":["fromPairs","isArray","isobject","isstring","createeleattr"],"mappings":"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C,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,IAAI,GAAG,CAAC,EAAE,IAAI,GAAG,CAAC,EAAE,IAAI,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,EAAE,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,EAAE,CAAC,CAA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"}