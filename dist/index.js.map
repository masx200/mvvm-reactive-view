{"version":3,"file":"index.js","sources":["../src/UtilTools/debounce.ts","../src/life-cycle-context/clearMounted.ts","../src/life-cycle-context/clearUnMounted.ts","../src/UtilTools/isprimitive.ts","../src/UtilTools/util.ts","../src/life-cycle-context/checkctxandcallbck.ts","../src/life-cycle-context/createlifecyclecontext.ts","../src/life-cycle-context/updated-clear.ts","../src/life-cycle-context/created-clear.ts","../src/life-cycle-context/Component-context.ts","../src/others/cached-map.ts","../src/UtilTools/toArray.ts","../src/life-cycle-context/useststerecord.ts","../src/Reactivity/custom-observer-target.ts","../src/Reactivity/reactivestate.ts","../src/Reactivity/isReactiveState.ts","../src/life-cycle-context/usewatchrecord.ts","../src/Reactivity/rewatch.ts","../src/Reactivity/watchsingle.ts","../src/Reactivity/watch.ts","../src/UtilTools/reflect.ts","../node_modules/@masx200/dom-element-attribute-agent-proxy/dist/index.min.js","../src/life-cycle-context/created-get.ts","../src/life-cycle-context/updated-get.ts","../src/others/mutationobserverwatch.ts","../src/others/addcreatedlistner.ts","../src/others/addmountedlistner.ts","../src/others/addunmountedlistner.ts","../src/others/addupdatedlistner.ts","../src/UtilTools/merge-entries.ts","../src/CreateElement/VirtualElement.ts","../src/CreateElement/isvalidvdom.ts","../src/CustomClass/isclassextendsHTMLElement.ts","../src/life-cycle-context/getMounted.ts","../src/life-cycle-context/getUnMounted.ts","../src/UtilTools/dom.ts","../src/MountElement/mount-real-element.ts","../src/AttributeClass/iscomponent.ts","../src/CustomClass/getrandomstringandnumber.ts","../src/CustomClass/CustomElementRegistry.ts","../src/CustomClass/create-costum-elemet.ts","../src/UtilTools/isconnected.ts","../src/Directives/directives.ts","../src/RenderVirtual/applydirects.ts","../src/RenderVirtual/handle-onevent.ts","../src/RenderVirtual/handleprops.ts","../src/RenderVirtual/render-vdom-to-real.ts","../src/MountElement/isNodeArray.ts","../src/MountElement/MountElement.ts","../src/others/combineproxy.ts","../src/Reactivity/readonly-proxy.ts","../src/ScopedCSS/parsecss-transformcss.ts","../src/ScopedCSS/isCSSRule.ts","../src/ScopedCSS/cssrulestocsstext.ts","../src/ScopedCSS/prefix-cssmediarule.ts","../src/ScopedCSS/create-cssurlblob.ts","../src/ScopedCSS/savestyleblob.ts","../src/ScopedCSS/selectoraddprefix.ts","../src/ScopedCSS/transform-prefix-cssrules.ts","../src/ScopedCSS/parsecsstext.ts","../src/ScopedCSS/transformcsstext.ts","../src/ScopedCSS/registercssprefix.ts","../src/ScopedCSS/loadlinkstyle.ts","../src/ScopedCSS/waitloadallstyle.ts","../src/UtilTools/setimmediate.ts","../src/Reactivity/unwatch.ts","../src/life-cycle-context/element-onmount-unmount.ts","../src/AttributeClass/readysymbol.ts","../src/AttributeClass/attr-change.ts","../src/AttributeClass/createComponent.ts","../src/CreateElement/create-element.ts","../src/AttributeClass/conditon.ts","../src/AttributeClass/switchable.ts","../node_modules/htm/dist/htm.module.js","../@types/htm/index.ts","../src/CreateElement/html.ts","../src/Directives/extend-directive.ts","../src/Directives/model.ts","../src/Directives/Localchecked.ts","../src/Directives/Localcreated.ts","../src/Reactivity/getproperyread-proxy.ts","../src/Reactivity/computedmany.ts","../src/Reactivity/computed.ts","../src/Directives/generatechildrenvdoms.ts","../src/Directives/localfor.ts","../src/Directives/create-html-and-text-directive.ts","../src/Directives/Localhtml.ts","../src/Directives/Localmounted.ts","../src/Directives/Localref.ts","../src/Directives/Localtext.ts","../src/Directives/Localunmounted.ts","../src/Directives/Localupdated.ts","../src/Directives/Localvalue.ts","../src/Directives/built-in-directs.ts","../src/life-cycle-context/use-created.ts","../src/life-cycle-context/use-updated.ts","../src/life-cycle-context/useMounted.ts","../src/life-cycle-context/useUnMounted.ts","../src/others/assetbrowser.ts","../src/others/createref.ts","../node_modules/@masx200/deep-observe-agent-proxy/dist/index.min.js","../src/Reactivity/handle-object-state.ts","../src/Reactivity/create-state.ts"],"sourcesContent":["interface DebounceSettings {\r\n    /**\r\n     * Specify invoking on the leading edge of the timeout.\r\n     */\r\n    leading?: boolean;\r\n\r\n    /**\r\n     * The maximum time func is allowed to be delayed before it’s invoked.\r\n     */\r\n    maxWait?: number;\r\n\r\n    /**\r\n     * Specify invoking on the trailing edge of the timeout.\r\n     */\r\n    trailing?: boolean;\r\n}\r\nfunction isObject(value: any): value is object {\r\n    var type = typeof value;\r\n    return value != null && (type == \"object\" || type == \"function\");\r\n}\r\n\r\nvar isObject_1 = isObject;\r\n\r\nvar commonjsGlobal =\r\n    typeof globalThis !== \"undefined\"\r\n        ? globalThis\r\n        : typeof window !== \"undefined\"\r\n        ? window\r\n        : typeof global !== \"undefined\"\r\n        ? global\r\n        : typeof self !== \"undefined\"\r\n        ? self\r\n        : {};\r\n\r\nvar freeGlobal = commonjsGlobal;\r\n\r\nvar _freeGlobal = freeGlobal;\r\n\r\nvar freeSelf =\r\n    typeof self == \"object\" && self && self.Object === Object && self;\r\n\r\nvar root = _freeGlobal || freeSelf || Function(\"return this\")();\r\n\r\nvar _root = root;\r\n\r\nvar now = function() {\r\n    return _root.Date.now();\r\n};\r\n\r\nvar now_1 = now;\r\n\r\nvar FUNC_ERROR_TEXT = \"Expected a function\";\r\n\r\nvar nativeMax = Math.max,\r\n    nativeMin = Math.min;\r\n\r\nfunction debounce<T extends (...args: any[]) => any>(\r\n    func: T,\r\n    wait: number = 0,\r\n    options?: DebounceSettings\r\n): T {\r\n    var lastArgs: IArguments | undefined | any[],\r\n        lastThis: undefined | any,\r\n        maxWait: number | undefined | any,\r\n        result: any,\r\n        timerId: number | any,\r\n        lastCallTime: number | undefined | any,\r\n        lastInvokeTime = 0,\r\n        leading = false,\r\n        maxing = false,\r\n        trailing = true;\r\n    if (typeof func != \"function\") {\r\n        throw new TypeError(FUNC_ERROR_TEXT);\r\n    }\r\n    wait = Number(wait) || 0;\r\n    if (isObject_1(options)) {\r\n        leading = !!options.leading;\r\n        maxing = \"maxWait\" in options;\r\n        maxWait = maxing\r\n            ? nativeMax(Number(options.maxWait) || 0, wait)\r\n            : maxWait;\r\n        trailing = \"trailing\" in options ? !!options.trailing : trailing;\r\n    }\r\n    function invokeFunc(time: number) {\r\n        var args = lastArgs || [],\r\n            thisArg = lastThis;\r\n        lastArgs = lastThis = undefined;\r\n        lastInvokeTime = time;\r\n        result = Reflect.apply(func, thisArg, args); //func.apply(thisArg, args);\r\n        return result;\r\n    }\r\n    function leadingEdge(time: number) {\r\n        lastInvokeTime = time;\r\n        timerId = setTimeout(timerExpired, wait);\r\n        return leading ? invokeFunc(time) : result;\r\n    }\r\n    function remainingWait(time: number) {\r\n        var timeSinceLastCall = time - lastCallTime,\r\n            timeSinceLastInvoke = time - lastInvokeTime,\r\n            timeWaiting = wait - timeSinceLastCall;\r\n        return maxing\r\n            ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\r\n            : timeWaiting;\r\n    }\r\n    function shouldInvoke(time: number) {\r\n        var timeSinceLastCall = time - lastCallTime,\r\n            timeSinceLastInvoke = time - lastInvokeTime;\r\n        return (\r\n            lastCallTime === undefined ||\r\n            timeSinceLastCall >= wait ||\r\n            timeSinceLastCall < 0 ||\r\n            (maxing && timeSinceLastInvoke >= maxWait)\r\n        );\r\n    }\r\n    function timerExpired() {\r\n        var time = now_1();\r\n        if (shouldInvoke(time)) {\r\n            return trailingEdge(time);\r\n        }\r\n        timerId = setTimeout(timerExpired, remainingWait(time));\r\n    }\r\n    function trailingEdge(time: number) {\r\n        timerId = undefined;\r\n        if (trailing && lastArgs) {\r\n            return invokeFunc(time);\r\n        }\r\n        lastArgs = lastThis = undefined;\r\n        return result;\r\n    }\r\n    // function cancel() {\r\n    //     if (timerId !== undefined) {\r\n    //         clearTimeout(timerId);\r\n    //     }\r\n    //     lastInvokeTime = 0;\r\n    //     lastArgs = lastCallTime = lastThis = timerId = undefined;\r\n    // }\r\n    // function flush() {\r\n    //     return timerId === undefined ? result : trailingEdge(now_1());\r\n    // }\r\n    function debounced(this: any, ...args: any[]): any {\r\n        var time = now_1(),\r\n            isInvoking = shouldInvoke(time);\r\n        lastArgs = args;\r\n        lastThis = this;\r\n        lastCallTime = time;\r\n        if (isInvoking) {\r\n            if (timerId === undefined) {\r\n                return leadingEdge(lastCallTime);\r\n            }\r\n            if (maxing) {\r\n                clearTimeout(timerId);\r\n                timerId = setTimeout(timerExpired, wait);\r\n                return invokeFunc(lastCallTime);\r\n            }\r\n        }\r\n        if (timerId === undefined) {\r\n            timerId = setTimeout(timerExpired, wait);\r\n        }\r\n        return result;\r\n    }\r\n    // debounced.cancel = cancel;\r\n    // debounced.flush = flush;\r\n    return debounced as T;\r\n}\r\n\r\nvar debounce_1 = debounce;\r\nexport default debounce_1;\r\n","import { mountedctx } from \"./Component-context\";\r\n\r\nexport function clearMounted() {\r\n    mountedctx.clear();\r\n}\r\n","import { unmountedctx } from \"./Component-context\";\r\n\r\nexport function clearUnMounted() {\r\n    unmountedctx.clear();\r\n}\r\n","import { isboolean, isnumber, isString, isundefined } from \"./util\";\r\nexport type Primitivetype = string | number | boolean | undefined | bigint;\r\nexport default function(a: any): a is Primitivetype {\r\n    return (\r\n        isString(a) ||\r\n        isnumber(a) ||\r\n        isboolean(a) ||\r\n        isundefined(a) ||\r\n        isbigint(a)\r\n    );\r\n}\r\nexport function isbigint(a: any): a is bigint {\r\n    return typeof a === \"bigint\";\r\n}\r\n","export function issymbol(a: any): a is symbol {\r\n    return typeof a === \"symbol\";\r\n}\r\n\r\nexport { isplainobject };\r\nexport { isfunction as isFunction, isarray as isArray, isstring as isString };\r\nexport { isprimitive };\r\n\r\nconst isplainobject = (a: any): a is Record<any, any> => {\r\n    return (\r\n        !!a &&\r\n        gettagtype(a) === \"Object\" &&\r\n        Reflect.getPrototypeOf(a) === Object.prototype\r\n    );\r\n};\r\n\r\nimport isprimitive from \"./isprimitive\";\r\n\r\nexport function isundefined(a: any): a is void {\r\n    return (!a && a === void 0) || a === null;\r\n}\r\n\r\nexport function isnumber(a: any): a is number {\r\n    return typeof a === \"number\";\r\n}\r\nexport function isboolean(a: any): a is boolean {\r\n    return typeof a === \"boolean\";\r\n}\r\nexport function isobject(a: any): a is Exclude<object, Function> {\r\n    return typeof a === \"object\" && a !== null;\r\n}\r\n\r\nexport function isstring(a: any): a is string {\r\n    return typeof a === \"string\";\r\n}\r\nexport function isfunction(a: any): a is Function {\r\n    return typeof a === \"function\";\r\n}\r\n\r\nexport function isarray(a: any): a is Array<any> {\r\n    return Array.isArray(a) && a instanceof Array;\r\n}\r\n\r\nexport function gettagtype(a: any): string {\r\n    return Object.prototype.toString\r\n        .call(a)\r\n        .replace(\"[object \", \"\")\r\n        .replace(\"]\", \"\")\r\n\r\n        .trim();\r\n}\r\n\r\nexport function isSet(a: any): a is Set<any> {\r\n    return a instanceof Set;\r\n}\r\nexport function isMap(a: any): a is Map<any, any> {\r\n    return a instanceof Map;\r\n}\r\nconst camelizeRE = /-(\\w)/g;\r\nexport const camelize = (str: string): string => {\r\n    return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : \"\"));\r\n};\r\n\r\nconst hyphenateRE = /\\B([A-Z])/g;\r\nexport const hyphenate = (str: string): string => {\r\n    return str.replace(hyphenateRE, \"-$1\").toLowerCase();\r\n};\r\n\r\nexport function isWeakMap(a: any): a is WeakMap<any, any> {\r\n    return a instanceof WeakMap;\r\n}\r\n","import { isFunction } from \"../UtilTools/util\";\r\nimport { ctxopen, errormessage, invalid_Function } from \"./Component-context\";\r\nexport function checkctxandcallbck(callback: () => void) {\r\n    if (isFunction(callback)) {\r\n        if (ctxopen) {\r\n        } else {\r\n            console.error(errormessage);\r\n            throw Error();\r\n        }\r\n    } else {\r\n        console.error(callback);\r\n        console.error(invalid_Function);\r\n        throw TypeError();\r\n    }\r\n}\r\n","import { checkctxandcallbck } from \"./checkctxandcallbck\";\r\n\r\nexport function createlifecyclecontext() {\r\n    let callbackset = new Set<() => void>();\r\n    const getall = () => {\r\n        return [...callbackset];\r\n    };\r\n    const clear = () => {\r\n        callbackset = new Set();\r\n    };\r\n    const add = (fun: () => void) => {\r\n        checkctxandcallbck(fun);\r\n        callbackset.add(fun);\r\n    };\r\n    return { add, getall, clear };\r\n}\r\n","import { updatedctx } from \"./Component-context\";\r\n\r\nexport function clearupdated() {\r\n    updatedctx.clear();\r\n}\r\n","import { createdctx } from \"./Component-context\";\r\n\r\nexport function clearcreated() {\r\n    createdctx.clear();\r\n}\r\n","export let StateSet: Set<ReactiveState<any>> = new Set();\r\nexport let watchrecord: [ReactiveState<any>, Function][] = [];\r\n/* 记录组件中使用的watch的state和callback,\r\n组件卸载时removeeventlistener,\r\n组件挂载时addeventlistener\r\n*/\r\nimport ReactiveState from \"../Reactivity/reactivestate.js\";\r\nimport { clearMounted } from \"./clearMounted\";\r\nimport { clearUnMounted } from \"./clearUnMounted\";\r\nimport { createlifecyclecontext } from \"./createlifecyclecontext.js\";\r\nimport { clearupdated } from \"./updated-clear.js\";\r\nimport { clearcreated } from \"./created-clear.js\";\r\nexport function getwatchrecords() {\r\n    return [...watchrecord];\r\n}\r\nfunction clearwatch() {\r\n    watchrecord = [];\r\n}\r\nexport const invalid_Function = \"invalid Function\";\r\nexport const errormessage =\r\n    \"invalid useMounted or useUnMounted out of createComponent\";\r\nexport let ctxopen = false;\r\n\r\nexport function getstates() {\r\n    return [...StateSet];\r\n}\r\nfunction clearstate() {\r\n    StateSet = new Set();\r\n}\r\nexport function openctx() {\r\n    ctxopen = true;\r\n    clearall();\r\n}\r\nexport function closectx() {\r\n    ctxopen = false;\r\n    clearall();\r\n}\r\nfunction clearall() {\r\n    clearcreated();\r\n    clearupdated();\r\n    clearMounted();\r\n    clearUnMounted();\r\n    clearstate();\r\n    clearwatch();\r\n}\r\nexport const mountedctx = createlifecyclecontext();\r\nexport const unmountedctx = createlifecyclecontext();\r\nexport const updatedctx = createlifecyclecontext();\r\nexport const createdctx = createlifecyclecontext();\r\n","import { Htmlelementconstructor } from \"../AttributeClass/createComponent\";\r\nimport { Listener } from \"../Reactivity/custom-observer-target\";\r\nimport { gettercallback } from \"../Reactivity/gettercallback\";\r\n\r\nexport const cached_create_componet = new WeakMap<\r\n    Function,\r\n    Htmlelementconstructor\r\n>();\r\nexport const cached_callback_debounced_watchs = new WeakMap<\r\n    gettercallback<void, any[]>,\r\n    Listener\r\n>();\r\n","import { isArray, isundefined } from \"./util\";\r\n/* export function toArray<T not Array>(a: T): Array<T>;\r\nexport function toArray<T>(a: Array<T>): Array<T>; */\r\ntype Many<T> = T | Array<T>;\r\nexport function toArray<U>(a: Many<U>): Exclude<U, void>[];\r\nexport function toArray(a: any): any[] {\r\n    return (isArray(a) ? a : [a]).flat(1 / 0).filter((a) => !isundefined(a));\r\n}\r\n\r\nArray.prototype.filter;\r\n","import ReactiveState from \"../Reactivity/reactivestate.js\";\r\nimport { ctxopen, StateSet } from \"./Component-context\";\r\nexport function useststerecord(state: ReactiveState<any>) {\r\n    if (ctxopen) {\r\n        StateSet.add(state);\r\n    }\r\n}\r\n","export default class ObserverTarget {\r\n    Listeners: Set<Listener> = new Set();\r\n    addListener(listener: Listener): void {\r\n        const listenerset: Set<Listener> = this.Listeners;\r\n\r\n        listenerset.add(listener);\r\n    }\r\n    dispatch() {\r\n        const listenerset: Set<Listener> = this.Listeners;\r\n        listenerset.forEach((listener) => {\r\n            Promise.resolve().then(() => {\r\n                listener();\r\n            });\r\n        });\r\n    }\r\n    removeListener(listener: Listener): void {\r\n        const listenerset: Set<Listener> = this.Listeners;\r\n        listenerset.delete(listener);\r\n    }\r\n}\r\nexport interface Listener {\r\n    (): any;\r\n}\r\n","import debounce from \"src/UtilTools/debounce\";\r\n// import debounce from \"lodash/debounce\";\r\nimport { useststerecord } from \"../life-cycle-context/useststerecord\";\r\nimport isprimitive, { Primitivetype } from \"../UtilTools/isprimitive\";\r\n// import { defineProperty } from \"../UtilTools/reflect\";\r\nimport { isobject, isSet, gettagtype } from \"../UtilTools/util\";\r\nimport ObserverTarget, { Listener } from \"./custom-observer-target\";\r\nimport { Htmlelementconstructor } from \"src/AttributeClass/createComponent\";\r\nimport { Custom } from \"src/CustomClass/customclass\";\r\nexport type GetParentType<T> = T extends Custom\r\n    ? Custom\r\n    : T extends Htmlelementconstructor\r\n    ? Htmlelementconstructor\r\n    : T extends Array<any>\r\n    ? Array<any>\r\n    : T extends Function\r\n    ? Function\r\n    : T extends string\r\n    ? string\r\n    : T extends number\r\n    ? number\r\n    : T extends boolean\r\n    ? boolean\r\n    : T extends void\r\n    ? void\r\n    : T extends symbol\r\n    ? symbol\r\n    : T extends bigint\r\n    ? bigint\r\n    : T extends object\r\n    ? T\r\n    : never;\r\nexport const addonelistner = Symbol(\"addonelistner\");\r\nexport const removeonelistner = Symbol(\"removeonelistner\");\r\n\r\nexport const cancelsubscribe = Symbol(\"cancelsubscribe\");\r\nconst debouncedispatch = Symbol(\"debouncedispatch\");\r\nexport const invalid_primitive_or_object_state =\r\n    \"invalid primitive or object state\";\r\nconst Targetsymbol = Symbol(\"eventtatget\");\r\nconst memlisteners = Symbol(\"memlisteners\");\r\nexport const dispatchsymbol = Symbol(\"dispatch\");\r\nexport const subscribesymbol = Symbol(\"subscribe\");\r\nexport const removeallistenerssymbol = Symbol(\"removeallisteners\");\r\nexport const addallistenerssymbol = Symbol(\"addallisteners\");\r\nconst tagtypesym = Symbol(\"tagtype\");\r\n\r\nexport default class ReactiveState<T> {\r\n    constructor(init: { value: T });\r\n    constructor(init: { get: () => T; set?: (v: T) => void });\r\n    constructor(init: { value?: T; get?: () => T; set?: (v: T) => void }) {\r\n        // let getter: undefined | (() => T);\r\n        // let setter: undefined | ((v: T) => void);\r\n\r\n        if (\"value\" in init) {\r\n            let value = init.value;\r\n            this[tagtypesym] = gettagtype(value);\r\n            Object.defineProperty(this, \"value\", {\r\n                // Uncaught TypeError: 'getOwnPropertyDescriptor' on proxy: trap returned descriptor for property 'value' that is incompatible with the existing property in the proxy target\r\n                configurable: true,\r\n                get: () => value,\r\n                set: (v: T) => {\r\n                    const tag = gettagtype(v);\r\n                    if (tag !== this[tagtypesym]) {\r\n                        throw TypeError();\r\n                    }\r\n                    value = v;\r\n                }\r\n            });\r\n        } else {\r\n            const getter = init.get;\r\n            const setter = init.set;\r\n            if (!getter) {\r\n                throw TypeError();\r\n            }\r\n            this[tagtypesym] = gettagtype(getter());\r\n            if (setter) {\r\n                Object.defineProperty(this, \"value\", {\r\n                    configurable: true,\r\n                    get: getter,\r\n                    set: (v: T) => {\r\n                        const tag = gettagtype(v);\r\n                        if (tag !== this[tagtypesym]) {\r\n                            throw TypeError();\r\n                        }\r\n                        setter(v);\r\n                    }\r\n                });\r\n            } else {\r\n                Object.defineProperty(this, \"value\", {\r\n                    configurable: true,\r\n                    get: getter\r\n                });\r\n            }\r\n        }\r\n\r\n        // this.value = init as any;\r\n\r\n        // defineProperty(this, \"value\", {\r\n        //     value: init,\r\n        //     configurable: true,\r\n        //     writable: true\r\n        // });\r\n\r\n        useststerecord(this);\r\n    }\r\n    private [tagtypesym]: string;\r\n    value!: T;\r\n\r\n    readonly [Symbol.toStringTag] = \"ReactiveState\";\r\n\r\n    private [debouncedispatch]: () => void = (() => {\r\n        const debouncedfun = debounce(() => {\r\n            this[Targetsymbol].dispatch();\r\n        });\r\n        return () => {\r\n            debouncedfun();\r\n        };\r\n    })();\r\n\r\n    [removeallistenerssymbol]() {\r\n        this[memlisteners].forEach((callback) => {\r\n            this[removeonelistner](callback);\r\n        });\r\n    }\r\n    [removeonelistner](callback: Listener) {\r\n        this[Targetsymbol].removeListener(callback);\r\n    }\r\n    [addonelistner](callback: Listener) {\r\n        this[Targetsymbol].addListener(callback);\r\n    }\r\n    [addallistenerssymbol]() {\r\n        this[memlisteners].forEach((callback) => {\r\n            this[addonelistner](callback);\r\n        });\r\n    }\r\n\r\n    private [Targetsymbol] = new ObserverTarget();\r\n    private [memlisteners] = new Set<Listener>();\r\n\r\n    valueOf = () => {\r\n        return this.value;\r\n    };\r\n    toString() {\r\n        const value = this.valueOf();\r\n        return isprimitive(value)\r\n            ? String(value)\r\n            : isSet(value)\r\n            ? JSON.stringify([...(value as Set<any>)])\r\n            : isobject(value)\r\n            ? JSON.stringify(value)\r\n            : \"\";\r\n    }\r\n\r\n    [dispatchsymbol]() {\r\n        this[debouncedispatch]();\r\n    }\r\n    [subscribesymbol](eventlistener: Listener) {\r\n        this[memlisteners].add(eventlistener);\r\n        this[addonelistner](eventlistener);\r\n    }\r\n    [cancelsubscribe](eventlistener: Listener) {\r\n        if (eventlistener) {\r\n            this[memlisteners].delete(eventlistener);\r\n            this[removeonelistner](eventlistener);\r\n        }\r\n    }\r\n\r\n    [Symbol.toPrimitive](): string | undefined | Primitivetype {\r\n        const value = this.valueOf();\r\n        return isprimitive(value)\r\n            ? value\r\n            : isobject(value)\r\n            ? JSON.stringify(value)\r\n            : void 0;\r\n    }\r\n}\r\n","import ReactiveState from \"./reactivestate\";\r\nexport function isReactiveState(a: any): a is ReactiveState<any> {\r\n    return (\r\n        a instanceof ReactiveState && a[Symbol.toStringTag] === \"ReactiveState\"\r\n    );\r\n}\r\n","import ReactiveState from \"../Reactivity/reactivestate.js\";\r\nimport { ctxopen, watchrecord } from \"./Component-context\";\r\nexport function usewatch(state: ReactiveState<any>, callback: Function) {\r\n    if (ctxopen) {\r\n        watchrecord.push([state, callback]);\r\n    }\r\n}\r\n","import ReactiveState, { addallistenerssymbol } from \"./reactivestate.js\";\r\nexport function rewatch(state: ReactiveState<any>): void {\r\n    state[addallistenerssymbol]();\r\n}\r\n","import { invalid_ReactiveState } from \"../AttributeClass/conditon\";\r\nimport { invalid_Function } from \"../life-cycle-context/Component-context\";\r\nimport { usewatch } from \"../life-cycle-context/usewatchrecord\";\r\nimport ReactiveState, { subscribesymbol } from \"./reactivestate.js\";\r\nimport { isReactiveState } from \"./isReactiveState\";\r\nimport { isFunction } from \"../UtilTools/util\";\r\nimport { Listener } from \"./custom-observer-target\";\r\nimport { rewatch } from \"./rewatch\";\r\nexport function watchsingle(state: ReactiveState<any>, callback: Listener) {\r\n    if (!(isReactiveState(state) && isFunction(callback))) {\r\n        console.error(state);\r\n        console.error(callback);\r\n        console.error(invalid_ReactiveState + invalid_Function);\r\n        throw TypeError();\r\n    }\r\n    state[subscribesymbol](callback);\r\n    requestAnimationFrame(() => {\r\n        rewatch(state);\r\n    });\r\n    usewatch(state, callback);\r\n}\r\n","import debounce from \"src/UtilTools/debounce\";\r\n// import debounce from \"lodash/debounce\";\r\nimport { invalid_ReactiveState } from \"../AttributeClass/conditon\";\r\nimport { invalid_Function } from \"../life-cycle-context/Component-context\";\r\nimport { cached_callback_debounced_watchs } from \"../others/cached-map\";\r\nimport { toArray } from \"../UtilTools/toArray\";\r\nimport { isarray } from \"../UtilTools/util\";\r\nimport { Listener } from \"./custom-observer-target\";\r\nimport { gettercallback } from \"./gettercallback\";\r\nimport ReactiveState, { cancelsubscribe } from \"./reactivestate.js\";\r\nimport { isReactiveState } from \"./isReactiveState\";\r\nimport { watchsingle } from \"./watchsingle\";\r\nimport { UnWrapState } from \"./unwrapstate\";\r\nimport { UnWrapArray } from \"./UnWrapArray\";\r\n\r\nexport type CancelWatchfun = () => void;\r\nfunction watch<T extends any, Y extends ReactiveState<T>>(\r\n    state: Y,\r\n\r\n    callback: gettercallback<void, [UnWrapState<Y>]>\r\n): CancelWatchfun;\r\nfunction watch<T extends any, Y extends Array<ReactiveState<T>>>(\r\n    state: Y,\r\n\r\n    callback: gettercallback<void, UnWrapState<UnWrapArray<Y>>[]>\r\n): CancelWatchfun;\r\nfunction watch(\r\n    state: ReactiveState<any> | Array<ReactiveState<any>>,\r\n\r\n    callback: gettercallback<any, any[]>\r\n): CancelWatchfun {\r\n    if (isarray(state) || isReactiveState(state)) {\r\n        const statearray: ReactiveState<any>[] = toArray(state);\r\n        if (!statearray.length) {\r\n            console.error(\"Empty array not allowed\");\r\n            throw new Error();\r\n        }\r\n\r\n        const debouncedcallback = debounce(callback);\r\n        const stateandlisteners: [\r\n            ReactiveState<any>,\r\n            Listener\r\n        ][] = statearray.map((state1) => {\r\n            const listener = (() => {\r\n                const cachedfun = cached_callback_debounced_watchs.get(\r\n                    callback\r\n                );\r\n                if (cachedfun) {\r\n                    return cachedfun;\r\n                } else {\r\n                    const listenfun = () => {\r\n                        debouncedcallback(\r\n                            ...statearray.map((r) => r.valueOf())\r\n                        );\r\n                    };\r\n                    cached_callback_debounced_watchs.set(callback, listenfun);\r\n                    return listenfun;\r\n                }\r\n            })();\r\n            watchsingle(\r\n                state1,\r\n\r\n                listener\r\n            );\r\n\r\n            return [state1, listener];\r\n        });\r\n\r\n        const cancelWatch: CancelWatchfun = () => {\r\n            stateandlisteners.forEach(([state, listener]) => {\r\n                state[cancelsubscribe](listener);\r\n            });\r\n        };\r\n        return cancelWatch;\r\n    } else {\r\n        console.error(state);\r\n        console.error(callback);\r\n        console.error(invalid_ReactiveState + invalid_Function);\r\n        throw new TypeError();\r\n    }\r\n}\r\n\r\nexport default watch;\r\nArray.prototype.map;\r\n","import { isMap, isWeakMap } from \"./util\";\r\n\r\nexport const {\r\n    apply,\r\n    construct,\r\n    defineProperty,\r\n    deleteProperty,\r\n\r\n    getOwnPropertyDescriptor,\r\n    getPrototypeOf,\r\n    has,\r\n\r\n    ownKeys,\r\n    preventExtensions\r\n} = Reflect;\r\n\r\nexport function get(\r\n    target: Map<any, any> | WeakMap<any, any>,\r\n    propertyKey: PropertyKey\r\n): any;\r\nexport function get(\r\n    target: Exclude<object, Map<any, any> | WeakMap<any, any>>,\r\n    propertyKey: PropertyKey\r\n): any;\r\nexport function get(target: object, propertyKey: PropertyKey): any {\r\n    if (isMap(target) || isWeakMap(target)) {\r\n        return target.get(propertyKey);\r\n    } else {\r\n        return Reflect.get(target, propertyKey);\r\n    }\r\n}\r\nexport function set(\r\n    target: Map<any, any> | WeakMap<any, any>,\r\n    propertyKey: PropertyKey,\r\n    value: any\r\n): boolean;\r\nexport function set(\r\n    target: Exclude<object, Map<any, any> | WeakMap<any, any>>,\r\n    propertyKey: PropertyKey,\r\n    value: any\r\n): boolean;\r\nexport function set(\r\n    target: object,\r\n    propertyKey: PropertyKey,\r\n    value: any\r\n): boolean {\r\n    if (isMap(target) || isWeakMap(target)) {\r\n        target.set(propertyKey, value);\r\n\r\n        return true;\r\n    } else {\r\n        return Reflect.set(target, propertyKey, value);\r\n    }\r\n}\r\n\r\n/*\r\napply()\r\n对一个函数进行调用操作，同时可以传入一个数组作为调用参数。和 Function.prototype.apply() 功能类似。\r\nconstruct()\r\n对构造函数进行 new 操作，相当于执行 new target(...args)。\r\ndefineProperty()\r\n和 Object.defineProperty() 类似。\r\ndeleteProperty()\r\n作为函数的delete操作符，相当于执行 delete target[name]。\r\n\r\n该方法会返回一个包含有目标对象身上所有可枚举的自身字符串属性以及继承字符串属性的迭代器，for...in 操作遍历到的正是这些属性。\r\nget()\r\n获取对象身上某个属性的值，类似于 target[name]。\r\ngetOwnPropertyDescriptor()\r\n类似于 Object.getOwnPropertyDescriptor()。\r\ngetPrototypeOf()\r\n类似于 Object.getPrototypeOf()。\r\nhas()\r\n判断一个对象是否存在某个属性，和 in 运算符 的功能完全相同。\r\nisExtensible()\r\n类似于 Object.isExtensible().\r\nownKeys()\r\n返回一个包含所有自身属性（不包含继承属性）的数组。(类似于 Object.keys(), 但不会受enumerable影响).\r\npreventExtensions()\r\n类似于 Object.preventExtensions()。返回一个Boolean。\r\nset()\r\n将值分配给属性的函数。返回一个Boolean，如果更新成功，则返回true。\r\nsetPrototypeOf()\r\n类似于 Object.setPrototypeOf()。\r\n*/\r\n","const t=[\"input\",\"textarea\",\"option\",\"select\"];var e=(e,r,n)=>\"value\"===r&&t.includes(e)&&\"button\"!==n||\"selected\"===r&&\"option\"===e||\"checked\"===r&&\"input\"===e||\"muted\"===r&&\"video\"===e;const r=/\\B([A-Z])/g,n=t=>t.replace(r,\"-$1\").toLowerCase(),o=window.String,i=window.Reflect,{get:u,set:c,ownKeys:s}=i,f=\"value\";function a(t){return\"object\"==typeof t&&null!==t}function l(t){return\"string\"==typeof t}function p(t){return t instanceof Set}const y=t=>\"input\"===d(t)&&(\"checkbox\"===u(t,\"type\")||\"radio\"===u(t,\"type\"));function d(t){return t.tagName.toLowerCase()}function w(t,e,r){return t.setAttribute(e,r)}function g(t,e){return t.removeAttribute(e)}export default function(t){!function(t){if(!(t instanceof Element))throw TypeError()}(t);var r=Object.create(null);const i=new Proxy(r,{ownKeys(){const e=function(t){const e=d(t);return\"textarea\"===e||\"select\"===e||\"input\"===e&&\"text\"===u(t,\"type\")}(t),r=function(t){return t.getAttributeNames()}(t);return Array.from(new Set([...r,y(t)?\"checked\":void 0,e?f:void 0].flat(1/0).filter(t=>!!t)))},get(r,n){if(e(d(t),o(n),u(t,\"type\")))return u(t,o(n));{const e=function(t,e){return t.getAttribute(e)}(t,o(n));if(\"\"===e)return!0;if(null===e)return;if(!l(e))return;try{return JSON.parse(o(e))}catch(t){return e}}},set(r,i,s){if(\"function\"==typeof s)throw TypeError();if(e(d(t),o(i),u(t,\"type\")))return c(t,o(i),s);if(\"style\"===i){const e=l(s)?s:a(s)?(y=s,y=JSON.parse(JSON.stringify(y)),Object.entries(y).map(([t,e])=>[n(t).trim(),e]).map(([t,e])=>t+\":\"+e).join(\";\")):o(s);return c(u(t,\"style\"),\"cssText\",e.trim()),!0}if(\"class\"===i&&a(s)){const e=(f=s,Array.isArray(f)?s.join(\" \"):p(s)?[...s].join(\" \"):o(s));return w(t,o(i),e),!0}return!1===s||null==s?(g(t,o(i)),!0):p(s)?(w(t,o(i),JSON.stringify([...s])),!0):(!0===s&&(s=\"\"),w(t,o(i),a(s)?JSON.stringify(s):o(s)),!0);var f,y},deleteProperty:(e,r)=>(g(t,o(r)),!0),has:(t,e)=>s(i).includes(e),defineProperty:()=>!1,getOwnPropertyDescriptor(t,e){const r={enumerable:!0,configurable:!0,writable:!0},n=u(i,e);return void 0!==n?{value:n,...r}:void 0},setPrototypeOf:()=>!1});return i}\n//# sourceMappingURL=index.min.js.map\n","import { createdctx } from \"./Component-context\";\r\n\r\nexport function getcreated(): (() => void)[] {\r\n    return createdctx.getall();\r\n}\r\n","import { updatedctx } from \"./Component-context\";\r\n\r\nexport function getupdated(): (() => void)[] {\r\n    return updatedctx.getall();\r\n}\r\n","import { gettagtype } from \"src/UtilTools/util\";\r\nfunction istextnode(e: any): e is Text {\r\n    return gettagtype(e) === \"Text\";\r\n}\r\nfunction gettextnodes(container: Element): Text[] {\r\n    return [...container.childNodes].filter((e) => {\r\n        return istextnode(e);\r\n    }) as Text[];\r\n}\r\nconst rootnode = document.body;\r\nexport const connectedeventname = Symbol(\"mounted\").toString();\r\nexport const disconnectedeventname = Symbol(\"unmounted\").toString();\r\nconst callback = function(mutations: MutationRecord[]) {\r\n    mutations.forEach(function(record: MutationRecord) {\r\n        console.log(\"Mutation: \", record);\r\n\r\n        const addedNodes = [...record.addedNodes];\r\n        addedNodes.forEach((e) => {\r\n            if (e instanceof Element) {\r\n                const subeles = [...e.querySelectorAll(\"*\"), e];\r\n                const subtexts = subeles.map((e) => gettextnodes(e));\r\n                [...subeles, ...subtexts].flat(1 / 0).forEach((n) => {\r\n                    dispatchconnected(n);\r\n                });\r\n            }\r\n        });\r\n        const removedNodes = [...record.removedNodes];\r\n        removedNodes.forEach((e) => {\r\n            if (e instanceof Element) {\r\n                const subeles = [...e.querySelectorAll(\"*\"), e];\r\n                const subtexts = subeles.map((e) => gettextnodes(e));\r\n                [...subeles, ...subtexts].flat(1 / 0).forEach((n) => {\r\n                    dispatchdisconnected(n);\r\n                });\r\n            }\r\n        });\r\n    });\r\n};\r\nfunction dispatchconnected(e: Node | Text) {\r\n    e.dispatchEvent(new Event(connectedeventname));\r\n}\r\nfunction dispatchdisconnected(e: Node) {\r\n    e.dispatchEvent(new Event(disconnectedeventname));\r\n}\r\nconst mo = new MutationObserver(callback);\r\n\r\nconst option = {\r\n    childList: true,\r\n\r\n    subtree: true\r\n};\r\n\r\nmo.observe(rootnode, option);\r\n\r\nexport const updatedeventname = Symbol(\"updated\").toString();\r\nnew MutationObserver((mutations: MutationRecord[]) => {\r\n    mutations.forEach(function(record: MutationRecord) {\r\n        console.log(\"Mutation: \", record);\r\n        const target = record.target;\r\n        dispatchupdated(target);\r\n    });\r\n}).observe(rootnode, {\r\n    subtree: true,\r\n    attributes: true,\r\n    childList: true,\r\n    characterData: true\r\n});\r\nfunction dispatchupdated(e: Node) {\r\n    e.dispatchEvent(new Event(updatedeventname, { bubbles: true }));\r\n}\r\nexport const createdeventname = Symbol(\"created\").toString();\r\nexport function dispatchcreated(e: Node) {\r\n    e.dispatchEvent(new Event(createdeventname));\r\n}\r\n","import { createdeventname } from \"./mutationobserverwatch\";\r\nexport function addcreatedlistner(ele: Element, call: () => void) {\r\n    ele.addEventListener(createdeventname, call, { once: true });\r\n}\r\n","import { connectedeventname } from \"./mutationobserverwatch\";\r\nexport function addmountedlistner(ele: Element|Node, call: () => void) {\r\n    ele.addEventListener(connectedeventname, call);\r\n}\r\n","import { disconnectedeventname } from \"./mutationobserverwatch\";\r\nexport function addunmountedlistner(ele: Element|Node, call: () => void) {\r\n    ele.addEventListener(disconnectedeventname, call);\r\n}\r\n","import { updatedeventname } from \"./mutationobserverwatch\";\r\nexport function addupdatedlistner(ele: Element, call: () => void) {\r\n    ele.addEventListener(updatedeventname, call);\r\n}\r\nexport function addstopupdatelistener(ele: Element) {\r\n    ele.addEventListener(updatedeventname, (e) => {\r\n        if (e.target !== ele && ele.tagName.includes(\"-\")) {\r\n            e.stopPropagation();\r\n        }\r\n    });\r\n}\r\n","/* \r\n        \r\n        [[\"value\",[\"f\",\"f\"]],[\"value\",[\"f\",\"f\"]]]\r\n\r\n\r\n        [[\"value\",[\"f\",\"f\",\"f\",\"f\"]]]\r\n        \r\n        */\r\nexport function merge_entries(a: [string, any][]): [string, any][] {\r\n    const m: { [s: string]: Set<any> } = {};\r\n\r\n    a.forEach(([key, value]) => {\r\n        if (!m[key]) {\r\n            m[key] = new Set();\r\n        }\r\n\r\n        value.forEach((v: any) => {\r\n            m[key].add(v);\r\n        });\r\n    });\r\n    return Object.entries(m).map(([k, v]) => [k, [...v]]);\r\n}\r\n","const VirtualElementSet = new WeakSet<Virtualdom<any>>();\r\nconst Letter_case_and_Chinese = /[A-Za-z\\u4e00-\\u9fa5]/;\r\nimport { Htmlelementconstructor } from \"../CustomClass/customclass\";\r\nimport ReactiveState from \"../Reactivity/reactivestate.js\";\r\nimport { isReactiveState } from \"../Reactivity/isReactiveState\";\r\n\r\nimport { merge_entries } from \"../UtilTools/merge-entries\";\r\nimport { defineProperty, preventExtensions } from \"../UtilTools/reflect\";\r\nimport { isstring } from \"../UtilTools/util\";\r\nimport { ElementAttrs } from \"./create-element\";\r\nimport { VaildVDom } from \"./isvalidvdom\";\r\n\r\nexport function isVirtualdom(a: any): a is Virtualdom<any> {\r\n    return VirtualElementSet.has(a);\r\n}\r\n\r\nexport type Vdomchildren = Array<VaildVDom>;\r\nexport { createVirtualElement };\r\nfunction createVirtualElement<\r\n    T extends Htmlelementconstructor | string | Function\r\n>(\r\n    type: T,\r\n    props: ElementAttrs = {},\r\n    children: Vdomchildren = []\r\n): Virtualdom<T> {\r\n    props = Object.assign({}, props);\r\n    children = children.flat(1 / 0);\r\n\r\n    const propsentries = Object.entries(props);\r\n    const propsentriesNOTevents = propsentries.filter(\r\n        ([key]) => !(key.startsWith(\"@\") || key.startsWith(\"on\"))\r\n    );\r\n    const Entries_beginning_with_a_letter = propsentriesNOTevents.filter(\r\n        ([key]) => Letter_case_and_Chinese.test(key[0])\r\n    );\r\n    const virtual = Object.create(null);\r\n    const vdom = virtual;\r\n    [\"onevent\", \"type\", \"props\", \"children\", \"directives\", \"bindattr\"].forEach(\r\n        (key) => {\r\n            defineProperty(virtual, key, {\r\n                writable: true,\r\n                enumerable: false\r\n            });\r\n        }\r\n    );\r\n\r\n    Object.assign(virtual, {\r\n        type,\r\n        bindattr: Object.fromEntries(\r\n            Entries_beginning_with_a_letter.filter((e) => isReactiveState(e[1]))\r\n        ),\r\n        props: Object.fromEntries(\r\n            Entries_beginning_with_a_letter.filter(\r\n                (e) => !isReactiveState(e[1])\r\n            ).map(([key, value]) => [\r\n                key,\r\n                isstring(value) ? value.trim() : value\r\n            ])\r\n        ),\r\n        children,\r\n        onevent: Object.fromEntries(\r\n            merge_entries([\r\n                ...propsentries\r\n                    .filter(([key]) => \"@\" == key[0])\r\n                    .map(([key, value]) => [\r\n                        key\r\n                            .slice(1)\r\n                            .toLowerCase()\r\n                            .trim(),\r\n                        [value].flat(1 / 0)\r\n                    ]),\r\n                ...propsentries\r\n                    .filter(([key]) => key.startsWith(\"on\"))\r\n                    .map(([key, value]) => [\r\n                        key\r\n                            .slice(2)\r\n                            .toLowerCase()\r\n                            .trim(),\r\n                        [value].flat(1 / 0)\r\n                    ])\r\n            ] as [string, any][])\r\n        ),\r\n        directives: Object.fromEntries(\r\n            propsentriesNOTevents\r\n                .filter(([key]) => key[0] === \"*\" || key[0] === \"$\")\r\n                .map(([key, value]) => [\r\n                    key\r\n                        .slice(1)\r\n                        .toLowerCase()\r\n                        .trim(),\r\n                    value\r\n                ])\r\n        )\r\n    });\r\n    defineProperty(virtual, Symbol.toStringTag, { value: \"VirtualElement\" });\r\n\r\n    preventExtensions(virtual);\r\n    VirtualElementSet.add(virtual);\r\n\r\n    Object.freeze(vdom);\r\n    return virtual;\r\n}\r\n\r\ninterface Virtualdom<T extends Htmlelementconstructor | string | Function> {\r\n    readonly [Symbol.toStringTag]: \"VirtualElement\";\r\n\r\n    readonly type: T;\r\n    readonly props: ElementAttrs;\r\n    readonly children: Vdomchildren;\r\n    readonly directives: Record<string, any>;\r\n\r\n    readonly onevent: Record<string, Array<EventListener>>;\r\n\r\n    readonly bindattr: Record<string, ReactiveState<any>>;\r\n}\r\nexport default Virtualdom;\r\n","export type VaildVDom =\r\n    | Virtualdom<any>\r\n    | string\r\n    | number\r\n    | Vdomchildren\r\n    | ReactiveState<any>;\r\n\r\nimport Virtualdom, {\r\n    isVirtualdom,\r\n    Vdomchildren\r\n} from \"../CreateElement/VirtualElement\";\r\nimport ReactiveState from \"../Reactivity/reactivestate.js\";\r\nimport { isReactiveState } from \"../Reactivity/isReactiveState\";\r\nimport { isArray, isnumber, isstring } from \"../UtilTools/util\";\r\n\r\nexport function isvalidvdom(v: any): v is VaildVDom {\r\n    if (isstring(v)) {\r\n        return true;\r\n    }\r\n    if (isnumber(v)) {\r\n        return true;\r\n    }\r\n    let flag = false;\r\n    if (isArray(v)) {\r\n        /*flag = v\r\n        .map((ele: any) => {\r\n          return isvalidvdom(ele);\r\n          \r\n        })\r\n        .includes(false)\r\n        ? false\r\n        : true;\r\n      return flag;*/\r\n\r\n        return v.every((e) => isvalidvdom(e));\r\n    } else if (isVirtualdom(v)) {\r\n        return isvalidvdom(v.children);\r\n        /*  if (isvalidvdom(v.children)) {\r\n        return true;\r\n      } */\r\n    } else if (isReactiveState(v)) {\r\n        return true;\r\n    }\r\n    /*  else {\r\n    } */\r\n    return flag;\r\n}\r\n","import { Htmlelementconstructor } from \"../CustomClass/customclass\";\r\nimport { isfunction } from \"../UtilTools/util\";\r\n\r\nexport function isclassextendsHTMLElement(initclass: {\r\n    prototype: any;\r\n}): initclass is Htmlelementconstructor {\r\n    return !!(\r\n        isfunction(initclass) &&\r\n        initclass.prototype &&\r\n        initclass.prototype instanceof HTMLElement\r\n    );\r\n}\r\n","import { mountedctx } from \"./Component-context\";\r\n\r\nexport function getMounted(): (() => void)[] {\r\n    return mountedctx.getall();\r\n}\r\n","import { unmountedctx } from \"./Component-context\";\r\n\r\nexport function getUnMounted(): (() => void)[] {\r\n    return unmountedctx.getall();\r\n}\r\n","export function seteletext(e: Element | Node, v: string) {\r\n    e.textContent = v;\r\n}\r\nexport function setelehtml(e: Element, v: string) {\r\n    e.innerHTML = v;\r\n}\r\nexport function appendchild(\r\n    container: HTMLElement | SVGSVGElement | SVGElement | Element | Node,\r\n    ele: HTMLElement | SVGElement | Element | Node\r\n) {\r\n    container.appendChild(ele);\r\n}\r\nexport function createsvgelement() {\r\n    return createElementNS(svgnamespace, \"svg\");\r\n}\r\nexport function createnonescript() {\r\n    return createDocumentFragment();\r\n}\r\nexport function createDocumentFragment() {\r\n    return document.createDocumentFragment();\r\n}\r\nexport function createnativeelement(type: string) {\r\n    return document.createElement(type);\r\n}\r\nexport function createElementNS(namespace: string, name: string) {\r\n    return document.createElementNS(namespace, name);\r\n}\r\nexport function createtextnode(data: string | number) {\r\n    return document.createTextNode(String(data));\r\n}\r\nexport const svgnamespace = \"http://www.w3.org/2000/svg\";\r\nexport function changetext(textnode: Text, value: string) {\r\n    textnode.nodeValue = String(value);\r\n}\r\n\r\nexport const mathnamespace = \"http://www.w3.org/1998/Math/MathML\";\r\n\r\nexport function createmathelement() {\r\n    return createElementNS(mathnamespace, \"math\");\r\n}\r\nexport function createComment() {\r\n    return document.createComment(\"\");\r\n}\r\nexport function removeElement(element: Element) {\r\n    element.remove();\r\n}\r\nexport function removeNode(node: Element | Node) {\r\n    let parentNode = node.parentNode;\r\n    if (parentNode) {\r\n        parentNode.removeChild(node);\r\n    }\r\n}\r\nexport function replaceChild(newChild: Node, oldChild: Node) {\r\n    let parentNode = oldChild.parentNode;\r\n    if (parentNode) {\r\n        parentNode.replaceChild(newChild, oldChild);\r\n    }\r\n}\r\n\r\nexport function domaddlisten(\r\n    ele: Element | Node,\r\n    event: string,\r\n    call: EventListener\r\n) {\r\n    ele.addEventListener(event, call);\r\n}\r\n\r\nexport function domremovelisten(\r\n    ele: Element | Node,\r\n    event: string,\r\n    call: EventListener\r\n) {\r\n    ele.removeEventListener(event, call);\r\n}\r\nexport function getchildren(ele: Element) {\r\n    return [...ele.children];\r\n}\r\nexport function getchildNodes(ele: Element | Node) {\r\n    return [...ele.childNodes];\r\n}\r\nexport function getAttribute(ele: Element, name: string) {\r\n    return HTMLElementprototype.getAttribute.call(ele, name);\r\n}\r\nexport function setAttribute(ele: Element, name: string, value: any) {\r\n    HTMLElementprototype.setAttribute.call(ele, name, value);\r\n}\r\nexport function removeAttribute(ele: Element, name: string) {\r\n    HTMLElementprototype.removeAttribute.call(ele, name);\r\n}\r\nconst HTMLElementprototype = HTMLElement.prototype;\r\n\r\nexport function insertfirst(\r\n    container: HTMLElement | Element,\r\n    ele: HTMLElement\r\n) {\r\n    container.insertBefore(ele, container.firstChild);\r\n}\r\nexport function createanotherhtmldocument() {\r\n    return document.implementation.createHTMLDocument(\"\");\r\n}\r\n/* export function getparentNode(ele: Node): Node {\r\n    return ele.parentNode ? ele.parentNode : ele;\r\n  }\r\n   */\r\nexport function querySelectorAll(selector: string) {\r\n    return [...document.querySelectorAll(selector)];\r\n}\r\n","import { appendchild, seteletext } from \"../UtilTools/dom\";\r\nimport { toArray } from \"../UtilTools/toArray\";\r\nexport default function<\r\n    T extends HTMLElement | SVGSVGElement | SVGElement | Element | Node\r\n>(\r\n    ele:\r\n        | Node\r\n        | Array<\r\n              | HTMLElement\r\n              | Text\r\n              | SVGSVGElement\r\n              | DocumentFragment\r\n              | SVGElement\r\n              | Element\r\n              | Node\r\n          >\r\n        | SVGElement\r\n        | DocumentFragment\r\n        | HTMLElement\r\n        | Text\r\n        | SVGSVGElement\r\n        | Element,\r\n    container: T,\r\n    clear: boolean = true\r\n): T {\r\n    if (clear) {\r\n        seteletext(container, \"\");\r\n    }\r\n\r\n    const eles = toArray(ele);\r\n    eles.forEach((e: Node | HTMLElement | Element | SVGElement) =>\r\n        appendchild(container, e)\r\n    );\r\n    return container;\r\n}\r\nimport mountrealelement from \"./mount-real-element\";\r\nexport { mountrealelement };\r\n","import { get } from \"../UtilTools/reflect\";\r\nimport { isFunction } from \"../UtilTools/util\";\r\nconst componentsymbol = Symbol(\"component\");\r\nexport { componentsymbol };\r\nexport function iscomponent(a: any) {\r\n    return isFunction(a) && get(a, componentsymbol) === componentsymbol;\r\n}\r\n","export { getrandomstringandnumber };\r\nimport { get } from \"../UtilTools/reflect\";\r\n\r\nconst charactorlist = Array(26)\r\n    .fill(undefined)\r\n    .map((v, i) => 97 + i)\r\n    .map((n) => String.fromCharCode(n));\r\n\r\nconst hexnumberlist = Array(16)\r\n    .fill(undefined)\r\n    .map((v, i) => i)\r\n    .map((a) => a.toString(16));\r\n\r\nconst charactorandnumberlist = [\r\n    ...new Set([...hexnumberlist, ...charactorlist])\r\n];\r\n\r\nfunction getrandomcharactor() {\r\n    return get(charactorlist, Math.floor(Math.random() * charactorlist.length));\r\n}\r\nfunction getrandomhexnumberandcharactor() {\r\n    return get(\r\n        charactorandnumberlist,\r\n        Math.floor(Math.random() * charactorandnumberlist.length)\r\n    );\r\n}\r\nfunction getrandomstringandnumber(length = 1) {\r\n    return (\r\n        Array(length)\r\n            .fill(undefined)\r\n            .map(() => getrandomcharactor())\r\n\r\n            .join(\"\") +\r\n        \"-\" +\r\n        Array(length)\r\n            .fill(undefined)\r\n            .map(() => getrandomhexnumberandcharactor())\r\n            .join(\"\")\r\n    );\r\n}\r\n","export const invalid_custom_element_class = \"invalid custom element class !\";\r\n\r\nimport { get, getPrototypeOf, has, set } from \"../UtilTools/reflect\";\r\nimport { isobject } from \"../UtilTools/util\";\r\nimport { getrandomstringandnumber } from \"./getrandomstringandnumber\";\r\nimport { isclassextendsHTMLElement } from \"./isclassextendsHTMLElement\";\r\nif (!isobject(window.customElements)) {\r\n    console.error(\" customElements  not supported !\");\r\n    throw new TypeError();\r\n}\r\n\r\nfunction Usevaluetoquerythekeyfromthetable(\r\n    table: object,\r\n    Componentstatusname: any\r\n): string | undefined {\r\n    const outputentrie = Object.entries(table).find((v) => {\r\n        return v[1] === Componentstatusname;\r\n    });\r\n    return outputentrie ? outputentrie[0] : undefined;\r\n}\r\n\r\ninterface ElementDefinitionOptions {\r\n    extends?: string;\r\n}\r\nwindow.CustomElementRegistry = get(\r\n    getPrototypeOf(window.customElements),\r\n    \"constructor\"\r\n);\r\nconst elementset = Symbol.for(\"elementset\");\r\nconst elementmap = Symbol.for(\"elementmap\");\r\n\r\ninterface CustomElements extends CustomElementRegistry {\r\n    [elementset]: Set<Function>;\r\n    [elementmap]: Record<string, Function>;\r\n}\r\nconst { CustomElementRegistry } = window;\r\nconst customElements = window.customElements as CustomElements;\r\n\r\nif (!has(customElements, elementset)) {\r\n    Reflect.set(customElements, elementset, new Set());\r\n}\r\nif (!has(customElements, elementmap)) {\r\n    Reflect.set(customElements, elementmap, {});\r\n}\r\n\r\nexport default (initclass: Function, extendsname?: string) =>\r\n    RandomDefineCustomElement(initclass, extendsname);\r\n\r\nfunction RandomDefineCustomElement(\r\n    initclass: Function,\r\n    extendsname?: string,\r\n    length = 1\r\n): string | undefined {\r\n    if (!isclassextendsHTMLElement(initclass)) {\r\n        console.error(initclass);\r\n        console.error(invalid_custom_element_class);\r\n        throw TypeError();\r\n    }\r\n\r\n    if (!get(customElements, elementset).has(initclass)) {\r\n        const elementname = getrandomstringandnumber(length);\r\n\r\n        if (customElements.get(elementname)) {\r\n            return RandomDefineCustomElement(\r\n                initclass,\r\n                extendsname,\r\n                length + 1\r\n            );\r\n        } else {\r\n            if (extendsname) {\r\n                customElements.define(elementname, initclass, {\r\n                    extends: extendsname\r\n                });\r\n            } else {\r\n                customElements.define(elementname, initclass);\r\n            }\r\n        }\r\n\r\n        return elementname;\r\n    } else {\r\n        return Usevaluetoquerythekeyfromthetable(\r\n            get(customElements, elementmap),\r\n            initclass\r\n        );\r\n    }\r\n}\r\n\r\n/* customElements.get = function name(name) {\r\n  return customElements[elementmap].get(name);\r\n};\r\n */\r\ncustomElements.define = function(\r\n    name: string,\r\n    constructor: Function,\r\n    options?: ElementDefinitionOptions\r\n): void {\r\n    if (!isclassextendsHTMLElement(constructor)) {\r\n        console.error(constructor);\r\n        console.error(invalid_custom_element_class);\r\n        throw TypeError();\r\n    }\r\n    if (!get(customElements, elementset).has(constructor)) {\r\n        if (has(customElements[elementmap], name)) {\r\n            RandomDefineCustomElement(\r\n                constructor,\r\n                options ? options.extends : undefined\r\n            );\r\n        } else {\r\n            CustomElementRegistry.prototype.define.call(\r\n                customElements,\r\n                name,\r\n                constructor,\r\n                options\r\n            );\r\n            customElements[elementset].add(constructor);\r\n            customElements[elementmap][name] = constructor;\r\n        }\r\n    }\r\n};\r\nset(customElements, Symbol.iterator, () => {\r\n    const entries = Object.entries(customElements[elementmap]);\r\n\r\n    return entries[Symbol.iterator].call(entries);\r\n});\r\n/* customElements[Symbol.iterator] = () => {\r\n  const entries = Object.entries(customElements[elementmap]);\r\n\r\n  return entries[Symbol.iterator].call(entries);\r\n}; */\r\n","import { Htmlelementconstructor, Custom } from \"./customclass\";\r\n\r\nimport RandomDefineCustomElement, {\r\n    invalid_custom_element_class\r\n} from \"./CustomElementRegistry\";\r\nimport { construct } from \"../UtilTools/reflect\";\r\nimport { isclassextendsHTMLElement } from \"./isclassextendsHTMLElement\";\r\nimport { autocreateclass } from \"../AttributeClass/createComponent\";\r\nimport { isfunction } from \"../UtilTools/util\";\r\n\r\nexport function createcostumelemet(\r\n    initclass: Htmlelementconstructor | Custom,\r\n    propsjson?: object,\r\n    children?: any[]\r\n): HTMLElement {\r\n    let type = initclass;\r\n    if (isfunction(type)) {\r\n        type = autocreateclass(type);\r\n    }\r\n    initclass = type;\r\n    if (isclassextendsHTMLElement(initclass)) {\r\n        /*   const elementname =\r\n     getcustomelementname(initclass); */\r\n        /* if (customElements.get(elementname) === initclass) {\r\n    } else {\r\n      customElements.define(elementname, initclass);\r\n    } */\r\n        RandomDefineCustomElement(initclass);\r\n        return construct(initclass, [propsjson, children]);\r\n    } else {\r\n        console.error(initclass);\r\n        console.error(invalid_custom_element_class);\r\n        throw TypeError();\r\n    }\r\n}\r\n","import { isboolean } from \"./util\";\r\n\r\nexport function isconnected(element: Node) {\r\n    const isConnectedstate = element.isConnected;\r\n    if (isboolean(isConnectedstate)) {\r\n        return isConnectedstate;\r\n    } else {\r\n        return document.documentElement === getancestornode(element);\r\n    }\r\n}\r\nfunction getancestornode(node: Node) {\r\n    while (\r\n        node &&\r\n        node.parentNode &&\r\n        node.parentNode !== document\r\n        /*  getparentNode(node) &&\r\n    getparentNode(node) !== node &&\r\n    getparentNode(node) !== document */\r\n    ) {\r\n        node = node.parentNode;\r\n    }\r\n    return node;\r\n}\r\n","export const { requestAnimationFrame } = window;\r\n\r\nimport { ExtendOptions } from \"./extend-directive\";\r\nexport { directive };\r\nconst directive: ExtendOptions = {};\r\nexport default directive;\r\n","import { isfunction } from \"../UtilTools/util\";\r\nimport Virtualdom from \"../CreateElement/VirtualElement\";\r\nimport directives from \"../Directives/directives\";\r\nimport { addmountedlistner } from \"src/others/addmountedlistner\";\r\nimport { addupdatedlistner } from \"src/others/addupdatedlistner\";\r\nimport { addunmountedlistner } from \"src/others/addunmountedlistner\";\r\nconst applydirects = function(element: Element, vdom: Virtualdom<any>) {\r\n    Object.entries(vdom.directives).forEach(([name, value]) => {\r\n        const direfun = directives[name];\r\n        if (isfunction(direfun)) {\r\n            direfun(\r\n                value,\r\n                element,\r\n                vdom,\r\n                (call) => {\r\n                    addmountedlistner(element, call);\r\n                },\r\n                (call) => {\r\n                    addunmountedlistner(element, call);\r\n                },\r\n                (call) => {\r\n                    addupdatedlistner(element, call);\r\n                }\r\n            );\r\n        } else {\r\n            console.error(vdom.directives);\r\n            console.error(\"invalid directives \" + name);\r\n            throw new TypeError();\r\n        }\r\n    });\r\n};\r\nexport { applydirects };\r\n","import onevent from \"./handle-onevent\";\r\nexport { onevent };\r\nimport { invalid_Function } from \"../life-cycle-context/Component-context\";\r\nimport { domaddlisten, domremovelisten } from \"../UtilTools/dom\";\r\nimport { get, has, set } from \"../UtilTools/reflect\";\r\nimport { toArray } from \"../UtilTools/toArray\";\r\nimport { isfunction } from \"../UtilTools/util\";\r\nexport const eventlistenerssymbol = Symbol(\"eventlisteners\");\r\nexport default function(\r\n    element: Element | Node,\r\n    eventname: string,\r\n    callback: EventListener | Array<EventListener>\r\n) {\r\n    firstaddlisteners(element, eventname, toArray(callback));\r\n}\r\nexport function firstaddlisteners(\r\n    ele: Element | Node,\r\n    event: string,\r\n    callarray: Array<EventListener>\r\n) {\r\n    const element = ele;\r\n    callarray.forEach((call: EventListener) => {\r\n        if (!isfunction(call)) {\r\n            console.error(call);\r\n            console.error(invalid_Function);\r\n            throw TypeError();\r\n        }\r\n\r\n        if (!has(element, eventlistenerssymbol)) {\r\n            set(element, eventlistenerssymbol, []);\r\n        }\r\n        (get(ele, eventlistenerssymbol) as [string, EventListener][]).push([\r\n            event,\r\n            call\r\n        ]);\r\n        domaddlisten(ele, event, call);\r\n    });\r\n}\r\nexport function removelisteners(ele: Element | Node) {\r\n    if (has(ele, eventlistenerssymbol)) {\r\n        (get(ele, eventlistenerssymbol) as [string, EventListener][]).forEach(\r\n            ([event, call]) => {\r\n                domremovelisten(ele, event, call);\r\n            }\r\n        );\r\n    }\r\n}\r\nexport function readdlisteners(ele: Element | Node) {\r\n    if (has(ele, eventlistenerssymbol)) {\r\n        (get(ele, eventlistenerssymbol) as [string, EventListener][]).forEach(\r\n            ([event, call]) => {\r\n                domaddlisten(ele, event, call);\r\n            }\r\n        );\r\n    }\r\n}\r\n","import createeleattr from \"@masx200/dom-element-attribute-agent-proxy\";\r\nimport ReactiveState from \"../Reactivity/reactivestate.js\";\r\nimport { isReactiveState } from \"../Reactivity/isReactiveState\";\r\nimport watch from \"../Reactivity/watch\";\r\nimport { isconnected } from \"../UtilTools/isconnected\";\r\nimport { get, has, set } from \"../UtilTools/reflect\";\r\nimport Virtualdom from \"../CreateElement/VirtualElement\";\r\nimport { onevent } from \"./handle-onevent\";\r\nimport { bindstatesymbol } from \"./render-vdom-to-real\";\r\nimport { addmountedlistner } from \"src/others/addmountedlistner\";\r\nimport { addunmountedlistner } from \"src/others/addunmountedlistner\";\r\nexport function handleprops(\r\n    element: HTMLElement | Element | SVGSVGElement | SVGElement,\r\n    vdom: Virtualdom<any>\r\n) {\r\n    const attribute1: Record<string, any> = createeleattr(element);\r\n    Object.assign(attribute1, vdom.props);\r\n    let cancelarr: undefined | Array<() => void>;\r\n    addmountedlistner(element, () => {\r\n        cancelarr = Object.entries(vdom.bindattr).map(\r\n            ([key, primitivestate]) => {\r\n                attribute1[key] = primitivestate.valueOf();\r\n                return watch(primitivestate, () => {\r\n                    const state = primitivestate;\r\n                    if (isconnected(element)) {\r\n                        attribute1[key] = state.valueOf();\r\n                    }\r\n                });\r\n            }\r\n        );\r\n    });\r\n    addunmountedlistner(element, () => {\r\n        cancelarr &&\r\n            cancelarr.forEach((f) => {\r\n                f();\r\n            });\r\n    });\r\n    Object.entries(vdom.onevent).forEach(([event, callbacks]) => {\r\n        onevent(element, event, callbacks);\r\n    });\r\n\r\n    [...Object.values(vdom.bindattr), ...Object.values(vdom.directives)]\r\n        .flat(1 / 0)\r\n        .filter((e) => isReactiveState(e))\r\n        .forEach((e: ReactiveState<any>) => {\r\n            if (!has(element, bindstatesymbol)) {\r\n                set(element, bindstatesymbol, new Set());\r\n            }\r\n            (get(element, bindstatesymbol) as Set<ReactiveState<any>>).add(e);\r\n        });\r\n}\r\n","import { dispatchcreated } from \"src/others/mutationobserverwatch\";\r\nimport { addmountedlistner } from \"src/others/addmountedlistner\";\r\nimport { addunmountedlistner } from \"src/others/addunmountedlistner\";\r\n\r\nimport { autocreateclass } from \"../AttributeClass/createComponent\";\r\nimport { iscomponent } from \"../AttributeClass/iscomponent\";\r\nimport Virtualdom, {\r\n    isVirtualdom,\r\n    Vdomchildren\r\n} from \"../CreateElement/VirtualElement\";\r\nimport { createcostumelemet } from \"../CustomClass/create-costum-elemet\";\r\nimport mount from \"../MountElement/mount-real-element\";\r\nimport { invalid_Virtualdom } from \"../MountElement/MountElement\";\r\nimport ReactiveState from \"../Reactivity/reactivestate.js\";\r\nimport { isReactiveState } from \"../Reactivity/isReactiveState\";\r\nimport watch from \"../Reactivity/watch\";\r\nimport {\r\n    changetext,\r\n    createDocumentFragment,\r\n    createElementNS,\r\n    createmathelement,\r\n    createnativeelement,\r\n    createsvgelement,\r\n    createtextnode,\r\n    mathnamespace,\r\n    svgnamespace\r\n} from \"../UtilTools/dom\";\r\nimport { isconnected } from \"../UtilTools/isconnected\";\r\nimport { get, set } from \"../UtilTools/reflect\";\r\nimport {\r\n    isArray,\r\n    isfunction,\r\n    isnumber,\r\n    isobject,\r\n    isstring\r\n} from \"../UtilTools/util\";\r\nimport { applydirects } from \"./applydirects\";\r\nimport { handleprops } from \"./handleprops\";\r\n\r\nexport const bindstatesymbol = Symbol(\"bindstate\");\r\n\r\n/* 为了垃圾回收,所以不要给dom元素添加没必要的属性 */\r\nfunction throwinvalideletype(type?: any): never {\r\n    console.error(type);\r\n    console.error(\"invalid element type!\");\r\n    console.error(invalid_Virtualdom);\r\n    throw TypeError(/*\"invalid element type!\"*/);\r\n}\r\nexport default render;\r\nfunction render(vdom: Virtualdom<\"\">, namespace?: string): Node;\r\nfunction render(\r\n    vdom: string | ReactiveState<any> | number,\r\n    namespace?: string\r\n): Node;\r\n\r\nfunction render(\r\n    vdom: Virtualdom<string | Function>,\r\n    namespace?: string\r\n): Element;\r\n\r\nfunction render(vdom: Vdomchildren, namespace?: string): Array<Node | Element>;\r\nfunction render(\r\n    vdom: Array<string | ReactiveState<any> | number | Virtualdom<\"\">>,\r\n    namespace?: string\r\n): Array<Node>;\r\n\r\nfunction render(\r\n    vdom: Array<Virtualdom<any>>,\r\n    namespace?: string\r\n): Array<Element>;\r\n\r\nfunction render(\r\n    vdom: Virtualdom<any> | string | number | ReactiveState<any> | Vdomchildren,\r\n    namespace?: string\r\n): Array<Node | Element> | Element | Node {\r\n    if (isArray(vdom)) {\r\n        return (vdom as (\r\n            | string\r\n            | number\r\n            | ReactiveState<any>\r\n            | Virtualdom<any>\r\n        )[])\r\n            .map((a) => render(a as any))\r\n            .flat(1 / 0);\r\n    }\r\n    if (isnumber(vdom) || isstring(vdom)) {\r\n        const textnode = createtextnode(vdom);\r\n\r\n        return textnode;\r\n    } else if (isReactiveState(vdom)) {\r\n        const reactive = vdom;\r\n        const textnode = createtextnode(String(reactive));\r\n        const element = textnode;\r\n        let cancel: undefined | (() => void);\r\n        addmountedlistner(element, () => {\r\n            cancel = watch(reactive, () => {\r\n                const state = reactive;\r\n                if (isconnected(element)) {\r\n                    changetext(textnode, String(state));\r\n                }\r\n            });\r\n        });\r\n        addunmountedlistner(element, () => {\r\n            cancel && cancel();\r\n        });\r\n\r\n        set(element, bindstatesymbol, new Set());\r\n\r\n        (get(element, bindstatesymbol) as Set<ReactiveState<any>>).add(\r\n            reactive\r\n        );\r\n\r\n        return textnode;\r\n    } else if (isVirtualdom(vdom)) {\r\n        let { type } = vdom;\r\n        if (isfunction(type)) {\r\n            type = autocreateclass(type);\r\n        }\r\n        let element:\r\n            | Element\r\n            | HTMLElement\r\n            | SVGSVGElement\r\n            | SVGElement\r\n            | undefined = undefined;\r\n        if (typeof type === \"string\") {\r\n            if (type === \"script\") {\r\n                /* 禁止加载脚本 */\r\n                /* 创建一个不能运行代码的script */\r\n                return createElementNS(\"never\", \"script\");\r\n            } else if (type === \"svg\") {\r\n                /* 没想到svg的创建方式这么特别?否则显示不出svg */\r\n                element = createsvgelement();\r\n            } else if (type === \"math\") {\r\n                /* 没想到svg的创建方式这么特别?否则显示不出svg */\r\n                element = createmathelement();\r\n            } else if (\"\" === type) {\r\n                const fragmentnode = createDocumentFragment();\r\n\r\n                mount(render(vdom.children), fragmentnode);\r\n\r\n                return fragmentnode;\r\n            } else if (type === \"html\") {\r\n                const fragmentelement = createElementNS(\"never\", \"html\");\r\n\r\n                mount(render(vdom.children), fragmentelement);\r\n\r\n                return fragmentelement;\r\n            } else {\r\n                element = namespace\r\n                    ? createElementNS(namespace, type)\r\n                    : createnativeelement(type);\r\n            }\r\n        } else if (typeof type == \"function\") {\r\n            /*static defaultProps = {\r\n        name: 'Omi',\r\n        myAge: 18\r\n  }*/\r\n            if (isobject(type[\"defaultProps\"])) {\r\n                /*  改成了readonly属性 props*/\r\n                Object.assign(\r\n                    vdom.props,\r\n                    JSON.parse(\r\n                        JSON.stringify({\r\n                            ...type[\"defaultProps\"],\r\n                            ...vdom.props\r\n                        })\r\n                    )\r\n                );\r\n                /* vdom.props = JSON.parse(\r\n          JSON.stringify({ ...type[\"defaultProps\"], ...vdom.props })\r\n        ); */\r\n            }\r\n\r\n            const propsjson = JSON.parse(\r\n                JSON.stringify({\r\n                    ...vdom.props,\r\n                    ...Object.fromEntries(\r\n                        Object.entries(vdom.bindattr).map(([key, value]) => {\r\n                            return [key, value.value];\r\n                        })\r\n                    )\r\n                })\r\n            );\r\n            element = createcostumelemet(type, propsjson, vdom.children);\r\n        } else {\r\n            throwinvalideletype(vdom);\r\n        }\r\n        /* 元素已经创建出来了 */\r\n        dispatchcreated(element);\r\n\r\n        applydirects(element, vdom);\r\n        /*  if (element) {\r\n      const attribute1: { [key: string]: any } = createeleattr(element);\r\n      Object.assign(\r\n        attribute1,\r\n\r\n        /* 把属性为false的先不设置 */\r\n\r\n        /* 自定义组件不添加children,而是从构造函数传入 */\r\n        /* web components也可以设置 childnodes,比如说slot */\r\n        /* https:\r\n    /*  */\r\n\r\n        if (\r\n            type &&\r\n            (isfunction(type) || isstring(type))\r\n\r\n            /* typeof type !== \"function\" */\r\n        ) {\r\n            /* 如果自己创造的组件就不加children, */\r\n            if (!iscomponent(type)) {\r\n                if (element) {\r\n                    mount(\r\n                        vdom.children.map((e) => {\r\n                            if (type === \"svg\" && isVirtualdom(e)) {\r\n                                /* 没想到svg的创建方式这么特别?否则显示不出svg */\r\n\r\n                                return render(e, svgnamespace);\r\n                            } else if (type === \"math\" && isVirtualdom(e)) {\r\n                                return render(e, mathnamespace);\r\n                            } else if (namespace && isVirtualdom(e)) {\r\n                                return render(e, namespace);\r\n                            } else {\r\n                                return render(e as any) as any;\r\n                            }\r\n                        }),\r\n\r\n                        element\r\n                    );\r\n                }\r\n            }\r\n        }\r\n        /* 对于select元素,设置value属性时,如果没有 找到对应的option元素,则设置失败,\r\n    \r\n    改成先加children,后设attributes,\r\n    */\r\n        if (element) {\r\n            handleprops(element, vdom);\r\n        }\r\n\r\n        return element as Node | Element;\r\n    } else {\r\n        throwinvalideletype(vdom);\r\n    }\r\n\r\n    /* console.error(vdom);\r\n  throw new Error(); */\r\n}\r\nexport { render };\r\n","import { isArray } from \"../UtilTools/util\";\r\n\r\nexport function isNodeArray(arr: any[]): arr is Node[] {\r\n    return !!(isArray(arr) && arr.length && arr.every((a) => isNode(a)));\r\n}\r\nexport function isNode(a: any): a is Node {\r\n    return a instanceof Node;\r\n}\r\n","export const invalid_Virtualdom = \"invalid Virtualdom \";\r\n\r\nimport mount from \"./mount-real-element\";\r\nimport render from \"../RenderVirtual/render-vdom-to-real\";\r\nimport { toArray } from \"../UtilTools/toArray\";\r\nimport { isArray } from \"../UtilTools/util\";\r\nimport { isvalidvdom, VaildVDom } from \"../CreateElement/isvalidvdom\";\r\nimport { isNode, isNodeArray } from \"./isNodeArray\";\r\nexport default function MountElement<T extends Element>(\r\n    vdom: VaildVDom | Node | Element | Array<Node | Element>,\r\n    container: T\r\n): T {\r\n    if (isArray(vdom)) {\r\n        vdom = vdom.flat(Infinity);\r\n        if (!vdom.length) {\r\n            console.error(\"Empty array not allowed\");\r\n            throw new TypeError();\r\n        }\r\n    }\r\n    const el = container;\r\n    if (!(el instanceof HTMLElement)) {\r\n        console.error(el);\r\n        console.error(\"invalid container HTMLElement!\");\r\n        throw TypeError();\r\n    }\r\n\r\n    if (\r\n        el === document.body ||\r\n        el === document.documentElement ||\r\n        el === document.head\r\n    ) {\r\n        console.error(el);\r\n        console.error(\"Do not mount  to <html> or <body> <head>.\");\r\n        throw Error();\r\n    }\r\n\r\n    if (isvalidvdom(vdom)) {\r\n        const elesarray = toArray(vdom);\r\n        mount(render(elesarray), container);\r\n    } else if (isNode(vdom) || isNodeArray(vdom)) {\r\n        const elesarray = toArray(vdom);\r\n        mount(elesarray, container);\r\n    } else {\r\n        console.error(vdom);\r\n        console.error(invalid_Virtualdom);\r\n        throw TypeError();\r\n    }\r\n\r\n    //\r\n    return container;\r\n}\r\n","const proxyset: WeakSet<object> = new WeakSet();\r\nexport function isproxy(a: any): boolean {\r\n    return proxyset.has(a);\r\n}\r\n// export const proxytotarget = new WeakMap<object, object>();\r\nexport const proxytohandler = new WeakMap<object, ProxyHandler<object>>();\r\nexport function combineproxy<T extends object>(\r\n    target: T,\r\n    newhandler: ProxyHandler<T>\r\n): T {\r\n    if (isproxy(target)) {\r\n        const oldhandler = proxytohandler.get(target);\r\n        if (oldhandler) {\r\n            Object.assign(oldhandler, newhandler);\r\n        } else {\r\n            throw new TypeError();\r\n        }\r\n        return target;\r\n    } else {\r\n        const pro = new Proxy(target, newhandler);\r\n        // proxytotarget.set(pro, target);\r\n        proxytohandler.set(pro, newhandler);\r\n        proxyset.add(pro);\r\n        return pro;\r\n    }\r\n}\r\n","import { combineproxy } from \"src/others/combineproxy\";\r\nconst handler = {\r\n    set() {\r\n        return true;\r\n    },\r\n    defineProperty() {\r\n        return false;\r\n    },\r\n    deleteProperty() {\r\n        return false;\r\n    },\r\n    setPrototypeOf() {\r\n        return false;\r\n    }\r\n};\r\nexport default function<T extends object>(target: T): T {\r\n    return combineproxy(target, Object.assign({}, handler));\r\n}\r\n","import createElement from \"../CreateElement/create-element\";\r\nimport render from \"../RenderVirtual/render-vdom-to-real\";\r\n\r\nconst componentsstylesheet: Map<string, Set<string>> = new Map();\r\n\r\nexport { componentsstylesheet };\r\n\r\nexport function createlinkstylesheet(url: string): HTMLLinkElement {\r\n    return render(\r\n        createElement(\"link\", { href: url, rel: \"stylesheet\" })\r\n    ) as HTMLLinkElement;\r\n}\r\n","import { gettagtype } from \"../UtilTools/util\";\r\n\r\nexport function isCSSStyleRule(a: any): a is CSSStyleRule {\r\n    return gettagtype(a) === \"CSSStyleRule\";\r\n}\r\nexport function isCSSMediaRule(a: any): a is CSSMediaRule {\r\n    return gettagtype(a) === \"CSSMediaRule\";\r\n}\r\nexport function isCSSImportRule(a: any): a is CSSImportRule {\r\n    return gettagtype(a) === \"CSSImportRule\";\r\n}\r\nexport function isCSSRule(a: any): a is CSSRule {\r\n    return a instanceof CSSRule;\r\n}\r\n","export function cssrulestocsstext(cssrules: Array<CSSRule>): string {\r\n    return cssrules.map((c) => c.cssText).join(\"\\n\");\r\n}\r\n","import { prefixcssrules } from \"./transform-prefix-cssrules\";\r\nimport { cssrulestocsstext } from \"./cssrulestocsstext\";\r\n\r\nexport function prefixcssmediarule(cssrule: CSSMediaRule, prefix: string) {\r\n    const rulesarr = prefixcssrules([...cssrule.cssRules], prefix);\r\n    const conditionText = cssrule.conditionText;\r\n    const cssText =\r\n        cssrule.cssText.slice(0, 7) +\r\n        conditionText +\r\n        \"{\" +\r\n        cssrulestocsstext(rulesarr) +\r\n        \"}\";\r\n    return {\r\n        cssText,\r\n        conditionText,\r\n        cssRules: rulesarr,\r\n        [Symbol.toStringTag]: \"CSSMediaRule\"\r\n    };\r\n}\r\n","export { createcssBlob };\r\nfunction createcssBlob(source: string): string {\r\n    const cachedBlob = sourcecssblobCache.get(source);\r\n    if (cachedBlob) {\r\n        return cachedBlob;\r\n    } else {\r\n        const bloburl = URL.createObjectURL(\r\n            new Blob([source], { type: \"text/css\" })\r\n        );\r\n        sourcecssblobCache.set(source, bloburl);\r\n        return bloburl;\r\n    }\r\n}\r\nconst sourcecssblobCache = new Map<string, string>();\r\n","import { componentsstylesheet } from \"./parsecss-transformcss\";\r\nimport { get, set } from \"../UtilTools/reflect\";\r\nimport { createcssBlob } from \"./create-cssurlblob\";\r\n\r\nexport function savestyleblob(\r\n    tagname: string,\r\n    csstext?: string,\r\n    urltext?: string\r\n) {\r\n    tagname = tagname.toLowerCase();\r\n    const prefix = tagname;\r\n    if (!get(componentsstylesheet, prefix)) {\r\n        set(componentsstylesheet, tagname, new Set());\r\n    }\r\n    if (csstext) {\r\n        get(componentsstylesheet, prefix).add(createcssBlob(csstext));\r\n    } else if (urltext) {\r\n        get(componentsstylesheet, prefix).add(urltext);\r\n    }\r\n}\r\n","export function selectoraddprefix(cssstylerule: CSSStyleRule, prefix: string) {\r\n    const selectorold = cssstylerule.selectorText;\r\n    const stylebodyold = cssstylerule.cssText.slice(selectorold.length);\r\n    const selectorTextss = selectorold;\r\n\r\n    const selectorarray = selectorTextss.split(\",\");\r\n    const selectoraftertransform = selectorarray\r\n        .map((selectorTextone) => {\r\n            let prefixselector = prefix + \" \" + selectorTextone;\r\n\r\n            if (selectorTextone.startsWith(\"*\")) {\r\n                prefixselector =\r\n                    prefixselector + \",\" + selectorTextone.replace(\"*\", prefix);\r\n            }\r\n            return prefixselector;\r\n        })\r\n        .join(\",\");\r\n\r\n    /*   cssstylerule.selectorText = selectoraftertransform;\r\n    if (cssstylerule.selectorText.startsWith(prefix)) {\r\n      return cssstylerule;\r\n    } else { */\r\n\r\n    return {\r\n        selectorText: selectoraftertransform,\r\n        cssText: selectoraftertransform + stylebodyold,\r\n\r\n        [Symbol.toStringTag]: \"CSSStyleRule\"\r\n    };\r\n\r\n    /*\r\n    const prefixselector = prefix + \" \" + selectorText;\r\n    if (selectorText.startsWith(\"*\")) {\r\n      cssstylerule.selectorText =\r\n        selectorText.replace(\"*\", prefix) + \",\" + prefixselector;\r\n      \r\n\r\n    /* \r\n      *{font-size:80px !important;}\r\n  p{color:blue !important;} \r\n  */\r\n    /* \r\n      \r\n      q-9, q-9 * { font-size: 80px !important; }\r\n  q-9 p { color: blue !important; }\r\n  \r\n      */\r\n    /* } else {\r\n      cssstylerule.selectorText = prefixselector;\r\n    }\r\n  */\r\n}\r\n","import { isCSSImportRule, isCSSMediaRule, isCSSStyleRule } from \"./isCSSRule\";\r\nimport { prefixcssmediarule } from \"./prefix-cssmediarule\";\r\nimport { savestyleblob } from \"./savestyleblob\";\r\nimport { selectoraddprefix } from \"./selectoraddprefix\";\r\n\r\nexport function prefixcssrules(\r\n    cssRulesarray: Array<CSSRule>,\r\n    prefix: string\r\n): Array<CSSRule> {\r\n    return cssRulesarray\r\n        .map((cssrule: CSSRule) => {\r\n            if (isCSSStyleRule(cssrule)) {\r\n                const resultoutput = selectoraddprefix(cssrule, prefix);\r\n\r\n                return resultoutput;\r\n            } else if (isCSSMediaRule(cssrule)) {\r\n                return prefixcssmediarule(cssrule, prefix);\r\n            } else if (isCSSImportRule(cssrule)) {\r\n                savestyleblob(prefix, undefined, cssrule.href);\r\n                return;\r\n            } else {\r\n                return cssrule;\r\n            }\r\n        })\r\n        .filter(Boolean) as Array<CSSRule>;\r\n}\r\n","import { render } from \"../RenderVirtual/render-vdom-to-real\";\r\nimport createElement from \"../CreateElement/create-element\";\r\nimport { createanotherhtmldocument, appendchild } from \"../UtilTools/dom\";\r\nimport { get } from \"../UtilTools/reflect\";\r\n\r\nexport function parsecsstext(text: string): Array<CSSRule> {\r\n    const styleelement = render(\r\n        createElement(\"style\", [text])\r\n    ) as HTMLStyleElement;\r\n\r\n    const otherdocument = createanotherhtmldocument();\r\n    appendchild(otherdocument.documentElement, styleelement);\r\n\r\n    return Array.from(\r\n        get(\r\n            get(styleelement, \"sheet\"),\r\n\r\n            \"cssRules\"\r\n        )\r\n    );\r\n}\r\n","import { prefixcssrules } from \"./transform-prefix-cssrules\";\r\nimport { cssrulestocsstext } from \"./cssrulestocsstext\";\r\nimport { parsecsstext } from \"./parsecsstext\";\r\n\r\nexport function transformcsstext(text: string, prefix: string): string {\r\n    const cachedtext = oldcsstotransformedcss.get(text);\r\n    if (cachedtext) {\r\n        return cachedtext;\r\n    } else {\r\n        const css = text;\r\n        const cssomold = parsecsstext(css);\r\n        const cssomnew = prefixcssrules(cssomold, prefix).filter(Boolean);\r\n\r\n        const cssnewtext = cssrulestocsstext(cssomnew);\r\n\r\n        oldcsstotransformedcss.set(text, cssnewtext);\r\n        return cssnewtext;\r\n    }\r\n}\r\nconst oldcsstotransformedcss = new Map<string, string>();\r\n","import { transformcsstext } from \"./transformcsstext\";\r\nimport { savestyleblob } from \"./savestyleblob\";\r\n\r\nexport function registercssprefix(text: string, prefix: string) {\r\n    const css = text;\r\n    const cssnewtext = transformcsstext(css, prefix);\r\n\r\n    savestyleblob(prefix, cssnewtext);\r\n}\r\n","import { appendchild } from \"../UtilTools/dom\";\r\n\r\nexport function loadlinkstyle(\r\n    stylelinkelement: HTMLElement,\r\n    container: HTMLElement | Element | SVGSVGElement | SVGElement\r\n): Promise<void> {\r\n    return new Promise((rs) => {\r\n        const loaderrorfun = () => {\r\n            stylelinkelement.onload = stylelinkelement.onerror = null;\r\n            rs();\r\n        };\r\n        stylelinkelement.onload = loaderrorfun;\r\n        stylelinkelement.onerror = loaderrorfun;\r\n        appendchild(container, stylelinkelement);\r\n    });\r\n}\r\n","import {\r\n    componentsstylesheet,\r\n    createlinkstylesheet\r\n} from \"./parsecss-transformcss\";\r\nimport { querySelectorAll } from \"../UtilTools/dom\";\r\nimport { get } from \"../UtilTools/reflect\";\r\nimport { loadlinkstyle } from \"./loadlinkstyle\";\r\n\r\nexport function waitloadallstyle(\r\n    prefix: string,\r\n    containerthis: Element | HTMLElement | SVGSVGElement | SVGElement\r\n) {\r\n    return Promise.all(\r\n        [...get(componentsstylesheet, prefix)].map((styleurl) => {\r\n            if (\r\n                querySelectorAll(`link[rel=\"stylesheet\"][href=\"${styleurl}\"]`)\r\n                    .length\r\n            ) {\r\n                return Promise.resolve();\r\n            } else {\r\n                return loadlinkstyle(\r\n                    createlinkstylesheet(styleurl),\r\n                    containerthis\r\n                );\r\n            }\r\n        })\r\n    );\r\n}\r\n","export function setimmediate(fun: Function) {\r\n    return Promise.resolve().then(() => fun());\r\n}\r\n","import ReactiveState, { removeallistenerssymbol } from \"./reactivestate.js\";\r\nexport function unwatch(state: ReactiveState<any>): void {\r\n    state[removeallistenerssymbol]();\r\n}\r\n","import {\r\n    innerstatesymbol,\r\n    innerwatchrecords\r\n} from \"../AttributeClass/createComponent\";\r\n\r\nimport { isNode } from \"../MountElement/isNodeArray\";\r\n\r\nimport ReactiveState, {\r\n    addonelistner,\r\n    dispatchsymbol,\r\n    removeonelistner\r\n} from \"../Reactivity/reactivestate.js\";\r\nimport { rewatch } from \"../Reactivity/rewatch\";\r\nimport { unwatch } from \"../Reactivity/unwatch\";\r\nimport {\r\n    readdlisteners,\r\n    removelisteners\r\n} from \"../RenderVirtual/handle-onevent\";\r\nimport { bindstatesymbol } from \"../RenderVirtual/render-vdom-to-real\";\r\nimport { getchildNodes } from \"../UtilTools/dom\";\r\nimport { get, has } from \"../UtilTools/reflect\";\r\nimport { isArray } from \"../UtilTools/util\";\r\nimport { Listener } from \"src/Reactivity/custom-observer-target\";\r\n\r\nexport function onmounted(ele: Element | Node | Array<Node>) {\r\n    if (isArray(ele)) {\r\n        ele.forEach((e) => {\r\n            onmounted(e);\r\n        });\r\n    } else if (isNode(ele)) {\r\n        readdlisteners(ele);\r\n\r\n        if (has(ele, bindstatesymbol)) {\r\n            (get(ele, bindstatesymbol) as ReactiveState<any>[]).forEach(\r\n                (state: ReactiveState<any>) => {\r\n                    rewatch(state);\r\n\r\n                    state[dispatchsymbol]();\r\n                }\r\n            );\r\n        }\r\n        if (has(ele, innerstatesymbol)) {\r\n            (get(ele, innerstatesymbol) as ReactiveState<any>[]).forEach(\r\n                (state: ReactiveState<any>) => {\r\n                    rewatch(state);\r\n                }\r\n            );\r\n        }\r\n\r\n        /* 记录组件中使用的watch的state和callback,\r\n组件卸载时removeeventlistener,\r\n组件挂载时addeventlistener\r\n*/\r\n        if (has(ele, innerwatchrecords)) {\r\n            const watchrecords = get(ele, innerwatchrecords) as [\r\n                ReactiveState<any>,\r\n                Listener\r\n            ][];\r\n            watchrecords.forEach(([state, eventlistener]) => {\r\n                if (eventlistener) {\r\n                    state[addonelistner](eventlistener);\r\n                }\r\n            });\r\n        }\r\n        onmounted(getchildNodes(ele));\r\n    }\r\n\r\n    //\r\n}\r\nexport function onunmounted(ele: Element | Node | Array<Node>) {\r\n    if (isArray(ele)) {\r\n        ele.forEach((e) => {\r\n            onunmounted(e);\r\n        });\r\n    } else if (isNode(ele)) {\r\n        removelisteners(ele);\r\n\r\n        /*   if (ele[bindstatesymbol]) {\r\n      ele[bindstatesymbol].forEach((state: ReactiveState) => {\r\n        unwatch(state);\r\n      });\r\n */\r\n\r\n        //\r\n\r\n        if (has(ele, innerstatesymbol)) {\r\n            (get(ele, innerstatesymbol) as ReactiveState<any>[]).forEach(\r\n                (state: ReactiveState<any>) => {\r\n                    unwatch(state);\r\n                }\r\n            );\r\n        }\r\n        if (has(ele, innerwatchrecords)) {\r\n            const watchrecords = get(ele, innerwatchrecords) as [\r\n                ReactiveState<any>,\r\n                Listener\r\n            ][];\r\n            watchrecords.forEach(([state, eventlistener]) => {\r\n                if (eventlistener) {\r\n                    state[removeonelistner](eventlistener);\r\n                }\r\n            });\r\n        }\r\n        onunmounted(getchildNodes(ele));\r\n    }\r\n}\r\n","export const readysymbol = Symbol(\"readystate\");\r\n","import createeleattragentreadwrite from \"@masx200/dom-element-attribute-agent-proxy\";\r\n\r\nimport {\r\n    onmounted,\r\n    onunmounted\r\n} from \"../life-cycle-context/element-onmount-unmount\";\r\nimport { get } from \"../UtilTools/reflect\";\r\nimport { isFunction, isfunction, isobject } from \"../UtilTools/util\";\r\nimport { readysymbol } from \"./readysymbol\";\r\nimport { setimmediate } from \"src/UtilTools/setimmediate\";\r\n\r\nexport const attributeChangedCallback = Symbol(\"attributeChanged\");\r\nexport const firstinstalledcallback = Symbol(\"firstinstalled\");\r\n/* \r\n\r\n super.disconnectedCallback();\r\n\r\n 被babel转换之后这句就没了?\r\n\r\n  connectedCallback() {\r\n            \r\n                ))();\r\n            }\r\n            disconnectedCallback() {\r\n               \r\n                ))();\r\n            }\r\n*/\r\nexport function connectedCallback(componentelement: HTMLElement) {\r\n    AttrChange.prototype.connectedCallback.call(componentelement);\r\n}\r\n\r\nexport function disconnectedCallback(componentelement: HTMLElement) {\r\n    AttrChange.prototype.disconnectedCallback.call(componentelement);\r\n}\r\nexport class AttrChange extends HTMLElement {\r\n    disconnectedCallback() {\r\n        setimmediate(() => {\r\n            onunmounted(this);\r\n        });\r\n    }\r\n    connectedCallback() {\r\n        setimmediate(() => {\r\n            if (!this[readysymbol]) {\r\n                this[readysymbol] = true;\r\n                const callback = get(this, firstinstalledcallback);\r\n                if (isfunction(callback)) {\r\n                    setimmediate(() => {\r\n                        callback.call(this);\r\n                    });\r\n                }\r\n            }\r\n            onmounted(this);\r\n        });\r\n    }\r\n    [readysymbol] = false;\r\n\r\n    constructor() {\r\n        super();\r\n        const defaultProps = get(this.constructor, \"defaultProps\");\r\n\r\n        const attrs: Record<string, any> = createeleattragentreadwrite(this);\r\n\r\n        if (isobject(defaultProps)) {\r\n            /*     if (!this[attributessymbol]) {\r\n        this[attributessymbol] = {};\r\n      } */\r\n            Object.assign(attrs, defaultProps);\r\n        }\r\n\r\n        new MutationObserver((mutations) => {\r\n            mutations.forEach((mutation) => {\r\n                if (mutation.type == \"attributes\") {\r\n                    console.log(\r\n                        \"The \" +\r\n                            mutation.attributeName +\r\n                            \" attribute was modified.\"\r\n                    );\r\n                    const callback = get(this, attributeChangedCallback);\r\n\r\n                    let qualifiedName = mutation.attributeName;\r\n                    if (qualifiedName && isFunction(callback)) {\r\n                        callback.call(this, qualifiedName);\r\n                    }\r\n                }\r\n            });\r\n        }).observe(this, { attributes: true });\r\n    }\r\n\r\n    /*  defaultProps?: { [key: string]: any } | undefined;\r\n  css?: string | undefined; */\r\n    /* constructor() {\r\n    super();\r\n  } */\r\n\r\n    //\r\n\r\n    /* constructor() {\r\n    super();\r\n  } */\r\n\r\n    /* disconnectedCallback() {\r\n  \r\n} */\r\n    /* connectedCallback() {\r\n  \r\n  updateStyle(this);\r\n} */\r\n    //\r\n\r\n    /* attributeChangedCallback(name, oldValue, newValue) {\r\n  \r\n  updateStyle(this);\r\n} */\r\n}\r\n","import createeleattragentreadwrite from \"@masx200/dom-element-attribute-agent-proxy\";\r\nimport { getcreated } from \"src/life-cycle-context/created-get\";\r\nimport { getupdated } from \"src/life-cycle-context/updated-get\";\r\nimport { addcreatedlistner } from \"src/others/addcreatedlistner\";\r\nimport { addmountedlistner } from \"src/others/addmountedlistner\";\r\nimport { addunmountedlistner } from \"src/others/addunmountedlistner\";\r\nimport {\r\n    addstopupdatelistener,\r\n    addupdatedlistner\r\n} from \"src/others/addupdatedlistner\";\r\nimport { isvalidvdom } from \"../CreateElement/isvalidvdom\";\r\nimport Virtualdom, { Vdomchildren } from \"../CreateElement/VirtualElement\";\r\nimport { Custom } from \"../CustomClass/customclass\";\r\nimport { isclassextendsHTMLElement } from \"../CustomClass/isclassextendsHTMLElement\";\r\nimport {\r\n    closectx,\r\n    getstates,\r\n    getwatchrecords,\r\n    invalid_Function,\r\n    openctx\r\n} from \"../life-cycle-context/Component-context\";\r\nimport { getMounted } from \"../life-cycle-context/getMounted\";\r\nimport { getUnMounted } from \"../life-cycle-context/getUnMounted\";\r\nimport mount from \"../MountElement/mount-real-element\";\r\nimport { invalid_Virtualdom } from \"../MountElement/MountElement\";\r\nimport { cached_create_componet } from \"../others/cached-map\";\r\nimport ReactiveState, { dispatchsymbol } from \"../Reactivity/reactivestate.js\";\r\nimport readonlyproxy from \"../Reactivity/readonly-proxy\";\r\nimport render from \"../RenderVirtual/render-vdom-to-real\";\r\nimport { componentsstylesheet } from \"../ScopedCSS/parsecss-transformcss\";\r\nimport { registercssprefix } from \"../ScopedCSS/registercssprefix\";\r\nimport { waitloadallstyle } from \"../ScopedCSS/waitloadallstyle\";\r\nimport { seteletext } from \"../UtilTools/dom\";\r\nimport { apply, get, set } from \"../UtilTools/reflect\";\r\nimport { setimmediate } from \"../UtilTools/setimmediate\";\r\nimport { toArray } from \"../UtilTools/toArray\";\r\nimport { isfunction, isobject, isstring } from \"../UtilTools/util\";\r\nimport {\r\n    AttrChange,\r\n    attributeChangedCallback,\r\n    connectedCallback,\r\n    disconnectedCallback,\r\n    firstinstalledcallback\r\n} from \"./attr-change\";\r\nimport { componentsymbol } from \"./iscomponent\";\r\nimport { readysymbol } from \"./readysymbol\";\r\n\r\nconst waittranformcsssymbol = Symbol(\"waittranformcss\");\r\nexport const innerwatchrecords = Symbol(\"innerwatchrecord\");\r\nexport const innerstatesymbol = Symbol(\"innerstate\");\r\nexport const attributessymbol = Symbol(\"attributes\");\r\nconst elementsymbol = Symbol(\"innerelement\");\r\nconst inner_vdom_symbol = Symbol(\"innervdom\");\r\n\r\nexport interface Htmlelementconstructor {\r\n    new (): HTMLElement;\r\n    prototype: HTMLElement;\r\n    defaultProps?: Record<string, any>;\r\n    css?: string;\r\n}\r\nfunction createComponentold(custfun: Custom): Htmlelementconstructor {\r\n    if (isfunction(custfun)) {\r\n        const cached_class = cached_create_componet.get(custfun);\r\n        if (cached_class) {\r\n            return cached_class;\r\n        }\r\n\r\n        const defaultProps = get(custfun, \"defaultProps\");\r\n        const css = get(custfun, \"css\");\r\n        class Component extends AttrChange {\r\n            [innerwatchrecords]: [ReactiveState<any>, Function][];\r\n            [attributessymbol]: Record<string, ReactiveState<any>> = {};\r\n\r\n            [waittranformcsssymbol]: undefined | (() => Promise<void>);\r\n            constructor(\r\n                propsjson: Record<string, any> = {},\r\n                children: Vdomchildren = []\r\n            ) {\r\n                super();\r\n\r\n                const css = get(this.constructor, \"css\");\r\n\r\n                if (css) {\r\n                    const prefix = this.tagName.toLowerCase();\r\n                    if (!get(componentsstylesheet, prefix)) {\r\n                        set(componentsstylesheet, prefix, new Set());\r\n\r\n                        this[waittranformcsssymbol] = () => {\r\n                            return setimmediate(() => {\r\n                                registercssprefix(css, prefix);\r\n                            });\r\n                        };\r\n                    }\r\n                }\r\n\r\n                const attrs: Record<string, any> = createeleattragentreadwrite(\r\n                    this\r\n                );\r\n\r\n                if (isobject(propsjson)) {\r\n                    Object.assign(attrs, propsjson);\r\n                }\r\n\r\n                const props = attrs;\r\n                openctx();\r\n\r\n                const propattributess = Object.fromEntries(\r\n                    Object.entries(props).map(([key]) => [\r\n                        key,\r\n                        (() => {\r\n                            const attributes = createeleattragentreadwrite(\r\n                                this\r\n                            ) as Record<string, any>;\r\n                            const state = new ReactiveState({\r\n                                get() {\r\n                                    return get(attributes, key);\r\n                                }\r\n                            });\r\n                            // defineProperty(state, \"value\", {\r\n                            //     get() {\r\n                            //         return get(attributes, key);\r\n                            //     }\r\n                            // });\r\n\r\n                            return state;\r\n                        })()\r\n                    ])\r\n                );\r\n                this[attributessymbol] = propattributess;\r\n\r\n                const readonlyprop = readonlyproxy(\r\n                    Object.fromEntries(\r\n                        Object.entries(propattributess).map(([key, value]) => [\r\n                            key,\r\n                            readonlyproxy(value)\r\n                        ])\r\n                    )\r\n                );\r\n\r\n                let possiblyvirtualdom:\r\n                    | string\r\n                    | Virtualdom<any>\r\n                    | ReactiveState<any>\r\n                    | (string | Virtualdom<any> | ReactiveState<any>)[]\r\n                    | any;\r\n                try {\r\n                    possiblyvirtualdom = apply(custfun, undefined, [\r\n                        readonlyprop,\r\n                        children.flat(1 / 0)\r\n                    ]);\r\n                } catch (error) {\r\n                    closectx();\r\n                    console.error(\"error in component\");\r\n                    throw error;\r\n                }\r\n\r\n                possiblyvirtualdom = toArray(possiblyvirtualdom);\r\n                if (isvalidvdom(possiblyvirtualdom)) {\r\n                    const vdomarray = toArray(possiblyvirtualdom);\r\n                    //\r\n                    this[inner_vdom_symbol] = vdomarray\r\n                        .flat(Infinity)\r\n                        .filter(Boolean);\r\n                    const mountedcallbacks = getMounted();\r\n                    const unmountedcallbacks = getUnMounted();\r\n                    const createdcallbacks = getcreated();\r\n                    const updatedcallbacks = getupdated();\r\n                    this[innerstatesymbol] = getstates();\r\n                    this[innerwatchrecords] = getwatchrecords();\r\n                    closectx();\r\n                    mountedcallbacks.forEach((callback) => {\r\n                        addmountedlistner(this, callback);\r\n                    });\r\n                    unmountedcallbacks.forEach((callback) => {\r\n                        addunmountedlistner(this, callback);\r\n                    });\r\n                    createdcallbacks.forEach((callback) => {\r\n                        addcreatedlistner(this, callback);\r\n                    });\r\n                    updatedcallbacks.forEach((callback) => {\r\n                        addupdatedlistner(this, callback);\r\n                    });\r\n                    addstopupdatelistener(this);\r\n                } else {\r\n                    closectx();\r\n                    console.error(possiblyvirtualdom);\r\n                    console.error(invalid_Virtualdom);\r\n                    throw TypeError();\r\n                }\r\n            }\r\n\r\n            [innerstatesymbol]: Array<ReactiveState<any>>;\r\n            static [componentsymbol] = componentsymbol;\r\n            static css = isstring(css) && css ? css : undefined;\r\n            [readysymbol] = false;\r\n\r\n            static defaultProps = isobject(defaultProps)\r\n                ? JSON.parse(JSON.stringify(defaultProps))\r\n                : undefined;\r\n\r\n            [elementsymbol]: Array<Node>;\r\n            [inner_vdom_symbol]: Array<\r\n                Virtualdom<any> | ReactiveState<any> | string | number\r\n            >;\r\n\r\n            [firstinstalledcallback]() {\r\n                const thencallbackfirst = () => {\r\n                    seteletext(this, \"\");\r\n\r\n                    return waitloadallstyle(prefix, document.head);\r\n                };\r\n                const thencallbacksecond = () => {\r\n                    mount(this[elementsymbol], this, false);\r\n                    this[waittranformcsssymbol] = undefined;\r\n                };\r\n                if (!this[elementsymbol]) {\r\n                    const innervdom = this[inner_vdom_symbol];\r\n                    if (innervdom) {\r\n                        this[elementsymbol] = render(innervdom).flat(Infinity);\r\n                        this[inner_vdom_symbol] = [];\r\n                    }\r\n                }\r\n\r\n                const css = get(this.constructor, \"css\");\r\n                const prefix = this.tagName.toLowerCase();\r\n                if (css) {\r\n                    const waitcallback = this[waittranformcsssymbol];\r\n                    if (waitcallback) {\r\n                        waitcallback()\r\n                            .then(thencallbackfirst)\r\n                            .then(thencallbacksecond);\r\n                    } else {\r\n                        Promise.resolve(thencallbackfirst).then(\r\n                            thencallbacksecond\r\n                        );\r\n                    }\r\n                } else {\r\n                    mount(this[elementsymbol], this);\r\n                }\r\n            }\r\n            connectedCallback() {\r\n                setimmediate(() => {\r\n                    connectedCallback(this);\r\n                });\r\n            }\r\n            disconnectedCallback() {\r\n                setimmediate(() => {\r\n                    disconnectedCallback(this);\r\n                });\r\n            }\r\n            [attributeChangedCallback](name: string) {\r\n                if (this[readysymbol]) {\r\n                    {\r\n                        const propreactivestate = this[attributessymbol][name];\r\n\r\n                        if (propreactivestate) {\r\n                            propreactivestate[dispatchsymbol]();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        cached_create_componet.set(custfun, Component);\r\n        return Component;\r\n    } else {\r\n        console.error(custfun);\r\n        console.error(invalid_Function);\r\n        throw TypeError();\r\n    }\r\n}\r\n\r\nconst createComponent = (custfun: Custom | Htmlelementconstructor) =>\r\n    autocreateclass(custfun);\r\nexport default createComponent;\r\nexport function autocreateclass(\r\n    custfun: Custom | Htmlelementconstructor\r\n): Htmlelementconstructor {\r\n    if (isclassextendsHTMLElement(custfun)) {\r\n        return custfun;\r\n    } else if (isfunction(custfun)) {\r\n        return createComponentold(custfun);\r\n    } else {\r\n        throw TypeError();\r\n    }\r\n}\r\nexport { createComponent };\r\n","export default h;\r\n\r\nexport { h };\r\nimport {\r\n    autocreateclass,\r\n    Htmlelementconstructor\r\n} from \"../AttributeClass/createComponent\";\r\nimport { Custom } from \"../CustomClass/customclass\";\r\nimport ReactiveState from \"../Reactivity/reactivestate.js\";\r\nimport { apply } from \"../UtilTools/reflect\";\r\nimport {\r\n    isarray,\r\n    isfunction,\r\n    isplainobject,\r\n    isstring\r\n} from \"../UtilTools/util\";\r\nimport Virtualdom, {\r\n    createVirtualElement,\r\n    Vdomchildren\r\n} from \"./VirtualElement\";\r\ntype styleprop =\r\n    | string\r\n    | object\r\n    | ReactiveState<string>\r\n    | ReactiveState<object>;\r\n\r\ntype classprop =\r\n    | string\r\n    | Set<string>\r\n    | Array<string>\r\n    | ReactiveState<string | Set<string> | Array<string>>;\r\nexport interface ElementAttrs {\r\n    style?: styleprop;\r\n    class?: classprop;\r\n    [key: string]: any;\r\n}\r\n\r\nfunction h<T extends Htmlelementconstructor | string | Custom>(\r\n    type: T,\r\n    propsorchildren?: Vdomchildren,\r\n    ...children: Vdomchildren\r\n): Virtualdom<T>;\r\nfunction h<T extends Vdomchildren>(\r\n    type: \"\",\r\n    propsorchildren?: T,\r\n    ...children: T\r\n): T;\r\nfunction h<T extends Vdomchildren>(\r\n    type: \"\",\r\n    props?: ElementAttrs,\r\n    ...children: T\r\n): T;\r\nfunction h<T extends Htmlelementconstructor | string | Custom>(\r\n    type: T,\r\n    props?: ElementAttrs,\r\n    ...children: Vdomchildren\r\n): Virtualdom<T>;\r\n\r\n/* \r\nh(type,...children)\r\nh(type,children)\r\n*/\r\n\r\nfunction h(\r\n    type?: Htmlelementconstructor | string | Custom,\r\n    propsorchildren?: Vdomchildren | ElementAttrs,\r\n    ...children: Vdomchildren\r\n) {\r\n    if (isfunction(type)) {\r\n        type = autocreateclass(type);\r\n    }\r\n\r\n    if (isarray(propsorchildren)) {\r\n        return apply(createElement, undefined, [\r\n            type,\r\n            undefined,\r\n            [...propsorchildren, ...children].flat(1 / 0)\r\n        ]);\r\n        /*   createElement(\r\n      type,\r\n      undefined,\r\n      [...propsorchildren, ...children].flat(1 / 0)\r\n    ); */\r\n    } else {\r\n        return apply(createElement, undefined, [\r\n            type,\r\n            propsorchildren,\r\n            ...children\r\n        ]);\r\n    }\r\n}\r\nfunction createElement<T extends Vdomchildren>(\r\n    type: \"\",\r\n    props?: ElementAttrs,\r\n    ...children: T\r\n): T;\r\nfunction createElement<T extends Function | string>(\r\n    type: T,\r\n    props?: ElementAttrs,\r\n    ...children: Vdomchildren\r\n): Virtualdom<T>;\r\n\r\n/* function createElement<T extends Vdomchildren>(\r\n  type: \"\",\r\n  props?: ElementAttrs,\r\n  ...children: T\r\n): T; */\r\n\r\nfunction createElement<T extends Function | string | Htmlelementconstructor>(\r\n    type?: T,\r\n    props: ElementAttrs = {},\r\n    ...children: Vdomchildren\r\n): Virtualdom<T> | Vdomchildren {\r\n    let typenormalized: \"\" | Function | string =\r\n        isstring(type) || isfunction(type) ? type : \"\";\r\n    const propsnormalized = isplainobject(props) ? props : {};\r\n    const childrennormalized: Vdomchildren = children\r\n        .flat(Infinity)\r\n        .map((a) => (a === 0 ? \"0\" : a))\r\n        .filter((a) => !!a);\r\n    if (isstring(typenormalized)) {\r\n        typenormalized = typenormalized.trim().toLowerCase();\r\n    }\r\n\r\n    if (\"\" === typenormalized) {\r\n        return childrennormalized;\r\n    } else {\r\n        /* propsnormalized = Object.fromEntries(\r\n    Object.entries(propsnormalized).map(([key, value]) => [\r\n      key.trim().toLowerCase(),\r\n      value\r\n    ])\r\n  ); */\r\n\r\n        /* return new Virtualdom(\r\n      typenormalized,\r\n      propsnormalized,\r\n      childrennormalized\r\n    ) as Virtualdom<any>;\r\n*/\r\n        return apply(createVirtualElement, undefined, [\r\n            typenormalized,\r\n            propsnormalized,\r\n            childrennormalized\r\n        ]) as Virtualdom<T>;\r\n\r\n        /*  createVirtualElement(\r\n     \r\n    ); */\r\n    }\r\n}\r\n","import watch from \"src/Reactivity/watch\";\r\nimport { get } from \"src/UtilTools/reflect\";\r\nimport { toArray } from \"src/UtilTools/toArray\";\r\n\r\nimport createElement from \"../CreateElement/create-element\";\r\nimport Virtualdom, { isVirtualdom } from \"../CreateElement/VirtualElement\";\r\nimport { invalid_Virtualdom } from \"../MountElement/MountElement\";\r\nimport ReactiveState from \"../Reactivity/reactivestate.js\";\r\nimport { isReactiveState } from \"../Reactivity/isReactiveState\";\r\nimport render from \"../RenderVirtual/render-vdom-to-real\";\r\nimport { replaceChild } from \"../UtilTools/dom\";\r\nimport { isboolean, isstring, isundefined } from \"../UtilTools/util\";\r\nimport {\r\n    AttrChange,\r\n    connectedCallback,\r\n    disconnectedCallback,\r\n    firstinstalledcallback\r\n} from \"./attr-change\";\r\nimport { Htmlelementconstructor } from \"./createComponent\";\r\nimport { componentsymbol } from \"./iscomponent\";\r\nimport { readysymbol } from \"./readysymbol\";\r\n\r\nexport const invalid_ReactiveState = \"invalid ReactiveState\";\r\nconst truevdomsymbol = Symbol(\"truevdom\");\r\nconst falsevdomsymbol = Symbol(\"falsevdom\");\r\nconst trueelesymbol = Symbol(\"trueele\");\r\nconst falseelesymbol = Symbol(\"falseele\");\r\nconst handletrue = Symbol(\"handletrue\");\r\nconst handlefalse = Symbol(\"handlefalse\");\r\nconst currentelementsymbol = Symbol(\"currentelement\");\r\n\r\nconst Condition = function(\r\n    conditon: ReactiveState<boolean> | boolean,\r\n    iftrue?: Virtualdom<any> | string,\r\n    iffalse?: Virtualdom<any> | string\r\n): Virtualdom<Htmlelementconstructor> {\r\n    if (!(isReactiveState(conditon) || isboolean(conditon))) {\r\n        console.error(conditon);\r\n        console.error(invalid_ReactiveState);\r\n        throw TypeError();\r\n    }\r\n    [iftrue, iffalse].forEach((a) => {\r\n        if (!(isundefined(a) || isVirtualdom(a) || isstring(a))) {\r\n            console.error(a);\r\n            console.error(invalid_Virtualdom);\r\n            throw new TypeError();\r\n        }\r\n    });\r\n\r\n    const optionstrue = iftrue;\r\n    const optionsfalse = iffalse;\r\n    class Condition extends AttrChange {\r\n        [currentelementsymbol]: Node = this;\r\n        static [componentsymbol] = componentsymbol;\r\n        [readysymbol] = false;\r\n        [truevdomsymbol]: (Virtualdom<any> | string)[] = toArray(optionstrue);\r\n\r\n        /*isarray(optionstrue)\r\n    ? optionstrue.filter(Boolean)\r\n    : */\r\n\r\n        [falsevdomsymbol]: (Virtualdom<any> | string)[] = toArray(optionsfalse);\r\n\r\n        /* isarray(optionsfalse)\r\n    ? optionsfalse.filter(Boolean)\r\n    : */\r\n\r\n        [falseelesymbol]: Node[];\r\n        [trueelesymbol]: Node[];\r\n\r\n        [handlefalse]() {\r\n            if (!this[falseelesymbol]) {\r\n                this[falseelesymbol] = render(this[falsevdomsymbol]);\r\n\r\n                this[falsevdomsymbol] = [];\r\n            }\r\n\r\n            const elementtomount = this[falseelesymbol][0] || this;\r\n            replaceChild(elementtomount, this[currentelementsymbol]);\r\n            this[currentelementsymbol] = elementtomount;\r\n        }\r\n        [handletrue]() {\r\n            if (!this[trueelesymbol]) {\r\n                this[trueelesymbol] = render(this[truevdomsymbol]);\r\n\r\n                this[truevdomsymbol] = [];\r\n            }\r\n            //\r\n            const elementtomount = this[trueelesymbol][0] || this;\r\n\r\n            replaceChild(elementtomount, this[currentelementsymbol]);\r\n            this[currentelementsymbol] = elementtomount;\r\n        }\r\n        [firstinstalledcallback]() {\r\n            const handleconditionchange = (trueorfalse: boolean) => {\r\n                if (true === trueorfalse) {\r\n                    get(this, handletrue).call(this);\r\n                } else if (!trueorfalse) {\r\n                    get(this, handlefalse).call(this);\r\n                }\r\n            };\r\n\r\n            if (isReactiveState(conditon)) {\r\n                handleconditionchange(conditon.valueOf() as boolean);\r\n                watch(conditon, (trueorfalse: boolean) => {\r\n                    handleconditionchange(trueorfalse);\r\n                });\r\n            } else {\r\n                handleconditionchange(conditon);\r\n            }\r\n        }\r\n        connectedCallback() {\r\n            connectedCallback(this);\r\n\r\n            /*   if (!this[readysymbol]) {\r\n        \r\n        this[readysymbol] = true;\r\n\r\n        const attrs: { [key: string]: any } = createeleattr(this);\r\n        \r\n        if (true === attrs[\"value\"]) {\r\n          get(this, handletrue).call(this);\r\n        }\r\n        if (false === attrs[\"value\"]) {\r\n          get(this, handlefalse).call(this);\r\n          //\r\n        }\r\n      } */\r\n\r\n            //\r\n        }\r\n        disconnectedCallback() {\r\n            disconnectedCallback(this);\r\n        }\r\n    }\r\n\r\n    const vdom = createElement(Condition);\r\n\r\n    return vdom;\r\n};\r\nexport default Condition;\r\nexport { Condition };\r\n","import { h } from \"../CreateElement/create-element\";\r\nimport Virtualdom from \"../CreateElement/VirtualElement\";\r\nimport { Custom } from \"../CustomClass/customclass\";\r\nimport { mountrealelement } from \"../MountElement/mount-real-element\";\r\nimport { isReactiveState } from \"../Reactivity/isReactiveState\";\r\nimport ReactiveState from \"../Reactivity/reactivestate.js\";\r\nimport watch, { CancelWatchfun } from \"../Reactivity/watch\";\r\nimport render from \"../RenderVirtual/render-vdom-to-real\";\r\nimport { setimmediate } from \"../UtilTools/setimmediate\";\r\nimport { isfunction } from \"../UtilTools/util\";\r\nimport {\r\n    AttrChange,\r\n    connectedCallback,\r\n    disconnectedCallback,\r\n    firstinstalledcallback\r\n} from \"./attr-change\";\r\nimport { autocreateclass, Htmlelementconstructor } from \"./createComponent\";\r\nimport { componentsymbol } from \"./iscomponent\";\r\nimport { readysymbol } from \"./readysymbol\";\r\n\r\nconst cancel_watch_symbol = Symbol(\"cancel_watch\");\r\nconst cached_class_element = Symbol(\"cached_class_element\");\r\nconst switch_mount_symbol = Symbol(\"switch_mount\");\r\n\r\nexport { Switchable };\r\nfunction Switchable(\r\n    funstate: ReactiveState<Htmlelementconstructor | Custom>\r\n): Virtualdom<Htmlelementconstructor> {\r\n    if (!isReactiveState(funstate)) {\r\n        console.error(funstate);\r\n        throw new TypeError();\r\n    }\r\n    class Switchable extends AttrChange {\r\n        [cached_class_element] = new WeakMap<\r\n            Htmlelementconstructor,\r\n            Element | Node\r\n        >();\r\n        disconnectedCallback() {\r\n            setimmediate(() => {\r\n                disconnectedCallback(this);\r\n                if (isfunction(this[cancel_watch_symbol])) {\r\n                    this[cancel_watch_symbol]();\r\n                }\r\n            });\r\n        }\r\n        [cancel_watch_symbol]: CancelWatchfun;\r\n        static [componentsymbol] = componentsymbol;\r\n        [readysymbol] = false;\r\n        [switch_mount_symbol](eleclass: Custom | Htmlelementconstructor) {\r\n            eleclass = autocreateclass(eleclass);\r\n            /*  if (!isclassextendsHTMLElement(eleclass)) {\r\n        console.error(eleclass);\r\n        throw new TypeError();\r\n      } */\r\n\r\n            const eleme = this[cached_class_element].get(eleclass);\r\n            if (eleme) {\r\n                mountrealelement(eleme, this);\r\n            } else {\r\n                const elementreal = render(h(eleclass));\r\n\r\n                this[cached_class_element].set(eleclass, elementreal);\r\n                mountrealelement(elementreal, this);\r\n            }\r\n        }\r\n        [firstinstalledcallback]() {\r\n            const callmountswitch = () => {\r\n                this[switch_mount_symbol](\r\n                    funstate.valueOf() as Custom | Htmlelementconstructor\r\n                );\r\n            };\r\n            callmountswitch();\r\n            this[cancel_watch_symbol] = watch(funstate, () => {\r\n                callmountswitch();\r\n            });\r\n        }\r\n        connectedCallback() {\r\n            connectedCallback(this);\r\n            /* if (!this[readysymbol]) {\r\n        this[readysymbol] = true;\r\n      } */\r\n        }\r\n    }\r\n    return h(Switchable);\r\n}\r\nexport default Switchable;\r\n","var n=function(t,s,r,e){var u;s[0]=0;for(var h=1;h<s.length;h++){var p=s[h++],a=s[h]?(s[0]|=p?1:2,r[s[h++]]):s[++h];3===p?e[0]=a:4===p?e[1]=Object.assign(e[1]||{},a):5===p?(e[1]=e[1]||{})[s[++h]]=a:6===p?e[1][s[++h]]+=a+\"\":p?(u=t.apply(a,n(t,a,r,[\"\",null])),e.push(u),a[0]?s[0]|=2:(s[h-2]=0,s[h]=u)):e.push(a)}return e},t=new Map;export default function(s){var r=t.get(this);return r||(r=new Map,t.set(this,r)),(r=n(this,r.get(s)||(r.set(s,r=function(n){for(var t,s,r=1,e=\"\",u=\"\",h=[0],p=function(n){1===r&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?h.push(0,n,e):3===r&&(n||e)?(h.push(3,n,e),r=2):2===r&&\"...\"===e&&n?h.push(4,n,0):2===r&&e&&!n?h.push(5,0,!0,e):r>=5&&((e||!n&&5===r)&&(h.push(r,0,e,s),r=6),n&&(h.push(r,n,0,s),r=6)),e=\"\"},a=0;a<n.length;a++){a&&(1===r&&p(),p(a));for(var l=0;l<n[a].length;l++)t=n[a][l],1===r?\"<\"===t?(p(),h=[h],r=3):e+=t:4===r?\"--\"===e&&\">\"===t?(r=1,e=\"\"):e=t+e[0]:u?t===u?u=\"\":e+=t:'\"'===t||\"'\"===t?u=t:\">\"===t?(p(),r=1):r&&(\"=\"===t?(r=5,s=e,e=\"\"):\"/\"===t&&(r<5||\">\"===n[a][l+1])?(p(),3===r&&(h=h[0]),r=h,(h=h[0]).push(2,0,r),r=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(p(),r=2):e+=t),3===r&&\"!--\"===e&&(r=4,h=h[0])}return p(),h}(s)),r),arguments,[])).length>1?r:r[0]}\n","import htm from \"htm\";\r\nimport Virtualdom, {\r\n    Vdomchildren\r\n} from \"../../src/CreateElement/VirtualElement\";\r\n\r\ndeclare interface Htm {\r\n    (strings?: TemplateStringsArray, ...values: any[]):\r\n        | Virtualdom<any>\r\n        | Vdomchildren;\r\n}\r\nconst myhtm: Htm = htm as Htm;\r\nexport default myhtm;\r\n","import htm from \"../../@types/htm/index\";\r\n\r\nimport { invalid_Virtualdom } from \"../MountElement/MountElement\";\r\nimport { apply } from \"../UtilTools/reflect\";\r\nimport { toArray } from \"../UtilTools/toArray\";\r\nimport Virtualdom, { Vdomchildren } from \"./VirtualElement\";\r\nimport h from \"./create-element\";\r\nimport { isvalidvdom } from \"./isvalidvdom\";\r\nimport ReactiveState from \"src/Reactivity/reactivestate.js\";\r\n\r\nfunction htmlold(...inargs: any[]): Virtualdom<any> | Vdomchildren {\r\n    return apply(htm, h, inargs);\r\n}\r\n\r\nexport { html };\r\nexport default function html(\r\n    ...args: any[]\r\n): Virtualdom<any> | Vdomchildren | string | number | ReactiveState<any> {\r\n    const prevdom = toArray(htmlold(...args));\r\n\r\n    const vdom = prevdom.length === 1 ? prevdom[0] : prevdom;\r\n    if (isvalidvdom(vdom)) {\r\n        return vdom;\r\n    } else {\r\n        console.error(vdom);\r\n        console.error(invalid_Virtualdom);\r\n        throw new TypeError();\r\n    }\r\n}\r\n","import Virtualdom from \"../CreateElement/VirtualElement\";\r\nimport { invalid_Function } from \"../life-cycle-context/Component-context\";\r\nimport { isstring } from \"../UtilTools/util\";\r\nimport directives from \"./directives\";\r\nexport interface Extendfun {\r\n    (\r\n        value: unknown,\r\n        element: Element,\r\n        vdom: Virtualdom<any>,\r\n\r\n        onmounted: (call: () => void) => void,\r\n        onunmounted: (call: () => void) => void,\r\n        onupdated: (call: () => void) => void\r\n    ): void;\r\n}\r\nexport interface ExtendOptions {\r\n    [s: string]: Extendfun;\r\n}\r\nexport { extenddirectives };\r\nexport default function extenddirectives(name: string, fun: Extendfun) {\r\n    if (!isstring(name)) {\r\n        console.error(name);\r\n        throw new TypeError();\r\n    }\r\n    if (typeof fun !== \"function\") {\r\n        console.error(fun);\r\n        console.error(invalid_Function);\r\n        throw TypeError();\r\n    } else {\r\n        if (!directives[name]) {\r\n            Reflect.set(directives, name, fun);\r\n        } else {\r\n            console.error(directives);\r\n            console.error(\"can not extend existing directive\");\r\n            throw new Error();\r\n        }\r\n    }\r\n}\r\n","import { invalid_ReactiveState } from \"../AttributeClass/conditon\";\r\nimport { invalid_Virtualdom } from \"../MountElement/MountElement\";\r\nimport ReactiveState from \"../Reactivity/reactivestate.js\";\r\nimport { isReactiveState } from \"../Reactivity/isReactiveState\";\r\nimport { get, set } from \"../UtilTools/reflect\";\r\nimport { toArray } from \"../UtilTools/toArray\";\r\nimport Virtualdom from \"../CreateElement/VirtualElement\";\r\nexport function model(\r\n    types: string[],\r\n    bindattribute: string,\r\n    domprop: string,\r\n    eventnames: string[],\r\n    value: ReactiveState<any>,\r\n    vdom: Virtualdom<any>\r\n) {\r\n    if (!isReactiveState(value)) {\r\n        console.error(value);\r\n        console.error(invalid_ReactiveState + invalid_Virtualdom);\r\n        throw TypeError();\r\n    }\r\n    if (types.includes(vdom.type)) {\r\n        set(vdom.bindattr, bindattribute, value);\r\n        /*  [\r\n      \r\n      \"change\",\r\n      \"input\"\r\n    ]. */\r\n        eventnames.forEach((eventname) => {\r\n            const origin = vdom.onevent[eventname];\r\n            const eventsarray = toArray(origin);\r\n            set(\r\n                vdom.onevent,\r\n                eventname,\r\n                toArray([\r\n                    ...eventsarray,\r\n                    (e: any) => {\r\n                        return (value.value = get(e.target, domprop));\r\n                    }\r\n                ]).filter(Boolean)\r\n            );\r\n        });\r\n    } else {\r\n        console.error(vdom);\r\n        console.error(invalid_ReactiveState + invalid_Virtualdom);\r\n        throw TypeError();\r\n    }\r\n}\r\n","import Virtualdom from \"../CreateElement/VirtualElement\";\r\nimport { isReactiveState } from \"../Reactivity/isReactiveState\";\r\nimport { querySelectorAll } from \"../UtilTools/dom\";\r\nimport { set } from \"../UtilTools/reflect\";\r\nimport { toArray } from \"../UtilTools/toArray\";\r\nimport { model } from \"./model\";\r\nexport const Localchecked = (\r\n    value: unknown,\r\n\r\n    element: Element,\r\n    vdom: Virtualdom<any>\r\n): void => {\r\n    if (!isReactiveState(value)) {\r\n        throw new TypeError();\r\n    }\r\n    console.log(element);\r\n    model([\"input\"], \"checked\", \"checked\", [\"change\"], value, vdom);\r\n\r\n    const eventname = \"click\";\r\n    const origin = toArray(vdom.onevent[eventname]);\r\n    const eventsarray = origin;\r\n    const dispatchallsamename: EventListener = (event: Event) => {\r\n        const inputelement = event.target as HTMLInputElement;\r\n        const name = (event.target as HTMLInputElement).name;\r\n        if (name) {\r\n            querySelectorAll(`input[name=${name}]`)\r\n                .filter((ele) => ele !== inputelement)\r\n                .forEach((element) => {\r\n                    element.dispatchEvent(new Event(\"change\"));\r\n                });\r\n        }\r\n    };\r\n    set(\r\n        vdom.onevent,\r\n        eventname,\r\n        toArray([...eventsarray, dispatchallsamename]).filter(Boolean)\r\n    );\r\n};\r\n","import Virtualdom from \"src/CreateElement/VirtualElement\";\r\n\r\nexport const Localcreated = (\r\n    call: unknown,\r\n    ele: Element,\r\n    vdom: Virtualdom<any>,\r\n    onmount: (call: () => void) => void,\r\n    onunmount: (call: () => void) => void,\r\n    onupdated: (call: () => void) => void\r\n): void => {\r\n    console.log([call, ele, vdom, onmount, onunmount, onupdated]);\r\n    if (typeof call === \"function\") {\r\n        call();\r\n    } else {\r\n        throw new TypeError();\r\n    }\r\n};\r\n","import { isFunction, isobject, issymbol } from \"../UtilTools/util\";\r\nimport {\r\n    get,\r\n    has,\r\n    ownKeys,\r\n    getOwnPropertyDescriptor\r\n} from \"../UtilTools/reflect\";\r\nimport { combineproxy } from \"src/others/combineproxy\";\r\nimport { StateType } from \"./create-state\";\r\nimport ReactiveState from \"./reactivestate\";\r\nconst handler:ProxyHandler<any>={\r\n    getOwnPropertyDescriptor(target, key) {\r\n        if (issymbol(key)) {\r\n            return;\r\n        } else {\r\n            let myvalue = get(target, \"value\");\r\n            const descripter =\r\n                getOwnPropertyDescriptor(target, key) ||\r\n                getOwnPropertyDescriptor(myvalue, key);\r\n            if (descripter) {\r\n                descripter.configurable = true;\r\n            }\r\n\r\n            return descripter;\r\n        }\r\n    },\r\n    ownKeys(target) {\r\n        let myvalue = get(target, \"value\");\r\n        // const myvalueobj = isobject(myvalue) ? myvalue : myvalue[proto]; //Reflect.getPrototypeOf(myvalue);\r\n        const myvalueobj = isobject(myvalue) ? myvalue : {};\r\n        return Array.from(\r\n            new Set([...ownKeys(target), ...ownKeys(myvalueobj)])\r\n        );\r\n    },\r\n    has(target, key) {\r\n        const myvalue = get(target, \"value\");\r\n        const myvalueobj = isobject(myvalue) ? myvalue : {};\r\n        // const myvalueobj = isobject(myvalue) ? myvalue : myvalue[proto]; //Reflect.getPrototypeOf(myvalue);\r\n        return has(target, key) || has(myvalueobj, key);\r\n    },\r\n    get(target, key) {\r\n        if (has(target, key)) {\r\n            return get(target, key);\r\n        } else {\r\n            const myvalue = get(target, \"value\");\r\n            const myvalueobj = Object(myvalue);\r\n\r\n            if (has(myvalueobj, key)) {\r\n                const property = get(myvalueobj, key);\r\n                return isFunction(property)\r\n                    ? property.bind(myvalueobj)\r\n                    : property;\r\n            }\r\n        }\r\n    }\r\n}\r\nexport function getproperyreadproxy<T extends ReactiveState<any>>(\r\n    a: T\r\n): StateType<T> {\r\n    // Uncaught TypeError: Reflect.getPrototypeOf called on non-object\r\n    // const proto = \"__proto__\";\r\n\r\n    const target = a;\r\n    return combineproxy(target,Object.assign({}, handler) ) as StateType<T>;\r\n}\r\n","import { apply } from \"src/UtilTools/reflect\";\r\nimport { isfunction, isobject, isprimitive } from \"src/UtilTools/util\";\r\nimport { SetterFun } from \"./computed\";\r\nimport { getproperyreadproxy } from \"./getproperyread-proxy\";\r\n// import watch, { any } from \"./watch\";\r\nimport { gettercallback } from \"./gettercallback\";\r\nimport ReactiveState, { dispatchsymbol } from \"./reactivestate.js\";\r\nimport { isReactiveState } from \"./isReactiveState\";\r\nimport watch from \"./watch\";\r\nimport { UnWrapState } from \"./unwrapstate\";\r\nimport { UnWrapArray } from \"./UnWrapArray\";\r\nimport { StateType } from \"./create-state\";\r\nexport function computedmany<T extends any, Y extends ReactiveState<any>[]>(\r\n    state: Y,\r\n    callback: gettercallback<T, UnWrapState<UnWrapArray<Y>>[]>,\r\n    setter?: SetterFun\r\n): StateType<T> {\r\n    const getter = () => {\r\n        const value = apply(\r\n            callback,\r\n            undefined,\r\n            state.map((st) => st.valueOf())\r\n        );\r\n        const possiblevalue = isReactiveState(value) ? value.valueOf() : value;\r\n        if (isobject(possiblevalue) || isprimitive(possiblevalue)) {\r\n            return possiblevalue as T;\r\n        } else {\r\n            console.error(possiblevalue);\r\n            throw TypeError();\r\n        }\r\n    };\r\n    let memorized = getter();\r\n    const reactivestate = new ReactiveState({\r\n        set: isfunction(setter) ? setter : undefined,\r\n        get: getter\r\n    });\r\n    // defineProperty(reactivestate, \"value\", {\r\n    //     set: isfunction(setter) ? setter : undefined,\r\n    //     get: getter,\r\n    //     configurable: true\r\n    // });\r\n    state.forEach((state) => {\r\n        watch(state, () => {\r\n            let newvalue = getter();\r\n            if (newvalue !== memorized) {\r\n                reactivestate[dispatchsymbol]();\r\n                memorized = newvalue;\r\n            }\r\n            //\r\n        });\r\n    });\r\n    return getproperyreadproxy(reactivestate) as StateType<T>;\r\n}\r\n","import { invalid_ReactiveState } from \"src/AttributeClass/conditon\";\r\nimport { invalid_Function } from \"src/life-cycle-context/Component-context\";\r\nimport { toArray } from \"src/UtilTools/toArray\";\r\nimport { isArray, isFunction } from \"src/UtilTools/util\";\r\nimport { computedmany } from \"./computedmany\";\r\n// import { any } from \"./watch\";\r\nimport { gettercallback } from \"./gettercallback\";\r\nimport ReactiveState from \"./reactivestate.js\";\r\nimport { isReactiveState } from \"./isReactiveState\";\r\nimport { UnWrapState } from \"./unwrapstate\";\r\nimport { UnWrapArray } from \"./UnWrapArray\";\r\nimport { StateType } from 'src';\r\nfunction computed<T extends any, Y extends ReactiveState<any>>(\r\n    state: Y,\r\n    callback: gettercallback<T, [UnWrapState<Y>]>,\r\n    setter?: SetterFun\r\n): StateType<T>;\r\nfunction computed<T extends any, Y extends ReactiveState<any>[]>(\r\n    state: Y,\r\n    callback: gettercallback<T, UnWrapState<UnWrapArray<Y>>[]>,\r\n    setter?: SetterFun\r\n):StateType<T>;\r\nfunction computed(\r\n    state: ReactiveState<any> | Array<ReactiveState<any>>,\r\n    callback: gettercallback<any, any[]>,\r\n    setter?: SetterFun\r\n): StateType<any> {\r\n    if (!((isArray(state) || isReactiveState(state)) && isFunction(callback))) {\r\n        console.error(state);\r\n        console.error(callback);\r\n        console.error(invalid_ReactiveState + invalid_Function);\r\n\r\n        throw TypeError();\r\n    }\r\n    const state1array: ReactiveState<any>[] = toArray(state);\r\n    if (!state1array.length) {\r\n        console.error(\"Empty array not allowed\");\r\n        throw new Error();\r\n    }\r\n\r\n    const state1 = computedmany(state1array, callback, setter);\r\n\r\n    return state1;\r\n}\r\nexport default computed;\r\nexport type SetterFun = (v: any) => void;\r\n// export { computed };\r\n","import Virtualdom, { isVirtualdom } from \"src/CreateElement/VirtualElement\";\r\nimport computed from \"src/Reactivity/computed\";\r\nimport ReactiveState from \"src/Reactivity/reactivestate\";\r\nexport function generatechildrenvdoms(\r\n    liststate: ReactiveState<Array<any>>,\r\n    fun: (v: ReactiveState<any>, i: number) => Virtualdom<any>\r\n) {\r\n    const data = liststate.valueOf();\r\n    const childs = new Array(data.length).fill(undefined).map((v, index) => {\r\n        const vdom = Reflect.apply(fun, undefined, [\r\n            computed(liststate, (arr: any[]) => arr[index]),\r\n            index\r\n        ]);\r\n        if (!isVirtualdom(vdom)) {\r\n            throw new TypeError();\r\n        }\r\n        return vdom;\r\n    });\r\n    return childs;\r\n}\r\n","import Virtualdom from \"src/CreateElement/VirtualElement\";\r\nimport { isReactiveState } from \"src/Reactivity/isReactiveState\";\r\nimport watch from \"src/Reactivity/watch\";\r\nimport render from \"src/RenderVirtual/render-vdom-to-real\";\r\nimport { removeNode } from \"src/UtilTools/dom\";\r\nimport { isarray, isfunction } from \"src/UtilTools/util\";\r\nimport { generatechildrenvdoms } from \"./generatechildrenvdoms\";\r\n\r\n/* interface attrfor<T> extends Array<any> {\r\n    0: ReactiveState<Array<T>>;\r\n    1: (v: ReactiveState<T>, i: number) => Virtualdom<any>;\r\n} */\r\nexport const localfor = (\r\n    value: unknown,\r\n    ele: Element,\r\n    vdom: Virtualdom<any>,\r\n    onmount: (call: () => void) => void,\r\n    onunmount: (call: () => void) => void,\r\n    onupdated: (call: () => void) => void\r\n) => {\r\n    if (!Array.isArray(value)) {\r\n        throw TypeError();\r\n    }\r\n    const [list, fun] = value;\r\n    if (!isReactiveState(list) || !isfunction(fun)) {\r\n        throw TypeError();\r\n    }\r\n\r\n    vdom.children.length = 0;\r\n    // const childs = generatechildrenvdoms(list, fun);\r\n    // childs.forEach((vd) => {\r\n    //     vdom.children.push(vd);\r\n    // });\r\n    const changecallback = () => {\r\n        const data = list.valueOf();\r\n        if (!isarray(data)) {\r\n            throw TypeError();\r\n        }\r\n        const oldlength = ele.childNodes.length;\r\n        const newlength = data.length;\r\n        const minlength = Math.min(oldlength, newlength);\r\n\r\n        if (newlength < oldlength) {\r\n            ele.childNodes.forEach((n, i) => {\r\n                if (i > minlength - 1) {\r\n                    removeNode(n);\r\n                }\r\n            });\r\n        } else if (newlength > oldlength) {\r\n            const childs = generatechildrenvdoms(list, fun);\r\n\r\n            const nodes = render(childs.slice(minlength));\r\n\r\n            nodes.forEach((n, i) => {\r\n                ele.appendChild(n);\r\n            });\r\n        }\r\n    };\r\n\r\n    console.log(value, ele, vdom, onmount, onunmount, onupdated);\r\n    onmount(changecallback);\r\n    onmount(() => {\r\n        const cancel = watch(list, changecallback);\r\n        onunmount(cancel);\r\n    });\r\n};\r\n","import ReactiveState from \"../Reactivity/reactivestate.js\";\r\nimport { isReactiveState } from \"../Reactivity/isReactiveState\";\r\nimport watch from \"../Reactivity/watch\";\r\nimport { isconnected } from \"../UtilTools/isconnected\";\r\nimport { isstring } from \"../UtilTools/util\";\r\n\r\nexport { createhtmlandtextdirective };\r\nfunction createhtmlandtextdirective(\r\n    seteletext: {\r\n        (e: Element, v: string): void;\r\n    },\r\n    errorname: string,\r\n    ele: Element,\r\n    text: string | ReactiveState<any>,\r\n    onmount: (call: () => void) => void,\r\n    onunmount: (call: () => void) => void\r\n) {\r\n    {\r\n        const element = ele;\r\n        if (isstring(text)) {\r\n            requestAnimationFrame(() => {\r\n                seteletext(ele, text);\r\n            });\r\n        } else if (isReactiveState(text)) {\r\n            let cancel: undefined | (() => void);\r\n            onmount(() => {\r\n                cancel = watch(text, () => {\r\n                    const state = text;\r\n                    if (isconnected(element)) {\r\n                        seteletext(ele, String(state));\r\n                    }\r\n                });\r\n            });\r\n            onunmount(() => {\r\n                cancel && cancel();\r\n            });\r\n            requestAnimationFrame(() => {\r\n                seteletext(ele, String(text));\r\n            });\r\n        } else {\r\n            console.error(text);\r\n            console.error(\"invalid \" + errorname);\r\n            throw TypeError();\r\n        }\r\n    }\r\n}\r\n","import Virtualdom from \"../CreateElement/VirtualElement\";\r\nimport { isReactiveState } from \"../Reactivity/isReactiveState\";\r\nimport { setelehtml } from \"../UtilTools/dom\";\r\nimport { isstring } from \"../UtilTools/util\";\r\nimport { createhtmlandtextdirective } from \"./create-html-and-text-directive\";\r\nexport const Localhtml = (\r\n    html: unknown,\r\n    ele: Element,\r\n    vdom: Virtualdom<any>,\r\n    onmount: (call: () => void) => void,\r\n    onunmount: (call: () => void) => void\r\n) => {\r\n    if (isstring(html) || isReactiveState(html)) {\r\n        console.log(vdom);\r\n        vdom.children.length = 0;\r\n        createhtmlandtextdirective(\r\n            setelehtml,\r\n            \"html\",\r\n            ele,\r\n            html,\r\n            onmount,\r\n            onunmount\r\n        );\r\n    } else {\r\n        throw new TypeError();\r\n    }\r\n};\r\n","import { apply } from \"../UtilTools/reflect\";\r\nimport Virtualdom from \"src/CreateElement/VirtualElement\";\r\nexport const Localmounted = (\r\n    call: unknown,\r\n    ele: Element,\r\n    vdom: Virtualdom<any>,\r\n    onmount: (call: () => void) => void,\r\n    onunmount: (call: () => void) => void\r\n): void => {\r\n    console.log([call, ele, vdom, onmount, onunmount]);\r\n    if (typeof call === \"function\") {\r\n        apply(onmount, undefined, [call]);\r\n    } else {\r\n        throw new TypeError();\r\n    }\r\n};\r\n","import Virtualdom from \"../CreateElement/VirtualElement\";\r\nimport { apply, set } from \"../UtilTools/reflect\";\r\nimport { isfunction, isobject } from \"../UtilTools/util\";\r\nexport const Localref = (\r\n    ref: unknown,\r\n    ele: Element,\r\n    _vdom: Virtualdom<any>\r\n) => {\r\n    if (isfunction(ref)) {\r\n        apply(ref, undefined, [ele]);\r\n    } else if (isobject(ref)) {\r\n        set(ref, \"value\", ele);\r\n    } else {\r\n        console.log(_vdom);\r\n        console.error(ref);\r\n        console.error(\"invalid ref\");\r\n        throw TypeError();\r\n    }\r\n};\r\n","import Virtualdom from \"../CreateElement/VirtualElement\";\r\nimport { isReactiveState } from \"../Reactivity/isReactiveState\";\r\nimport { seteletext } from \"../UtilTools/dom\";\r\nimport { isstring } from \"../UtilTools/util\";\r\nimport { createhtmlandtextdirective } from \"./create-html-and-text-directive\";\r\nexport const Localtext = (\r\n    text: unknown,\r\n    ele: Element,\r\n    vdom: Virtualdom<any>,\r\n    onmount: (call: () => void) => void,\r\n    onunmount: (call: () => void) => void\r\n) => {\r\n    if (isstring(text) || isReactiveState(text)) {\r\n        console.log(vdom);\r\n        vdom.children.length = 0;\r\n\r\n        createhtmlandtextdirective(\r\n            seteletext,\r\n            \"text\",\r\n            ele,\r\n            text,\r\n            onmount,\r\n            onunmount\r\n        );\r\n    } else {\r\n        throw new TypeError();\r\n    }\r\n};\r\n","import { apply } from \"../UtilTools/reflect\";\r\nimport Virtualdom from \"src/CreateElement/VirtualElement\";\r\nexport const Localunmounted = (\r\n    call: unknown,\r\n    ele: Element,\r\n    vdom: Virtualdom<any>,\r\n    onmount: (call: () => void) => void,\r\n    onunmount: (call: () => void) => void\r\n): void => {\r\n    console.log([call, ele, vdom, onmount, onunmount]);\r\n    if (typeof call === \"function\") {\r\n        apply(onunmount, undefined, [call]);\r\n    } else {\r\n        throw new TypeError();\r\n    }\r\n};\r\n","import { apply } from \"../UtilTools/reflect\";\r\nimport Virtualdom from \"src/CreateElement/VirtualElement\";\r\nexport const Localupdated = (\r\n    call: unknown,\r\n    ele: Element,\r\n    vdom: Virtualdom<any>,\r\n    onmount: (call: () => void) => void,\r\n    onunmount: (call: () => void) => void,\r\n    onupdated: (call: () => void) => void\r\n): void => {\r\n    console.log([call, ele, vdom, onmount, onunmount]);\r\n    if (typeof call === \"function\") {\r\n        apply(onupdated, undefined, [call]);\r\n    } else {\r\n        throw new TypeError();\r\n    }\r\n};\r\n","import { isReactiveState } from \"../Reactivity/isReactiveState\";\r\nimport { model } from \"./model\";\r\nimport Virtualdom from \"src/CreateElement/VirtualElement.js\";\r\nexport const Localvalue = (\r\n    value: unknown,\r\n    element: Element,\r\n    vdom: Virtualdom<any>\r\n): void => {\r\n    if (isReactiveState(value)) {\r\n        console.log(element);\r\n        model(\r\n            [\"input\", \"textarea\", \"select\"],\r\n            \"value\",\r\n            \"value\",\r\n            [\"change\", \"input\"],\r\n            value,\r\n            vdom\r\n        );\r\n    } else {\r\n        throw new TypeError();\r\n    }\r\n};\r\n","import extenddirectives from \"./extend-directive\";\r\nimport { Localchecked } from \"./Localchecked\";\r\nimport { Localcreated } from \"./Localcreated\";\r\nimport { localfor } from \"./localfor\";\r\nimport { Localhtml } from \"./Localhtml\";\r\nimport { Localmounted } from \"./Localmounted\";\r\nimport { Localref } from \"./Localref\";\r\nimport { Localtext } from \"./Localtext\";\r\nimport { Localunmounted } from \"./Localunmounted\";\r\nimport { Localupdated } from \"./Localupdated\";\r\nimport { Localvalue } from \"./Localvalue\";\r\nextenddirectives(\"ref\", Localref);\r\nextenddirectives(\"html\", Localhtml);\r\nextenddirectives(\"text\", Localtext);\r\nextenddirectives(\"value\", Localvalue);\r\nextenddirectives(\"checked\", Localchecked);\r\nconst Directives = extenddirectives;\r\nDirectives(\"mounted\", Localmounted);\r\nDirectives(\"unmounted\", Localunmounted);\r\nDirectives(\"updated\", Localupdated);\r\nDirectives(\"created\", Localcreated);\r\nextenddirectives(\"for\", localfor);\r\n","import { createdctx } from \"./Component-context\";\r\n\r\nexport function useCreated(fun: () => void) {\r\n    createdctx.add(fun);\r\n}\r\n","import { updatedctx } from \"./Component-context\";\r\n\r\nexport function useUpdated(fun: () => void) {\r\n    updatedctx.add(fun);\r\n}\r\n","import { mountedctx } from \"./Component-context\";\r\n\r\nexport function useMounted(fun: () => void) {\r\n    mountedctx.add(fun);\r\n}\r\n","import { unmountedctx } from \"./Component-context\";\r\n\r\nexport function useUnMounted(fun: () => void) {\r\n    unmountedctx.add(fun);\r\n}\r\n","import { isfunction, isobject } from \"../UtilTools/util\";\r\nconst { HTMLElement, customElements, Proxy } = window;\r\nif (\r\n    !isfunction(HTMLElement) ||\r\n    !isfunction(Proxy) ||\r\n    !isobject(customElements)\r\n    /*||\r\n  \r\n  !isfunction(window.CustomElementRegistry)\r\n  \r\n  \r\n\r\n*/\r\n) {\r\n    console.error(\"Proxy,HTMLElement ,customElements ,browser not supported !\");\r\n    throw new TypeError();\r\n}\r\n","interface Ref<T = any | undefined> {\r\n    value: T | undefined;\r\n}\r\n\r\nexport default function createRef<T = any | undefined>(value?: T): Ref<T> {\r\n    return { value };\r\n}\r\n","const e=Set.prototype,t=Map.prototype;function r(e){return e instanceof Map}function o(e){return e instanceof Set}function n(e){return Array.isArray(e)}const l=window.Reflect,{ownKeys:i,deleteProperty:c,apply:a,construct:d,defineProperty:f,get:u,getOwnPropertyDescriptor:p,getPrototypeOf:s,has:y,set:v,setPrototypeOf:g}=l;function P(e){return\"object\"==typeof e&&null!==e}function w(e){return\"function\"==typeof e}function S(l,h,O=[],x=l){if(!w(h))throw Error();if(l instanceof Promise||function(e){return e instanceof RegExp}(l)||function(e){return e instanceof Date}(l))return l;if(w(l)||P(l)){let E;return o(l)?(E=new Set([...l]),v(E,\"add\",t=>(e.add.call(l,t),h(x,O,void 0,void 0),e.add.call(E,t))),v(E,\"delete\",t=>(e.delete.call(l,t),h(x,O,void 0,void 0),e.delete.call(E,t))),v(E,\"clear\",()=>(e.clear.call(l),h(x,O,void 0,void 0),e.clear.call(E)))):r(l)?(E=new Map([...l]),v(E,\"clear\",()=>(t.clear.call(l),h(x,O,void 0,void 0),t.clear.call(E))),v(E,\"set\",(e,r)=>(t.set.call(l,e,r),h(x,O,void 0,void 0),t.set.call(E,e,r))),v(E,\"delete\",e=>(t.delete.call(l,e),h(x,O,void 0,void 0),t.delete.call(E,e)))):E=n(l)?[]:w(l)?()=>{}:{},o(l)||r(l)||g(E,null),new Proxy(E,{defineProperty:(e,t,r)=>(h(x,[...O,String(t)],y(r,\"value\")?r.value:w(r.get)?r.get():void 0,u(l,t)),f(l,t,r)),deleteProperty:(e,t)=>(h(x,[...O,String(t)],void 0,u(l,t)),c(l,t)),ownKeys:()=>i(l),has:(e,t)=>y(l,t),getPrototypeOf:()=>s(l),setPrototypeOf:(e,t)=>g(l,t),construct(e,t){if(w(l))return d(l,t)},apply(e,t,r){if(w(l))return a(l,t,r)},getOwnPropertyDescriptor(e,t){var r=p(l,t);return n(l)&&\"length\"===t?r:r?(r.configurable=!0,r):void 0},set:(e,t,r)=>(w(h)&&h(x,[...O,String(t)],r,u(l,t)),v(l,t,r)),get(e,t){var n=u(l,t);return w(n)&&(o(l)||r(l))?u(E,t).bind(E):w(n)||P(n)?S(n,h,[...O,String(t)],l):n}})}return l}export default function(e,t){if(!w(t))throw Error();if(!w(Proxy))throw Error();return w(e)||P(e)?S(e,t):e}\n//# sourceMappingURL=index.min.js.map\n","import deepobserve from \"@masx200/deep-observe-agent-proxy\";\r\nimport { combineproxy } from \"src/others/combineproxy\";\r\nimport { defineProperty, deleteProperty, get, getOwnPropertyDescriptor, has, ownKeys, set } from \"../UtilTools/reflect\";\r\nimport { isarray, isfunction, isobject, isplainobject, isSet, issymbol } from \"../UtilTools/util\";\r\nimport { set_prototype } from \"./create-state\";\r\nimport { isReactiveState } from \"./isReactiveState\";\r\nimport ReactiveState, { dispatchsymbol, invalid_primitive_or_object_state } from \"./reactivestate.js\";\r\nimport watch from \"./watch\";\r\n\r\nexport default function<T extends Exclude<object, ReactiveState<any>>>(\r\n    init: T\r\n): ReactiveState<T> & T {\r\n    let initobj = init;\r\n    const containReactiveState =\r\n        isplainobject(init) &&\r\n        Object.values(init).some((a) => isReactiveState(a));\r\n    const state_entries = Object.entries(init).filter((e) => {\r\n        const a = e[1];\r\n        return isReactiveState(a);\r\n    });\r\n    if (containReactiveState) {\r\n        initobj = Object.assign({}, init);\r\n\r\n        state_entries.forEach(([key, state]) => {\r\n            defineProperty(initobj, key, {\r\n                enumerable: true,\r\n                get() {\r\n                    return state.valueOf();\r\n                },\r\n                set: (nvalue) => {\r\n                    state.value = nvalue;\r\n                },\r\n                configurable: true\r\n            });\r\n        });\r\n    }\r\n    const reactive: ReactiveState<object> = new ReactiveState({\r\n        value: initobj\r\n    });\r\n    if (containReactiveState) {\r\n        state_entries.forEach(([key, state]) => {\r\n            watch(state, () => {\r\n                reactive[dispatchsymbol]();\r\n            });\r\n        });\r\n    }\r\n    // reactive.value = initobj;\r\n\r\n    return combineproxy(\r\n        reactive,\r\n\r\n        Object.assign({}, handler)\r\n    ) as ReactiveState<T> & T;\r\n}\r\nconst handler: ProxyHandler<object> = {};\r\nhandler.ownKeys = (target) => {\r\n    return Array.from(\r\n        new Set([...ownKeys(target), ...ownKeys(get(target, \"value\"))])\r\n    );\r\n};\r\nhandler.setPrototypeOf = () => {\r\n    return false;\r\n};\r\nhandler.defineProperty = () => {\r\n    return false;\r\n};\r\nhandler.getOwnPropertyDescriptor = (target: ReactiveState<object>, key) => {\r\n    if (issymbol(key)) {\r\n        return;\r\n    }\r\n    const myvalue = get(target, \"value\");\r\n\r\n    const descripter =\r\n        getOwnPropertyDescriptor(target, key) ||\r\n        getOwnPropertyDescriptor(myvalue, key);\r\n    if (descripter) {\r\n        descripter.configurable = true;\r\n    }\r\n\r\n    return descripter;\r\n};\r\nhandler.deleteProperty = (target: ReactiveState<object>, key) => {\r\n    const myvalue = get(target, \"value\");\r\n    if (has(myvalue, key)) {\r\n        deleteProperty(myvalue, key);\r\n        target[dispatchsymbol]();\r\n        return true;\r\n    } else {\r\n        return true;\r\n    }\r\n};\r\nhandler.has = (target: ReactiveState<object>, key) => {\r\n    const myvalue = get(target, \"value\");\r\n    return has(target, key) || has(myvalue, key);\r\n};\r\nhandler.get = (target: ReactiveState<object>, key) => {\r\n    const value = get(target, \"value\");\r\n    const deepflage = isarray(value) || isplainobject(value);\r\n    if (key === \"value\" && deepflage) {\r\n        return deepobserve(get(target, key), (_target_, _patharray) => {\r\n            target[dispatchsymbol]();\r\n        });\r\n    } else if (has(target, key)) {\r\n        return get(target, key);\r\n    } else if (has(value, key)) {\r\n        const resultvalue = get(value, key);\r\n        if (isSet(value)) {\r\n            if (key === \"add\" || key === \"clear\" || key === \"delete\") {\r\n                switch (key) {\r\n                    case \"add\": {\r\n                        return ((add: any) => {\r\n                            if (!set_prototype.has.call(value, add)) {\r\n                                const returnvalue = set_prototype[key].call(\r\n                                    value,\r\n                                    add\r\n                                );\r\n                                target[dispatchsymbol]();\r\n                                return returnvalue;\r\n                            }\r\n                            return;\r\n                        }).bind(value);\r\n                    }\r\n\r\n                    case \"delete\": {\r\n                        return ((dele: any) => {\r\n                            if (set_prototype.has.call(value, dele)) {\r\n                                const returnvalue = set_prototype[key].call(\r\n                                    value,\r\n                                    dele\r\n                                );\r\n                                target[dispatchsymbol]();\r\n                                return returnvalue;\r\n                            }\r\n                            return;\r\n                        }).bind(value);\r\n                    }\r\n\r\n                    case \"clear\": {\r\n                        return (() => {\r\n                            if (value.size) {\r\n                                const returnvalue = set_prototype[key].call(\r\n                                    value\r\n                                );\r\n                                target[dispatchsymbol]();\r\n                                return returnvalue;\r\n                            }\r\n                            return;\r\n                        }).bind(value);\r\n                    }\r\n                }\r\n            } else {\r\n                return isfunction(resultvalue)\r\n                    ? resultvalue.bind(value)\r\n                    : resultvalue;\r\n            }\r\n        } else if (\r\n            deepflage &&\r\n            (isarray(resultvalue) || isplainobject(resultvalue))\r\n        ) {\r\n            return deepobserve(resultvalue, () => {\r\n                target[dispatchsymbol]();\r\n            });\r\n        } else {\r\n            return resultvalue;\r\n        }\r\n    }\r\n};\r\nhandler.set = (target: ReactiveState<object>, key, value) => {\r\n    if (isReactiveState(value)) {\r\n        value = value.valueOf();\r\n    }\r\n    const myvalue = get(target, \"value\");\r\n\r\n    if (\r\n        key === \"value\" &&\r\n        isobject(value) /* &&\r\n        ((isArray(init) && isarray(value)) ||\r\n            (!isArray(init) && !isarray(value))) */\r\n    ) {\r\n        if (target[key] !== value) {\r\n            set(target, key, value);\r\n            target[dispatchsymbol]();\r\n        }\r\n        return true;\r\n    } else if (!has(target, key)) {\r\n        if (myvalue[key] !== value) {\r\n            set(myvalue, key, value);\r\n            target[dispatchsymbol]();\r\n        }\r\n        return true;\r\n        //\r\n    } else {\r\n        console.error(value);\r\n        // console.error(init);\r\n        console.error(invalid_primitive_or_object_state);\r\n        throw TypeError();\r\n    }\r\n};\r\n","// import { any } from \"./watch\";\r\nimport { combineproxy } from \"src/others/combineproxy\";\r\nimport { set } from \"../UtilTools/reflect\";\r\nimport { isfunction, isobject, isprimitive } from \"../UtilTools/util\";\r\nimport { getproperyreadproxy } from \"./getproperyread-proxy\";\r\nimport handleobjectstate from \"./handle-object-state\";\r\nimport ReactiveState, {\r\n    dispatchsymbol,\r\n    invalid_primitive_or_object_state,\r\n    GetParentType\r\n} from \"./reactivestate.js\";\r\nimport { isReactiveState } from \"./isReactiveState\";\r\nexport type StateType<T> = ReactiveState<GetParentType<T>> & GetParentType<T>;\r\nexport const set_prototype = Set.prototype;\r\n\r\nexport default createState;\r\nexport { createState };\r\nconst handler: ProxyHandler<any> = {\r\n    defineProperty() {\r\n        return false;\r\n    },\r\n    deleteProperty() {\r\n        return false;\r\n    },\r\n    set(target, key, value) {\r\n        if (\r\n            key === \"value\" /* &&\r\n            ((isprimitive(value) && isprimitive(init)) ||\r\n                (isfunction(value) && isfunction(init))) */\r\n        ) {\r\n            if (target[key] !== value) {\r\n                set(target, key, value);\r\n                target[dispatchsymbol]();\r\n            }\r\n            return true;\r\n        } else {\r\n            console.error(value);\r\n            // console.error(init);\r\n            console.error(invalid_primitive_or_object_state);\r\n            throw TypeError();\r\n        }\r\n    },\r\n    setPrototypeOf() {\r\n        return false;\r\n    }\r\n};\r\nfunction createState<T extends Exclude<any, ReactiveState<any>>>(\r\n    init: T\r\n): StateType<T> {\r\n    if (isprimitive(init) || isfunction(init)) {\r\n        \r\n        return getproperyreadproxy(\r\n            combineproxy(new ReactiveState({ value: init }), Object.assign({}, handler))\r\n        );\r\n    } else if (isReactiveState(init)) {\r\n        // return createState(init.valueOf() as any);\r\n        throw TypeError();\r\n    } else if (isobject(init)) {\r\n        //\r\n\r\n        return handleobjectstate(init);\r\n    } else {\r\n        throw TypeError();\r\n    }\r\n}\r\n"],"names":["isObject","value","type","isObject_1","commonjsGlobal","globalThis","window","global","self","freeGlobal","_freeGlobal","freeSelf","Object","root","Function","_root","now","Date","now_1","FUNC_ERROR_TEXT","nativeMax","Math","max","nativeMin","min","debounce","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","Number","invokeFunc","time","args","thisArg","undefined","Reflect","apply","leadingEdge","setTimeout","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","debounced","isInvoking","this","clearTimeout","debounce_1","clearMounted","mountedctx","clear","clearUnMounted","unmountedctx","a","isString","isnumber","isboolean","isundefined","isbigint","issymbol","isplainobject","gettagtype","getPrototypeOf","prototype","isobject","isstring","isfunction","isarray","Array","isArray","toString","call","replace","trim","isSet","Set","isMap","Map","isWeakMap","WeakMap","checkctxandcallbck","callback","isFunction","ctxopen","console","error","errormessage","Error","invalid_Function","createlifecyclecontext","callbackset","getall","add","fun","clearupdated","updatedctx","clearcreated","createdctx","StateSet","watchrecord","getwatchrecords","clearwatch","getstates","clearstate","openctx","clearall","closectx","cached_create_componet","cached_callback_debounced_watchs","toArray","flat","filter","useststerecord","state","ObserverTarget","[object Object]","listener","listenerset","Listeners","forEach","Promise","resolve","then","delete","addonelistner","Symbol","removeonelistner","cancelsubscribe","debouncedispatch","invalid_primitive_or_object_state","Targetsymbol","memlisteners","dispatchsymbol","subscribesymbol","removeallistenerssymbol","addallistenerssymbol","tagtypesym","ReactiveState","init","toStringTag","debouncedfun","dispatch","defineProperty","configurable","get","set","v","tag","getter","setter","removeListener","addListener","valueOf","isprimitive","String","JSON","stringify","eventlistener","toPrimitive","isReactiveState","usewatch","push","rewatch","watchsingle","invalid_ReactiveState","requestAnimationFrame","watch","statearray","length","debouncedcallback","stateandlisteners","map","state1","cachedfun","listenfun","r","cancelWatch","construct","deleteProperty","getOwnPropertyDescriptor","has","ownKeys","preventExtensions","target","propertyKey","t","e","n","includes","toLowerCase","o","i","u","c","s","f","l","p","y","d","tagName","w","setAttribute","g","removeAttribute","Element","create","Proxy","getAttributeNames","from","getAttribute","parse","entries","join","enumerable","writable","setPrototypeOf","getcreated","getupdated","istextnode","gettextnodes","container","childNodes","rootnode","document","body","connectedeventname","disconnectedeventname","mutations","record","log","addedNodes","subeles","querySelectorAll","subtexts","dispatchconnected","removedNodes","dispatchdisconnected","dispatchEvent","Event","mo","MutationObserver","option","childList","subtree","observe","updatedeventname","dispatchupdated","attributes","characterData","bubbles","createdeventname","dispatchcreated","addcreatedlistner","ele","addEventListener","once","addmountedlistner","addunmountedlistner","addupdatedlistner","addstopupdatelistener","stopPropagation","merge_entries","m","key","k","VirtualElementSet","WeakSet","Letter_case_and_Chinese","isVirtualdom","createVirtualElement","props","children","assign","propsentries","propsentriesNOTevents","startsWith","Entries_beginning_with_a_letter","test","virtual","vdom","bindattr","fromEntries","onevent","slice","directives","freeze","isvalidvdom","flag","every","isclassextendsHTMLElement","initclass","HTMLElement","getMounted","getUnMounted","seteletext","textContent","setelehtml","innerHTML","appendchild","appendChild","createsvgelement","createElementNS","svgnamespace","createDocumentFragment","createnativeelement","createElement","namespace","name","createtextnode","data","createTextNode","changetext","textnode","nodeValue","mathnamespace","createmathelement","removeNode","node","parentNode","removeChild","replaceChild","newChild","oldChild","domaddlisten","event","domremovelisten","removeEventListener","getchildNodes","createanotherhtmldocument","implementation","createHTMLDocument","selector","eles","componentsymbol","iscomponent","charactorlist","fill","fromCharCode","hexnumberlist","charactorandnumberlist","getrandomcharactor","floor","random","getrandomhexnumberandcharactor","getrandomstringandnumber","invalid_custom_element_class","customElements","Usevaluetoquerythekeyfromthetable","table","Componentstatusname","outputentrie","find","CustomElementRegistry","elementset","for","elementmap","extendsname","RandomDefineCustomElement","elementname","define","extends","constructor","iterator","createcostumelemet","propsjson","autocreateclass","isconnected","element","isConnectedstate","isConnected","documentElement","getancestornode","directive","applydirects","direfun","eventlistenerssymbol","eventname","firstaddlisteners","callarray","removelisteners","readdlisteners","handleprops","attribute1","createeleattr","cancelarr","primitivestate","callbacks","values","bindstatesymbol","throwinvalideletype","invalid_Virtualdom","render","reactive","cancel","fragmentnode","mount","fragmentelement","isNodeArray","arr","isNode","Node","MountElement","Infinity","el","head","elesarray","proxyset","isproxy","proxytohandler","combineproxy","newhandler","oldhandler","pro","handler","componentsstylesheet","createlinkstylesheet","url","href","rel","isCSSStyleRule","isCSSMediaRule","isCSSImportRule","cssrulestocsstext","cssrules","cssText","prefixcssmediarule","cssrule","prefix","rulesarr","prefixcssrules","cssRules","conditionText","createcssBlob","source","cachedBlob","sourcecssblobCache","bloburl","URL","createObjectURL","Blob","savestyleblob","tagname","csstext","urltext","selectoraddprefix","cssstylerule","selectorold","selectorText","stylebodyold","selectorTextss","selectorarray","split","selectoraftertransform","selectorTextone","prefixselector","cssRulesarray","resultoutput","Boolean","parsecsstext","text","styleelement","otherdocument","transformcsstext","cachedtext","oldcsstotransformedcss","css","cssomold","cssomnew","cssnewtext","registercssprefix","loadlinkstyle","stylelinkelement","rs","loaderrorfun","onload","onerror","waitloadallstyle","containerthis","all","styleurl","setimmediate","unwatch","onmounted","innerstatesymbol","innerwatchrecords","watchrecords","onunmounted","readysymbol","attributeChangedCallback","firstinstalledcallback","connectedCallback","componentelement","AttrChange","disconnectedCallback","super","defaultProps","attrs","createeleattragentreadwrite","mutation","attributeName","qualifiedName","waittranformcsssymbol","attributessymbol","elementsymbol","inner_vdom_symbol","createComponentold","custfun","cached_class","Component","propattributess","readonlyprop","readonlyproxy","possiblyvirtualdom","vdomarray","mountedcallbacks","unmountedcallbacks","createdcallbacks","updatedcallbacks","thencallbackfirst","thencallbacksecond","innervdom","waitcallback","propreactivestate","createComponent","h","propsorchildren","typenormalized","propsnormalized","childrennormalized","truevdomsymbol","falsevdomsymbol","trueelesymbol","falseelesymbol","handletrue","handlefalse","currentelementsymbol","Condition","conditon","iftrue","iffalse","optionstrue","optionsfalse","elementtomount","handleconditionchange","trueorfalse","cancel_watch_symbol","cached_class_element","switch_mount_symbol","Switchable","funstate","eleclass","eleme","mountrealelement","elementreal","callmountswitch","arguments","myhtm","htm","htmlold","inargs","html","prevdom","extenddirectives","model","types","bindattribute","domprop","eventnames","origin","eventsarray","Localchecked","dispatchallsamename","inputelement","Localcreated","onmount","onunmount","onupdated","myvalue","descripter","myvalueobj","property","bind","getproperyreadproxy","computedmany","st","possiblevalue","memorized","reactivestate","newvalue","computed","state1array","generatechildrenvdoms","liststate","childs","index","localfor","list","changecallback","oldlength","newlength","minlength","nodes","createhtmlandtextdirective","errorname","Localhtml","Localmounted","Localref","ref","_vdom","Localtext","Localunmounted","Localupdated","Localvalue","Directives","useCreated","useUpdated","useMounted","useUnMounted","createRef","P","S","O","x","RegExp","E","initobj","containReactiveState","some","state_entries","nvalue","deepflage","deepobserve","_target_","_patharray","resultvalue","set_prototype","returnvalue","dele","size","createState","handleobjectstate"],"mappings":"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"}