{"version":3,"file":"index.min.js","sources":["index.js"],"sourcesContent":["/**\n * The inverse of `_.toPairs`; this method returns an object composed\n * from key-value `pairs`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} pairs The key-value pairs.\n * @returns {Object} Returns the new object.\n * @example\n *\n * _.fromPairs([['a', 1], ['b', 2]]);\n * // => { 'a': 1, 'b': 2 }\n */\nfunction fromPairs(pairs) {\n  var index = -1,\n      length = pairs == null ? 0 : pairs.length,\n      result = {};\n\n  while (++index < length) {\n    var pair = pairs[index];\n    result[pair[0]] = pair[1];\n  }\n  return result;\n}\n\nvar fromPairs_1 = fromPairs;\n\nif (\"function\" !== typeof Object.fromEntries)\r\n    Object.fromEntries = fromPairs_1;\n\nif (typeof Array.prototype.flat !== \"function\") {\r\n    Array.prototype.flat =\r\n        arrayflat;\r\n}\r\nfunction arrayflat(depth = 1) {\r\n    if (depth <= 1) {\r\n        return this.reduce((acc, val) => acc.concat(val), []);\r\n    }\r\n    else {\r\n        return flattenDeep(this);\r\n    }\r\n}\r\nfunction flattenDeep(arr1) {\r\n    return arr1.reduce((acc, val) => Array.isArray(val) ? acc.concat(flattenDeep(val)) : acc.concat(val), []);\r\n}\n\nfunction isundefined(a) {\r\n    return typeof a === \"undefined\";\r\n}\r\nfunction isnumber(a) {\r\n    return typeof a === \"number\";\r\n}\r\nfunction isboolean(a) {\r\n    return typeof a === \"boolean\";\r\n}\r\nfunction isobject(a) {\r\n    return typeof a === \"object\" && a !== null;\r\n}\r\nfunction isstring(a) {\r\n    return typeof a === \"string\";\r\n}\r\nfunction isfunction(a) {\r\n    return typeof a === \"function\";\r\n}\r\nfunction isarray(a) {\r\n    return a instanceof Array && Array.isArray(a);\r\n}\r\nfunction getsymbol(a) {\r\n    return Symbol(a);\r\n}\n\nfunction isprimitive (a) {\r\n    return isstring(a) || isnumber(a) || isboolean(a) || isundefined(a);\r\n}\n\nvar _a, _b, _c;\r\nconst textnodesymbol = Symbol(\"textnode\");\r\nconst eventtargetsymbol = Symbol(\"eventtatget\");\r\nconst memlisteners = Symbol(\"memlisteners\");\r\nconst dispatchsymbol = getsymbol(\"dispatch\");\r\nconst subscribesymbol = getsymbol(\"subscribe\");\r\nconst removeallistenerssymbol = getsymbol(\"removeallisteners\");\r\nconst addallistenerssymbol = getsymbol(\"addallisteners\");\r\nclass ReactiveState {\r\n    constructor(init) {\r\n        this[_a] = undefined;\r\n        this[_b] = new EventTarget();\r\n        this[_c] = [];\r\n        if (isprimitive(init) || isobject(init)) {\r\n            this.value = init;\r\n        }\r\n        else {\r\n            throw TypeError(\"invalid State\");\r\n        }\r\n        Object.defineProperty(this, Symbol.toStringTag, {\r\n            value: \"ReactiveState\",\r\n            configurable: true\r\n        });\r\n    }\r\n    [addallistenerssymbol]() {\r\n        this[memlisteners].forEach(([value, callback]) => {\r\n            this[eventtargetsymbol].addEventListener(value, callback);\r\n        });\r\n    }\r\n    valueOf() {\r\n        return this.value;\r\n    }\r\n    toString() {\r\n        let value = this.value;\r\n        return isprimitive(value)\r\n            ? String(value)\r\n            : isobject(value)\r\n                ? JSON.stringify(value)\r\n                : \"\";\r\n    }\r\n    [(_a = textnodesymbol, _b = eventtargetsymbol, _c = memlisteners, dispatchsymbol)](eventname) {\r\n        let name = eventname ? String(eventname) : \"value\";\r\n        if (name !== \"value\") {\r\n            this[eventtargetsymbol].dispatchEvent(new Event(name));\r\n        }\r\n        this[eventtargetsymbol].dispatchEvent(new Event(\"value\"));\r\n    }\r\n    [subscribesymbol](callback, eventname) {\r\n        let name = eventname ? String(eventname) : \"value\";\r\n        this[memlisteners].push([name, () => callback(this)]);\r\n    }\r\n    [removeallistenerssymbol]() {\r\n        this[memlisteners].forEach(([value, callback]) => {\r\n            this[eventtargetsymbol].removeEventListener(value, callback);\r\n        });\r\n    }\r\n    [Symbol.toPrimitive]() {\r\n        let value = this.value;\r\n        return isprimitive(value)\r\n            ? value\r\n            : isobject(value)\r\n                ? JSON.stringify(value)\r\n                : void 0;\r\n    }\r\n}\n\nclass Virtualdom {\r\n    constructor(type = \"\", props = {}, children = []) {\r\n        this.element = undefined;\r\n        this.props = {};\r\n        this.children = [];\r\n        this.directives = {};\r\n        this.onevent = {};\r\n        this.bindattr = {};\r\n        const propsentries = Object.entries(props);\r\n        Object.assign(this, {\r\n            type,\r\n            bindattr: Object.fromEntries(propsentries\r\n                .filter(([key]) => /[A-Za-z]/.test(key[0]))\r\n                .filter(e => e[1] instanceof ReactiveState)),\r\n            props: Object.fromEntries(propsentries\r\n                .filter(([key]) => /[A-Za-z]/.test(key[0]))\r\n                .filter(e => !(e[1] instanceof ReactiveState))),\r\n            children,\r\n            onevent: Object.fromEntries(propsentries\r\n                .filter(([key]) => /\\@/.test(key[0]))\r\n                .map(([key, value]) => [key.slice(1), value])),\r\n            directives: Object.fromEntries(propsentries\r\n                .filter(([key]) => /\\*/.test(key[0]))\r\n                .map(([key, value]) => [key.slice(1), value]))\r\n        });\r\n        Object.defineProperty(this, Symbol.toStringTag, {\r\n            value: \"virtualdom\",\r\n            configurable: true\r\n        });\r\n    }\r\n}\n\nvar n=function(t,r,u,e){for(var p=1;p<r.length;p++){var s=r[p],h=\"number\"==typeof s?u[s]:s,a=r[++p];1===a?e[0]=h:3===a?e[1]=Object.assign(e[1]||{},h):5===a?(e[1]=e[1]||{})[r[++p]]=h:6===a?e[1][r[++p]]+=h+\"\":e.push(a?t.apply(null,n(t,h,u,[\"\",null])):h);}return e},t=function(n){for(var t,r,u=1,e=\"\",p=\"\",s=[0],h=function(n){1===u&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?s.push(n||e,0):3===u&&(n||e)?(s.push(n||e,1),u=2):2===u&&\"...\"===e&&n?s.push(n,3):2===u&&e&&!n?s.push(!0,5,e):u>=5&&((e||!n&&5===u)&&(s.push(e,u,r),u=6),n&&(s.push(n,u,r),u=6)),e=\"\";},a=0;a<n.length;a++){a&&(1===u&&h(),h(a));for(var f=0;f<n[a].length;f++)t=n[a][f],1===u?\"<\"===t?(h(),s=[s],u=3):e+=t:4===u?\"--\"===e&&\">\"===t?(u=1,e=\"\"):e=t+e[0]:p?t===p?p=\"\":e+=t:'\"'===t||\"'\"===t?p=t:\">\"===t?(h(),u=1):u&&(\"=\"===t?(u=5,r=e,e=\"\"):\"/\"===t&&(u<5||\">\"===n[a][f+1])?(h(),3===u&&(s=s[0]),u=s,(s=s[0]).push(u,2),u=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(h(),u=2):e+=t),3===u&&\"!--\"===e&&(u=4,s=s[0]);}return h(),s},r=\"function\"==typeof Map,u=r?new Map:{},e=r?function(n){var r=u.get(n);return r||u.set(n,r=t(n)),r}:function(n){for(var r=\"\",e=0;e<n.length;e++)r+=n[e].length+\"-\"+n[e];return u[r]||(u[r]=t(n))};function htm(t){var r=n(this,e(t),arguments,[]);return r.length>1?r:r[0]}\n\nfunction h(type = \"\", props = {}, ...children) {\r\n    var typenormalized = isstring(type) || isfunction(type) ? type : \"\";\r\n    var propsnormalized = isobject(props) ? props : {};\r\n    var childrennormalized = children.flat(1);\r\n    if (typeof typenormalized === \"string\" && \"\" === typenormalized) {\r\n        return childrennormalized;\r\n    }\r\n    return new Virtualdom(typenormalized, propsnormalized, childrennormalized);\r\n}\n\nconst html = htm.bind(h);\r\nfunction isvalidvdom(v) {\r\n    let flag = false;\r\n    if (Array.isArray(v)) {\r\n        flag = v\r\n            .map((ele) => {\r\n            return isvalidvdom(ele);\r\n        })\r\n            .includes(false)\r\n            ? false\r\n            : true;\r\n    }\r\n    else if (v instanceof Virtualdom) {\r\n        if (isvalidvdom(v.children)) {\r\n            return true;\r\n        }\r\n    }\r\n    else if (v instanceof ReactiveState) {\r\n        return true;\r\n    }\r\n    else {\r\n        if (isstring(v)) {\r\n            return true;\r\n        }\r\n    }\r\n    return flag;\r\n}\r\nfunction assertvalidvirtualdom(...args) {\r\n    var vdom = html(...args);\r\n    if (isvalidvdom(vdom)) {\r\n        return vdom;\r\n    }\r\n    else {\r\n        console.error(vdom);\r\n        throw new TypeError(\"invalid Virtualdom!\");\r\n    }\r\n}\n\nfunction watch(state, callback, statekey) {\r\n    if (!(state instanceof ReactiveState && isfunction(callback))) {\r\n        throw TypeError(\"invalid state or callback\");\r\n    }\r\n    if (statekey) {\r\n        state[subscribesymbol](callback, statekey);\r\n    }\r\n    else {\r\n        state[subscribesymbol](callback);\r\n    }\r\n    requestAnimationFrame(() => {\r\n        state[addallistenerssymbol]();\r\n    });\r\n}\n\nconst requestAnimationFrame = window.requestAnimationFrame;\r\nfunction seteletext(e, v) {\r\n    e.textContent = v;\r\n}\r\nfunction setelehtml(e, v) {\r\n    e.innerHTML = v;\r\n}\r\nvar directives = {\r\n    ref(ele, ref, vdom) {\r\n        if (typeof ref == \"object\") {\r\n            ref.value = ele;\r\n        }\r\n        else {\r\n            throw TypeError(\"invalid ref\");\r\n        }\r\n    },\r\n    html(ele, html, vdom) {\r\n        if (typeof html == \"string\") {\r\n            requestAnimationFrame(() => {\r\n                setelehtml(ele, html);\r\n            });\r\n        }\r\n        else if (html instanceof ReactiveState) {\r\n            watch(html, (state) => {\r\n                setelehtml(ele, String(state));\r\n            });\r\n            requestAnimationFrame(() => {\r\n                setelehtml(ele, String(html));\r\n            });\r\n        }\r\n        else {\r\n            throw TypeError(\"invalid html\");\r\n        }\r\n    },\r\n    text(ele, text, vdom) {\r\n        if (typeof text == \"string\") {\r\n            requestAnimationFrame(() => {\r\n                seteletext(ele, text);\r\n            });\r\n        }\r\n        else if (text instanceof ReactiveState) {\r\n            watch(text, (state) => {\r\n                seteletext(ele, String(state));\r\n            });\r\n            requestAnimationFrame(() => {\r\n                seteletext(ele, String(text));\r\n            });\r\n        }\r\n        else {\r\n            throw TypeError(\"invalid text\");\r\n        }\r\n    }\r\n};\n\nconst document = window.document;\r\nfunction appendchild(container, ele) {\r\n    container.appendChild(ele);\r\n}\r\nfunction createsvgelement() {\r\n    return document.createElementNS(svgnamespace, \"svg\");\r\n}\r\nfunction createnonescript() {\r\n    return document.createDocumentFragment();\r\n}\r\nfunction createnativeelement(type) {\r\n    return document.createElement(type);\r\n}\r\nfunction createElementNS(namespace, name) {\r\n    return document.createElementNS(namespace, name);\r\n}\r\nfunction createtextnode(data) {\r\n    return document.createTextNode(data);\r\n}\r\nconst svgnamespace = \"http://www.w3.org/2000/svg\";\r\nfunction changetext(textnode, value) {\r\n    textnode.nodeValue = String(value);\r\n}\n\nconst eventlistenerssymbol = Symbol(\"eventlisteners\");\r\nfunction onevent (element, eventname, callback) {\r\n    if (typeof callback === \"function\") {\r\n        addlisteners(element, eventname, [callback]);\r\n    }\r\n    else if (isarray(callback)) {\r\n        addlisteners(element, eventname, callback);\r\n    }\r\n    else {\r\n        throw TypeError(\"invalid EventListener\");\r\n    }\r\n}\r\nfunction addlisteners(ele, event, callarray) {\r\n    callarray.forEach((call) => {\r\n        ele[eventlistenerssymbol].push([event, call]);\r\n        domaddlisten(ele, event, call);\r\n    });\r\n}\r\nfunction domaddlisten(ele, event, call) {\r\n    ele.addEventListener(event, call);\r\n}\n\nconst Reflect = window.Reflect;\r\nconst { apply, construct, defineProperty, deleteProperty, get, getOwnPropertyDescriptor, getPrototypeOf, has, isExtensible, ownKeys, preventExtensions, set, setPrototypeOf } = Reflect;\n\nclass setlikearray extends Array {\r\n    push(...items) {\r\n        items.forEach(item => {\r\n            if (isfunction(item) || isobject(item)) {\r\n                if (!this.includes(item)) {\r\n                    super.push(item);\r\n                }\r\n            }\r\n        });\r\n        return this.length;\r\n    }\r\n}\n\nconst customElementsarray = new setlikearray();\r\nfunction createcostumelemet(initclass, children) {\r\n    if (isclassextendsHTMLElement(initclass)) {\r\n        customElementsarray.push(initclass);\r\n        const elementname = getcustomelementname(initclass);\r\n        if (customElements.get(elementname) === initclass) ;\r\n        else {\r\n            customElements.define(elementname, initclass);\r\n        }\r\n        return construct(initclass, [children]);\r\n    }\r\n    else {\r\n        throw TypeError(\"invalid custom element class !\");\r\n    }\r\n}\r\nfunction getcustomelementname(initclass) {\r\n    return \"c-\" + customElementsarray.indexOf(initclass);\r\n}\r\nfunction isclassextendsHTMLElement(initclass) {\r\n    return !!(isfunction(initclass) &&\r\n        initclass.prototype &&\r\n        initclass.prototype instanceof HTMLElement);\r\n}\n\nfunction mount (ele, container) {\r\n    container.innerHTML = \"\";\r\n    let eles;\r\n    if (Array.isArray(ele)) {\r\n        eles = ele;\r\n    }\r\n    else {\r\n        eles = [ele];\r\n    }\r\n    eles.forEach(e => appendchild(container, e));\r\n}\n\nconst t$1 = window.Reflect,\r\n  { get: o, ownKeys: f, set: g } = t$1,\r\n  y = \"value\";\r\nfunction b(t) {\r\n  return \"object\" == typeof t && null !== t;\r\n}\r\nfunction S(t) {\r\n  return \"string\" == typeof t;\r\n}\r\nfunction createeleattr(t) {\r\n  !(function(t) {\r\n    if (\r\n      t instanceof HTMLElement ||\r\n      t instanceof SVGElement ||\r\n      t instanceof Element\r\n    )\r\n      return !0;\r\n    throw TypeError(\"invalid HTMLElement!\");\r\n  })(t);\r\n  const e =\r\n    (\"INPUT\" === t.tagName && \"text\" === o(t, \"type\")) ||\r\n    \"TEXTAREA\" === t.tagName;\r\n  var r = Object.create(null);\r\n  return new Proxy(r, {\r\n    ownKeys() {\r\n      const r = f(t.attributes).filter(t => !/\\d/.test(String(t)[0]));\r\n      return e ? Array.from(new Set([...r, y])) : r;\r\n    },\r\n    get(n) {\r\n      if (e && n === y) return o(t, y);\r\n      var i = t.getAttribute(String(n));\r\n      if (i && S(i))\r\n        try {\r\n          return JSON.parse(String(i));\r\n        } catch (t) {\r\n          return i;\r\n        }\r\n    },\r\n    set(n, i) {\r\n      return e && n === y\r\n        ? g(t, y, i)\r\n        : \"style\" === n\r\n        ? (t.setAttribute(\r\n            String(n),\r\n            S(i)\r\n              ? i\r\n              : b(i)\r\n              ? ((o = i),\r\n                Object.entries(o)\r\n                  .map(([t, e]) => t + \":\" + e)\r\n                  .join(\";\"))\r\n              : String(i)\r\n          ),\r\n          !0)\r\n        : (t.setAttribute(String(n), b(i) ? JSON.stringify(i) : String(i)), !0);\r\n      var o;\r\n    },\r\n    deleteProperty: (e, r) => (t.removeAttribute(String(r)), !0),\r\n    has: (r, n) => !(!e || n !== y) || t.hasAttribute(String(n)),\r\n    defineProperty: () => !1,\r\n    getOwnPropertyDescriptor(n) {\r\n      const i = { enumerable: !0, configurable: !0, writable: !0 };\r\n      if (e && n === y) return { value: o(t, y), ...i };\r\n      var s = t.getAttribute(String(n));\r\n      return s ? { value: s, ...i } : void 0;\r\n    }\r\n  });\r\n}\n\nconst reactivestatesymbol = Symbol(\"reactivestate\");\r\nconst virtualdomsymbol = Symbol(\"virtualdom\");\r\nfunction throwinvalideletype() {\r\n    throw TypeError(\"invalid element type!\");\r\n}\r\nfunction render(vdom, namespace) {\r\n    if (typeof vdom === \"string\") {\r\n        return createtextnode(vdom);\r\n    }\r\n    else if (vdom instanceof ReactiveState) {\r\n        const reactive = vdom;\r\n        const textnode = createtextnode(String(reactive));\r\n        textnode[reactivestatesymbol] = reactive;\r\n        reactive[textnodesymbol] = textnode;\r\n        watch(reactive, (state) => {\r\n            changetext(textnode, String(state));\r\n        });\r\n        return textnode;\r\n    }\r\n    else if (vdom instanceof Virtualdom && \"type\" in vdom) {\r\n        const { type } = vdom;\r\n        let element;\r\n        if (typeof type === \"string\") {\r\n            if (type === \"script\") {\r\n                return createnonescript();\r\n            }\r\n            else if (type === \"svg\") {\r\n                element = createsvgelement();\r\n            }\r\n            else {\r\n                element = namespace\r\n                    ? createElementNS(namespace, type)\r\n                    : createnativeelement(type);\r\n            }\r\n        }\r\n        else if (typeof type == \"function\") {\r\n            element = createcostumelemet(type, vdom.children);\r\n        }\r\n        else {\r\n            throwinvalideletype();\r\n        }\r\n        var attribute1 = createeleattr(element);\r\n        Object.assign(attribute1, vdom.props);\r\n        element[virtualdomsymbol] = vdom;\r\n        vdom.element = element;\r\n        Object.entries(vdom.bindattr).forEach(([key, primitivestate]) => {\r\n            attribute1[key] = primitivestate.value;\r\n            watch(primitivestate, (state) => {\r\n                attribute1[key] = state.value;\r\n            });\r\n        });\r\n        Object.entries(vdom.directives).forEach(([name, value]) => {\r\n            if (name in directives && typeof directives[name] === \"function\") {\r\n                directives[name](element, value, vdom);\r\n            }\r\n            else {\r\n                throw new Error(\"invalid directives \" + name);\r\n            }\r\n        });\r\n        if (!element[eventlistenerssymbol]) {\r\n            element[eventlistenerssymbol] = [];\r\n        }\r\n        Object.entries(vdom.onevent).forEach(([event, callbacks]) => {\r\n            onevent(element, event, callbacks);\r\n        });\r\n        if (typeof type !== \"function\") {\r\n            mount(vdom.children.map(e => {\r\n                if (type === \"svg\") {\r\n                    return render(e, svgnamespace);\r\n                }\r\n                else if (namespace) {\r\n                    return render(e, namespace);\r\n                }\r\n                else {\r\n                    return render(e);\r\n                }\r\n            }), element);\r\n        }\r\n        return element;\r\n    }\r\n    else {\r\n        throwinvalideletype();\r\n    }\r\n}\n\nfunction createApp(vdom, container) {\r\n    const el = container;\r\n    if (!isvalidvdom(vdom)) {\r\n        console.error(vdom);\r\n        throw TypeError(\"invalid Virtualdom \");\r\n    }\r\n    if (!(el instanceof HTMLElement)) {\r\n        throw TypeError(\"invalid container HTMLElement!\");\r\n    }\r\n    if (el === document.body ||\r\n        el === document.documentElement ||\r\n        el === document.head) {\r\n        throw Error(\"Do not mount  to <html> or <body> <head>.\");\r\n    }\r\n    let elesarray;\r\n    if (Array.isArray(vdom)) {\r\n        elesarray = vdom;\r\n    }\r\n    else {\r\n        elesarray = [vdom];\r\n    }\r\n    mount(elesarray.map(e => render(e)), container);\r\n    return container;\r\n}\n\nfunction createRef(init) {\r\n    return { value: init };\r\n}\n\nconst t$2 = window.Reflect,\r\n  {\r\n    apply: e$1,\r\n    construct: r$1,\r\n    defineProperty: o$1,\r\n    get: f$1,\r\n    getOwnPropertyDescriptor: i,\r\n    getPrototypeOf: p,\r\n    has: u$1,\r\n    set: l,\r\n    setPrototypeOf: a\r\n  } = t$2;\r\nfunction P(t) {\r\n  return \"object\" == typeof t && null !== t;\r\n}\r\nfunction d(t) {\r\n  return \"function\" == typeof t;\r\n}\r\nfunction deepobserve(n, y) {\r\n  if (\"function\" != typeof y)\r\n    throw Error(\"observe callback is not valid function !\");\r\n  if (\"function\" != typeof Proxy) throw Error(\"Proxy unsupported!\");\r\n  return d(n) || P(n)\r\n    ? (function n(y, c, s = [], w = y) {\r\n        if (\"function\" != typeof c) throw Error(\"observe callback invalid !\");\r\n        if (d(y) || P(y)) {\r\n          let v;\r\n          return (\r\n            (v = P(y) ? {} : () => {}),\r\n            a(v, null),\r\n            (v =>\r\n              new Proxy(v, {\r\n                defineProperty: (t, e, r) => o$1(y, e, r),\r\n                deleteProperty: (e, r) => (\r\n                  c(w, [...s, r], void 0, f$1(y, r)), t$2.deleteProperty(y, r)\r\n                ),\r\n                ownKeys: () => t$2.ownKeys(y),\r\n                has: (t, e) => u$1(y, e),\r\n                getPrototypeOf: () => p(y),\r\n                setPrototypeOf: (t, e) => a(y, e),\r\n                construct(e) {\r\n                  if (\"function\" == typeof y) return r$1(y, e);\r\n                },\r\n                apply(r, o) {\r\n                  if (\"function\" == typeof y) return e$1(y, r, o);\r\n                },\r\n                getOwnPropertyDescriptor(e) {\r\n                  var r = i(y, e);\r\n                  return r ? ((r.configurable = !0), r) : void 0;\r\n                },\r\n                set: (t, e, r) => (\r\n                  \"function\" == typeof c && c(w, [...s, e], r, f$1(y, e)),\r\n                  l(y, e, r)\r\n                ),\r\n                get(e) {\r\n                  var r = f$1(y, e);\r\n                  return d(r) || P(r) ? n(r, c, [...s, e], y) : r;\r\n                }\r\n              }))(v)\r\n          );\r\n        }\r\n        return y;\r\n      })(n, y, [], n)\r\n    : n;\r\n}\n\nfunction createstate(init) {\r\n    if (isprimitive(init)) {\r\n        return new Proxy(new ReactiveState(init), {\r\n            defineProperty() {\r\n                return false;\r\n            },\r\n            deleteProperty(target, key) {\r\n                return false;\r\n            },\r\n            set(target, key, value) {\r\n                if (key === textnodesymbol) {\r\n                    return set(target, key, value);\r\n                }\r\n                if (key === \"value\" && isprimitive(value)) {\r\n                    set(target, key, value);\r\n                    target[dispatchsymbol]();\r\n                    return true;\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    else if (init instanceof ReactiveState) {\r\n        return createstate(init.value);\r\n    }\r\n    else if (isobject(init)) {\r\n        return new Proxy(new ReactiveState(init), {\r\n            defineProperty() {\r\n                return false;\r\n            },\r\n            getOwnPropertyDescriptor(target, key) {\r\n                const myvalue = get(target, \"value\");\r\n                var descripter = getOwnPropertyDescriptor(target, key) ||\r\n                    getOwnPropertyDescriptor(myvalue, key);\r\n                descripter.configurable = true;\r\n                return descripter;\r\n            },\r\n            deleteProperty(target, key) {\r\n                const myvalue = get(target, \"value\");\r\n                if (has(myvalue, key)) {\r\n                    deleteProperty(myvalue, key);\r\n                    target[dispatchsymbol](key);\r\n                    return true;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            },\r\n            has(target, key) {\r\n                const myvalue = get(target, \"value\");\r\n                return has(target, key) || has(myvalue, key);\r\n            },\r\n            get(target, key) {\r\n                const value = get(target, \"value\");\r\n                if (has(target, key)) {\r\n                    return get(target, key);\r\n                }\r\n                else if (has(value, key)) {\r\n                    return deepobserve(get(value, key), () => {\r\n                        target[dispatchsymbol](key);\r\n                    });\r\n                }\r\n            },\r\n            ownKeys(target) {\r\n                return Array.from(new Set([...ownKeys(target), ...ownKeys(get(target, \"value\"))]));\r\n            },\r\n            set(target, key, value) {\r\n                if (key === textnodesymbol) {\r\n                    return set(target, key, value);\r\n                }\r\n                const myvalue = get(target, \"value\");\r\n                if (key === \"value\" && isobject(value)) {\r\n                    set(target, key, value);\r\n                    target[dispatchsymbol]();\r\n                    return true;\r\n                }\r\n                else if (!has(target, key)) {\r\n                    set(myvalue, key, value);\r\n                    target[dispatchsymbol](key);\r\n                }\r\n                else if (key === \"length\") {\r\n                    set(myvalue, key, value);\r\n                    target[dispatchsymbol](key);\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        throw TypeError(\"invalid State\");\r\n    }\r\n}\n\nexport { createApp, h as createElemet, createRef, createstate as createState, h, assertvalidvirtualdom as html, watch };\n//# sourceMappingURL=index.js.map\n"],"names":["_a","_b","_c","fromPairs_1","pairs","index","length","result","pair","isobject","a","isstring","isfunction","getsymbol","Symbol","isprimitive","isnumber","isboolean","isundefined","Object","fromEntries","Array","prototype","flat","depth","this","reduce","acc","val","concat","flattenDeep","arr1","isArray","textnodesymbol","eventtargetsymbol","memlisteners","dispatchsymbol","subscribesymbol","removeallistenerssymbol","addallistenerssymbol","ReactiveState","[object Object]","init","undefined","EventTarget","TypeError","value","defineProperty","toStringTag","configurable","forEach","callback","addEventListener","String","JSON","stringify","eventname","name","dispatchEvent","Event","push","removeEventListener","toPrimitive","Virtualdom","type","props","children","element","directives","onevent","bindattr","propsentries","entries","assign","filter","key","test","e","map","slice","n","t","r","u","p","s","h","apply","replace","f","Map","get","set","typenormalized","propsnormalized","childrennormalized","html","arguments","bind","isvalidvdom","v","flag","ele","includes","assertvalidvirtualdom","args","vdom","watch","state","statekey","requestAnimationFrame","window","seteletext","textContent","setelehtml","innerHTML","ref","text","document","createtextnode","data","createTextNode","svgnamespace","eventlistenerssymbol","addlisteners","isarray","event","callarray","call","domaddlisten","Reflect","construct","deleteProperty","getOwnPropertyDescriptor","getPrototypeOf","has","isExtensible","ownKeys","preventExtensions","setPrototypeOf","customElementsarray","items","item","super","createcostumelemet","initclass","HTMLElement","isclassextendsHTMLElement","elementname","indexOf","getcustomelementname","customElements","define","mount","container","eles","appendChild","appendchild","t$1","o","g","y","b","S","reactivestatesymbol","virtualdomsymbol","throwinvalideletype","render","namespace","reactive","textnode","nodeValue","changetext","createDocumentFragment","createElementNS","createElement","createnativeelement","attribute1","SVGElement","Element","tagName","create","Proxy","attributes","from","Set","i","getAttribute","parse","setAttribute","join","removeAttribute","hasAttribute","enumerable","writable","createeleattr","primitivestate","Error","callbacks","createApp","el","body","documentElement","head","elesarray","createRef","t$2","e$1","r$1","o$1","f$1","u$1","l","P","d","createstate","target","myvalue","descripter","c","w","deepobserve"],"mappings":"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"}