{"version":3,"file":"index.min.js","sources":["index.js"],"sourcesContent":["const Reflect$1 = window.Reflect;\n\nconst {construct: construct, deleteProperty: deleteProperty, get: get, getOwnPropertyDescriptor: getOwnPropertyDescriptor, getPrototypeOf: getPrototypeOf, has: has, ownKeys: ownKeys, set: set} = Reflect$1;\n\nfunction isundefined(a) {\n    return typeof a === \"undefined\";\n}\n\nfunction isnumber(a) {\n    return typeof a === \"number\";\n}\n\nfunction isboolean(a) {\n    return typeof a === \"boolean\";\n}\n\nfunction isobject(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isstring(a) {\n    return typeof a === \"string\";\n}\n\nfunction isfunction(a) {\n    return typeof a === \"function\";\n}\n\nfunction isarray(a) {\n    return a instanceof Array && Array.isArray(a) && gettagtype(a) === \"array\";\n}\n\nfunction getsymbol(a) {\n    return Symbol(a);\n}\n\nfunction gettagtype(a) {\n    return {}.toString.call(a).replace(\"[object \", \"\").replace(\"]\", \"\").toLowerCase().trim();\n}\n\nfunction isSet(a) {\n    return gettagtype(a) === \"set\" && a instanceof Set;\n}\n\nif (!isfunction(window.HTMLElement) || !isfunction(window.Proxy) || !isobject(window.customElements) || !isfunction(window.CustomElementRegistry)) {\n    throw new TypeError(\" browser not supported !\");\n}\n\nfunction isprimitive(a) {\n    return isstring(a) || isnumber(a) || isboolean(a) || isundefined(a);\n}\n\nvar _a, _b;\n\nconst invalid_primitive_or_object_state = \"invalid primitive or object state\";\n\nfunction isReactiveState(a) {\n    return a instanceof ReactiveState;\n}\n\nconst eventtargetsymbol = Symbol(\"eventtatget\");\n\nconst memlisteners = Symbol(\"memlisteners\");\n\nconst dispatchsymbol = getsymbol(\"dispatch\");\n\nconst subscribesymbol = getsymbol(\"subscribe\");\n\nconst removeallistenerssymbol = getsymbol(\"removeallisteners\");\n\nconst addallistenerssymbol = getsymbol(\"addallisteners\");\n\nclass ReactiveState {\n    constructor(init) {\n        this[_a] = new EventTarget;\n        this[_b] = [];\n        if (isprimitive(init) || isobject(init)) {\n            Object.defineProperty(this, \"value\", {\n                value: init,\n                configurable: true,\n                writable: true\n            });\n        } else {\n            console.error(init);\n            throw TypeError(invalid_primitive_or_object_state);\n        }\n        Object.defineProperty(this, Symbol.toStringTag, {\n            value: \"ReactiveState\",\n            configurable: true\n        });\n    }\n    [addallistenerssymbol]() {\n        this[memlisteners].forEach(([value, callback]) => {\n            this[eventtargetsymbol].addEventListener(value, callback);\n        });\n    }\n    valueOf() {\n        return this.value;\n    }\n    toString() {\n        const value = this.value;\n        return isprimitive(value) ? String(value) : isSet(value) ? JSON.stringify([ ...value ]) : isobject(value) ? JSON.stringify(value) : \"\";\n    }\n    [(_a = eventtargetsymbol, _b = memlisteners, dispatchsymbol)](eventname) {\n        const name = eventname ? String(eventname) : \"value\";\n        if (name !== \"value\") {\n            this[eventtargetsymbol].dispatchEvent(new CustomEvent(name, {\n                detail: name\n            }));\n        }\n        this[eventtargetsymbol].dispatchEvent(new CustomEvent(\"value\", {\n            detail: name\n        }));\n    }\n    [subscribesymbol](callback, eventname) {\n        const name = eventname ? String(eventname) : \"value\";\n        this[memlisteners].push([ name, event => callback(this, event.detail) ]);\n    }\n    [removeallistenerssymbol]() {\n        this[memlisteners].forEach(([value, callback]) => {\n            this[eventtargetsymbol].removeEventListener(value, callback);\n        });\n    }\n    [Symbol.toPrimitive]() {\n        const value = this.value;\n        return isprimitive(value) ? value : isobject(value) ? JSON.stringify(value) : void 0;\n    }\n}\n\nconst componentsymbol = Symbol(\"iscomponent\");\n\nconst readysymbol = Symbol(\"ready\");\n\nconst document$1 = window.document;\n\nfunction seteletext(e, v) {\n    e.textContent = v;\n}\n\nfunction setelehtml(e, v) {\n    e.innerHTML = v;\n}\n\nfunction appendchild(container, ele) {\n    container.appendChild(ele);\n}\n\nfunction createsvgelement() {\n    return createElementNS(svgnamespace, \"svg\");\n}\n\nfunction createDocumentFragment() {\n    return document$1.createDocumentFragment();\n}\n\nfunction createnativeelement(type) {\n    return document$1.createElement(type);\n}\n\nfunction createElementNS(namespace, name) {\n    return document$1.createElementNS(namespace, name);\n}\n\nfunction createtextnode(data) {\n    return document$1.createTextNode(String(data));\n}\n\nconst svgnamespace = \"http://www.w3.org/2000/svg\";\n\nfunction changetext(textnode, value) {\n    textnode.nodeValue = String(value);\n}\n\nconst mathnamespace = \"http://www.w3.org/1998/Math/MathML\";\n\nfunction createmathelement() {\n    return createElementNS(mathnamespace, \"math\");\n}\n\nfunction domaddlisten(ele, event, call) {\n    ele.addEventListener(event, call);\n}\n\nfunction domremovelisten(ele, event, call) {\n    ele.removeEventListener(event, call);\n}\n\nfunction getdomchildren(ele) {\n    return Array.from(ele.childNodes);\n}\n\nfunction getAttribute(ele, name) {\n    return HTMLElementprototype.getAttribute.call(ele, name);\n}\n\nfunction setAttribute(ele, name, value) {\n    HTMLElementprototype.setAttribute.call(ele, name, value);\n}\n\nfunction removeAttribute(ele, name) {\n    HTMLElementprototype.removeAttribute.call(ele, name);\n}\n\nconst HTMLElementprototype = HTMLElement.prototype;\n\nfunction createanotherhtmldocument() {\n    return document$1.implementation.createHTMLDocument(\"\");\n}\n\nfunction getparentNode(ele) {\n    return ele.parentNode;\n}\n\nfunction isconnected(element) {\n    return document.documentElement === getancestornode(element);\n}\n\nfunction getancestornode(node) {\n    while (getparentNode(node) && getparentNode(node) !== document) {\n        node = node.parentNode;\n    }\n    return node;\n}\n\nconst requestAnimationFrame = window.requestAnimationFrame;\n\nvar directives = {\n    ref(ele, ref) {\n        if (isobject(ref)) {\n            ref.value = ele;\n        } else {\n            throw TypeError(\"invalid ref\");\n        }\n    },\n    html(ele, html) {\n        createhtmlandtextdirective(setelehtml, \"html\")(ele, html);\n    },\n    text(ele, text) {\n        createhtmlandtextdirective(seteletext, \"text\")(ele, text);\n    }\n};\n\nfunction createhtmlandtextdirective(seteletext, errorname) {\n    return function(ele, text) {\n        const element = ele;\n        if (typeof text == \"string\") {\n            requestAnimationFrame(() => {\n                seteletext(ele, text);\n            });\n        } else if (isReactiveState(text)) {\n            watch(text, state => {\n                if (isconnected(element)) {\n                    seteletext(ele, String(state));\n                }\n            });\n            requestAnimationFrame(() => {\n                seteletext(ele, String(text));\n            });\n        } else {\n            throw TypeError(\"invalid \" + errorname);\n        }\n    };\n}\n\nconst invalid_Function = \"invalid Function\";\n\nconst message = \"invalid useMounted or useUnMounted out of createComponent\";\n\nlet ctxopen = false;\n\nlet MountedSet = new Set;\n\nlet UnMountedSet = new Set;\n\nlet StateSet = new Set;\n\nfunction getstates() {\n    return [ ...StateSet ];\n}\n\nfunction usestste(state) {\n    if (ctxopen) {\n        StateSet.add(state);\n    }\n}\n\nfunction getMounted() {\n    return [ ...MountedSet ];\n}\n\nfunction getUnMounted() {\n    return [ ...UnMountedSet ];\n}\n\nfunction useMounted(fun) {\n    if (isfunction(fun)) {\n        if (ctxopen) {\n            MountedSet.add(fun);\n        } else {\n            throw Error(message);\n        }\n    } else {\n        throw TypeError(invalid_Function);\n    }\n}\n\nfunction useUnMounted(fun) {\n    if (isfunction(fun)) {\n        if (ctxopen) {\n            UnMountedSet.add(fun);\n        } else {\n            throw Error(message);\n        }\n    } else {\n        throw TypeError(invalid_Function);\n    }\n}\n\nfunction clearMounted() {\n    MountedSet = new Set;\n}\n\nfunction clearstate() {\n    StateSet = new Set;\n}\n\nfunction clearUnMounted() {\n    UnMountedSet = new Set;\n}\n\nfunction openctx() {\n    ctxopen = true;\n    clearall();\n}\n\nfunction closectx() {\n    ctxopen = false;\n    clearall();\n}\n\nfunction clearall() {\n    clearMounted();\n    clearUnMounted();\n    clearstate();\n}\n\nfunction watch(state, callback, statekey) {\n    if (!(isReactiveState(state) && isfunction(callback))) {\n        console.error(state);\n        console.error(callback);\n        throw TypeError(invalid_ReactiveState + invalid_Function);\n    }\n    if (statekey) {\n        state[subscribesymbol](callback, statekey);\n    } else {\n        state[subscribesymbol](callback);\n    }\n    requestAnimationFrame(() => {\n        state[addallistenerssymbol]();\n    });\n}\n\nfunction unwatch(state) {\n    state[removeallistenerssymbol]();\n}\n\nfunction rewatch(state) {\n    state[addallistenerssymbol]();\n}\n\nfunction toArray(a) {\n    return (isarray(a) ? a : [ a ]).flat();\n}\n\nconst eventlistenerssymbol = Symbol(\"eventlisteners\");\n\nfunction onevent(element, eventname, callback) {\n    if (!element[eventlistenerssymbol]) {\n        element[eventlistenerssymbol] = [];\n    }\n    firstaddlisteners(element, eventname, toArray(callback));\n}\n\nfunction firstaddlisteners(ele, event, callarray) {\n    callarray.forEach(call => {\n        if (!isfunction(call)) {\n            console.error(call);\n            throw TypeError(invalid_Function);\n        }\n        ele[eventlistenerssymbol].push([ event, call ]);\n        domaddlisten(ele, event, call);\n    });\n}\n\nfunction removelisteners(ele) {\n    if (ele[eventlistenerssymbol]) {\n        ele[eventlistenerssymbol].forEach(([event, call]) => {\n            domremovelisten(ele, event, call);\n        });\n    }\n}\n\nfunction readdlisteners(ele) {\n    if (ele[eventlistenerssymbol]) {\n        ele[eventlistenerssymbol].forEach(([event, call]) => {\n            domaddlisten(ele, event, call);\n        });\n    }\n}\n\nconst invalid_custom_element_class = \"invalid custom element class !\";\n\nif (!isobject(window.customElements)) {\n    throw new TypeError(\" customElements  not supported !\");\n}\n\nfunction 使用value从表中查询key(表, 组件状态名) {\n    return Object.entries(表).find(v => {\n        return v[1] === 组件状态名;\n    })[0];\n}\n\nwindow.CustomElementRegistry = get(getPrototypeOf(window.customElements), \"constructor\");\n\nconst {customElements: customElements, CustomElementRegistry: CustomElementRegistry} = window;\n\nconst elementset = Symbol.for(\"elementset\");\n\nconst elementmap = Symbol.for(\"elementmap\");\n\nvar RandomDefineCustomElement = (initclass, extendsname) => RandomDefineCustomElement$1(initclass, extendsname);\n\nfunction RandomDefineCustomElement$1(initclass, extendsname, length = 1) {\n    if (!isclassextendsHTMLElement(initclass)) {\n        throw TypeError(invalid_custom_element_class);\n    }\n    if (!customElements[elementset].has(initclass)) {\n        const elementname = getrandomstringandnumber(length);\n        if (customElements.get(elementname)) {\n            return RandomDefineCustomElement$1(initclass, extendsname, length + 1);\n        } else {\n            if (extendsname) {\n                customElements.define(elementname, initclass, {\n                    extends: extendsname\n                });\n            } else {\n                customElements.define(elementname, initclass);\n            }\n        }\n        return elementname;\n    } else {\n        return 使用value从表中查询key(customElements[elementmap], initclass);\n    }\n}\n\nif (!customElements[elementset]) {\n    customElements[elementset] = new Set;\n}\n\nif (!customElements[elementmap]) {\n    customElements[elementmap] = {};\n}\n\ncustomElements.define = function(name, constructor, options) {\n    if (!isclassextendsHTMLElement(constructor)) {\n        console.error(constructor);\n        throw TypeError(invalid_custom_element_class);\n    }\n    if (!customElements[elementset].has(constructor)) {\n        if (has(customElements[elementmap], name)) {\n            RandomDefineCustomElement$1(constructor, options ? options.extends : undefined);\n        } else {\n            CustomElementRegistry.prototype.define.call(customElements, name, constructor, options);\n            customElements[elementset].add(constructor);\n            customElements[elementmap][name] = constructor;\n        }\n    }\n};\n\ncustomElements[Symbol.iterator] = () => {\n    const entries = Object.entries(customElements[elementmap]);\n    return entries[Symbol.iterator].call(entries);\n};\n\nfunction getrandomcharactor() {\n    return get(Array(26).fill(undefined).map((v, i) => 97 + i).map(n => String.fromCharCode(n)), Math.floor(Math.random() * 26));\n}\n\nfunction getrandomhexnumber() {\n    return get(Array(16).fill(undefined).map((v, i) => i), Math.floor(Math.random() * 16)).toString(16);\n}\n\nfunction getrandomstringandnumber(length = 4) {\n    return Array(length).fill(undefined).map(() => getrandomcharactor()).join(\"\") + \"-\" + Array(length).fill(undefined).map(() => getrandomhexnumber()).join(\"\");\n}\n\nfunction isclassextendsHTMLElement(initclass) {\n    return !!(isfunction(initclass) && initclass.prototype && initclass.prototype instanceof HTMLElement);\n}\n\nfunction createcostumelemet(initclass, propsjson, children, options) {\n    if (isclassextendsHTMLElement(initclass)) {\n        RandomDefineCustomElement(initclass);\n        return construct(initclass, [ propsjson, children, options ]);\n    } else {\n        console.error(initclass);\n        throw TypeError(invalid_custom_element_class);\n    }\n}\n\nfunction mount(ele, container, clear = true) {\n    if (clear) {\n        seteletext(container, \"\");\n    }\n    const eles = toArray(ele).flat(Infinity);\n    eles.forEach(e => appendchild(container, e));\n    return container;\n}\n\nconst Reflect$2 = window.Reflect;\n\nconst {get: get$1, set: set$1} = Reflect$2;\n\nconst valuestring = \"value\";\n\nfunction isobject$1(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isstring$1(a) {\n    return typeof a === \"string\";\n}\n\nfunction isArray(a) {\n    return Array.isArray(a);\n}\n\nfunction isSet$1(a) {\n    return a instanceof Set;\n}\n\nfunction objtostylestring(o) {\n    return Object.entries(o).map(([key, value]) => key + \":\" + value).join(\";\");\n}\n\nfunction asserthtmlelement(ele) {\n    if (!(ele instanceof Element)) {\n        throw TypeError(\"invalid HTMLElement!\");\n    } else return true;\n}\n\nfunction createeleattragentreadwrite(ele) {\n    asserthtmlelement(ele);\n    const isinputtextortextareaflag = isinputtextortextarea(ele);\n    var temp = Object.create(null);\n    const outputattrs = new Proxy(temp, {\n        ownKeys() {\n            const keys = attributesownkeys(ele);\n            return isinputtextortextareaflag ? Array.from(new Set([ ...keys, valuestring ])) : keys;\n        },\n        get(target, key) {\n            if (isinputtextortextareaflag && key === valuestring) {\n                return get$1(ele, valuestring);\n            } else {\n                const v = getattribute(ele, String(key));\n                if (v === \"\") {\n                    return true;\n                }\n                if (v === null) {\n                    return;\n                }\n                if (isstring$1(v)) {\n                    try {\n                        return JSON.parse(String(v));\n                    } catch (error) {\n                        return v;\n                    }\n                } else return;\n            }\n        },\n        set(t, key, v) {\n            if (isinputtextortextareaflag && key === valuestring) {\n                return set$1(ele, valuestring, v);\n            } else if (key === \"style\") {\n                setattribute(ele, String(key), isstring$1(v) ? v : isobject$1(v) ? objtostylestring(v) : String(v));\n                return true;\n            } else if (key === \"class\" && isobject$1(v)) {\n                if (isArray(v)) {\n                    setattribute(ele, String(key), v.join(\" \"));\n                } else if (isSet$1(v)) {\n                    setattribute(ele, String(key), [ ...v ].join(\" \"));\n                } else {\n                    setattribute(ele, String(key), JSON.stringify(v));\n                }\n            } else {\n                if (isSet$1(v)) {\n                    setattribute(ele, String(key), JSON.stringify([ ...v ]));\n                } else {\n                    if (v === true) {\n                        v = \"\";\n                    }\n                    setattribute(ele, String(key), isobject$1(v) ? JSON.stringify(v) : String(v));\n                    return true;\n                }\n            }\n            return true;\n        },\n        deleteProperty(t, k) {\n            removeAttribute$1(ele, String(k));\n            return true;\n        },\n        has(target, key) {\n            if (isinputtextortextareaflag && key === valuestring) {\n                return true;\n            } else {\n                return hasAttribute(ele, String(key));\n            }\n        },\n        defineProperty() {\n            return false;\n        },\n        getOwnPropertyDescriptor(target, key) {\n            const otherdescipter = {\n                enumerable: true,\n                configurable: true,\n                writable: true\n            };\n            const myvalue = get$1(outputattrs, key);\n            if (typeof myvalue !== \"undefined\") {\n                return {\n                    value: myvalue,\n                    ...otherdescipter\n                };\n            } else {\n                return;\n            }\n        }\n    });\n    return outputattrs;\n}\n\nfunction attributesownkeys(ele) {\n    return ele.getAttributeNames();\n}\n\nfunction getattribute(ele, key) {\n    return ele.getAttribute(key);\n}\n\nfunction geteletagname(ele) {\n    return ele.tagName.toLowerCase();\n}\n\nfunction setattribute(ele, key, value) {\n    return ele.setAttribute(key, value);\n}\n\nfunction removeAttribute$1(ele, key) {\n    return ele.removeAttribute(key);\n}\n\nfunction hasAttribute(ele, key) {\n    return ele.hasAttribute(key);\n}\n\nfunction isinputtextortextarea(ele) {\n    const tagname = geteletagname(ele);\n    return tagname === \"input\" && get$1(ele, \"type\") === \"text\" || tagname === \"textarea\";\n}\n\nfunction merge_entries(a) {\n    const m = {};\n    a.forEach(([key, value]) => {\n        if (!m[key]) {\n            m[key] = new Set;\n        }\n        value.forEach(v => {\n            m[key].add(v);\n        });\n    });\n    return Object.entries(m).map(([k, v]) => [ k, Array.from(v) ]);\n}\n\nfunction isVirtualdom(a) {\n    return a instanceof Virtualdom;\n}\n\nclass Virtualdom {\n    constructor(type = \"\", props = {}, children = []) {\n        this.type = \"\";\n        this.props = {};\n        this.children = [];\n        this.directives = {};\n        this.onevent = {};\n        this.bindattr = {};\n        const 字母大小写 = /[A-Za-z]/;\n        const propsentries = Object.entries(props);\n        const propsentriesNOTevents = propsentries.filter(([key]) => !(key.startsWith(\"@\") || key.startsWith(\"on\")));\n        const 字母开头的entries = propsentriesNOTevents.filter(([key]) => 字母大小写.test(key[0]));\n        Object.assign(this, {\n            type: type,\n            bindattr: Object.fromEntries(字母开头的entries.filter(e => isReactiveState(e[1]))),\n            props: Object.fromEntries(字母开头的entries.filter(e => !isReactiveState(e[1]))),\n            children: children.flat(),\n            onevent: Object.fromEntries(merge_entries([ ...propsentries.filter(([key]) => /\\@/.test(key[0])).map(([key, value]) => [ key.slice(1).toLowerCase().trim(), [ value ].flat() ]), ...propsentries.filter(([key]) => key.startsWith(\"on\")).map(([key, value]) => [ key.slice(2).toLowerCase().trim(), [ value ].flat() ]) ])),\n            directives: Object.fromEntries(propsentriesNOTevents.filter(([key]) => /\\*/.test(key[0])).map(([key, value]) => [ key.slice(1).toLowerCase().trim(), value ]))\n        });\n        Object.defineProperty(this, Symbol.toStringTag, {\n            value: \"virtualdom\",\n            configurable: true\n        });\n    }\n}\n\nconst bindstatesymbol = Symbol(\"bindstate\");\n\nconst reactivestatesymbol = Symbol(\"reactive\");\n\nconst virtualdomsymbol = Symbol(\"virtualdom\");\n\nfunction throwinvalideletype(type) {\n    console.error(type);\n    throw TypeError(\"invalid element type!\");\n}\n\nfunction render(vdom, namespace) {\n    if (isnumber(vdom)) {\n        return createtextnode(vdom);\n    } else if (typeof vdom === \"string\") {\n        return createtextnode(vdom);\n    } else if (vdom instanceof ReactiveState) {\n        const reactive = vdom;\n        const textnode = createtextnode(String(reactive));\n        textnode[reactivestatesymbol] = reactive;\n        watch(reactive, state => {\n            if (isconnected(element)) {\n                changetext(textnode, String(state));\n            }\n        });\n        const element = textnode;\n        element[bindstatesymbol] = new Set;\n        element[bindstatesymbol].add(reactive);\n        return textnode;\n    } else if (vdom instanceof Virtualdom && \"type\" in vdom) {\n        const {type: type} = vdom;\n        let element;\n        if (typeof type === \"string\") {\n            if (type === \"script\") {\n                return createDocumentFragment();\n            } else if (type === \"svg\") {\n                element = createsvgelement();\n            } else if (type === \"math\") {\n                element = createmathelement();\n            } else if (\"\" === type || type === \"html\") {\n                return render(vdom.children);\n            } else {\n                element = namespace ? createElementNS(namespace, type) : createnativeelement(type);\n            }\n        } else if (typeof type == \"function\") {\n            if (isobject(type[\"defaultProps\"])) {\n                vdom.props = JSON.parse(JSON.stringify({\n                    ...type[\"defaultProps\"],\n                    ...vdom.props\n                }));\n            }\n            const propsjson = JSON.parse(JSON.stringify({\n                ...vdom.props,\n                ...Object.fromEntries(Object.entries(vdom.bindattr).map(([key, value]) => {\n                    return [ key, value.value ];\n                }))\n            }));\n            element = createcostumelemet(type, propsjson, vdom.children);\n        } else {\n            throwinvalideletype(vdom);\n        }\n        handleprops(element, vdom);\n        if (type && (isfunction(type) || isstring(type))) {\n            if (!type[componentsymbol]) {\n                mount(vdom.children.map(e => {\n                    if (type === \"svg\") {\n                        return render(e, svgnamespace);\n                    } else if (type === \"math\") {\n                        return render(e, mathnamespace);\n                    } else if (namespace) {\n                        return render(e, namespace);\n                    } else {\n                        return render(e);\n                    }\n                }), element);\n            }\n        }\n        return element;\n    } else if (isarray(vdom)) {\n        return vdom.map(a => render(a)).flat();\n    } else {\n        throwinvalideletype(vdom);\n    }\n}\n\nfunction handleprops(element, vdom) {\n    ((element, vdom) => {\n        Object.entries(vdom.directives).forEach(([name, value]) => {\n            if (name in directives && typeof directives[name] === \"function\") {\n                directives[name](element, value, vdom);\n            } else {\n                throw new Error(\"invalid directives \" + name);\n            }\n        });\n        const attribute1 = createeleattragentreadwrite(element);\n        Object.assign(attribute1, vdom.props);\n        element[virtualdomsymbol] = vdom;\n        vdom.element = element;\n        Object.entries(vdom.bindattr).forEach(([key, primitivestate]) => {\n            attribute1[key] = primitivestate.value;\n            watch(primitivestate, state => {\n                if (isconnected(element)) {\n                    attribute1[key] = state.value;\n                }\n            });\n        });\n        if (!element[eventlistenerssymbol]) {\n            element[eventlistenerssymbol] = [];\n        }\n        Object.entries(vdom.onevent).forEach(([event, callbacks]) => {\n            onevent(element, event, callbacks);\n        });\n    })(element, vdom);\n    if (!element[bindstatesymbol]) {\n        element[bindstatesymbol] = new Set;\n    }\n    [ ...Object.values(vdom.bindattr), ...Object.values(vdom.directives) ].flat().filter(e => isReactiveState(e)).forEach(e => element[bindstatesymbol].add(e));\n}\n\nconst attributeChangedCallback = \"attributeChangedCallback\";\n\nclass AttrChange extends HTMLElement {\n    setAttribute(qualifiedName, value) {\n        const oldValue = getAttribute(this, qualifiedName);\n        if (oldValue !== value) {\n            setAttribute(this, qualifiedName, value);\n            if (isfunction(this[attributeChangedCallback])) {\n                this[attributeChangedCallback](qualifiedName, oldValue, value);\n            }\n        }\n    }\n    removeAttribute(qualifiedName) {\n        const oldValue = getAttribute(this, qualifiedName);\n        if (null !== oldValue) {\n            removeAttribute(this, qualifiedName);\n            if (isfunction(this[attributeChangedCallback])) {\n                this[attributeChangedCallback](qualifiedName, oldValue, undefined);\n            }\n        }\n    }\n}\n\nfunction readonlyproxy(target) {\n    return new Proxy(target, {\n        set() {\n            return false;\n        },\n        defineProperty() {\n            return false;\n        },\n        deleteProperty() {\n            return false;\n        },\n        setPrototypeOf() {\n            return false;\n        }\n    });\n}\n\nfunction isArray$1(a) {\n    return Array.isArray(a);\n}\n\nconst Reflect$3 = window.Reflect;\n\nconst {ownKeys: ownKeys$1, deleteProperty: deleteProperty$1, apply: apply, construct: construct$1, defineProperty: defineProperty, get: get$2, getOwnPropertyDescriptor: getOwnPropertyDescriptor$1, getPrototypeOf: getPrototypeOf$1, has: has$1, set: set$2, setPrototypeOf: setPrototypeOf} = Reflect$3;\n\nfunction isobject$2(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isfunction$1(a) {\n    return typeof a === \"function\";\n}\n\nfunction deepobserveaddpath(target, callback, patharray = [], ancestor = target) {\n    if (typeof callback !== \"function\") {\n        throw Error(\"observe callback invalid !\");\n    }\n    if (isfunction$1(target) || isobject$2(target)) {\n        let fakeobj;\n        if (isArray$1(target)) {\n            fakeobj = [];\n        } else if (isfunction$1(target)) {\n            fakeobj = () => {};\n        } else {\n            fakeobj = {};\n        }\n        setPrototypeOf(fakeobj, null);\n        return (fakeobj => {\n            return new Proxy(fakeobj, {\n                defineProperty(t, p, a) {\n                    return defineProperty(target, p, a);\n                },\n                deleteProperty(t, p) {\n                    callback(ancestor, [ ...patharray, p ], undefined, get$2(target, p));\n                    return deleteProperty$1(target, p);\n                },\n                ownKeys() {\n                    return ownKeys$1(target);\n                },\n                has(t, p) {\n                    return has$1(target, p);\n                },\n                getPrototypeOf() {\n                    return getPrototypeOf$1(target);\n                },\n                setPrototypeOf(t, v) {\n                    return setPrototypeOf(target, v);\n                },\n                construct(t, argumentslist) {\n                    if (typeof target === \"function\") {\n                        return construct$1(target, argumentslist);\n                    }\n                },\n                apply(t, thisarg, argarray) {\n                    if (typeof target === \"function\") {\n                        return apply(target, thisarg, argarray);\n                    }\n                },\n                getOwnPropertyDescriptor(t, k) {\n                    var descripter = getOwnPropertyDescriptor$1(target, k);\n                    if (isArray$1(target) && k === \"length\") {\n                        return descripter;\n                    } else {\n                        if (descripter) {\n                            descripter.configurable = true;\n                            return descripter;\n                        } else {\n                            return;\n                        }\n                    }\n                },\n                set(t, k, v) {\n                    if (typeof callback === \"function\") {\n                        callback(ancestor, [ ...patharray, k ], v, get$2(target, k));\n                    }\n                    return set$2(target, k, v);\n                },\n                get(t, k) {\n                    var value = get$2(target, k);\n                    if (isfunction$1(value) || isobject$2(value)) {\n                        return deepobserveaddpath(value, callback, [ ...patharray, k ], target);\n                    } else {\n                        return value;\n                    }\n                }\n            });\n        })(fakeobj);\n    } else {\n        return target;\n    }\n}\n\nfunction observedeepagent(target, callback) {\n    if (typeof callback !== \"function\") {\n        throw Error(\"observe callback  invalid function \");\n    }\n    if (typeof Proxy !== \"function\") {\n        throw Error(\"Proxy unsupported!\");\n    }\n    if (isfunction$1(target) || isobject$2(target)) {\n        return deepobserveaddpath(target, callback, [], target);\n    } else {\n        return target;\n    }\n}\n\nvar createstate = init => {\n    const state = createstate$1(init);\n    usestste(state);\n    return state;\n};\n\nfunction createstate$1(init) {\n    if (isprimitive(init)) {\n        return new Proxy(new ReactiveState(init), {\n            defineProperty() {\n                return false;\n            },\n            deleteProperty() {\n                return false;\n            },\n            set(target, key, value) {\n                if (key === \"value\" && isprimitive(value)) {\n                    set(target, key, value);\n                    target[dispatchsymbol]();\n                    return true;\n                } else {\n                    return false;\n                }\n            },\n            setPrototypeOf() {\n                return false;\n            }\n        });\n    } else if (isReactiveState(init)) {\n        return createstate$1(init.value);\n    } else if (isobject(init)) {\n        return new Proxy(new ReactiveState(init), {\n            defineProperty() {\n                return false;\n            },\n            getOwnPropertyDescriptor(target, key) {\n                const myvalue = get(target, \"value\");\n                const descripter = getOwnPropertyDescriptor(target, key) || getOwnPropertyDescriptor(myvalue, key);\n                if (descripter) {\n                    descripter.configurable = true;\n                }\n                return descripter;\n            },\n            deleteProperty(target, key) {\n                const myvalue = get(target, \"value\");\n                if (has(myvalue, key)) {\n                    deleteProperty(myvalue, key);\n                    target[dispatchsymbol](key);\n                    return true;\n                } else {\n                    return true;\n                }\n            },\n            has(target, key) {\n                const myvalue = get(target, \"value\");\n                return has(target, key) || has(myvalue, key);\n            },\n            get(target, key) {\n                const value = get(target, \"value\");\n                if (key === \"value\" && (gettagtype(value) === \"array\" || gettagtype(value) === \"object\")) {\n                    return observedeepagent(get(target, key), (_target, patharray) => {\n                        target[dispatchsymbol](patharray[0]);\n                    });\n                } else if (has(target, key)) {\n                    return get(target, key);\n                } else if (has(value, key)) {\n                    if (isSet(value) && (key === \"add\" || key === \"delete\")) {\n                        const myvalue = value;\n                        if (key === \"add\") {\n                            return add => {\n                                if (!Set.prototype.has.call(myvalue, add)) {\n                                    const returnvalue = Set.prototype[key].call(myvalue, add);\n                                    target[dispatchsymbol]();\n                                    return returnvalue;\n                                }\n                            };\n                        } else if (key === \"delete\") {\n                            return dele => {\n                                if (Set.prototype.has.call(myvalue, dele)) {\n                                    const returnvalue = Set.prototype[key].call(myvalue, dele);\n                                    target[dispatchsymbol]();\n                                    return returnvalue;\n                                }\n                            };\n                        }\n                    } else {\n                        return observedeepagent(get(value, key), () => {\n                            target[dispatchsymbol](key);\n                        });\n                    }\n                }\n            },\n            ownKeys(target) {\n                return Array.from(new Set([ ...ownKeys(target), ...ownKeys(get(target, \"value\")) ]));\n            },\n            set(target, key, value) {\n                const myvalue = get(target, \"value\");\n                if (key === \"value\" && isobject(value)) {\n                    set(target, key, value);\n                    target[dispatchsymbol]();\n                    return true;\n                } else if (!has(target, key)) {\n                    set(myvalue, key, value);\n                    target[dispatchsymbol](key);\n                } else if (key === \"length\") {\n                    set(myvalue, key, value);\n                    target[dispatchsymbol](key);\n                } else {\n                    return false;\n                }\n                return true;\n            },\n            setPrototypeOf() {\n                return false;\n            }\n        });\n    } else {\n        console.error(init);\n        throw TypeError(invalid_primitive_or_object_state);\n    }\n}\n\nvar n = function(t, r, u, e) {\n    for (var p = 1; p < r.length; p++) {\n        var s = r[p], h = \"number\" == typeof s ? u[s] : s, a = r[++p];\n        1 === a ? e[0] = h : 3 === a ? e[1] = Object.assign(e[1] || {}, h) : 5 === a ? (e[1] = e[1] || {})[r[++p]] = h : 6 === a ? e[1][r[++p]] += h + \"\" : e.push(a ? t.apply(null, n(t, h, u, [ \"\", null ])) : h);\n    }\n    return e;\n}, t = function(n) {\n    for (var t, r, u = 1, e = \"\", p = \"\", s = [ 0 ], h = function(n) {\n        1 === u && (n || (e = e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g, \"\"))) ? s.push(n || e, 0) : 3 === u && (n || e) ? (s.push(n || e, 1), \n        u = 2) : 2 === u && \"...\" === e && n ? s.push(n, 3) : 2 === u && e && !n ? s.push(!0, 5, e) : u >= 5 && ((e || !n && 5 === u) && (s.push(e, u, r), \n        u = 6), n && (s.push(n, u, r), u = 6)), e = \"\";\n    }, a = 0; a < n.length; a++) {\n        a && (1 === u && h(), h(a));\n        for (var f = 0; f < n[a].length; f++) t = n[a][f], 1 === u ? \"<\" === t ? (h(), s = [ s ], \n        u = 3) : e += t : 4 === u ? \"--\" === e && \">\" === t ? (u = 1, e = \"\") : e = t + e[0] : p ? t === p ? p = \"\" : e += t : '\"' === t || \"'\" === t ? p = t : \">\" === t ? (h(), \n        u = 1) : u && (\"=\" === t ? (u = 5, r = e, e = \"\") : \"/\" === t && (u < 5 || \">\" === n[a][f + 1]) ? (h(), \n        3 === u && (s = s[0]), u = s, (s = s[0]).push(u, 2), u = 0) : \" \" === t || \"\\t\" === t || \"\\n\" === t || \"\\r\" === t ? (h(), \n        u = 2) : e += t), 3 === u && \"!--\" === e && (u = 4, s = s[0]);\n    }\n    return h(), s;\n}, r = \"function\" == typeof Map, u = r ? new Map : {}, e = r ? function(n) {\n    var r = u.get(n);\n    return r || u.set(n, r = t(n)), r;\n} : function(n) {\n    for (var r = \"\", e = 0; e < n.length; e++) r += n[e].length + \"-\" + n[e];\n    return u[r] || (u[r] = t(n));\n};\n\nfunction htm(t) {\n    var r = n(this, e(t), arguments, []);\n    return r.length > 1 ? r : r[0];\n}\n\nfunction createElement(type = \"\", props = {}, ...children) {\n    let typenormalized = isstring(type) || isfunction(type) ? type : \"\";\n    const propsnormalized = isobject(props) ? props : {};\n    const childrennormalized = children.flat(Infinity);\n    if (isstring(typenormalized)) {\n        typenormalized = typenormalized.trim().toLowerCase();\n    }\n    if (\"\" === typenormalized) {\n        return childrennormalized;\n    }\n    return new Virtualdom(typenormalized, propsnormalized, childrennormalized);\n}\n\nconst invalid_Virtualdom = \"invalid Virtualdom \";\n\nfunction createApp(vdom, container) {\n    if (isarray(vdom)) {\n        vdom = vdom.flat(Infinity);\n    }\n    const el = container;\n    if (!(el instanceof HTMLElement)) {\n        console.error(el);\n        throw TypeError(\"invalid container HTMLElement!\");\n    }\n    if (el === document$1.body || el === document$1.documentElement || el === document$1.head) {\n        throw Error(\"Do not mount  to <html> or <body> <head>.\");\n    }\n    const elesarray = toArray(vdom);\n    if (isvalidvdom(vdom)) {\n        mount(render(elesarray), container);\n    } else if (vdom instanceof Node || isNodeArray(vdom)) {\n        mount(elesarray, container);\n    } else {\n        console.error(vdom);\n        throw TypeError(invalid_Virtualdom);\n    }\n    return container;\n}\n\nfunction isNodeArray(array) {\n    return isarray(array) && !array.map(e => e instanceof Node).includes(false);\n}\n\nfunction html(...inargs) {\n    return htm.call(createElement, ...inargs);\n}\n\nfunction isvalidvdom(v) {\n    if (isnumber(v)) {\n        return true;\n    }\n    let flag = false;\n    if (isarray(v)) {\n        flag = v.map(ele => {\n            return isvalidvdom(ele);\n        }).includes(false) ? false : true;\n        return flag;\n    } else if (isVirtualdom(v)) {\n        if (isvalidvdom(v.children)) {\n            return true;\n        }\n    } else if (isReactiveState(v)) {\n        return true;\n    } else {\n        if (isstring(v)) {\n            return true;\n        }\n    }\n    return flag;\n}\n\nfunction assertvalidvirtualdom(...args) {\n    const vdom = html(...args);\n    if (isvalidvdom(vdom)) {\n        return vdom;\n    } else {\n        console.error(vdom);\n        throw new TypeError(invalid_Virtualdom);\n    }\n}\n\nfunction createcssBlob(source) {\n    return URL.createObjectURL(new Blob([ source ], {\n        type: \"text/css\"\n    }));\n}\n\nfunction isCSSMediaRule(a) {\n    return gettagtype(a) === \"cssmediarule\";\n}\n\nfunction isCSSImportRule(a) {\n    return gettagtype(a) === \"cssimportrule\";\n}\n\nfunction parsecsstext(text) {\n    const styleelement = render(createElement(\"style\", undefined, text));\n    const otherdocument = createanotherhtmldocument();\n    appendchild(otherdocument.firstElementChild, styleelement);\n    return Array.from(styleelement.sheet.cssRules);\n}\n\nfunction isCSSStyleRule(a) {\n    return gettagtype(a) === \"cssstylerule\";\n}\n\nfunction selectoraddprefix(cssstylerule, prefix) {\n    const selectorText = cssstylerule.selectorText;\n    if (selectorText.startsWith(\"*\")) {\n        cssstylerule.selectorText = selectorText.replace(\"*\", prefix);\n    } else {\n        cssstylerule.selectorText = prefix + \" \" + selectorText;\n    }\n    return cssstylerule;\n}\n\nfunction prefixcssrules(cssRulesarray, prefix) {\n    return cssRulesarray.map(cssrule => {\n        if (isCSSStyleRule(cssrule)) {\n            return selectoraddprefix(cssrule, prefix);\n        } else if (isCSSMediaRule(cssrule)) {\n            prefixcssrules(Array.from(cssrule.cssRules), prefix);\n            return cssrule;\n        } else if (isCSSImportRule(cssrule)) {\n            savestyleblob(prefix, undefined, cssrule.href);\n            return;\n        } else {\n            return cssrule;\n        }\n    });\n}\n\nconst componentsstylesheet = {};\n\nfunction savestyleblob(tagname, csstext, urltext) {\n    tagname = tagname.toLowerCase();\n    if (!componentsstylesheet[tagname]) {\n        componentsstylesheet[tagname] = new Set;\n    }\n    if (csstext) {\n        componentsstylesheet[tagname].add(createcssBlob(csstext));\n    } else if (urltext) {\n        componentsstylesheet[tagname].add(urltext);\n    }\n}\n\nfunction cssrulestocsstext(cssrules) {\n    return cssrules.map(c => c.cssText).join(\"\\n\");\n}\n\nfunction createlinkstylesheet(url) {\n    return render(createElement(\"link\", {\n        href: url,\n        rel: \"stylesheet\"\n    }));\n}\n\nfunction transformcsstext(text, prefix) {\n    const css = text;\n    const cssomold = parsecsstext(css);\n    const cssomnew = prefixcssrules(cssomold, prefix).filter(Boolean);\n    const cssnewtext = cssrulestocsstext(cssomnew);\n    return cssnewtext;\n}\n\nfunction registercssprefix(text, prefix) {\n    const css = text;\n    const cssnewtext = transformcsstext(css, prefix);\n    savestyleblob(prefix, cssnewtext);\n}\n\nfunction loadlinkstyle(stylelinkelement, container) {\n    return new Promise(rs => {\n        const loaderrorfun = () => {\n            stylelinkelement.onload = stylelinkelement.onerror = undefined;\n            rs();\n        };\n        stylelinkelement.onload = loaderrorfun;\n        stylelinkelement.onerror = loaderrorfun;\n        appendchild(container, stylelinkelement);\n    });\n}\n\nconst innerstatesymbol = Symbol(\"innerstate\");\n\nconst attributessymbol = Symbol(\"attributes\");\n\nconst elementsymbol = Symbol(\"innerelement\");\n\nconst vdomsymbol = Symbol(\"innervdom\");\n\nconst mountedsymbol = Symbol(\"mounted\");\n\nconst unmountedsymbol = Symbol(\"unmounted\");\n\nfunction createComponent(custfun) {\n    var _a, _b, _c, _d;\n    if (isfunction(custfun)) {\n        const defaultProps = custfun[\"defaultProps\"];\n        const css = custfun[\"css\"];\n        return _d = class Component extends AttrChange {\n            constructor(propsjson = {}, children = []) {\n                super();\n                this[_b] = false;\n                this[_c] = {};\n                const css = this.constructor[\"css\"];\n                if (css) {\n                    const prefix = this.tagName.toLowerCase();\n                    if (!componentsstylesheet[prefix]) {\n                        registercssprefix(css, prefix);\n                    }\n                }\n                const defaultProps = this.constructor[\"defaultProps\"];\n                const attrs = createeleattragentreadwrite(this);\n                if (isobject(defaultProps)) {\n                    Object.assign(attrs, defaultProps);\n                }\n                if (isobject(propsjson)) {\n                    Object.assign(attrs, propsjson);\n                }\n                openctx();\n                const props = attrs;\n                const thisattributess = Object.fromEntries(Object.entries(props).map(([key, value]) => [ key, createstate(value) ]));\n                this[attributessymbol] = readonlyproxy(thisattributess);\n                const readonlyprop = readonlyproxy(Object.fromEntries(Object.entries(thisattributess).map(([key, value]) => [ key, readonlyproxy(value) ])));\n                let possiblyvirtualdom;\n                try {\n                    possiblyvirtualdom = custfun.call(undefined, readonlyprop, children);\n                } catch (error) {\n                    closectx();\n                    throw error;\n                }\n                if (isarray(possiblyvirtualdom)) {\n                    possiblyvirtualdom = possiblyvirtualdom.flat(Infinity).filter(Boolean);\n                }\n                if (isvalidvdom(possiblyvirtualdom)) {\n                    const thisvdomsymbol = toArray(possiblyvirtualdom);\n                    this[vdomsymbol] = thisvdomsymbol.flat(Infinity).filter(Boolean);\n                    this[mountedsymbol] = getMounted();\n                    this[unmountedsymbol] = getUnMounted();\n                    this[innerstatesymbol] = getstates();\n                    closectx();\n                } else {\n                    closectx();\n                    console.error(possiblyvirtualdom);\n                    throw Error(invalid_Virtualdom);\n                }\n            }\n            connectedCallback() {\n                if (!this[elementsymbol]) {\n                    this[elementsymbol] = render(this[vdomsymbol]).flat(Infinity);\n                }\n                if (!this[readysymbol]) {\n                    this[readysymbol] = true;\n                    const css = this.constructor[\"css\"];\n                    const prefix = this.tagName.toLowerCase();\n                    if (css && componentsstylesheet[prefix]) {\n                        seteletext(this, \"\");\n                        Promise.all([ ...componentsstylesheet[prefix] ].map(styleurl => loadlinkstyle(createlinkstylesheet(styleurl), this))).then(() => {\n                            mount(this[elementsymbol], this, false);\n                        });\n                    } else {\n                        mount(this[elementsymbol], this);\n                    }\n                }\n                this[mountedsymbol].forEach(f => f());\n                onmounted(this);\n            }\n            disconnectedCallback() {\n                this[unmountedsymbol].forEach(f => f());\n                onunmounted(this);\n            }\n            attributeChangedCallback(name) {\n                if (this[attributessymbol][name]) {\n                    this[attributessymbol][name].value = createeleattragentreadwrite(this)[name];\n                }\n            }\n        }, _a = componentsymbol, _b = readysymbol, _c = attributessymbol, _d[_a] = true, \n        _d.css = isstring(css) && css ? css : undefined, _d.defaultProps = isobject(defaultProps) ? JSON.parse(JSON.stringify(defaultProps)) : undefined, \n        _d;\n    } else {\n        console.error(custfun);\n        throw TypeError(invalid_Function);\n    }\n}\n\nfunction onmounted(ele) {\n    if (isarray(ele)) {\n        ele.forEach(e => {\n            onmounted(e);\n        });\n    } else if (ele instanceof Node) {\n        if (ele[eventlistenerssymbol]) {\n            readdlisteners(ele);\n        }\n        if (ele[bindstatesymbol]) {\n            ele[bindstatesymbol].forEach(state => {\n                rewatch(state);\n            });\n        }\n        onmounted(getdomchildren(ele));\n    }\n}\n\nfunction onunmounted(ele) {\n    if (isarray(ele)) {\n        ele.forEach(e => {\n            onunmounted(e);\n        });\n    } else if (ele instanceof Node) {\n        if (ele[eventlistenerssymbol]) {\n            removelisteners(ele);\n        }\n        if (ele[innerstatesymbol]) {\n            ele[innerstatesymbol].forEach(state => {\n                unwatch(state);\n            });\n        }\n        onunmounted(getdomchildren(ele));\n    }\n}\n\nconst invalid_ReactiveState = \"invalid ReactiveState\";\n\nconst truevdomsymbol = Symbol(\"truevdom\");\n\nconst falsevdomsymbol = Symbol(\"falsevdom\");\n\nconst trueelesymbol = Symbol(\"trueele\");\n\nconst falseelesymbol = Symbol(\"falseele\");\n\nconst handletrue = getsymbol(\"handletrue\");\n\nconst handlefalse = getsymbol(\"handlefalse\");\n\nfunction conditon(conditon, iftrue, iffalse) {\n    var _a, _b;\n    if (!(isReactiveState(conditon) || isboolean(conditon))) {\n        throw TypeError(invalid_ReactiveState);\n    }\n    [ iftrue, iffalse ].forEach(a => {\n        if (!(isundefined(a) || isvalidvdom(a))) {\n            throw new TypeError(invalid_Virtualdom);\n        }\n    });\n    const options = {\n        true: iftrue,\n        false: iffalse\n    };\n    class Condition extends AttrChange {\n        constructor() {\n            super();\n            this[_b] = false;\n            const optionstrue = get(options, \"true\");\n            const optionsfalse = get(options, \"false\");\n            this[truevdomsymbol] = isarray(optionstrue) ? optionstrue.filter(Boolean) : [ optionstrue ].filter(Boolean);\n            this[falsevdomsymbol] = isarray(optionsfalse) ? optionsfalse.filter(Boolean) : [ optionsfalse ].filter(Boolean);\n        }\n        [(_a = componentsymbol, _b = readysymbol, handlefalse)]() {\n            setelehtml(this, \"\");\n            if (this[falsevdomsymbol]) {\n                if (!this[falseelesymbol]) {\n                    this[falseelesymbol] = render(this[falsevdomsymbol]);\n                }\n                const elementtomount = this[falseelesymbol];\n                createApp(elementtomount, this);\n                elementtomount.forEach(e => onmounted(e));\n                if (this[trueelesymbol]) {\n                    this[trueelesymbol].forEach(e => onunmounted(e));\n                }\n            }\n        }\n        [handletrue]() {\n            setelehtml(this, \"\");\n            if (this[truevdomsymbol]) {\n                if (!this[trueelesymbol]) {\n                    this[trueelesymbol] = render(this[truevdomsymbol]);\n                }\n                const elementtomount = this[trueelesymbol];\n                createApp(elementtomount, this);\n                elementtomount.forEach(e => onmounted(e));\n                if (this[falseelesymbol]) {\n                    this[falseelesymbol].forEach(e => onunmounted(e));\n                }\n            }\n        }\n        connectedCallback() {\n            if (!this[readysymbol]) {\n                this[readysymbol] = true;\n                const attrs = createeleattragentreadwrite(this);\n                if (true === attrs[\"value\"]) {\n                    this[handletrue]();\n                }\n                if (false === attrs[\"value\"]) {\n                    this[handlefalse]();\n                }\n            }\n            onmounted(this);\n        }\n        disconnectedCallback() {\n            onunmounted(this);\n        }\n        attributeChangedCallback(name) {\n            if (this[readysymbol]) {\n                if (name === \"value\") {\n                    const attrs = createeleattragentreadwrite(this);\n                    if (true === attrs[\"value\"]) {\n                        this[handletrue]();\n                    }\n                    if (false === attrs[\"value\"]) {\n                        this[handlefalse]();\n                    }\n                }\n            }\n        }\n    }\n    Condition[_a] = true;\n    const vdom = new Virtualdom(Condition, {\n        value: conditon\n    });\n    return vdom;\n}\n\nfunction computed(state, callback) {\n    if (!(isReactiveState(state) && isfunction(callback))) {\n        console.error(state);\n        console.error(callback);\n        throw TypeError(invalid_ReactiveState + invalid_Function);\n    }\n}\n\nfunction createRef(init) {\n    return {\n        value: init\n    };\n}\n\nfunction extenddirectives(options) {\n    Object.entries(options).forEach(([key, value]) => {\n        if (typeof value !== \"function\") {\n            throw TypeError(invalid_Function);\n        } else {\n            directives[key] = value;\n        }\n    });\n}\n\nextenddirectives({\n    value(element, value, vdom) {\n        if (isReactiveState(value) && (vdom.type === \"input\" || vdom.type === \"textarea\")) {\n            vdom.bindattr[\"value\"] = value;\n            [ \"change\", \"input\" ].forEach(eventname => {\n                const origin = vdom.onevent[eventname];\n                const eventsarray = [ origin ].flat(Infinity);\n                Reflect.set(vdom.onevent, eventname, eventsarray.concat([ e => {\n                    return value.value = e.target.value;\n                } ]).filter(Boolean));\n            });\n        } else {\n            console.error(value);\n            console.error(vdom);\n            throw TypeError(invalid_ReactiveState + invalid_Virtualdom);\n        }\n    }\n});\n\nconst Fragment = \"\";\n\nexport { Fragment, computed, conditon as condition, createApp, createComponent, createElement, createRef, createstate as createState, extenddirectives as directives, createElement as h, assertvalidvirtualdom as html, useMounted, useUnMounted, watch };\n//# sourceMappingURL=index.js.map\n"],"names":["Reflect$1","window","Reflect","construct","deleteProperty","get","getOwnPropertyDescriptor","getPrototypeOf","has","ownKeys","set","isundefined","a","isnumber","isboolean","isobject","isstring","isfunction","isarray","Array","isArray","gettagtype","getsymbol","Symbol","toString","call","replace","toLowerCase","trim","isSet","Set","HTMLElement","Proxy","customElements","CustomElementRegistry","TypeError","isprimitive","_a","_b","invalid_primitive_or_object_state","isReactiveState","ReactiveState","eventtargetsymbol","memlisteners","dispatchsymbol","subscribesymbol","removeallistenerssymbol","addallistenerssymbol","[object Object]","init","this","EventTarget","Object","defineProperty","value","configurable","writable","toStringTag","forEach","callback","addEventListener","String","JSON","stringify","eventname","name","dispatchEvent","CustomEvent","detail","push","event","removeEventListener","toPrimitive","componentsymbol","readysymbol","document$1","document","seteletext","e","v","textContent","setelehtml","innerHTML","appendchild","container","ele","appendChild","createElementNS","namespace","createtextnode","data","createTextNode","svgnamespace","mathnamespace","domaddlisten","getdomchildren","from","childNodes","getAttribute","HTMLElementprototype","prototype","getparentNode","parentNode","isconnected","element","documentElement","node","getancestornode","requestAnimationFrame","directives","ref","html","createhtmlandtextdirective","text","errorname","watch","state","invalid_Function","message","ctxopen","MountedSet","UnMountedSet","StateSet","useMounted","fun","Error","add","useUnMounted","closectx","clearall","statekey","invalid_ReactiveState","toArray","flat","eventlistenerssymbol","onevent","invalid_custom_element_class","elementset","for","elementmap","RandomDefineCustomElement","initclass","extendsname","RandomDefineCustomElement$1","length","isclassextendsHTMLElement","表","组件状态名","entries","find","elementname","fill","undefined","map","i","n","fromCharCode","Math","floor","random","join","getrandomstringandnumber","define","extends","mount","clear","Infinity","constructor","options","iterator","Reflect$2","get$1","set$1","valuestring","isobject$1","isstring$1","isSet$1","createeleattragentreadwrite","Element","asserthtmlelement","isinputtextortextareaflag","tagname","tagName","geteletagname","isinputtextortextarea","temp","create","outputattrs","keys","getAttributeNames","attributesownkeys","target","key","getattribute","parse","error","t","setattribute","o","k","removeAttribute","removeAttribute$1","hasAttribute","otherdescipter","enumerable","myvalue","setAttribute","merge_entries","m","Virtualdom","type","props","children","bindattr","字母大小写","propsentries","propsentriesNOTevents","filter","startsWith","字母开头的entries","test","assign","fromEntries","slice","bindstatesymbol","reactivestatesymbol","virtualdomsymbol","throwinvalideletype","render","vdom","reactive","textnode","nodeValue","changetext","createDocumentFragment","createElement","createnativeelement","propsjson","createcostumelemet","attribute1","primitivestate","callbacks","values","handleprops","attributeChangedCallback","AttrChange","qualifiedName","oldValue","readonlyproxy","setPrototypeOf","isArray$1","Reflect$3","ownKeys$1","deleteProperty$1","apply","construct$1","get$2","getOwnPropertyDescriptor$1","getPrototypeOf$1","has$1","set$2","isobject$2","isfunction$1","observedeepagent","deepobserveaddpath","patharray","ancestor","fakeobj","p","argumentslist","thisarg","argarray","descripter","createstate","createstate$1","_target","returnvalue","dele","usestste","r","u","s","h","f","Map","htm","arguments","typenormalized","propsnormalized","childrennormalized","invalid_Virtualdom","createApp","el","body","head","elesarray","isvalidvdom","Node","array","includes","inargs","flag","assertvalidvirtualdom","args","parsecsstext","styleelement","implementation","createHTMLDocument","firstElementChild","sheet","cssRules","prefixcssrules","cssRulesarray","prefix","cssrule","isCSSStyleRule","cssstylerule","selectorText","selectoraddprefix","isCSSMediaRule","isCSSImportRule","savestyleblob","href","componentsstylesheet","csstext","urltext","source","URL","createObjectURL","Blob","registercssprefix","Boolean","c","cssText","transformcsstext","innerstatesymbol","attributessymbol","elementsymbol","vdomsymbol","mountedsymbol","unmountedsymbol","createComponent","custfun","_c","_d","defaultProps","css","super","attrs","thisattributess","readonlyprop","possiblyvirtualdom","thisvdomsymbol","Promise","all","styleurl","stylelinkelement","rs","loaderrorfun","onload","onerror","loadlinkstyle","url","rel","createlinkstylesheet","then","onmounted","onunmounted","readdlisteners","rewatch","domremovelisten","removelisteners","unwatch","truevdomsymbol","falsevdomsymbol","trueelesymbol","falseelesymbol","handletrue","handlefalse","conditon","iftrue","iffalse","true","false","Condition","optionstrue","optionsfalse","elementtomount","computed","createRef","extenddirectives","eventsarray","concat","Fragment"],"mappings":"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"}