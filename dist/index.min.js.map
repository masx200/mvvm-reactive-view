{"version":3,"file":"index.min.js","sources":["index.js"],"sourcesContent":["const Reflect$1 = window.Reflect;\n\nconst {apply: apply, construct: construct, defineProperty: defineProperty, deleteProperty: deleteProperty, get: get, getOwnPropertyDescriptor: getOwnPropertyDescriptor, getPrototypeOf: getPrototypeOf, has: has, isExtensible: isExtensible, ownKeys: ownKeys, preventExtensions: preventExtensions, set: set, setPrototypeOf: setPrototypeOf} = Reflect$1;\n\nfunction isundefined(a) {\n    return typeof a === \"undefined\";\n}\n\nfunction isnumber(a) {\n    return typeof a === \"number\";\n}\n\nfunction isboolean(a) {\n    return typeof a === \"boolean\";\n}\n\nfunction isobject(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isstring(a) {\n    return typeof a === \"string\";\n}\n\nfunction isfunction(a) {\n    return typeof a === \"function\";\n}\n\nfunction isarray(a) {\n    return a instanceof Array && Array.isArray(a) && gettagtype(a) === \"array\";\n}\n\nfunction getsymbol(a) {\n    return Symbol(a);\n}\n\nfunction gettagtype(a) {\n    return {}.toString.call(a).replace(\"[object \", \"\").replace(\"]\", \"\").toLowerCase();\n}\n\nfunction isSet(a) {\n    return gettagtype(a) === \"set\" && a instanceof Set;\n}\n\nfunction isclassextendsHTMLElement(initclass) {\n    return !!(isfunction(initclass) && initclass.prototype && initclass.prototype instanceof HTMLElement);\n}\n\nfunction createcostumelemet(initclass, propsjson, children, options) {\n    if (isclassextendsHTMLElement(initclass)) {\n        RandomDefineCustomElement(initclass);\n        return construct(initclass, [ propsjson, children, options ]);\n    } else {\n        console.error(initclass);\n        throw TypeError(\"invalid custom element class !\");\n    }\n}\n\nif (!isobject(window.customElements)) {\n    throw new TypeError(\" customElements  not supported !\");\n}\n\nfunction 使用value从表中查询key(表, 组件状态名) {\n    return Object.entries(表).find(v => {\n        return v[1] === 组件状态名;\n    })[0];\n}\n\nwindow.CustomElementRegistry = get(getPrototypeOf(window.customElements), \"constructor\");\n\nconst {customElements: customElements, CustomElementRegistry: CustomElementRegistry} = window;\n\nconst elementset = Symbol.for(\"elementset\");\n\nconst elementmap = Symbol.for(\"elementmap\");\n\nvar RandomDefineCustomElement = (initclass, extendsname) => RandomDefineCustomElement$1(initclass, extendsname);\n\nfunction RandomDefineCustomElement$1(initclass, extendsname, length = 1) {\n    if (!isclassextendsHTMLElement(initclass)) {\n        throw TypeError(\"invalid custom element class !\");\n    }\n    if (!customElements[elementset].has(initclass)) {\n        const elementname = getrandomstringandnumber(length);\n        if (customElements.get(elementname)) {\n            return RandomDefineCustomElement$1(initclass, extendsname, length + 1);\n        } else {\n            if (extendsname) {\n                customElements.define(elementname, initclass, {\n                    extends: extendsname\n                });\n            } else {\n                customElements.define(elementname, initclass);\n            }\n        }\n        return elementname;\n    } else {\n        return 使用value从表中查询key(customElements[elementmap], initclass);\n    }\n}\n\nif (!customElements[elementset]) {\n    customElements[elementset] = new Set;\n}\n\nif (!customElements[elementmap]) {\n    customElements[elementmap] = {};\n}\n\ncustomElements.define = function(name, constructor, options) {\n    if (!isclassextendsHTMLElement(constructor)) {\n        console.error(constructor);\n        throw TypeError(\"invalid custom element class !\");\n    }\n    if (!customElements[elementset].has(constructor)) {\n        if (has(customElements[elementmap], name)) {\n            RandomDefineCustomElement$1(constructor, options ? options.extends : undefined);\n        } else {\n            CustomElementRegistry.prototype.define.call(customElements, name, constructor, options);\n            customElements[elementset].add(constructor);\n            customElements[elementmap][name] = constructor;\n        }\n    }\n};\n\ncustomElements[Symbol.iterator] = () => {\n    const entries = Object.entries(customElements[elementmap]);\n    return entries[Symbol.iterator].call(entries);\n};\n\nfunction getrandomcharactor() {\n    return get(Array(26).fill(undefined).map((v, i) => 97 + i).map(n => String.fromCharCode(n)), Math.floor(Math.random() * 26));\n}\n\nfunction getrandomhexnumber() {\n    return get(Array(16).fill(undefined).map((v, i) => i), Math.floor(Math.random() * 16)).toString(16);\n}\n\nfunction getrandomstringandnumber(length = 4) {\n    return Array(length).fill(undefined).map(() => getrandomcharactor()).join(\"\") + \"-\" + Array(length).fill(undefined).map(() => getrandomhexnumber()).join(\"\");\n}\n\nfunction isprimitive(a) {\n    return isstring(a) || isnumber(a) || isboolean(a) || isundefined(a);\n}\n\nvar _a, _b, _c;\n\nfunction isReactiveState(a) {\n    return a instanceof ReactiveState;\n}\n\nconst textnodesymbol = Symbol(\"textnode\");\n\nconst eventtargetsymbol = Symbol(\"eventtatget\");\n\nconst memlisteners = Symbol(\"memlisteners\");\n\nconst dispatchsymbol = getsymbol(\"dispatch\");\n\nconst subscribesymbol = getsymbol(\"subscribe\");\n\nconst removeallistenerssymbol = getsymbol(\"removeallisteners\");\n\nconst addallistenerssymbol = getsymbol(\"addallisteners\");\n\nclass ReactiveState {\n    constructor(init) {\n        this[_a] = undefined;\n        this[_b] = new EventTarget;\n        this[_c] = [];\n        if (isprimitive(init) || isobject(init)) {\n            Object.defineProperty(this, \"value\", {\n                value: init,\n                configurable: true,\n                writable: true\n            });\n        } else {\n            throw TypeError(\"invalid State\");\n        }\n        Object.defineProperty(this, Symbol.toStringTag, {\n            value: \"ReactiveState\",\n            configurable: true\n        });\n    }\n    [addallistenerssymbol]() {\n        this[memlisteners].forEach(([value, callback]) => {\n            this[eventtargetsymbol].addEventListener(value, callback);\n        });\n    }\n    valueOf() {\n        return this.value;\n    }\n    toString() {\n        const value = this.value;\n        return isprimitive(value) ? String(value) : isSet(value) ? JSON.stringify([ ...value ]) : isobject(value) ? JSON.stringify(value) : \"\";\n    }\n    [(_a = textnodesymbol, _b = eventtargetsymbol, _c = memlisteners, dispatchsymbol)](eventname) {\n        const name = eventname ? String(eventname) : \"value\";\n        if (name !== \"value\") {\n            this[eventtargetsymbol].dispatchEvent(new CustomEvent(name, {\n                detail: name\n            }));\n        }\n        this[eventtargetsymbol].dispatchEvent(new CustomEvent(\"value\", {\n            detail: name\n        }));\n    }\n    [subscribesymbol](callback, eventname) {\n        const name = eventname ? String(eventname) : \"value\";\n        this[memlisteners].push([ name, event => callback(this, event.detail) ]);\n    }\n    [removeallistenerssymbol]() {\n        this[memlisteners].forEach(([value, callback]) => {\n            this[eventtargetsymbol].removeEventListener(value, callback);\n        });\n    }\n    [Symbol.toPrimitive]() {\n        const value = this.value;\n        return isprimitive(value) ? value : isobject(value) ? JSON.stringify(value) : void 0;\n    }\n}\n\nconst document = window.document;\n\nfunction seteletext(e, v) {\n    e.textContent = v;\n}\n\nfunction setelehtml(e, v) {\n    e.innerHTML = v;\n}\n\nfunction appendchild(container, ele) {\n    container.appendChild(ele);\n}\n\nfunction createsvgelement() {\n    return createElementNS(svgnamespace, \"svg\");\n}\n\nfunction createnonescript() {\n    return document.createDocumentFragment();\n}\n\nfunction createnativeelement(type) {\n    return document.createElement(type);\n}\n\nfunction createElementNS(namespace, name) {\n    return document.createElementNS(namespace, name);\n}\n\nfunction createtextnode(data) {\n    return document.createTextNode(data);\n}\n\nconst svgnamespace = \"http://www.w3.org/2000/svg\";\n\nfunction changetext(textnode, value) {\n    textnode.nodeValue = String(value);\n}\n\nconst mathnamespace = \"http://www.w3.org/1998/Math/MathML\";\n\nfunction createmathelement() {\n    return createElementNS(mathnamespace, \"math\");\n}\n\nfunction domaddlisten(ele, event, call) {\n    ele.addEventListener(event, call);\n}\n\nfunction domremovelisten(ele, event, call) {\n    ele.removeEventListener(event, call);\n}\n\nfunction getdomchildren(ele) {\n    return Array.from(ele.childNodes);\n}\n\nfunction getAttribute(ele, name) {\n    return HTMLElement.prototype.getAttribute.call(ele, name);\n}\n\nfunction setAttribute(ele, name, value) {\n    HTMLElement.prototype.setAttribute.call(ele, name, value);\n}\n\nfunction removeAttribute(ele, name) {\n    HTMLElement.prototype.removeAttribute.call(ele, name);\n}\n\nfunction watch(state, callback, statekey) {\n    if (!(isReactiveState(state) && isfunction(callback))) {\n        throw TypeError(\"invalid state or callback\");\n    }\n    if (statekey) {\n        state[subscribesymbol](callback, statekey);\n    } else {\n        state[subscribesymbol](callback);\n    }\n    requestAnimationFrame(() => {\n        state[addallistenerssymbol]();\n    });\n}\n\nfunction unwatch(state) {\n    state[removeallistenerssymbol]();\n}\n\nfunction rewatch(state) {\n    state[addallistenerssymbol]();\n}\n\nconst requestAnimationFrame = window.requestAnimationFrame;\n\nvar directives = {\n    ref(ele, ref) {\n        if (typeof ref == \"object\") {\n            ref.value = ele;\n        } else {\n            throw TypeError(\"invalid ref\");\n        }\n    },\n    html(ele, html) {\n        createhtmlandtextdirective(setelehtml, \"html\")(ele, html);\n    },\n    text(ele, text) {\n        createhtmlandtextdirective(seteletext, \"text\")(ele, text);\n    }\n};\n\nfunction createhtmlandtextdirective(seteletext, errorname) {\n    return function(ele, text) {\n        if (typeof text == \"string\") {\n            requestAnimationFrame(() => {\n                seteletext(ele, text);\n            });\n        } else if (isReactiveState(text)) {\n            watch(text, state => {\n                seteletext(ele, String(state));\n            });\n            requestAnimationFrame(() => {\n                seteletext(ele, String(text));\n            });\n        } else {\n            throw TypeError(\"invalid \" + errorname);\n        }\n    };\n}\n\nfunction extenddirectives(options) {\n    Object.entries(options).forEach(([key, value]) => {\n        if (typeof value !== \"function\") {\n            throw TypeError(\"invalid directive\");\n        } else {\n            directives[key] = value;\n        }\n    });\n}\n\nextenddirectives({\n    value(element, value, vdom) {\n        if (isReactiveState(value) && (vdom.type === \"input\" || vdom.type === \"textarea\")) {\n            vdom.bindattr[\"value\"] = value;\n            [ \"change\", \"input\" ].forEach(eventname => {\n                const origin = vdom.onevent[eventname];\n                const eventsarray = [ origin ].flat(Infinity);\n                Reflect.set(vdom.onevent, eventname, eventsarray.concat([ e => {\n                    return value.value = e.target.value;\n                } ]).filter(Boolean));\n            });\n        } else {\n            throw TypeError(\"invalid ReactiveState or element\");\n        }\n    }\n});\n\nfunction isVirtualdom(a) {\n    return a instanceof Virtualdom;\n}\n\nclass Virtualdom {\n    constructor(type = \"\", props = {}, children = []) {\n        this.options = undefined;\n        this.element = undefined;\n        this.props = {};\n        this.children = [];\n        this.directives = {};\n        this.onevent = {};\n        this.bindattr = {};\n        const propsentries = Object.entries(props);\n        Object.assign(this, {\n            type: type,\n            bindattr: Object.fromEntries(propsentries.filter(([key]) => /[A-Za-z]/.test(key[0])).filter(e => isReactiveState(e[1]))),\n            props: Object.fromEntries(propsentries.filter(([key]) => /[A-Za-z]/.test(key[0])).filter(e => !isReactiveState(e[1]))),\n            children: children,\n            onevent: Object.fromEntries(propsentries.filter(([key]) => /\\@/.test(key[0])).map(([key, value]) => [ key.slice(1), value ])),\n            directives: Object.fromEntries(propsentries.filter(([key]) => /\\*/.test(key[0])).map(([key, value]) => [ key.slice(1), value ]))\n        });\n        Object.defineProperty(this, Symbol.toStringTag, {\n            value: \"virtualdom\",\n            configurable: true\n        });\n    }\n}\n\nvar n = function(t, r, u, e) {\n    for (var p = 1; p < r.length; p++) {\n        var s = r[p], h = \"number\" == typeof s ? u[s] : s, a = r[++p];\n        1 === a ? e[0] = h : 3 === a ? e[1] = Object.assign(e[1] || {}, h) : 5 === a ? (e[1] = e[1] || {})[r[++p]] = h : 6 === a ? e[1][r[++p]] += h + \"\" : e.push(a ? t.apply(null, n(t, h, u, [ \"\", null ])) : h);\n    }\n    return e;\n}, t = function(n) {\n    for (var t, r, u = 1, e = \"\", p = \"\", s = [ 0 ], h = function(n) {\n        1 === u && (n || (e = e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g, \"\"))) ? s.push(n || e, 0) : 3 === u && (n || e) ? (s.push(n || e, 1), \n        u = 2) : 2 === u && \"...\" === e && n ? s.push(n, 3) : 2 === u && e && !n ? s.push(!0, 5, e) : u >= 5 && ((e || !n && 5 === u) && (s.push(e, u, r), \n        u = 6), n && (s.push(n, u, r), u = 6)), e = \"\";\n    }, a = 0; a < n.length; a++) {\n        a && (1 === u && h(), h(a));\n        for (var f = 0; f < n[a].length; f++) t = n[a][f], 1 === u ? \"<\" === t ? (h(), s = [ s ], \n        u = 3) : e += t : 4 === u ? \"--\" === e && \">\" === t ? (u = 1, e = \"\") : e = t + e[0] : p ? t === p ? p = \"\" : e += t : '\"' === t || \"'\" === t ? p = t : \">\" === t ? (h(), \n        u = 1) : u && (\"=\" === t ? (u = 5, r = e, e = \"\") : \"/\" === t && (u < 5 || \">\" === n[a][f + 1]) ? (h(), \n        3 === u && (s = s[0]), u = s, (s = s[0]).push(u, 2), u = 0) : \" \" === t || \"\\t\" === t || \"\\n\" === t || \"\\r\" === t ? (h(), \n        u = 2) : e += t), 3 === u && \"!--\" === e && (u = 4, s = s[0]);\n    }\n    return h(), s;\n}, r = \"function\" == typeof Map, u = r ? new Map : {}, e = r ? function(n) {\n    var r = u.get(n);\n    return r || u.set(n, r = t(n)), r;\n} : function(n) {\n    for (var r = \"\", e = 0; e < n.length; e++) r += n[e].length + \"-\" + n[e];\n    return u[r] || (u[r] = t(n));\n};\n\nfunction htm(t) {\n    var r = n(this, e(t), arguments, []);\n    return r.length > 1 ? r : r[0];\n}\n\nfunction createElement(type = \"\", props = {}, ...children) {\n    let typenormalized = isstring(type) || isfunction(type) ? type : \"\";\n    const propsnormalized = isobject(props) ? props : {};\n    const childrennormalized = children.flat(1);\n    if (isstring(typenormalized)) {\n        typenormalized = typenormalized.trim().toLowerCase();\n    }\n    if (\"\" === typenormalized) {\n        return childrennormalized;\n    }\n    return new Virtualdom(typenormalized, propsnormalized, childrennormalized);\n}\n\nconst html = htm.bind(createElement);\n\nfunction isvalidvdom(v) {\n    let flag = false;\n    if (isarray(v)) {\n        flag = v.map(ele => {\n            return isvalidvdom(ele);\n        }).includes(false) ? false : true;\n        return flag;\n    } else if (isVirtualdom(v)) {\n        if (isvalidvdom(v.children)) {\n            return true;\n        }\n    } else if (isReactiveState(v)) {\n        return true;\n    } else {\n        if (isstring(v)) {\n            return true;\n        }\n    }\n    return flag;\n}\n\nfunction assertvalidvirtualdom(...args) {\n    const vdom = html(...args);\n    if (isvalidvdom(vdom)) {\n        return vdom;\n    } else {\n        console.error(vdom);\n        throw new TypeError(\"invalid Virtualdom!\");\n    }\n}\n\nconst eventlistenerssymbol = Symbol(\"eventlisteners\");\n\nfunction onevent(element, eventname, callback) {\n    if (!element[eventlistenerssymbol]) {\n        element[eventlistenerssymbol] = [];\n    }\n    if (typeof callback === \"function\") {\n        firstaddlisteners(element, eventname, [ callback ]);\n    } else if (isarray(callback)) {\n        firstaddlisteners(element, eventname, callback);\n    } else {\n        throw TypeError(\"invalid EventListener\");\n    }\n}\n\nfunction firstaddlisteners(ele, event, callarray) {\n    callarray.forEach(call => {\n        ele[eventlistenerssymbol].push([ event, call ]);\n        domaddlisten(ele, event, call);\n    });\n}\n\nfunction removelisteners(ele) {\n    if (ele[eventlistenerssymbol]) {\n        ele[eventlistenerssymbol].forEach(([event, call]) => {\n            domremovelisten(ele, event, call);\n        });\n    }\n}\n\nfunction readdlisteners(ele) {\n    if (ele[eventlistenerssymbol]) {\n        ele[eventlistenerssymbol].forEach(([event, call]) => {\n            domaddlisten(ele, event, call);\n        });\n    }\n}\n\nfunction mount(ele, container) {\n    setelehtml(container, \"\");\n    let eles;\n    if (Array.isArray(ele)) {\n        eles = ele;\n    } else {\n        eles = [ ele ];\n    }\n    eles.forEach(e => appendchild(container, e));\n    return container;\n}\n\nconst Reflect$2 = window.Reflect;\n\nconst {get: get$1, set: set$1} = Reflect$2;\n\nconst valuestring = \"value\";\n\nfunction isobject$1(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isstring$1(a) {\n    return typeof a === \"string\";\n}\n\nfunction isArray(a) {\n    return Array.isArray(a);\n}\n\nfunction isSet$1(a) {\n    return a instanceof Set;\n}\n\nfunction objtostylestring(o) {\n    return Object.entries(o).map(([key, value]) => key + \":\" + value).join(\";\");\n}\n\nfunction asserthtmlelement(ele) {\n    if (!(ele instanceof Element)) {\n        throw TypeError(\"invalid HTMLElement!\");\n    } else return true;\n}\n\nfunction createeleattragentreadwrite(ele) {\n    asserthtmlelement(ele);\n    const isinputtextortextareaflag = isinputtextortextarea(ele);\n    var temp = Object.create(null);\n    const outputattrs = new Proxy(temp, {\n        ownKeys() {\n            const keys = attributesownkeys(ele);\n            return isinputtextortextareaflag ? Array.from(new Set([ ...keys, valuestring ])) : keys;\n        },\n        get(target, key) {\n            if (isinputtextortextareaflag && key === valuestring) {\n                return get$1(ele, valuestring);\n            } else {\n                const v = getattribute(ele, String(key));\n                if (v === \"\") {\n                    return true;\n                }\n                if (v === null) {\n                    return;\n                }\n                if (isstring$1(v)) {\n                    try {\n                        return JSON.parse(String(v));\n                    } catch (error) {\n                        return v;\n                    }\n                } else return;\n            }\n        },\n        set(t, key, v) {\n            if (isinputtextortextareaflag && key === valuestring) {\n                return set$1(ele, valuestring, v);\n            } else if (key === \"style\") {\n                setattribute(ele, String(key), isstring$1(v) ? v : isobject$1(v) ? objtostylestring(v) : String(v));\n                return true;\n            } else if (key === \"class\" && isobject$1(v)) {\n                if (isArray(v)) {\n                    setattribute(ele, String(key), v.join(\" \"));\n                } else if (isSet$1(v)) {\n                    setattribute(ele, String(key), [ ...v ].join(\" \"));\n                } else {\n                    setattribute(ele, String(key), JSON.stringify(v));\n                }\n            } else {\n                if (isSet$1(v)) {\n                    setattribute(ele, String(key), JSON.stringify([ ...v ]));\n                } else {\n                    if (v === true) {\n                        v = \"\";\n                    }\n                    setattribute(ele, String(key), isobject$1(v) ? JSON.stringify(v) : String(v));\n                    return true;\n                }\n            }\n            return true;\n        },\n        deleteProperty(t, k) {\n            removeAttribute$1(ele, String(k));\n            return true;\n        },\n        has(target, key) {\n            if (isinputtextortextareaflag && key === valuestring) {\n                return true;\n            } else {\n                return hasAttribute(ele, String(key));\n            }\n        },\n        defineProperty() {\n            return false;\n        },\n        getOwnPropertyDescriptor(target, key) {\n            const otherdescipter = {\n                enumerable: true,\n                configurable: true,\n                writable: true\n            };\n            const myvalue = get$1(outputattrs, key);\n            if (typeof myvalue !== \"undefined\") {\n                return {\n                    value: myvalue,\n                    ...otherdescipter\n                };\n            } else {\n                return;\n            }\n        }\n    });\n    return outputattrs;\n}\n\nfunction attributesownkeys(ele) {\n    return ele.getAttributeNames();\n}\n\nfunction getattribute(ele, key) {\n    return ele.getAttribute(key);\n}\n\nfunction geteletagname(ele) {\n    return ele.tagName.toLowerCase();\n}\n\nfunction setattribute(ele, key, value) {\n    return ele.setAttribute(key, value);\n}\n\nfunction removeAttribute$1(ele, key) {\n    return ele.removeAttribute(key);\n}\n\nfunction hasAttribute(ele, key) {\n    return ele.hasAttribute(key);\n}\n\nfunction isinputtextortextarea(ele) {\n    const tagname = geteletagname(ele);\n    return tagname === \"input\" && get$1(ele, \"type\") === \"text\" || tagname === \"textarea\";\n}\n\nconst bindstatesymbol = Symbol(\"bindstate\");\n\nconst reactivestatesymbol = Symbol(\"reactive\");\n\nconst virtualdomsymbol = Symbol(\"virtualdom\");\n\nfunction throwinvalideletype(type) {\n    console.error(type);\n    throw TypeError(\"invalid element type!\");\n}\n\nfunction render(vdom, namespace) {\n    if (typeof vdom === \"string\") {\n        return createtextnode(vdom);\n    } else if (vdom instanceof ReactiveState) {\n        const reactive = vdom;\n        const textnode = createtextnode(String(reactive));\n        textnode[reactivestatesymbol] = reactive;\n        reactive[textnodesymbol] = textnode;\n        watch(reactive, state => {\n            changetext(textnode, String(state));\n        });\n        const element = textnode;\n        element[bindstatesymbol] = new Set;\n        element[bindstatesymbol].add(reactive);\n        return textnode;\n    } else if (vdom instanceof Virtualdom && \"type\" in vdom) {\n        const {type: type} = vdom;\n        let element;\n        if (typeof type === \"string\") {\n            if (type === \"script\") {\n                return createnonescript();\n            } else if (type === \"svg\") {\n                element = createsvgelement();\n            } else if (type === \"math\") {\n                element = createmathelement();\n            } else if (\"\" === type) {\n                return render(vdom.children);\n            } else {\n                element = namespace ? createElementNS(namespace, type) : createnativeelement(type);\n            }\n        } else if (typeof type == \"function\") {\n            if (isobject(type[\"defaultProps\"])) {\n                vdom.props = JSON.parse(JSON.stringify({\n                    ...type[\"defaultProps\"],\n                    ...vdom.props\n                }));\n            }\n            const propsjson = JSON.parse(JSON.stringify({\n                ...vdom.props,\n                ...Object.fromEntries(Object.entries(vdom.bindattr).map(([key, value]) => {\n                    return [ key, value.value ];\n                }))\n            }));\n            element = createcostumelemet(type, propsjson, vdom.children, vdom.options);\n        } else {\n            throwinvalideletype(vdom);\n        }\n        handleprops(element, vdom);\n        if (typeof type !== \"function\") {\n            mount(vdom.children.map(e => {\n                if (type === \"svg\") {\n                    return render(e, svgnamespace);\n                } else if (type === \"math\") {\n                    return render(e, mathnamespace);\n                } else if (namespace) {\n                    return render(e, namespace);\n                } else {\n                    return render(e);\n                }\n            }), element);\n        }\n        return element;\n    } else if (isarray(vdom)) {\n        return vdom.map(a => render(a));\n    } else {\n        throwinvalideletype(vdom);\n    }\n}\n\nfunction handleprops(element, vdom) {\n    ((element, vdom) => {\n        Object.entries(vdom.directives).forEach(([name, value]) => {\n            if (name in directives && typeof directives[name] === \"function\") {\n                directives[name](element, value, vdom);\n            } else {\n                throw new Error(\"invalid directives \" + name);\n            }\n        });\n        const attribute1 = createeleattragentreadwrite(element);\n        Object.assign(attribute1, vdom.props);\n        element[virtualdomsymbol] = vdom;\n        vdom.element = element;\n        Object.entries(vdom.bindattr).forEach(([key, primitivestate]) => {\n            attribute1[key] = primitivestate.value;\n            watch(primitivestate, state => {\n                attribute1[key] = state.value;\n            });\n        });\n        if (!element[eventlistenerssymbol]) {\n            element[eventlistenerssymbol] = [];\n        }\n        Object.entries(vdom.onevent).forEach(([event, callbacks]) => {\n            onevent(element, event, callbacks);\n        });\n    })(element, vdom);\n    if (!element[bindstatesymbol]) {\n        element[bindstatesymbol] = new Set;\n    }\n    [ Object.values(vdom.bindattr), Object.values(vdom.directives) ].flat().filter(e => isReactiveState(e)).forEach(e => element[bindstatesymbol].add(e));\n}\n\nfunction createApp(vdom, container) {\n    const el = container;\n    if (!(isvalidvdom(vdom) || vdom instanceof Node || isarray(vdom) && isNodeArray(vdom))) {\n        console.error(vdom);\n        throw TypeError(\"invalid Virtualdom \");\n    }\n    if (!(el instanceof HTMLElement)) {\n        throw TypeError(\"invalid container HTMLElement!\");\n    }\n    if (el === document.body || el === document.documentElement || el === document.head) {\n        throw Error(\"Do not mount  to <html> or <body> <head>.\");\n    }\n    let elesarray;\n    if (Array.isArray(vdom)) {\n        elesarray = vdom;\n    } else {\n        elesarray = [ vdom ];\n    }\n    if (isvalidvdom(vdom)) {\n        mount(elesarray.map(e => render(e)), container);\n    } else if (vdom instanceof Node || isarray(vdom)) {\n        mount(elesarray, container);\n    }\n    return container;\n}\n\nfunction isNodeArray(array) {\n    return isarray(array) && !array.map(e => e instanceof Node).includes(false);\n}\n\nfunction createRef(init) {\n    return {\n        value: init\n    };\n}\n\nconst Reflect$3 = window.Reflect;\n\nconst {ownKeys: ownKeys$1, deleteProperty: deleteProperty$1, apply: apply$1, construct: construct$1, defineProperty: defineProperty$1, get: get$2, getOwnPropertyDescriptor: getOwnPropertyDescriptor$1, getPrototypeOf: getPrototypeOf$1, has: has$1, set: set$2, setPrototypeOf: setPrototypeOf$1} = Reflect$3;\n\nfunction isobject$2(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isfunction$1(a) {\n    return typeof a === \"function\";\n}\n\nfunction deepobserveaddpath(target, callback, patharray = [], ancestor = target) {\n    if (typeof callback !== \"function\") {\n        throw Error(\"observe callback invalid !\");\n    }\n    if (isfunction$1(target) || isobject$2(target)) {\n        let fakeobj;\n        if (isobject$2(target)) {\n            fakeobj = {};\n        } else {\n            fakeobj = () => {};\n        }\n        setPrototypeOf$1(fakeobj, null);\n        return (fakeobj => {\n            return new Proxy(fakeobj, {\n                defineProperty(t, p, a) {\n                    return defineProperty$1(target, p, a);\n                },\n                deleteProperty(t, p) {\n                    callback(ancestor, [ ...patharray, p ], undefined, get$2(target, p));\n                    return deleteProperty$1(target, p);\n                },\n                ownKeys() {\n                    return ownKeys$1(target);\n                },\n                has(t, p) {\n                    return has$1(target, p);\n                },\n                getPrototypeOf() {\n                    return getPrototypeOf$1(target);\n                },\n                setPrototypeOf(t, v) {\n                    return setPrototypeOf$1(target, v);\n                },\n                construct(t, argumentslist) {\n                    if (typeof target === \"function\") {\n                        return construct$1(target, argumentslist);\n                    }\n                },\n                apply(t, thisarg, argarray) {\n                    if (typeof target === \"function\") {\n                        return apply$1(target, thisarg, argarray);\n                    }\n                },\n                getOwnPropertyDescriptor(t, k) {\n                    var descripter = getOwnPropertyDescriptor$1(target, k);\n                    if (descripter) {\n                        descripter.configurable = true;\n                        return descripter;\n                    } else {\n                        return;\n                    }\n                },\n                set(t, k, v) {\n                    if (typeof callback === \"function\") {\n                        callback(ancestor, [ ...patharray, k ], v, get$2(target, k));\n                    }\n                    return set$2(target, k, v);\n                },\n                get(t, k) {\n                    var value = get$2(target, k);\n                    if (isfunction$1(value) || isobject$2(value)) {\n                        return deepobserveaddpath(value, callback, [ ...patharray, k ], target);\n                    } else {\n                        return value;\n                    }\n                }\n            });\n        })(fakeobj);\n    } else {\n        return target;\n    }\n}\n\nfunction observedeepagent(target, callback) {\n    if (typeof callback !== \"function\") {\n        throw Error(\"observe callback  invalid function \");\n    }\n    if (typeof Proxy !== \"function\") {\n        throw Error(\"Proxy unsupported!\");\n    }\n    if (isfunction$1(target) || isobject$2(target)) {\n        return deepobserveaddpath(target, callback, [], target);\n    } else {\n        return target;\n    }\n}\n\nfunction createstate(init) {\n    if (isprimitive(init)) {\n        return new Proxy(new ReactiveState(init), {\n            defineProperty() {\n                return false;\n            },\n            deleteProperty() {\n                return false;\n            },\n            set(target, key, value) {\n                if (key === textnodesymbol) {\n                    return set(target, key, value);\n                }\n                if (key === \"value\" && isprimitive(value)) {\n                    set(target, key, value);\n                    target[dispatchsymbol]();\n                    return true;\n                } else {\n                    return false;\n                }\n            }\n        });\n    } else if (isReactiveState(init)) {\n        return createstate(init.value);\n    } else if (isobject(init)) {\n        return new Proxy(new ReactiveState(init), {\n            defineProperty() {\n                return false;\n            },\n            getOwnPropertyDescriptor(target, key) {\n                const myvalue = get(target, \"value\");\n                const descripter = getOwnPropertyDescriptor(target, key) || getOwnPropertyDescriptor(myvalue, key);\n                if (descripter) {\n                    descripter.configurable = true;\n                }\n                return descripter;\n            },\n            deleteProperty(target, key) {\n                const myvalue = get(target, \"value\");\n                if (has(myvalue, key)) {\n                    deleteProperty(myvalue, key);\n                    target[dispatchsymbol](key);\n                    return true;\n                } else {\n                    return true;\n                }\n            },\n            has(target, key) {\n                const myvalue = get(target, \"value\");\n                return has(target, key) || has(myvalue, key);\n            },\n            get(target, key) {\n                const value = get(target, \"value\");\n                if (has(target, key)) {\n                    return get(target, key);\n                } else if (has(value, key)) {\n                    if (isSet(value) && (key === \"add\" || key === \"delete\")) {\n                        const myvalue = value;\n                        if (key === \"add\") {\n                            return add => {\n                                if (!Set.prototype.has.call(myvalue, add)) {\n                                    const returnvalue = Set.prototype[key].call(myvalue, add);\n                                    target[dispatchsymbol]();\n                                    return returnvalue;\n                                }\n                            };\n                        } else if (key === \"delete\") {\n                            return dele => {\n                                if (Set.prototype.has.call(myvalue, dele)) {\n                                    const returnvalue = Set.prototype[key].call(myvalue, dele);\n                                    target[dispatchsymbol]();\n                                    return returnvalue;\n                                }\n                            };\n                        }\n                    } else {\n                        return observedeepagent(get(value, key), () => {\n                            target[dispatchsymbol](key);\n                        });\n                    }\n                }\n            },\n            ownKeys(target) {\n                return Array.from(new Set([ ...ownKeys(target), ...ownKeys(get(target, \"value\")) ]));\n            },\n            set(target, key, value) {\n                if (key === textnodesymbol) {\n                    return set(target, key, value);\n                }\n                const myvalue = get(target, \"value\");\n                if (key === \"value\" && isobject(value)) {\n                    set(target, key, value);\n                    target[dispatchsymbol]();\n                    return true;\n                } else if (!has(target, key)) {\n                    set(myvalue, key, value);\n                    target[dispatchsymbol](key);\n                } else if (key === \"length\") {\n                    set(myvalue, key, value);\n                    target[dispatchsymbol](key);\n                } else {\n                    return false;\n                }\n                return true;\n            }\n        });\n    } else {\n        throw TypeError(\"invalid State\");\n    }\n}\n\nconst attributeChangedCallback = \"attributeChangedCallback\";\n\nclass AttrChange extends HTMLElement {\n    setAttribute(qualifiedName, value) {\n        const oldValue = getAttribute(this, qualifiedName);\n        if (oldValue !== value) {\n            setAttribute(this, qualifiedName, value);\n            if (isfunction(this[attributeChangedCallback])) {\n                this[attributeChangedCallback](qualifiedName, oldValue, value);\n            }\n        }\n    }\n    removeAttribute(qualifiedName) {\n        const oldValue = getAttribute(this, qualifiedName);\n        if (null !== oldValue) {\n            removeAttribute(this, qualifiedName);\n            if (isfunction(this[attributeChangedCallback])) {\n                this[attributeChangedCallback](qualifiedName, oldValue, undefined);\n            }\n        }\n    }\n}\n\nfunction onmounted(ele) {\n    if (isarray(ele)) {\n        ele.forEach(e => {\n            onmounted(e);\n        });\n    } else if (ele instanceof Node) {\n        if (ele[eventlistenerssymbol]) {\n            readdlisteners(ele);\n        }\n        if (ele[bindstatesymbol]) {\n            ele[bindstatesymbol].forEach(state => {\n                rewatch(state);\n            });\n        }\n        onmounted(getdomchildren(ele));\n    }\n}\n\nfunction onunmounted(ele) {\n    if (isarray(ele)) {\n        ele.forEach(e => {\n            onunmounted(e);\n        });\n    } else if (ele instanceof Node) {\n        if (ele[eventlistenerssymbol]) {\n            removelisteners(ele);\n        }\n        if (ele[bindstatesymbol]) {\n            ele[bindstatesymbol].forEach(state => {\n                unwatch(state);\n            });\n        }\n        onunmounted(getdomchildren(ele));\n    }\n}\n\nconst truevdomsymbol = Symbol(\"truevdom\");\n\nconst falsevdomsymbol = Symbol(\"falsevdom\");\n\nconst trueelesymbol = Symbol(\"trueele\");\n\nconst falseelesymbol = Symbol(\"falseele\");\n\nconst handletrue = getsymbol(\"handletrue\");\n\nconst handlefalse = getsymbol(\"handlefalse\");\n\nclass Condition extends AttrChange {\n    constructor(propsjson, children, options) {\n        super();\n        this[truevdomsymbol] = isarray(options.true) ? options.true.filter(Boolean) : [ options.true ].filter(Boolean);\n        this[falsevdomsymbol] = isarray(options.false) ? options.false.filter(Boolean) : [ options.false ].filter(Boolean);\n    }\n    [handlefalse]() {\n        setelehtml(this, \"\");\n        if (this[falsevdomsymbol]) {\n            if (!this[falseelesymbol]) {\n                this[falseelesymbol] = render(this[falsevdomsymbol]);\n            }\n            const elementtomount = this[falseelesymbol];\n            createApp(elementtomount, this);\n            elementtomount.forEach(e => onmounted(e));\n            if (this[trueelesymbol]) {\n                this[trueelesymbol].forEach(e => onunmounted(e));\n            }\n        }\n    }\n    [handletrue]() {\n        setelehtml(this, \"\");\n        if (this[truevdomsymbol]) {\n            if (!this[trueelesymbol]) {\n                this[trueelesymbol] = render(this[truevdomsymbol]);\n            }\n            const elementtomount = this[trueelesymbol];\n            createApp(elementtomount, this);\n            elementtomount.forEach(e => onmounted(e));\n            if (this[falseelesymbol]) {\n                this[falseelesymbol].forEach(e => onunmounted(e));\n            }\n        }\n    }\n    connectedCallback() {\n        const attrs = createeleattragentreadwrite(this);\n        if (true === attrs[\"value\"]) {\n            this[handletrue]();\n        }\n        if (false === attrs[\"value\"]) {\n            this[handlefalse]();\n        }\n    }\n    disconnectedCallback() {\n        onunmounted(this);\n    }\n    attributeChangedCallback(name) {\n        if (name === \"value\") {\n            const attrs = createeleattragentreadwrite(this);\n            if (true === attrs[\"value\"]) {\n                this[handletrue]();\n            }\n            if (false === attrs[\"value\"]) {\n                this[handlefalse]();\n            }\n        }\n    }\n}\n\nfunction conditon(conditon, iftrue, iffalse) {\n    if (!isReactiveState(conditon)) {\n        throw TypeError(\"invalid ReactiveState\");\n    }\n    [ iftrue, iffalse ].forEach(a => {\n        if (!(isundefined(a) || isvalidvdom(a))) {\n            throw new TypeError(\"invalid Virtualdom\");\n        }\n    });\n    const vdom = new Virtualdom(Condition, {\n        value: conditon\n    });\n    vdom.options = {\n        true: iftrue,\n        false: iffalse\n    };\n    return vdom;\n}\n\nif (!isfunction(window.HTMLElement) || !isfunction(window.Proxy) || !isobject(window.customElements) || !isfunction(window.CustomElementRegistry)) {\n    throw new TypeError(\" browser not supported !\");\n}\n\nconst Fragment = \"\";\n\nexport { Fragment, conditon as condition, createApp, createElement, createRef, createstate as createState, extenddirectives as directives, createElement as h, assertvalidvirtualdom as html, watch };\n//# sourceMappingURL=index.js.map\n"],"names":["Reflect$1","window","Reflect","apply","construct","defineProperty","deleteProperty","get","getOwnPropertyDescriptor","getPrototypeOf","has","isExtensible","ownKeys","preventExtensions","set","setPrototypeOf","isundefined","a","isobject","isstring","isfunction","isarray","Array","isArray","gettagtype","getsymbol","Symbol","toString","call","replace","toLowerCase","isSet","Set","isclassextendsHTMLElement","initclass","prototype","HTMLElement","customElements","TypeError","CustomElementRegistry","elementset","for","elementmap","_a","_b","_c","RandomDefineCustomElement","extendsname","RandomDefineCustomElement$1","length","表","组件状态名","Object","entries","find","v","elementname","fill","undefined","map","i","n","String","fromCharCode","Math","floor","random","join","getrandomstringandnumber","define","extends","isprimitive","isnumber","isboolean","isReactiveState","ReactiveState","name","constructor","options","add","iterator","textnodesymbol","eventtargetsymbol","memlisteners","dispatchsymbol","subscribesymbol","removeallistenerssymbol","addallistenerssymbol","[object Object]","init","this","EventTarget","value","configurable","writable","toStringTag","forEach","callback","addEventListener","JSON","stringify","eventname","dispatchEvent","CustomEvent","detail","push","event","removeEventListener","toPrimitive","document","seteletext","e","textContent","setelehtml","innerHTML","createElementNS","namespace","createtextnode","data","createTextNode","svgnamespace","mathnamespace","domaddlisten","ele","getdomchildren","from","childNodes","getAttribute","watch","state","statekey","requestAnimationFrame","directives","ref","html","createhtmlandtextdirective","text","errorname","extenddirectives","key","element","vdom","type","bindattr","eventsarray","onevent","flat","Infinity","concat","target","filter","Boolean","Virtualdom","props","children","propsentries","assign","fromEntries","test","slice","t","r","u","p","s","h","f","Map","createElement","typenormalized","propsnormalized","childrennormalized","trim","arguments","bind","isvalidvdom","flag","includes","assertvalidvirtualdom","args","eventlistenerssymbol","firstaddlisteners","callarray","mount","container","eles","appendChild","appendchild","Reflect$2","get$1","set$1","valuestring","isobject$1","isstring$1","isSet$1","createeleattragentreadwrite","Element","asserthtmlelement","isinputtextortextareaflag","tagname","tagName","geteletagname","isinputtextortextarea","temp","create","outputattrs","Proxy","keys","getAttributeNames","attributesownkeys","getattribute","parse","error","setattribute","o","k","removeAttribute","removeAttribute$1","hasAttribute","otherdescipter","enumerable","myvalue","setAttribute","bindstatesymbol","reactivestatesymbol","virtualdomsymbol","throwinvalideletype","render","reactive","textnode","nodeValue","changetext","createDocumentFragment","createnativeelement","propsjson","createcostumelemet","Error","attribute1","primitivestate","callbacks","values","handleprops","createApp","el","Node","array","body","documentElement","head","elesarray","createRef","Reflect$3","ownKeys$1","deleteProperty$1","apply$1","construct$1","defineProperty$1","get$2","getOwnPropertyDescriptor$1","getPrototypeOf$1","has$1","set$2","setPrototypeOf$1","isobject$2","isfunction$1","observedeepagent","deepobserveaddpath","patharray","ancestor","fakeobj","argumentslist","thisarg","argarray","descripter","createstate","returnvalue","dele","attributeChangedCallback","AttrChange","qualifiedName","oldValue","onmounted","readdlisteners","rewatch","onunmounted","domremovelisten","removelisteners","unwatch","truevdomsymbol","falsevdomsymbol","trueelesymbol","falseelesymbol","handletrue","handlefalse","Condition","super","true","false","elementtomount","attrs","conditon","iftrue","iffalse","Fragment"],"mappings":"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"}