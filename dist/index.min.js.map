{"version":3,"file":"index.min.js","sources":["index.js"],"sourcesContent":["const Reflect$1 = window.Reflect;\n\nconst {construct: construct, deleteProperty: deleteProperty, get: get, getOwnPropertyDescriptor: getOwnPropertyDescriptor, getPrototypeOf: getPrototypeOf, has: has, ownKeys: ownKeys, set: set} = Reflect$1;\n\nfunction isundefined(a) {\n    return typeof a === \"undefined\";\n}\n\nfunction isnumber(a) {\n    return typeof a === \"number\";\n}\n\nfunction isboolean(a) {\n    return typeof a === \"boolean\";\n}\n\nfunction isobject(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isstring(a) {\n    return typeof a === \"string\";\n}\n\nfunction isfunction(a) {\n    return typeof a === \"function\";\n}\n\nfunction isarray(a) {\n    return a instanceof Array && Array.isArray(a) && gettagtype(a) === \"array\";\n}\n\nfunction getsymbol(a) {\n    return Symbol(a);\n}\n\nfunction gettagtype(a) {\n    return {}.toString.call(a).replace(\"[object \", \"\").replace(\"]\", \"\").toLowerCase();\n}\n\nfunction isSet(a) {\n    return gettagtype(a) === \"set\" && a instanceof Set;\n}\n\nconst invalid_Function = \"invalid Function\";\n\nconst message = \"invalid useMounted or useUnMounted out of createComponent\";\n\nlet ctxopen = false;\n\nlet Mounted = [];\n\nlet UnMounted = [];\n\nfunction getMounted() {\n    return [ ...Mounted ];\n}\n\nfunction getUnMounted() {\n    return [ ...UnMounted ];\n}\n\nfunction useMounted(fun) {\n    if (isfunction(fun)) {\n        if (ctxopen) {\n            Mounted.push(fun);\n        } else {\n            throw Error(message);\n        }\n    } else {\n        throw TypeError(invalid_Function);\n    }\n}\n\nfunction useUnMounted(fun) {\n    if (isfunction(fun)) {\n        if (ctxopen) {\n            UnMounted.push(fun);\n        } else {\n            throw Error(message);\n        }\n    } else {\n        throw TypeError(invalid_Function);\n    }\n}\n\nfunction clearMounted() {\n    Mounted = [];\n}\n\nfunction clearUnMounted() {\n    UnMounted = [];\n}\n\nfunction openctx() {\n    ctxopen = true;\n    clearMounted();\n    clearUnMounted();\n}\n\nfunction closectx() {\n    ctxopen = false;\n    clearMounted();\n    clearUnMounted();\n}\n\nconst document = window.document;\n\nfunction seteletext(e, v) {\n    e.textContent = v;\n}\n\nfunction setelehtml(e, v) {\n    e.innerHTML = v;\n}\n\nfunction appendchild(container, ele) {\n    container.appendChild(ele);\n}\n\nfunction createsvgelement() {\n    return createElementNS(svgnamespace, \"svg\");\n}\n\nfunction createnonescript() {\n    return document.createDocumentFragment();\n}\n\nfunction createnativeelement(type) {\n    return document.createElement(type);\n}\n\nfunction createElementNS(namespace, name) {\n    return document.createElementNS(namespace, name);\n}\n\nfunction createtextnode(data) {\n    return document.createTextNode(data);\n}\n\nconst svgnamespace = \"http://www.w3.org/2000/svg\";\n\nfunction changetext(textnode, value) {\n    textnode.nodeValue = String(value);\n}\n\nconst mathnamespace = \"http://www.w3.org/1998/Math/MathML\";\n\nfunction createmathelement() {\n    return createElementNS(mathnamespace, \"math\");\n}\n\nfunction domaddlisten(ele, event, call) {\n    ele.addEventListener(event, call);\n}\n\nfunction domremovelisten(ele, event, call) {\n    ele.removeEventListener(event, call);\n}\n\nfunction getdomchildren(ele) {\n    return Array.from(ele.childNodes);\n}\n\nfunction getAttribute(ele, name) {\n    return HTMLElementprototype.getAttribute.call(ele, name);\n}\n\nfunction setAttribute(ele, name, value) {\n    HTMLElementprototype.setAttribute.call(ele, name, value);\n}\n\nfunction removeAttribute(ele, name) {\n    HTMLElementprototype.removeAttribute.call(ele, name);\n}\n\nconst HTMLElementprototype = HTMLElement.prototype;\n\nfunction isprimitive(a) {\n    return isstring(a) || isnumber(a) || isboolean(a) || isundefined(a);\n}\n\nvar _a, _b, _c;\n\nfunction isReactiveState(a) {\n    return a instanceof ReactiveState;\n}\n\nconst textnodesymbol = Symbol(\"textnode\");\n\nconst eventtargetsymbol = Symbol(\"eventtatget\");\n\nconst memlisteners = Symbol(\"memlisteners\");\n\nconst dispatchsymbol = getsymbol(\"dispatch\");\n\nconst subscribesymbol = getsymbol(\"subscribe\");\n\nconst removeallistenerssymbol = getsymbol(\"removeallisteners\");\n\nconst addallistenerssymbol = getsymbol(\"addallisteners\");\n\nclass ReactiveState {\n    constructor(init) {\n        this[_a] = undefined;\n        this[_b] = new EventTarget;\n        this[_c] = [];\n        if (isprimitive(init) || isobject(init)) {\n            Object.defineProperty(this, \"value\", {\n                value: init,\n                configurable: true,\n                writable: true\n            });\n        } else {\n            throw TypeError(\"invalid State\");\n        }\n        Object.defineProperty(this, Symbol.toStringTag, {\n            value: \"ReactiveState\",\n            configurable: true\n        });\n    }\n    [addallistenerssymbol]() {\n        this[memlisteners].forEach(([value, callback]) => {\n            this[eventtargetsymbol].addEventListener(value, callback);\n        });\n    }\n    valueOf() {\n        return this.value;\n    }\n    toString() {\n        const value = this.value;\n        return isprimitive(value) ? String(value) : isSet(value) ? JSON.stringify([ ...value ]) : isobject(value) ? JSON.stringify(value) : \"\";\n    }\n    [(_a = textnodesymbol, _b = eventtargetsymbol, _c = memlisteners, dispatchsymbol)](eventname) {\n        const name = eventname ? String(eventname) : \"value\";\n        if (name !== \"value\") {\n            this[eventtargetsymbol].dispatchEvent(new CustomEvent(name, {\n                detail: name\n            }));\n        }\n        this[eventtargetsymbol].dispatchEvent(new CustomEvent(\"value\", {\n            detail: name\n        }));\n    }\n    [subscribesymbol](callback, eventname) {\n        const name = eventname ? String(eventname) : \"value\";\n        this[memlisteners].push([ name, event => callback(this, event.detail) ]);\n    }\n    [removeallistenerssymbol]() {\n        this[memlisteners].forEach(([value, callback]) => {\n            this[eventtargetsymbol].removeEventListener(value, callback);\n        });\n    }\n    [Symbol.toPrimitive]() {\n        const value = this.value;\n        return isprimitive(value) ? value : isobject(value) ? JSON.stringify(value) : void 0;\n    }\n}\n\nconst requestAnimationFrame = window.requestAnimationFrame;\n\nvar directives = {\n    ref(ele, ref) {\n        if (typeof ref == \"object\") {\n            ref.value = ele;\n        } else {\n            throw TypeError(\"invalid ref\");\n        }\n    },\n    html(ele, html) {\n        createhtmlandtextdirective(setelehtml, \"html\")(ele, html);\n    },\n    text(ele, text) {\n        createhtmlandtextdirective(seteletext, \"text\")(ele, text);\n    }\n};\n\nfunction createhtmlandtextdirective(seteletext, errorname) {\n    return function(ele, text) {\n        if (typeof text == \"string\") {\n            requestAnimationFrame(() => {\n                seteletext(ele, text);\n            });\n        } else if (isReactiveState(text)) {\n            watch(text, state => {\n                seteletext(ele, String(state));\n            });\n            requestAnimationFrame(() => {\n                seteletext(ele, String(text));\n            });\n        } else {\n            throw TypeError(\"invalid \" + errorname);\n        }\n    };\n}\n\nconst Reflect$2 = window.Reflect;\n\nconst {get: get$1, set: set$1} = Reflect$2;\n\nconst valuestring = \"value\";\n\nfunction isobject$1(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isstring$1(a) {\n    return typeof a === \"string\";\n}\n\nfunction isArray(a) {\n    return Array.isArray(a);\n}\n\nfunction isSet$1(a) {\n    return a instanceof Set;\n}\n\nfunction objtostylestring(o) {\n    return Object.entries(o).map(([key, value]) => key + \":\" + value).join(\";\");\n}\n\nfunction asserthtmlelement(ele) {\n    if (!(ele instanceof Element)) {\n        throw TypeError(\"invalid HTMLElement!\");\n    } else return true;\n}\n\nfunction createeleattragentreadwrite(ele) {\n    asserthtmlelement(ele);\n    const isinputtextortextareaflag = isinputtextortextarea(ele);\n    var temp = Object.create(null);\n    const outputattrs = new Proxy(temp, {\n        ownKeys() {\n            const keys = attributesownkeys(ele);\n            return isinputtextortextareaflag ? Array.from(new Set([ ...keys, valuestring ])) : keys;\n        },\n        get(target, key) {\n            if (isinputtextortextareaflag && key === valuestring) {\n                return get$1(ele, valuestring);\n            } else {\n                const v = getattribute(ele, String(key));\n                if (v === \"\") {\n                    return true;\n                }\n                if (v === null) {\n                    return;\n                }\n                if (isstring$1(v)) {\n                    try {\n                        return JSON.parse(String(v));\n                    } catch (error) {\n                        return v;\n                    }\n                } else return;\n            }\n        },\n        set(t, key, v) {\n            if (isinputtextortextareaflag && key === valuestring) {\n                return set$1(ele, valuestring, v);\n            } else if (key === \"style\") {\n                setattribute(ele, String(key), isstring$1(v) ? v : isobject$1(v) ? objtostylestring(v) : String(v));\n                return true;\n            } else if (key === \"class\" && isobject$1(v)) {\n                if (isArray(v)) {\n                    setattribute(ele, String(key), v.join(\" \"));\n                } else if (isSet$1(v)) {\n                    setattribute(ele, String(key), [ ...v ].join(\" \"));\n                } else {\n                    setattribute(ele, String(key), JSON.stringify(v));\n                }\n            } else {\n                if (isSet$1(v)) {\n                    setattribute(ele, String(key), JSON.stringify([ ...v ]));\n                } else {\n                    if (v === true) {\n                        v = \"\";\n                    }\n                    setattribute(ele, String(key), isobject$1(v) ? JSON.stringify(v) : String(v));\n                    return true;\n                }\n            }\n            return true;\n        },\n        deleteProperty(t, k) {\n            removeAttribute$1(ele, String(k));\n            return true;\n        },\n        has(target, key) {\n            if (isinputtextortextareaflag && key === valuestring) {\n                return true;\n            } else {\n                return hasAttribute(ele, String(key));\n            }\n        },\n        defineProperty() {\n            return false;\n        },\n        getOwnPropertyDescriptor(target, key) {\n            const otherdescipter = {\n                enumerable: true,\n                configurable: true,\n                writable: true\n            };\n            const myvalue = get$1(outputattrs, key);\n            if (typeof myvalue !== \"undefined\") {\n                return {\n                    value: myvalue,\n                    ...otherdescipter\n                };\n            } else {\n                return;\n            }\n        }\n    });\n    return outputattrs;\n}\n\nfunction attributesownkeys(ele) {\n    return ele.getAttributeNames();\n}\n\nfunction getattribute(ele, key) {\n    return ele.getAttribute(key);\n}\n\nfunction geteletagname(ele) {\n    return ele.tagName.toLowerCase();\n}\n\nfunction setattribute(ele, key, value) {\n    return ele.setAttribute(key, value);\n}\n\nfunction removeAttribute$1(ele, key) {\n    return ele.removeAttribute(key);\n}\n\nfunction hasAttribute(ele, key) {\n    return ele.hasAttribute(key);\n}\n\nfunction isinputtextortextarea(ele) {\n    const tagname = geteletagname(ele);\n    return tagname === \"input\" && get$1(ele, \"type\") === \"text\" || tagname === \"textarea\";\n}\n\nconst attributeChangedCallback = \"attributeChangedCallback\";\n\nclass AttrChange extends HTMLElement {\n    setAttribute(qualifiedName, value) {\n        const oldValue = getAttribute(this, qualifiedName);\n        if (oldValue !== value) {\n            setAttribute(this, qualifiedName, value);\n            if (isfunction(this[attributeChangedCallback])) {\n                this[attributeChangedCallback](qualifiedName, oldValue, value);\n            }\n        }\n    }\n    removeAttribute(qualifiedName) {\n        const oldValue = getAttribute(this, qualifiedName);\n        if (null !== oldValue) {\n            removeAttribute(this, qualifiedName);\n            if (isfunction(this[attributeChangedCallback])) {\n                this[attributeChangedCallback](qualifiedName, oldValue, undefined);\n            }\n        }\n    }\n}\n\nfunction isVirtualdom(a) {\n    return a instanceof Virtualdom;\n}\n\nclass Virtualdom {\n    constructor(type = \"\", props = {}, children = []) {\n        this.options = undefined;\n        this.element = undefined;\n        this.props = {};\n        this.children = [];\n        this.directives = {};\n        this.onevent = {};\n        this.bindattr = {};\n        const propsentries = Object.entries(props);\n        Object.assign(this, {\n            type: type,\n            bindattr: Object.fromEntries(propsentries.filter(([key]) => /[A-Za-z]/.test(key[0])).filter(e => isReactiveState(e[1]))),\n            props: Object.fromEntries(propsentries.filter(([key]) => /[A-Za-z]/.test(key[0])).filter(e => !isReactiveState(e[1]))),\n            children: children,\n            onevent: Object.fromEntries(propsentries.filter(([key]) => /\\@/.test(key[0])).map(([key, value]) => [ key.slice(1), value ])),\n            directives: Object.fromEntries(propsentries.filter(([key]) => /\\*/.test(key[0])).map(([key, value]) => [ key.slice(1), value ]))\n        });\n        Object.defineProperty(this, Symbol.toStringTag, {\n            value: \"virtualdom\",\n            configurable: true\n        });\n    }\n}\n\nconst eventlistenerssymbol = Symbol(\"eventlisteners\");\n\nfunction onevent(element, eventname, callback) {\n    if (!element[eventlistenerssymbol]) {\n        element[eventlistenerssymbol] = [];\n    }\n    if (isfunction(callback)) {\n        firstaddlisteners(element, eventname, [ callback ]);\n    } else if (isarray(callback)) {\n        firstaddlisteners(element, eventname, callback);\n    } else {\n        console.error(callback);\n        throw TypeError(invalid_Function);\n    }\n}\n\nfunction firstaddlisteners(ele, event, callarray) {\n    callarray.forEach(call => {\n        ele[eventlistenerssymbol].push([ event, call ]);\n        domaddlisten(ele, event, call);\n    });\n}\n\nfunction removelisteners(ele) {\n    if (ele[eventlistenerssymbol]) {\n        ele[eventlistenerssymbol].forEach(([event, call]) => {\n            domremovelisten(ele, event, call);\n        });\n    }\n}\n\nfunction readdlisteners(ele) {\n    if (ele[eventlistenerssymbol]) {\n        ele[eventlistenerssymbol].forEach(([event, call]) => {\n            domaddlisten(ele, event, call);\n        });\n    }\n}\n\nfunction onmounted(ele) {\n    if (isarray(ele)) {\n        ele.forEach(e => {\n            onmounted(e);\n        });\n    } else if (ele instanceof Node) {\n        if (ele[eventlistenerssymbol]) {\n            readdlisteners(ele);\n        }\n        if (ele[bindstatesymbol]) {\n            ele[bindstatesymbol].forEach(state => {\n                rewatch(state);\n            });\n        }\n        onmounted(getdomchildren(ele));\n    }\n}\n\nfunction onunmounted(ele) {\n    if (isarray(ele)) {\n        ele.forEach(e => {\n            onunmounted(e);\n        });\n    } else if (ele instanceof Node) {\n        if (ele[eventlistenerssymbol]) {\n            removelisteners(ele);\n        }\n        if (ele[bindstatesymbol]) {\n            ele[bindstatesymbol].forEach(state => {\n                unwatch(state);\n            });\n        }\n        onunmounted(getdomchildren(ele));\n    }\n}\n\nvar n = function(t, r, u, e) {\n    for (var p = 1; p < r.length; p++) {\n        var s = r[p], h = \"number\" == typeof s ? u[s] : s, a = r[++p];\n        1 === a ? e[0] = h : 3 === a ? e[1] = Object.assign(e[1] || {}, h) : 5 === a ? (e[1] = e[1] || {})[r[++p]] = h : 6 === a ? e[1][r[++p]] += h + \"\" : e.push(a ? t.apply(null, n(t, h, u, [ \"\", null ])) : h);\n    }\n    return e;\n}, t = function(n) {\n    for (var t, r, u = 1, e = \"\", p = \"\", s = [ 0 ], h = function(n) {\n        1 === u && (n || (e = e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g, \"\"))) ? s.push(n || e, 0) : 3 === u && (n || e) ? (s.push(n || e, 1), \n        u = 2) : 2 === u && \"...\" === e && n ? s.push(n, 3) : 2 === u && e && !n ? s.push(!0, 5, e) : u >= 5 && ((e || !n && 5 === u) && (s.push(e, u, r), \n        u = 6), n && (s.push(n, u, r), u = 6)), e = \"\";\n    }, a = 0; a < n.length; a++) {\n        a && (1 === u && h(), h(a));\n        for (var f = 0; f < n[a].length; f++) t = n[a][f], 1 === u ? \"<\" === t ? (h(), s = [ s ], \n        u = 3) : e += t : 4 === u ? \"--\" === e && \">\" === t ? (u = 1, e = \"\") : e = t + e[0] : p ? t === p ? p = \"\" : e += t : '\"' === t || \"'\" === t ? p = t : \">\" === t ? (h(), \n        u = 1) : u && (\"=\" === t ? (u = 5, r = e, e = \"\") : \"/\" === t && (u < 5 || \">\" === n[a][f + 1]) ? (h(), \n        3 === u && (s = s[0]), u = s, (s = s[0]).push(u, 2), u = 0) : \" \" === t || \"\\t\" === t || \"\\n\" === t || \"\\r\" === t ? (h(), \n        u = 2) : e += t), 3 === u && \"!--\" === e && (u = 4, s = s[0]);\n    }\n    return h(), s;\n}, r = \"function\" == typeof Map, u = r ? new Map : {}, e = r ? function(n) {\n    var r = u.get(n);\n    return r || u.set(n, r = t(n)), r;\n} : function(n) {\n    for (var r = \"\", e = 0; e < n.length; e++) r += n[e].length + \"-\" + n[e];\n    return u[r] || (u[r] = t(n));\n};\n\nfunction htm(t) {\n    var r = n(this, e(t), arguments, []);\n    return r.length > 1 ? r : r[0];\n}\n\nfunction createElement(type = \"\", props = {}, ...children) {\n    let typenormalized = isstring(type) || isfunction(type) ? type : \"\";\n    const propsnormalized = isobject(props) ? props : {};\n    const childrennormalized = children.flat(Infinity);\n    if (isstring(typenormalized)) {\n        typenormalized = typenormalized.trim().toLowerCase();\n    }\n    if (\"\" === typenormalized) {\n        return childrennormalized;\n    }\n    return new Virtualdom(typenormalized, propsnormalized, childrennormalized);\n}\n\nconst html = htm.bind(createElement);\n\nfunction isvalidvdom(v) {\n    let flag = false;\n    if (isarray(v)) {\n        flag = v.map(ele => {\n            return isvalidvdom(ele);\n        }).includes(false) ? false : true;\n        return flag;\n    } else if (isVirtualdom(v)) {\n        if (isvalidvdom(v.children)) {\n            return true;\n        }\n    } else if (isReactiveState(v)) {\n        return true;\n    } else {\n        if (isstring(v)) {\n            return true;\n        }\n    }\n    return flag;\n}\n\nfunction assertvalidvirtualdom(...args) {\n    const vdom = html(...args);\n    if (isvalidvdom(vdom)) {\n        return vdom;\n    } else {\n        console.error(vdom);\n        throw new TypeError(invalid_Virtualdom);\n    }\n}\n\nfunction mount(ele, container) {\n    setelehtml(container, \"\");\n    let eles;\n    if (Array.isArray(ele)) {\n        eles = ele;\n    } else {\n        eles = [ ele ];\n    }\n    eles.forEach(e => appendchild(container, e));\n    return container;\n}\n\nconst invalid_Virtualdom = \"invalid Virtualdom \";\n\nfunction createApp(vdom, container) {\n    if (isarray(vdom)) {\n        vdom = vdom.flat(Infinity);\n    }\n    const el = container;\n    if (!(isvalidvdom(vdom) || vdom instanceof Node || isarray(vdom) && isNodeArray(vdom))) {\n        console.error(vdom);\n        throw TypeError(invalid_Virtualdom);\n    }\n    if (!(el instanceof HTMLElement)) {\n        throw TypeError(\"invalid container HTMLElement!\");\n    }\n    if (el === document.body || el === document.documentElement || el === document.head) {\n        throw Error(\"Do not mount  to <html> or <body> <head>.\");\n    }\n    let elesarray;\n    if (Array.isArray(vdom)) {\n        elesarray = vdom;\n    } else {\n        elesarray = [ vdom ];\n    }\n    if (isvalidvdom(vdom)) {\n        mount(elesarray.map(e => render(e)), container);\n    } else if (vdom instanceof Node || isarray(vdom)) {\n        mount(elesarray, container);\n    }\n    return container;\n}\n\nfunction isNodeArray(array) {\n    return isarray(array) && !array.map(e => e instanceof Node).includes(false);\n}\n\nconst invalid_ReactiveState = \"invalid ReactiveState\";\n\nconst truevdomsymbol = Symbol(\"truevdom\");\n\nconst falsevdomsymbol = Symbol(\"falsevdom\");\n\nconst trueelesymbol = Symbol(\"trueele\");\n\nconst falseelesymbol = Symbol(\"falseele\");\n\nconst handletrue = getsymbol(\"handletrue\");\n\nconst handlefalse = getsymbol(\"handlefalse\");\n\nclass Condition extends AttrChange {\n    constructor(propsjson, children, options = {}) {\n        super();\n        const optionstrue = get(options, \"true\");\n        const optionsfalse = get(options, \"false\");\n        this[truevdomsymbol] = isarray(optionstrue) ? optionstrue.filter(Boolean) : [ optionstrue ].filter(Boolean);\n        this[falsevdomsymbol] = isarray(optionsfalse) ? optionsfalse.filter(Boolean) : [ optionsfalse ].filter(Boolean);\n    }\n    [handlefalse]() {\n        setelehtml(this, \"\");\n        if (this[falsevdomsymbol]) {\n            if (!this[falseelesymbol]) {\n                this[falseelesymbol] = render(this[falsevdomsymbol]);\n            }\n            const elementtomount = this[falseelesymbol];\n            createApp(elementtomount, this);\n            elementtomount.forEach(e => onmounted(e));\n            if (this[trueelesymbol]) {\n                this[trueelesymbol].forEach(e => onunmounted(e));\n            }\n        }\n    }\n    [handletrue]() {\n        setelehtml(this, \"\");\n        if (this[truevdomsymbol]) {\n            if (!this[trueelesymbol]) {\n                this[trueelesymbol] = render(this[truevdomsymbol]);\n            }\n            const elementtomount = this[trueelesymbol];\n            createApp(elementtomount, this);\n            elementtomount.forEach(e => onmounted(e));\n            if (this[falseelesymbol]) {\n                this[falseelesymbol].forEach(e => onunmounted(e));\n            }\n        }\n    }\n    connectedCallback() {\n        const attrs = createeleattragentreadwrite(this);\n        if (true === attrs[\"value\"]) {\n            this[handletrue]();\n        }\n        if (false === attrs[\"value\"]) {\n            this[handlefalse]();\n        }\n    }\n    disconnectedCallback() {\n        onunmounted(this);\n    }\n    attributeChangedCallback(name) {\n        if (name === \"value\") {\n            const attrs = createeleattragentreadwrite(this);\n            if (true === attrs[\"value\"]) {\n                this[handletrue]();\n            }\n            if (false === attrs[\"value\"]) {\n                this[handlefalse]();\n            }\n        }\n    }\n}\n\nfunction conditon(conditon, iftrue, iffalse) {\n    if (!isReactiveState(conditon)) {\n        throw TypeError(invalid_ReactiveState);\n    }\n    [ iftrue, iffalse ].forEach(a => {\n        if (!(isundefined(a) || isvalidvdom(a))) {\n            throw new TypeError(invalid_Virtualdom);\n        }\n    });\n    const vdom = new Virtualdom(Condition, {\n        value: conditon\n    });\n    vdom.options = {\n        true: iftrue,\n        false: iffalse\n    };\n    return vdom;\n}\n\nfunction watch(state, callback, statekey) {\n    if (!(isReactiveState(state) && isfunction(callback))) {\n        console.error(state);\n        console.error(callback);\n        throw TypeError(invalid_ReactiveState + invalid_Function);\n    }\n    if (statekey) {\n        state[subscribesymbol](callback, statekey);\n    } else {\n        state[subscribesymbol](callback);\n    }\n    requestAnimationFrame(() => {\n        state[addallistenerssymbol]();\n    });\n}\n\nfunction unwatch(state) {\n    state[removeallistenerssymbol]();\n}\n\nfunction rewatch(state) {\n    state[addallistenerssymbol]();\n}\n\nconst invalid_custom_element_class = \"invalid custom element class !\";\n\nif (!isobject(window.customElements)) {\n    throw new TypeError(\" customElements  not supported !\");\n}\n\nfunction 使用value从表中查询key(表, 组件状态名) {\n    return Object.entries(表).find(v => {\n        return v[1] === 组件状态名;\n    })[0];\n}\n\nwindow.CustomElementRegistry = get(getPrototypeOf(window.customElements), \"constructor\");\n\nconst {customElements: customElements, CustomElementRegistry: CustomElementRegistry} = window;\n\nconst elementset = Symbol.for(\"elementset\");\n\nconst elementmap = Symbol.for(\"elementmap\");\n\nvar RandomDefineCustomElement = (initclass, extendsname) => RandomDefineCustomElement$1(initclass, extendsname);\n\nfunction RandomDefineCustomElement$1(initclass, extendsname, length = 1) {\n    if (!isclassextendsHTMLElement(initclass)) {\n        throw TypeError(invalid_custom_element_class);\n    }\n    if (!customElements[elementset].has(initclass)) {\n        const elementname = getrandomstringandnumber(length);\n        if (customElements.get(elementname)) {\n            return RandomDefineCustomElement$1(initclass, extendsname, length + 1);\n        } else {\n            if (extendsname) {\n                customElements.define(elementname, initclass, {\n                    extends: extendsname\n                });\n            } else {\n                customElements.define(elementname, initclass);\n            }\n        }\n        return elementname;\n    } else {\n        return 使用value从表中查询key(customElements[elementmap], initclass);\n    }\n}\n\nif (!customElements[elementset]) {\n    customElements[elementset] = new Set;\n}\n\nif (!customElements[elementmap]) {\n    customElements[elementmap] = {};\n}\n\ncustomElements.define = function(name, constructor, options) {\n    if (!isclassextendsHTMLElement(constructor)) {\n        console.error(constructor);\n        throw TypeError(invalid_custom_element_class);\n    }\n    if (!customElements[elementset].has(constructor)) {\n        if (has(customElements[elementmap], name)) {\n            RandomDefineCustomElement$1(constructor, options ? options.extends : undefined);\n        } else {\n            CustomElementRegistry.prototype.define.call(customElements, name, constructor, options);\n            customElements[elementset].add(constructor);\n            customElements[elementmap][name] = constructor;\n        }\n    }\n};\n\ncustomElements[Symbol.iterator] = () => {\n    const entries = Object.entries(customElements[elementmap]);\n    return entries[Symbol.iterator].call(entries);\n};\n\nfunction getrandomcharactor() {\n    return get(Array(26).fill(undefined).map((v, i) => 97 + i).map(n => String.fromCharCode(n)), Math.floor(Math.random() * 26));\n}\n\nfunction getrandomhexnumber() {\n    return get(Array(16).fill(undefined).map((v, i) => i), Math.floor(Math.random() * 16)).toString(16);\n}\n\nfunction getrandomstringandnumber(length = 4) {\n    return Array(length).fill(undefined).map(() => getrandomcharactor()).join(\"\") + \"-\" + Array(length).fill(undefined).map(() => getrandomhexnumber()).join(\"\");\n}\n\nfunction isclassextendsHTMLElement(initclass) {\n    return !!(isfunction(initclass) && initclass.prototype && initclass.prototype instanceof HTMLElement);\n}\n\nfunction createcostumelemet(initclass, propsjson, children, options) {\n    if (isclassextendsHTMLElement(initclass)) {\n        RandomDefineCustomElement(initclass);\n        return construct(initclass, [ propsjson, children, options ]);\n    } else {\n        console.error(initclass);\n        throw TypeError(invalid_custom_element_class);\n    }\n}\n\nconst bindstatesymbol = Symbol(\"bindstate\");\n\nconst reactivestatesymbol = Symbol(\"reactive\");\n\nconst virtualdomsymbol = Symbol(\"virtualdom\");\n\nfunction throwinvalideletype(type) {\n    console.error(type);\n    throw TypeError(\"invalid element type!\");\n}\n\nfunction render(vdom, namespace) {\n    if (typeof vdom === \"string\") {\n        return createtextnode(vdom);\n    } else if (vdom instanceof ReactiveState) {\n        const reactive = vdom;\n        const textnode = createtextnode(String(reactive));\n        textnode[reactivestatesymbol] = reactive;\n        reactive[textnodesymbol] = textnode;\n        watch(reactive, state => {\n            changetext(textnode, String(state));\n        });\n        const element = textnode;\n        element[bindstatesymbol] = new Set;\n        element[bindstatesymbol].add(reactive);\n        return textnode;\n    } else if (vdom instanceof Virtualdom && \"type\" in vdom) {\n        const {type: type} = vdom;\n        let element;\n        if (typeof type === \"string\") {\n            if (type === \"script\") {\n                return createnonescript();\n            } else if (type === \"svg\") {\n                element = createsvgelement();\n            } else if (type === \"math\") {\n                element = createmathelement();\n            } else if (\"\" === type) {\n                return render(vdom.children);\n            } else {\n                element = namespace ? createElementNS(namespace, type) : createnativeelement(type);\n            }\n        } else if (typeof type == \"function\") {\n            if (isobject(type[\"defaultProps\"])) {\n                vdom.props = JSON.parse(JSON.stringify({\n                    ...type[\"defaultProps\"],\n                    ...vdom.props\n                }));\n            }\n            const propsjson = JSON.parse(JSON.stringify({\n                ...vdom.props,\n                ...Object.fromEntries(Object.entries(vdom.bindattr).map(([key, value]) => {\n                    return [ key, value.value ];\n                }))\n            }));\n            element = createcostumelemet(type, propsjson, vdom.children, vdom.options);\n        } else {\n            throwinvalideletype(vdom);\n        }\n        handleprops(element, vdom);\n        if (typeof type !== \"function\") {\n            mount(vdom.children.map(e => {\n                if (type === \"svg\") {\n                    return render(e, svgnamespace);\n                } else if (type === \"math\") {\n                    return render(e, mathnamespace);\n                } else if (namespace) {\n                    return render(e, namespace);\n                } else {\n                    return render(e);\n                }\n            }), element);\n        }\n        return element;\n    } else if (isarray(vdom)) {\n        return vdom.map(a => render(a));\n    } else {\n        throwinvalideletype(vdom);\n    }\n}\n\nfunction handleprops(element, vdom) {\n    ((element, vdom) => {\n        Object.entries(vdom.directives).forEach(([name, value]) => {\n            if (name in directives && typeof directives[name] === \"function\") {\n                directives[name](element, value, vdom);\n            } else {\n                throw new Error(\"invalid directives \" + name);\n            }\n        });\n        const attribute1 = createeleattragentreadwrite(element);\n        Object.assign(attribute1, vdom.props);\n        element[virtualdomsymbol] = vdom;\n        vdom.element = element;\n        Object.entries(vdom.bindattr).forEach(([key, primitivestate]) => {\n            attribute1[key] = primitivestate.value;\n            watch(primitivestate, state => {\n                attribute1[key] = state.value;\n            });\n        });\n        if (!element[eventlistenerssymbol]) {\n            element[eventlistenerssymbol] = [];\n        }\n        Object.entries(vdom.onevent).forEach(([event, callbacks]) => {\n            onevent(element, event, callbacks);\n        });\n    })(element, vdom);\n    if (!element[bindstatesymbol]) {\n        element[bindstatesymbol] = new Set;\n    }\n    [ Object.values(vdom.bindattr), Object.values(vdom.directives) ].flat().filter(e => isReactiveState(e)).forEach(e => element[bindstatesymbol].add(e));\n}\n\nfunction readonlyproxy(target) {\n    return new Proxy(target, {\n        set() {\n            return false;\n        },\n        defineProperty() {\n            return false;\n        },\n        deleteProperty() {\n            return false;\n        }\n    });\n}\n\nconst Reflect$3 = window.Reflect;\n\nconst {ownKeys: ownKeys$1, deleteProperty: deleteProperty$1, apply: apply, construct: construct$1, defineProperty: defineProperty, get: get$2, getOwnPropertyDescriptor: getOwnPropertyDescriptor$1, getPrototypeOf: getPrototypeOf$1, has: has$1, set: set$2, setPrototypeOf: setPrototypeOf} = Reflect$3;\n\nfunction isobject$2(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isfunction$1(a) {\n    return typeof a === \"function\";\n}\n\nfunction deepobserveaddpath(target, callback, patharray = [], ancestor = target) {\n    if (typeof callback !== \"function\") {\n        throw Error(\"observe callback invalid !\");\n    }\n    if (isfunction$1(target) || isobject$2(target)) {\n        let fakeobj;\n        if (isobject$2(target)) {\n            fakeobj = {};\n        } else {\n            fakeobj = () => {};\n        }\n        setPrototypeOf(fakeobj, null);\n        return (fakeobj => {\n            return new Proxy(fakeobj, {\n                defineProperty(t, p, a) {\n                    return defineProperty(target, p, a);\n                },\n                deleteProperty(t, p) {\n                    callback(ancestor, [ ...patharray, p ], undefined, get$2(target, p));\n                    return deleteProperty$1(target, p);\n                },\n                ownKeys() {\n                    return ownKeys$1(target);\n                },\n                has(t, p) {\n                    return has$1(target, p);\n                },\n                getPrototypeOf() {\n                    return getPrototypeOf$1(target);\n                },\n                setPrototypeOf(t, v) {\n                    return setPrototypeOf(target, v);\n                },\n                construct(t, argumentslist) {\n                    if (typeof target === \"function\") {\n                        return construct$1(target, argumentslist);\n                    }\n                },\n                apply(t, thisarg, argarray) {\n                    if (typeof target === \"function\") {\n                        return apply(target, thisarg, argarray);\n                    }\n                },\n                getOwnPropertyDescriptor(t, k) {\n                    var descripter = getOwnPropertyDescriptor$1(target, k);\n                    if (descripter) {\n                        descripter.configurable = true;\n                        return descripter;\n                    } else {\n                        return;\n                    }\n                },\n                set(t, k, v) {\n                    if (typeof callback === \"function\") {\n                        callback(ancestor, [ ...patharray, k ], v, get$2(target, k));\n                    }\n                    return set$2(target, k, v);\n                },\n                get(t, k) {\n                    var value = get$2(target, k);\n                    if (isfunction$1(value) || isobject$2(value)) {\n                        return deepobserveaddpath(value, callback, [ ...patharray, k ], target);\n                    } else {\n                        return value;\n                    }\n                }\n            });\n        })(fakeobj);\n    } else {\n        return target;\n    }\n}\n\nfunction observedeepagent(target, callback) {\n    if (typeof callback !== \"function\") {\n        throw Error(\"observe callback  invalid function \");\n    }\n    if (typeof Proxy !== \"function\") {\n        throw Error(\"Proxy unsupported!\");\n    }\n    if (isfunction$1(target) || isobject$2(target)) {\n        return deepobserveaddpath(target, callback, [], target);\n    } else {\n        return target;\n    }\n}\n\nfunction createstate(init) {\n    if (isprimitive(init)) {\n        return new Proxy(new ReactiveState(init), {\n            defineProperty() {\n                return false;\n            },\n            deleteProperty() {\n                return false;\n            },\n            set(target, key, value) {\n                if (key === textnodesymbol) {\n                    return set(target, key, value);\n                }\n                if (key === \"value\" && isprimitive(value)) {\n                    set(target, key, value);\n                    target[dispatchsymbol]();\n                    return true;\n                } else {\n                    return false;\n                }\n            }\n        });\n    } else if (isReactiveState(init)) {\n        return createstate(init.value);\n    } else if (isobject(init)) {\n        return new Proxy(new ReactiveState(init), {\n            defineProperty() {\n                return false;\n            },\n            getOwnPropertyDescriptor(target, key) {\n                const myvalue = get(target, \"value\");\n                const descripter = getOwnPropertyDescriptor(target, key) || getOwnPropertyDescriptor(myvalue, key);\n                if (descripter) {\n                    descripter.configurable = true;\n                }\n                return descripter;\n            },\n            deleteProperty(target, key) {\n                const myvalue = get(target, \"value\");\n                if (has(myvalue, key)) {\n                    deleteProperty(myvalue, key);\n                    target[dispatchsymbol](key);\n                    return true;\n                } else {\n                    return true;\n                }\n            },\n            has(target, key) {\n                const myvalue = get(target, \"value\");\n                return has(target, key) || has(myvalue, key);\n            },\n            get(target, key) {\n                const value = get(target, \"value\");\n                if (has(target, key)) {\n                    return get(target, key);\n                } else if (has(value, key)) {\n                    if (isSet(value) && (key === \"add\" || key === \"delete\")) {\n                        const myvalue = value;\n                        if (key === \"add\") {\n                            return add => {\n                                if (!Set.prototype.has.call(myvalue, add)) {\n                                    const returnvalue = Set.prototype[key].call(myvalue, add);\n                                    target[dispatchsymbol]();\n                                    return returnvalue;\n                                }\n                            };\n                        } else if (key === \"delete\") {\n                            return dele => {\n                                if (Set.prototype.has.call(myvalue, dele)) {\n                                    const returnvalue = Set.prototype[key].call(myvalue, dele);\n                                    target[dispatchsymbol]();\n                                    return returnvalue;\n                                }\n                            };\n                        }\n                    } else {\n                        return observedeepagent(get(value, key), () => {\n                            target[dispatchsymbol](key);\n                        });\n                    }\n                }\n            },\n            ownKeys(target) {\n                return Array.from(new Set([ ...ownKeys(target), ...ownKeys(get(target, \"value\")) ]));\n            },\n            set(target, key, value) {\n                if (key === textnodesymbol) {\n                    return set(target, key, value);\n                }\n                const myvalue = get(target, \"value\");\n                if (key === \"value\" && isobject(value)) {\n                    set(target, key, value);\n                    target[dispatchsymbol]();\n                    return true;\n                } else if (!has(target, key)) {\n                    set(myvalue, key, value);\n                    target[dispatchsymbol](key);\n                } else if (key === \"length\") {\n                    set(myvalue, key, value);\n                    target[dispatchsymbol](key);\n                } else {\n                    return false;\n                }\n                return true;\n            }\n        });\n    } else {\n        throw TypeError(\"invalid State\");\n    }\n}\n\nconst attributessymbol = Symbol(\"attributes\");\n\nconst elementsymbol = Symbol(\"element\");\n\nconst vdomsymbol = Symbol(\"componentinnervdom\");\n\nconst mountedsymbol = Symbol(\"mounted\");\n\nconst unmountedsymbol = Symbol(\"unmounted\");\n\nconst readysymbol = Symbol(\"ready\");\n\nfunction createComponent(custfun) {\n    var _a, _b, _c;\n    if (isfunction(custfun)) {\n        const defaultProps = custfun[\"defaultProps\"];\n        return _c = class extends AttrChange {\n            constructor(propsjson = {}, children = []) {\n                super();\n                this[_a] = false;\n                this[_b] = {};\n                const attrs = createeleattragentreadwrite(this);\n                if (isobject(this.constructor[\"defaultProps\"])) {\n                    Object.assign(attrs, this.constructor[\"defaultProps\"]);\n                }\n                if (isobject(propsjson)) {\n                    Object.assign(attrs, propsjson);\n                }\n                const props = createeleattragentreadwrite(this);\n                const thisattributess = Object.fromEntries(Object.entries(props).map(([key, value]) => [ key, createstate(value) ]));\n                this[attributessymbol] = readonlyproxy(thisattributess);\n                openctx();\n                let possiblyvirtualdom;\n                try {\n                    possiblyvirtualdom = custfun(readonlyproxy(thisattributess), children);\n                } catch (error) {\n                    closectx();\n                    throw error;\n                }\n                if (isarray(possiblyvirtualdom)) {\n                    possiblyvirtualdom = possiblyvirtualdom.flat(Infinity).filter(Boolean);\n                }\n                if (isvalidvdom(possiblyvirtualdom)) {\n                    this[vdomsymbol] = isarray(possiblyvirtualdom) ? possiblyvirtualdom : [ possiblyvirtualdom ];\n                    this[vdomsymbol] = this[vdomsymbol].flat(Infinity).filter(Boolean);\n                    this[mountedsymbol] = getMounted();\n                    this[unmountedsymbol] = getUnMounted();\n                    closectx();\n                } else {\n                    closectx();\n                    console.error(possiblyvirtualdom);\n                    throw Error(invalid_Virtualdom);\n                }\n            }\n            connectedCallback() {\n                if (!this[elementsymbol]) {\n                    this[elementsymbol] = render(this[vdomsymbol]).flat(Infinity);\n                }\n                if (!this[readysymbol]) {\n                    createApp(this[elementsymbol], this);\n                    this[readysymbol] = true;\n                }\n                this[mountedsymbol].forEach(f => f());\n                onmounted(this);\n            }\n            disconnectedCallback() {\n                this[unmountedsymbol].forEach(f => f());\n                onunmounted(this);\n            }\n            attributeChangedCallback(name) {\n                if (this[attributessymbol][name]) {\n                    this[attributessymbol][name].value = createeleattragentreadwrite(this)[name];\n                }\n            }\n        }, _a = readysymbol, _b = attributessymbol, _c.defaultProps = isobject(defaultProps) ? JSON.parse(JSON.stringify(defaultProps)) : undefined, \n        _c;\n    } else {\n        console.error(custfun);\n        throw TypeError(invalid_Function);\n    }\n}\n\nif (!isfunction(window.HTMLElement) || !isfunction(window.Proxy) || !isobject(window.customElements) || !isfunction(window.CustomElementRegistry)) {\n    throw new TypeError(\" browser not supported !\");\n}\n\nfunction extenddirectives(options) {\n    Object.entries(options).forEach(([key, value]) => {\n        if (typeof value !== \"function\") {\n            throw TypeError(invalid_Function);\n        } else {\n            directives[key] = value;\n        }\n    });\n}\n\nextenddirectives({\n    value(element, value, vdom) {\n        if (isReactiveState(value) && (vdom.type === \"input\" || vdom.type === \"textarea\")) {\n            vdom.bindattr[\"value\"] = value;\n            [ \"change\", \"input\" ].forEach(eventname => {\n                const origin = vdom.onevent[eventname];\n                const eventsarray = [ origin ].flat(Infinity);\n                Reflect.set(vdom.onevent, eventname, eventsarray.concat([ e => {\n                    return value.value = e.target.value;\n                } ]).filter(Boolean));\n            });\n        } else {\n            console.error(value);\n            console.error(vdom);\n            throw TypeError(invalid_ReactiveState + invalid_Virtualdom);\n        }\n    }\n});\n\nfunction createRef(init) {\n    return {\n        value: init\n    };\n}\n\nconst Fragment = \"\";\n\nexport { Fragment, conditon as condition, createApp, createComponent, createElement, createRef, createstate as createState, extenddirectives as directives, createElement as h, assertvalidvirtualdom as html, useMounted, useUnMounted, watch };\n//# sourceMappingURL=index.js.map\n"],"names":["Reflect$1","window","Reflect","construct","deleteProperty","get","getOwnPropertyDescriptor","getPrototypeOf","has","ownKeys","set","isundefined","a","isobject","isstring","isfunction","isarray","Array","isArray","gettagtype","getsymbol","Symbol","toString","call","replace","toLowerCase","isSet","Set","invalid_Function","message","ctxopen","Mounted","UnMounted","useMounted","fun","TypeError","Error","push","useUnMounted","clearMounted","clearUnMounted","closectx","document","seteletext","e","v","textContent","setelehtml","innerHTML","createElementNS","namespace","name","createtextnode","data","createTextNode","svgnamespace","mathnamespace","domaddlisten","ele","event","addEventListener","getdomchildren","from","childNodes","getAttribute","HTMLElementprototype","HTMLElement","prototype","isprimitive","isnumber","isboolean","_a","_b","_c","isReactiveState","ReactiveState","textnodesymbol","eventtargetsymbol","memlisteners","dispatchsymbol","subscribesymbol","removeallistenerssymbol","addallistenerssymbol","[object Object]","init","this","undefined","EventTarget","Object","defineProperty","value","configurable","writable","toStringTag","forEach","callback","String","JSON","stringify","eventname","dispatchEvent","CustomEvent","detail","removeEventListener","toPrimitive","requestAnimationFrame","directives","ref","html","createhtmlandtextdirective","text","errorname","watch","state","Reflect$2","get$1","set$1","valuestring","isobject$1","isstring$1","isSet$1","createeleattragentreadwrite","Element","asserthtmlelement","isinputtextortextareaflag","tagname","tagName","geteletagname","isinputtextortextarea","temp","create","outputattrs","Proxy","keys","getAttributeNames","attributesownkeys","target","key","getattribute","parse","error","t","setattribute","o","entries","map","join","k","removeAttribute","removeAttribute$1","hasAttribute","otherdescipter","enumerable","myvalue","setAttribute","attributeChangedCallback","AttrChange","qualifiedName","oldValue","Virtualdom","type","props","children","options","element","onevent","bindattr","propsentries","assign","fromEntries","filter","test","slice","eventlistenerssymbol","firstaddlisteners","callarray","onmounted","Node","readdlisteners","bindstatesymbol","rewatch","onunmounted","domremovelisten","removelisteners","unwatch","n","r","u","p","length","s","h","apply","f","Map","createElement","typenormalized","propsnormalized","childrennormalized","flat","Infinity","trim","arguments","bind","isvalidvdom","flag","includes","assertvalidvirtualdom","args","vdom","invalid_Virtualdom","mount","container","eles","appendChild","appendchild","createApp","el","array","body","documentElement","head","elesarray","render","invalid_ReactiveState","truevdomsymbol","falsevdomsymbol","trueelesymbol","falseelesymbol","handletrue","handlefalse","Condition","propsjson","super","optionstrue","optionsfalse","Boolean","elementtomount","attrs","conditon","iftrue","iffalse","true","false","statekey","invalid_custom_element_class","customElements","CustomElementRegistry","elementset","for","elementmap","RandomDefineCustomElement","initclass","extendsname","RandomDefineCustomElement$1","isclassextendsHTMLElement","表","组件状态名","find","elementname","fill","i","fromCharCode","Math","floor","random","getrandomstringandnumber","define","extends","constructor","add","iterator","reactivestatesymbol","virtualdomsymbol","throwinvalideletype","reactive","textnode","nodeValue","changetext","createDocumentFragment","createnativeelement","createcostumelemet","attribute1","primitivestate","callbacks","values","handleprops","readonlyproxy","Reflect$3","ownKeys$1","deleteProperty$1","construct$1","get$2","getOwnPropertyDescriptor$1","getPrototypeOf$1","has$1","set$2","setPrototypeOf","isobject$2","isfunction$1","observedeepagent","deepobserveaddpath","patharray","ancestor","fakeobj","argumentslist","thisarg","argarray","descripter","createstate","returnvalue","dele","attributessymbol","elementsymbol","vdomsymbol","mountedsymbol","unmountedsymbol","readysymbol","createComponent","custfun","defaultProps","thisattributess","possiblyvirtualdom","extenddirectives","createRef","eventsarray","concat","Fragment"],"mappings":"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"}