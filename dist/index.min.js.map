{"version":3,"file":"index.min.js","sources":["index.js"],"sourcesContent":["const Reflect$1 = window.Reflect;\n\nconst {construct: construct, deleteProperty: deleteProperty, get: get, getOwnPropertyDescriptor: getOwnPropertyDescriptor, getPrototypeOf: getPrototypeOf, has: has, ownKeys: ownKeys, set: set} = Reflect$1;\n\nfunction isundefined(a) {\n    return typeof a === \"undefined\";\n}\n\nfunction isnumber(a) {\n    return typeof a === \"number\";\n}\n\nfunction isboolean(a) {\n    return typeof a === \"boolean\";\n}\n\nfunction isobject(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isstring(a) {\n    return typeof a === \"string\";\n}\n\nfunction isfunction(a) {\n    return typeof a === \"function\";\n}\n\nfunction isarray(a) {\n    return a instanceof Array && Array.isArray(a) && gettagtype(a) === \"array\";\n}\n\nfunction getsymbol(a) {\n    return Symbol(a);\n}\n\nfunction gettagtype(a) {\n    return {}.toString.call(a).replace(\"[object \", \"\").replace(\"]\", \"\").toLowerCase().trim();\n}\n\nfunction isSet(a) {\n    return gettagtype(a) === \"set\" && a instanceof Set;\n}\n\nconst invalid_Function = \"invalid Function\";\n\nconst message = \"invalid useMounted or useUnMounted out of createComponent\";\n\nlet ctxopen = false;\n\nlet Mounted = new Set;\n\nlet UnMounted = new Set;\n\nfunction getMounted() {\n    return [ ...Mounted ];\n}\n\nfunction getUnMounted() {\n    return [ ...UnMounted ];\n}\n\nfunction useMounted(fun) {\n    if (isfunction(fun)) {\n        if (ctxopen) {\n            Mounted.add(fun);\n        } else {\n            throw Error(message);\n        }\n    } else {\n        throw TypeError(invalid_Function);\n    }\n}\n\nfunction useUnMounted(fun) {\n    if (isfunction(fun)) {\n        if (ctxopen) {\n            UnMounted.add(fun);\n        } else {\n            throw Error(message);\n        }\n    } else {\n        throw TypeError(invalid_Function);\n    }\n}\n\nfunction clearMounted() {\n    Mounted = new Set;\n}\n\nfunction clearUnMounted() {\n    UnMounted = new Set;\n}\n\nfunction openctx() {\n    ctxopen = true;\n    clearMounted();\n    clearUnMounted();\n}\n\nfunction closectx() {\n    ctxopen = false;\n    clearMounted();\n    clearUnMounted();\n}\n\nconst readysymbol = Symbol(\"ready\");\n\nconst document$1 = window.document;\n\nfunction seteletext(e, v) {\n    e.textContent = v;\n}\n\nfunction setelehtml(e, v) {\n    e.innerHTML = v;\n}\n\nfunction appendchild(container, ele) {\n    container.appendChild(ele);\n}\n\nfunction createsvgelement() {\n    return createElementNS(svgnamespace, \"svg\");\n}\n\nfunction createDocumentFragment() {\n    return document$1.createDocumentFragment();\n}\n\nfunction createnativeelement(type) {\n    return document$1.createElement(type);\n}\n\nfunction createElementNS(namespace, name) {\n    return document$1.createElementNS(namespace, name);\n}\n\nfunction createtextnode(data) {\n    return document$1.createTextNode(data);\n}\n\nconst svgnamespace = \"http://www.w3.org/2000/svg\";\n\nfunction changetext(textnode, value) {\n    textnode.nodeValue = String(value);\n}\n\nconst mathnamespace = \"http://www.w3.org/1998/Math/MathML\";\n\nfunction createmathelement() {\n    return createElementNS(mathnamespace, \"math\");\n}\n\nfunction domaddlisten(ele, event, call) {\n    ele.addEventListener(event, call);\n}\n\nfunction domremovelisten(ele, event, call) {\n    ele.removeEventListener(event, call);\n}\n\nfunction getdomchildren(ele) {\n    return Array.from(ele.childNodes);\n}\n\nfunction getAttribute(ele, name) {\n    return HTMLElementprototype.getAttribute.call(ele, name);\n}\n\nfunction setAttribute(ele, name, value) {\n    HTMLElementprototype.setAttribute.call(ele, name, value);\n}\n\nfunction removeAttribute(ele, name) {\n    HTMLElementprototype.removeAttribute.call(ele, name);\n}\n\nconst HTMLElementprototype = HTMLElement.prototype;\n\nfunction insertfirst(container, ele) {\n    container.insertBefore(ele, container.firstChild);\n}\n\nfunction isprimitive(a) {\n    return isstring(a) || isnumber(a) || isboolean(a) || isundefined(a);\n}\n\nvar _a, _b;\n\nconst invalid_primitive_or_object_state = \"invalid primitive or object state\";\n\nfunction isReactiveState(a) {\n    return a instanceof ReactiveState;\n}\n\nconst eventtargetsymbol = Symbol(\"eventtatget\");\n\nconst memlisteners = Symbol(\"memlisteners\");\n\nconst dispatchsymbol = getsymbol(\"dispatch\");\n\nconst subscribesymbol = getsymbol(\"subscribe\");\n\nconst removeallistenerssymbol = getsymbol(\"removeallisteners\");\n\nconst addallistenerssymbol = getsymbol(\"addallisteners\");\n\nclass ReactiveState {\n    constructor(init) {\n        this[_a] = new EventTarget;\n        this[_b] = [];\n        if (isprimitive(init) || isobject(init)) {\n            Object.defineProperty(this, \"value\", {\n                value: init,\n                configurable: true,\n                writable: true\n            });\n        } else {\n            console.error(init);\n            throw TypeError(invalid_primitive_or_object_state);\n        }\n        Object.defineProperty(this, Symbol.toStringTag, {\n            value: \"ReactiveState\",\n            configurable: true\n        });\n    }\n    [addallistenerssymbol]() {\n        this[memlisteners].forEach(([value, callback]) => {\n            this[eventtargetsymbol].addEventListener(value, callback);\n        });\n    }\n    valueOf() {\n        return this.value;\n    }\n    toString() {\n        const value = this.value;\n        return isprimitive(value) ? String(value) : isSet(value) ? JSON.stringify([ ...value ]) : isobject(value) ? JSON.stringify(value) : \"\";\n    }\n    [(_a = eventtargetsymbol, _b = memlisteners, dispatchsymbol)](eventname) {\n        const name = eventname ? String(eventname) : \"value\";\n        if (name !== \"value\") {\n            this[eventtargetsymbol].dispatchEvent(new CustomEvent(name, {\n                detail: name\n            }));\n        }\n        this[eventtargetsymbol].dispatchEvent(new CustomEvent(\"value\", {\n            detail: name\n        }));\n    }\n    [subscribesymbol](callback, eventname) {\n        const name = eventname ? String(eventname) : \"value\";\n        this[memlisteners].push([ name, event => callback(this, event.detail) ]);\n    }\n    [removeallistenerssymbol]() {\n        this[memlisteners].forEach(([value, callback]) => {\n            this[eventtargetsymbol].removeEventListener(value, callback);\n        });\n    }\n    [Symbol.toPrimitive]() {\n        const value = this.value;\n        return isprimitive(value) ? value : isobject(value) ? JSON.stringify(value) : void 0;\n    }\n}\n\nfunction isconnected(element) {\n    return document.documentElement === getancestornode(element);\n}\n\nfunction getancestornode(node) {\n    while (node.parentNode && node.parentNode !== document) {\n        node = node.parentNode;\n    }\n    return node;\n}\n\nconst requestAnimationFrame = window.requestAnimationFrame;\n\nvar directives = {\n    ref(ele, ref) {\n        if (typeof ref == \"object\") {\n            ref.value = ele;\n        } else {\n            throw TypeError(\"invalid ref\");\n        }\n    },\n    html(ele, html) {\n        createhtmlandtextdirective(setelehtml, \"html\")(ele, html);\n    },\n    text(ele, text) {\n        createhtmlandtextdirective(seteletext, \"text\")(ele, text);\n    }\n};\n\nfunction createhtmlandtextdirective(seteletext, errorname) {\n    return function(ele, text) {\n        const element = ele;\n        if (typeof text == \"string\") {\n            requestAnimationFrame(() => {\n                seteletext(ele, text);\n            });\n        } else if (isReactiveState(text)) {\n            watch(text, state => {\n                if (isconnected(element)) {\n                    seteletext(ele, String(state));\n                }\n            });\n            requestAnimationFrame(() => {\n                seteletext(ele, String(text));\n            });\n        } else {\n            throw TypeError(\"invalid \" + errorname);\n        }\n    };\n}\n\nconst Reflect$2 = window.Reflect;\n\nconst {get: get$1, set: set$1} = Reflect$2;\n\nconst valuestring = \"value\";\n\nfunction isobject$1(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isstring$1(a) {\n    return typeof a === \"string\";\n}\n\nfunction isArray(a) {\n    return Array.isArray(a);\n}\n\nfunction isSet$1(a) {\n    return a instanceof Set;\n}\n\nfunction objtostylestring(o) {\n    return Object.entries(o).map(([key, value]) => key + \":\" + value).join(\";\");\n}\n\nfunction asserthtmlelement(ele) {\n    if (!(ele instanceof Element)) {\n        throw TypeError(\"invalid HTMLElement!\");\n    } else return true;\n}\n\nfunction createeleattragentreadwrite(ele) {\n    asserthtmlelement(ele);\n    const isinputtextortextareaflag = isinputtextortextarea(ele);\n    var temp = Object.create(null);\n    const outputattrs = new Proxy(temp, {\n        ownKeys() {\n            const keys = attributesownkeys(ele);\n            return isinputtextortextareaflag ? Array.from(new Set([ ...keys, valuestring ])) : keys;\n        },\n        get(target, key) {\n            if (isinputtextortextareaflag && key === valuestring) {\n                return get$1(ele, valuestring);\n            } else {\n                const v = getattribute(ele, String(key));\n                if (v === \"\") {\n                    return true;\n                }\n                if (v === null) {\n                    return;\n                }\n                if (isstring$1(v)) {\n                    try {\n                        return JSON.parse(String(v));\n                    } catch (error) {\n                        return v;\n                    }\n                } else return;\n            }\n        },\n        set(t, key, v) {\n            if (isinputtextortextareaflag && key === valuestring) {\n                return set$1(ele, valuestring, v);\n            } else if (key === \"style\") {\n                setattribute(ele, String(key), isstring$1(v) ? v : isobject$1(v) ? objtostylestring(v) : String(v));\n                return true;\n            } else if (key === \"class\" && isobject$1(v)) {\n                if (isArray(v)) {\n                    setattribute(ele, String(key), v.join(\" \"));\n                } else if (isSet$1(v)) {\n                    setattribute(ele, String(key), [ ...v ].join(\" \"));\n                } else {\n                    setattribute(ele, String(key), JSON.stringify(v));\n                }\n            } else {\n                if (isSet$1(v)) {\n                    setattribute(ele, String(key), JSON.stringify([ ...v ]));\n                } else {\n                    if (v === true) {\n                        v = \"\";\n                    }\n                    setattribute(ele, String(key), isobject$1(v) ? JSON.stringify(v) : String(v));\n                    return true;\n                }\n            }\n            return true;\n        },\n        deleteProperty(t, k) {\n            removeAttribute$1(ele, String(k));\n            return true;\n        },\n        has(target, key) {\n            if (isinputtextortextareaflag && key === valuestring) {\n                return true;\n            } else {\n                return hasAttribute(ele, String(key));\n            }\n        },\n        defineProperty() {\n            return false;\n        },\n        getOwnPropertyDescriptor(target, key) {\n            const otherdescipter = {\n                enumerable: true,\n                configurable: true,\n                writable: true\n            };\n            const myvalue = get$1(outputattrs, key);\n            if (typeof myvalue !== \"undefined\") {\n                return {\n                    value: myvalue,\n                    ...otherdescipter\n                };\n            } else {\n                return;\n            }\n        }\n    });\n    return outputattrs;\n}\n\nfunction attributesownkeys(ele) {\n    return ele.getAttributeNames();\n}\n\nfunction getattribute(ele, key) {\n    return ele.getAttribute(key);\n}\n\nfunction geteletagname(ele) {\n    return ele.tagName.toLowerCase();\n}\n\nfunction setattribute(ele, key, value) {\n    return ele.setAttribute(key, value);\n}\n\nfunction removeAttribute$1(ele, key) {\n    return ele.removeAttribute(key);\n}\n\nfunction hasAttribute(ele, key) {\n    return ele.hasAttribute(key);\n}\n\nfunction isinputtextortextarea(ele) {\n    const tagname = geteletagname(ele);\n    return tagname === \"input\" && get$1(ele, \"type\") === \"text\" || tagname === \"textarea\";\n}\n\nconst attributeChangedCallback = \"attributeChangedCallback\";\n\nclass AttrChange extends HTMLElement {\n    setAttribute(qualifiedName, value) {\n        const oldValue = getAttribute(this, qualifiedName);\n        if (oldValue !== value) {\n            setAttribute(this, qualifiedName, value);\n            if (isfunction(this[attributeChangedCallback])) {\n                this[attributeChangedCallback](qualifiedName, oldValue, value);\n            }\n        }\n    }\n    removeAttribute(qualifiedName) {\n        const oldValue = getAttribute(this, qualifiedName);\n        if (null !== oldValue) {\n            removeAttribute(this, qualifiedName);\n            if (isfunction(this[attributeChangedCallback])) {\n                this[attributeChangedCallback](qualifiedName, oldValue, undefined);\n            }\n        }\n    }\n}\n\nfunction merge_entries(a) {\n    const m = {};\n    a.forEach(([key, value]) => {\n        if (!m[key]) {\n            m[key] = new Set;\n        }\n        value.forEach(v => {\n            m[key].add(v);\n        });\n    });\n    return Object.entries(m).map(([k, v]) => [ k, Array.from(v) ]);\n}\n\nfunction isVirtualdom(a) {\n    return a instanceof Virtualdom;\n}\n\nclass Virtualdom {\n    constructor(type = \"\", props = {}, children = []) {\n        this.type = \"\";\n        this.props = {};\n        this.children = [];\n        this.directives = {};\n        this.onevent = {};\n        this.bindattr = {};\n        const 字母大小写 = /[A-Za-z]/;\n        const propsentries = Object.entries(props);\n        const propsentriesNOTevents = propsentries.filter(([key]) => !(key.startsWith(\"@\") || key.startsWith(\"on\")));\n        const 字母开头的entries = propsentriesNOTevents.filter(([key]) => 字母大小写.test(key[0]));\n        Object.assign(this, {\n            type: type,\n            bindattr: Object.fromEntries(字母开头的entries.filter(e => isReactiveState(e[1]))),\n            props: Object.fromEntries(字母开头的entries.filter(e => !isReactiveState(e[1]))),\n            children: children.flat(),\n            onevent: Object.fromEntries(merge_entries([ ...propsentries.filter(([key]) => /\\@/.test(key[0])).map(([key, value]) => [ key.slice(1).toLowerCase().trim(), [ value ].flat() ]), ...propsentries.filter(([key]) => key.startsWith(\"on\")).map(([key, value]) => [ key.slice(2).toLowerCase().trim(), [ value ].flat() ]) ])),\n            directives: Object.fromEntries(propsentriesNOTevents.filter(([key]) => /\\*/.test(key[0])).map(([key, value]) => [ key.slice(1).toLowerCase().trim(), value ]))\n        });\n        Object.defineProperty(this, Symbol.toStringTag, {\n            value: \"virtualdom\",\n            configurable: true\n        });\n    }\n}\n\nfunction toArray(a) {\n    return (isarray(a) ? a : [ a ]).flat();\n}\n\nconst eventlistenerssymbol = Symbol(\"eventlisteners\");\n\nfunction onevent(element, eventname, callback) {\n    if (!element[eventlistenerssymbol]) {\n        element[eventlistenerssymbol] = [];\n    }\n    firstaddlisteners(element, eventname, toArray(callback));\n}\n\nfunction firstaddlisteners(ele, event, callarray) {\n    callarray.forEach(call => {\n        if (!isfunction(call)) {\n            console.error(call);\n            throw TypeError(invalid_Function);\n        }\n        ele[eventlistenerssymbol].push([ event, call ]);\n        domaddlisten(ele, event, call);\n    });\n}\n\nfunction removelisteners(ele) {\n    if (ele[eventlistenerssymbol]) {\n        ele[eventlistenerssymbol].forEach(([event, call]) => {\n            domremovelisten(ele, event, call);\n        });\n    }\n}\n\nfunction readdlisteners(ele) {\n    if (ele[eventlistenerssymbol]) {\n        ele[eventlistenerssymbol].forEach(([event, call]) => {\n            domaddlisten(ele, event, call);\n        });\n    }\n}\n\nfunction onmounted(ele) {\n    if (isarray(ele)) {\n        ele.forEach(e => {\n            onmounted(e);\n        });\n    } else if (ele instanceof Node) {\n        if (ele[eventlistenerssymbol]) {\n            readdlisteners(ele);\n        }\n        if (ele[bindstatesymbol]) {\n            ele[bindstatesymbol].forEach(state => {\n                rewatch(state);\n            });\n        }\n        onmounted(getdomchildren(ele));\n    }\n}\n\nfunction onunmounted(ele) {\n    if (isarray(ele)) {\n        ele.forEach(e => {\n            onunmounted(e);\n        });\n    } else if (ele instanceof Node) {\n        if (ele[eventlistenerssymbol]) {\n            removelisteners(ele);\n        }\n        onunmounted(getdomchildren(ele));\n    }\n}\n\nvar n = function(t, r, u, e) {\n    for (var p = 1; p < r.length; p++) {\n        var s = r[p], h = \"number\" == typeof s ? u[s] : s, a = r[++p];\n        1 === a ? e[0] = h : 3 === a ? e[1] = Object.assign(e[1] || {}, h) : 5 === a ? (e[1] = e[1] || {})[r[++p]] = h : 6 === a ? e[1][r[++p]] += h + \"\" : e.push(a ? t.apply(null, n(t, h, u, [ \"\", null ])) : h);\n    }\n    return e;\n}, t = function(n) {\n    for (var t, r, u = 1, e = \"\", p = \"\", s = [ 0 ], h = function(n) {\n        1 === u && (n || (e = e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g, \"\"))) ? s.push(n || e, 0) : 3 === u && (n || e) ? (s.push(n || e, 1), \n        u = 2) : 2 === u && \"...\" === e && n ? s.push(n, 3) : 2 === u && e && !n ? s.push(!0, 5, e) : u >= 5 && ((e || !n && 5 === u) && (s.push(e, u, r), \n        u = 6), n && (s.push(n, u, r), u = 6)), e = \"\";\n    }, a = 0; a < n.length; a++) {\n        a && (1 === u && h(), h(a));\n        for (var f = 0; f < n[a].length; f++) t = n[a][f], 1 === u ? \"<\" === t ? (h(), s = [ s ], \n        u = 3) : e += t : 4 === u ? \"--\" === e && \">\" === t ? (u = 1, e = \"\") : e = t + e[0] : p ? t === p ? p = \"\" : e += t : '\"' === t || \"'\" === t ? p = t : \">\" === t ? (h(), \n        u = 1) : u && (\"=\" === t ? (u = 5, r = e, e = \"\") : \"/\" === t && (u < 5 || \">\" === n[a][f + 1]) ? (h(), \n        3 === u && (s = s[0]), u = s, (s = s[0]).push(u, 2), u = 0) : \" \" === t || \"\\t\" === t || \"\\n\" === t || \"\\r\" === t ? (h(), \n        u = 2) : e += t), 3 === u && \"!--\" === e && (u = 4, s = s[0]);\n    }\n    return h(), s;\n}, r = \"function\" == typeof Map, u = r ? new Map : {}, e = r ? function(n) {\n    var r = u.get(n);\n    return r || u.set(n, r = t(n)), r;\n} : function(n) {\n    for (var r = \"\", e = 0; e < n.length; e++) r += n[e].length + \"-\" + n[e];\n    return u[r] || (u[r] = t(n));\n};\n\nfunction htm(t) {\n    var r = n(this, e(t), arguments, []);\n    return r.length > 1 ? r : r[0];\n}\n\nfunction createElement(type = \"\", props = {}, ...children) {\n    let typenormalized = isstring(type) || isfunction(type) ? type : \"\";\n    const propsnormalized = isobject(props) ? props : {};\n    const childrennormalized = children.flat(Infinity);\n    if (isstring(typenormalized)) {\n        typenormalized = typenormalized.trim().toLowerCase();\n    }\n    if (\"\" === typenormalized) {\n        return childrennormalized;\n    }\n    return new Virtualdom(typenormalized, propsnormalized, childrennormalized);\n}\n\nfunction html(...inargs) {\n    return htm.call(createElement, ...inargs);\n}\n\nfunction isvalidvdom(v) {\n    let flag = false;\n    if (isarray(v)) {\n        flag = v.map(ele => {\n            return isvalidvdom(ele);\n        }).includes(false) ? false : true;\n        return flag;\n    } else if (isVirtualdom(v)) {\n        if (isvalidvdom(v.children)) {\n            return true;\n        }\n    } else if (isReactiveState(v)) {\n        return true;\n    } else {\n        if (isstring(v)) {\n            return true;\n        }\n    }\n    return flag;\n}\n\nfunction assertvalidvirtualdom(...args) {\n    const vdom = html(...args);\n    if (isvalidvdom(vdom)) {\n        return vdom;\n    } else {\n        console.error(vdom);\n        throw new TypeError(invalid_Virtualdom);\n    }\n}\n\nfunction mount(ele, container) {\n    seteletext(container, \"\");\n    const eles = toArray(ele).flat(Infinity);\n    eles.forEach(e => appendchild(container, e));\n    return container;\n}\n\nconst invalid_Virtualdom = \"invalid Virtualdom \";\n\nfunction createApp(vdom, container) {\n    if (isarray(vdom)) {\n        vdom = vdom.flat(Infinity);\n    }\n    const el = container;\n    if (!(el instanceof HTMLElement)) {\n        console.error(el);\n        throw TypeError(\"invalid container HTMLElement!\");\n    }\n    if (el === document$1.body || el === document$1.documentElement || el === document$1.head) {\n        throw Error(\"Do not mount  to <html> or <body> <head>.\");\n    }\n    const elesarray = toArray(vdom);\n    if (isvalidvdom(vdom)) {\n        mount(render(elesarray), container);\n    } else if (vdom instanceof Node || isNodeArray(vdom)) {\n        mount(elesarray, container);\n    } else {\n        console.error(vdom);\n        throw TypeError(invalid_Virtualdom);\n    }\n    return container;\n}\n\nfunction isNodeArray(array) {\n    return isarray(array) && !array.map(e => e instanceof Node).includes(false);\n}\n\nconst invalid_ReactiveState = \"invalid ReactiveState\";\n\nconst truevdomsymbol = Symbol(\"truevdom\");\n\nconst falsevdomsymbol = Symbol(\"falsevdom\");\n\nconst trueelesymbol = Symbol(\"trueele\");\n\nconst falseelesymbol = Symbol(\"falseele\");\n\nconst handletrue = getsymbol(\"handletrue\");\n\nconst handlefalse = getsymbol(\"handlefalse\");\n\nfunction conditon(conditon, iftrue, iffalse) {\n    var _a;\n    if (!(isReactiveState(conditon) || isboolean(conditon))) {\n        throw TypeError(invalid_ReactiveState);\n    }\n    [ iftrue, iffalse ].forEach(a => {\n        if (!(isundefined(a) || isvalidvdom(a))) {\n            throw new TypeError(invalid_Virtualdom);\n        }\n    });\n    const options = {\n        true: iftrue,\n        false: iffalse\n    };\n    class Condition extends AttrChange {\n        constructor() {\n            super();\n            this[_a] = false;\n            const optionstrue = get(options, \"true\");\n            const optionsfalse = get(options, \"false\");\n            this[truevdomsymbol] = isarray(optionstrue) ? optionstrue.filter(Boolean) : [ optionstrue ].filter(Boolean);\n            this[falsevdomsymbol] = isarray(optionsfalse) ? optionsfalse.filter(Boolean) : [ optionsfalse ].filter(Boolean);\n        }\n        [(_a = readysymbol, handlefalse)]() {\n            setelehtml(this, \"\");\n            if (this[falsevdomsymbol]) {\n                if (!this[falseelesymbol]) {\n                    this[falseelesymbol] = render(this[falsevdomsymbol]);\n                }\n                const elementtomount = this[falseelesymbol];\n                createApp(elementtomount, this);\n                elementtomount.forEach(e => onmounted(e));\n                if (this[trueelesymbol]) {\n                    this[trueelesymbol].forEach(e => onunmounted(e));\n                }\n            }\n        }\n        [handletrue]() {\n            setelehtml(this, \"\");\n            if (this[truevdomsymbol]) {\n                if (!this[trueelesymbol]) {\n                    this[trueelesymbol] = render(this[truevdomsymbol]);\n                }\n                const elementtomount = this[trueelesymbol];\n                createApp(elementtomount, this);\n                elementtomount.forEach(e => onmounted(e));\n                if (this[falseelesymbol]) {\n                    this[falseelesymbol].forEach(e => onunmounted(e));\n                }\n            }\n        }\n        connectedCallback() {\n            if (!this[readysymbol]) {\n                this[readysymbol] = true;\n                const attrs = createeleattragentreadwrite(this);\n                if (true === attrs[\"value\"]) {\n                    this[handletrue]();\n                }\n                if (false === attrs[\"value\"]) {\n                    this[handlefalse]();\n                }\n            }\n            onmounted(this);\n        }\n        disconnectedCallback() {\n            onunmounted(this);\n        }\n        attributeChangedCallback(name) {\n            if (this[readysymbol]) {\n                if (name === \"value\") {\n                    const attrs = createeleattragentreadwrite(this);\n                    if (true === attrs[\"value\"]) {\n                        this[handletrue]();\n                    }\n                    if (false === attrs[\"value\"]) {\n                        this[handlefalse]();\n                    }\n                }\n            }\n        }\n    }\n    const vdom = new Virtualdom(Condition, {\n        value: conditon\n    });\n    return vdom;\n}\n\nfunction watch(state, callback, statekey) {\n    if (!(isReactiveState(state) && isfunction(callback))) {\n        console.error(state);\n        console.error(callback);\n        throw TypeError(invalid_ReactiveState + invalid_Function);\n    }\n    if (statekey) {\n        state[subscribesymbol](callback, statekey);\n    } else {\n        state[subscribesymbol](callback);\n    }\n    requestAnimationFrame(() => {\n        state[addallistenerssymbol]();\n    });\n}\n\nfunction rewatch(state) {\n    state[addallistenerssymbol]();\n}\n\nconst invalid_custom_element_class = \"invalid custom element class !\";\n\nif (!isobject(window.customElements)) {\n    throw new TypeError(\" customElements  not supported !\");\n}\n\nfunction 使用value从表中查询key(表, 组件状态名) {\n    return Object.entries(表).find(v => {\n        return v[1] === 组件状态名;\n    })[0];\n}\n\nwindow.CustomElementRegistry = get(getPrototypeOf(window.customElements), \"constructor\");\n\nconst {customElements: customElements, CustomElementRegistry: CustomElementRegistry} = window;\n\nconst elementset = Symbol.for(\"elementset\");\n\nconst elementmap = Symbol.for(\"elementmap\");\n\nvar RandomDefineCustomElement = (initclass, extendsname) => RandomDefineCustomElement$1(initclass, extendsname);\n\nfunction RandomDefineCustomElement$1(initclass, extendsname, length = 1) {\n    if (!isclassextendsHTMLElement(initclass)) {\n        throw TypeError(invalid_custom_element_class);\n    }\n    if (!customElements[elementset].has(initclass)) {\n        const elementname = getrandomstringandnumber(length);\n        if (customElements.get(elementname)) {\n            return RandomDefineCustomElement$1(initclass, extendsname, length + 1);\n        } else {\n            if (extendsname) {\n                customElements.define(elementname, initclass, {\n                    extends: extendsname\n                });\n            } else {\n                customElements.define(elementname, initclass);\n            }\n        }\n        return elementname;\n    } else {\n        return 使用value从表中查询key(customElements[elementmap], initclass);\n    }\n}\n\nif (!customElements[elementset]) {\n    customElements[elementset] = new Set;\n}\n\nif (!customElements[elementmap]) {\n    customElements[elementmap] = {};\n}\n\ncustomElements.define = function(name, constructor, options) {\n    if (!isclassextendsHTMLElement(constructor)) {\n        console.error(constructor);\n        throw TypeError(invalid_custom_element_class);\n    }\n    if (!customElements[elementset].has(constructor)) {\n        if (has(customElements[elementmap], name)) {\n            RandomDefineCustomElement$1(constructor, options ? options.extends : undefined);\n        } else {\n            CustomElementRegistry.prototype.define.call(customElements, name, constructor, options);\n            customElements[elementset].add(constructor);\n            customElements[elementmap][name] = constructor;\n        }\n    }\n};\n\ncustomElements[Symbol.iterator] = () => {\n    const entries = Object.entries(customElements[elementmap]);\n    return entries[Symbol.iterator].call(entries);\n};\n\nfunction getrandomcharactor() {\n    return get(Array(26).fill(undefined).map((v, i) => 97 + i).map(n => String.fromCharCode(n)), Math.floor(Math.random() * 26));\n}\n\nfunction getrandomhexnumber() {\n    return get(Array(16).fill(undefined).map((v, i) => i), Math.floor(Math.random() * 16)).toString(16);\n}\n\nfunction getrandomstringandnumber(length = 4) {\n    return Array(length).fill(undefined).map(() => getrandomcharactor()).join(\"\") + \"-\" + Array(length).fill(undefined).map(() => getrandomhexnumber()).join(\"\");\n}\n\nfunction isclassextendsHTMLElement(initclass) {\n    return !!(isfunction(initclass) && initclass.prototype && initclass.prototype instanceof HTMLElement);\n}\n\nfunction createcostumelemet(initclass, propsjson, children, options) {\n    if (isclassextendsHTMLElement(initclass)) {\n        RandomDefineCustomElement(initclass);\n        return construct(initclass, [ propsjson, children, options ]);\n    } else {\n        console.error(initclass);\n        throw TypeError(invalid_custom_element_class);\n    }\n}\n\nconst bindstatesymbol = Symbol(\"bindstate\");\n\nconst reactivestatesymbol = Symbol(\"reactive\");\n\nconst virtualdomsymbol = Symbol(\"virtualdom\");\n\nfunction throwinvalideletype(type) {\n    console.error(type);\n    throw TypeError(\"invalid element type!\");\n}\n\nfunction render(vdom, namespace) {\n    if (typeof vdom === \"string\") {\n        return createtextnode(vdom);\n    } else if (vdom instanceof ReactiveState) {\n        const reactive = vdom;\n        const textnode = createtextnode(String(reactive));\n        textnode[reactivestatesymbol] = reactive;\n        watch(reactive, state => {\n            if (isconnected(element)) {\n                changetext(textnode, String(state));\n            }\n        });\n        const element = textnode;\n        element[bindstatesymbol] = new Set;\n        element[bindstatesymbol].add(reactive);\n        return textnode;\n    } else if (vdom instanceof Virtualdom && \"type\" in vdom) {\n        const {type: type} = vdom;\n        let element;\n        if (typeof type === \"string\") {\n            if (type === \"script\") {\n                return createDocumentFragment();\n            } else if (type === \"svg\") {\n                element = createsvgelement();\n            } else if (type === \"math\") {\n                element = createmathelement();\n            } else if (\"\" === type || type === \"html\") {\n                return render(vdom.children);\n            } else {\n                element = namespace ? createElementNS(namespace, type) : createnativeelement(type);\n            }\n        } else if (typeof type == \"function\") {\n            if (isobject(type[\"defaultProps\"])) {\n                vdom.props = JSON.parse(JSON.stringify({\n                    ...type[\"defaultProps\"],\n                    ...vdom.props\n                }));\n            }\n            const propsjson = JSON.parse(JSON.stringify({\n                ...vdom.props,\n                ...Object.fromEntries(Object.entries(vdom.bindattr).map(([key, value]) => {\n                    return [ key, value.value ];\n                }))\n            }));\n            element = createcostumelemet(type, propsjson, vdom.children);\n        } else {\n            throwinvalideletype(vdom);\n        }\n        handleprops(element, vdom);\n        if (type && isfunction(type) || isstring(type)) {\n            mount(vdom.children.map(e => {\n                if (type === \"svg\") {\n                    return render(e, svgnamespace);\n                } else if (type === \"math\") {\n                    return render(e, mathnamespace);\n                } else if (namespace) {\n                    return render(e, namespace);\n                } else {\n                    return render(e);\n                }\n            }), element);\n        }\n        return element;\n    } else if (isarray(vdom)) {\n        return vdom.map(a => render(a)).flat();\n    } else {\n        throwinvalideletype(vdom);\n    }\n}\n\nfunction handleprops(element, vdom) {\n    ((element, vdom) => {\n        Object.entries(vdom.directives).forEach(([name, value]) => {\n            if (name in directives && typeof directives[name] === \"function\") {\n                directives[name](element, value, vdom);\n            } else {\n                throw new Error(\"invalid directives \" + name);\n            }\n        });\n        const attribute1 = createeleattragentreadwrite(element);\n        Object.assign(attribute1, vdom.props);\n        element[virtualdomsymbol] = vdom;\n        vdom.element = element;\n        Object.entries(vdom.bindattr).forEach(([key, primitivestate]) => {\n            attribute1[key] = primitivestate.value;\n            watch(primitivestate, state => {\n                if (isconnected(element)) {\n                    attribute1[key] = state.value;\n                }\n            });\n        });\n        if (!element[eventlistenerssymbol]) {\n            element[eventlistenerssymbol] = [];\n        }\n        Object.entries(vdom.onevent).forEach(([event, callbacks]) => {\n            onevent(element, event, callbacks);\n        });\n    })(element, vdom);\n    if (!element[bindstatesymbol]) {\n        element[bindstatesymbol] = new Set;\n    }\n    [ ...Object.values(vdom.bindattr), ...Object.values(vdom.directives) ].flat().filter(e => isReactiveState(e)).forEach(e => element[bindstatesymbol].add(e));\n}\n\nfunction readonlyproxy(target) {\n    return new Proxy(target, {\n        set() {\n            return false;\n        },\n        defineProperty() {\n            return false;\n        },\n        deleteProperty() {\n            return false;\n        },\n        setPrototypeOf() {\n            return false;\n        }\n    });\n}\n\nfunction isArray$1(a) {\n    return Array.isArray(a);\n}\n\nconst Reflect$3 = window.Reflect;\n\nconst {ownKeys: ownKeys$1, deleteProperty: deleteProperty$1, apply: apply, construct: construct$1, defineProperty: defineProperty, get: get$2, getOwnPropertyDescriptor: getOwnPropertyDescriptor$1, getPrototypeOf: getPrototypeOf$1, has: has$1, set: set$2, setPrototypeOf: setPrototypeOf} = Reflect$3;\n\nfunction isobject$2(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isfunction$1(a) {\n    return typeof a === \"function\";\n}\n\nfunction deepobserveaddpath(target, callback, patharray = [], ancestor = target) {\n    if (typeof callback !== \"function\") {\n        throw Error(\"observe callback invalid !\");\n    }\n    if (isfunction$1(target) || isobject$2(target)) {\n        let fakeobj;\n        if (isArray$1(target)) {\n            fakeobj = [];\n        } else if (isfunction$1(target)) {\n            fakeobj = () => {};\n        } else {\n            fakeobj = {};\n        }\n        setPrototypeOf(fakeobj, null);\n        return (fakeobj => {\n            return new Proxy(fakeobj, {\n                defineProperty(t, p, a) {\n                    return defineProperty(target, p, a);\n                },\n                deleteProperty(t, p) {\n                    callback(ancestor, [ ...patharray, p ], undefined, get$2(target, p));\n                    return deleteProperty$1(target, p);\n                },\n                ownKeys() {\n                    return ownKeys$1(target);\n                },\n                has(t, p) {\n                    return has$1(target, p);\n                },\n                getPrototypeOf() {\n                    return getPrototypeOf$1(target);\n                },\n                setPrototypeOf(t, v) {\n                    return setPrototypeOf(target, v);\n                },\n                construct(t, argumentslist) {\n                    if (typeof target === \"function\") {\n                        return construct$1(target, argumentslist);\n                    }\n                },\n                apply(t, thisarg, argarray) {\n                    if (typeof target === \"function\") {\n                        return apply(target, thisarg, argarray);\n                    }\n                },\n                getOwnPropertyDescriptor(t, k) {\n                    var descripter = getOwnPropertyDescriptor$1(target, k);\n                    if (isArray$1(target) && k === \"length\") {\n                        return descripter;\n                    } else {\n                        if (descripter) {\n                            descripter.configurable = true;\n                            return descripter;\n                        } else {\n                            return;\n                        }\n                    }\n                },\n                set(t, k, v) {\n                    if (typeof callback === \"function\") {\n                        callback(ancestor, [ ...patharray, k ], v, get$2(target, k));\n                    }\n                    return set$2(target, k, v);\n                },\n                get(t, k) {\n                    var value = get$2(target, k);\n                    if (isfunction$1(value) || isobject$2(value)) {\n                        return deepobserveaddpath(value, callback, [ ...patharray, k ], target);\n                    } else {\n                        return value;\n                    }\n                }\n            });\n        })(fakeobj);\n    } else {\n        return target;\n    }\n}\n\nfunction observedeepagent(target, callback) {\n    if (typeof callback !== \"function\") {\n        throw Error(\"observe callback  invalid function \");\n    }\n    if (typeof Proxy !== \"function\") {\n        throw Error(\"Proxy unsupported!\");\n    }\n    if (isfunction$1(target) || isobject$2(target)) {\n        return deepobserveaddpath(target, callback, [], target);\n    } else {\n        return target;\n    }\n}\n\nfunction createstate(init) {\n    if (isprimitive(init)) {\n        return new Proxy(new ReactiveState(init), {\n            defineProperty() {\n                return false;\n            },\n            deleteProperty() {\n                return false;\n            },\n            set(target, key, value) {\n                if (key === \"value\" && isprimitive(value)) {\n                    set(target, key, value);\n                    target[dispatchsymbol]();\n                    return true;\n                } else {\n                    return false;\n                }\n            }\n        });\n    } else if (isReactiveState(init)) {\n        return createstate(init.value);\n    } else if (isobject(init)) {\n        return new Proxy(new ReactiveState(init), {\n            defineProperty() {\n                return false;\n            },\n            getOwnPropertyDescriptor(target, key) {\n                const myvalue = get(target, \"value\");\n                const descripter = getOwnPropertyDescriptor(target, key) || getOwnPropertyDescriptor(myvalue, key);\n                if (descripter) {\n                    descripter.configurable = true;\n                }\n                return descripter;\n            },\n            deleteProperty(target, key) {\n                const myvalue = get(target, \"value\");\n                if (has(myvalue, key)) {\n                    deleteProperty(myvalue, key);\n                    target[dispatchsymbol](key);\n                    return true;\n                } else {\n                    return true;\n                }\n            },\n            has(target, key) {\n                const myvalue = get(target, \"value\");\n                return has(target, key) || has(myvalue, key);\n            },\n            get(target, key) {\n                const value = get(target, \"value\");\n                if (key === \"value\" && (gettagtype(value) === \"array\" || gettagtype(value) === \"object\")) {\n                    return observedeepagent(get(target, key), (_target, patharray) => {\n                        target[dispatchsymbol](patharray[0]);\n                    });\n                } else if (has(target, key)) {\n                    return get(target, key);\n                } else if (has(value, key)) {\n                    if (isSet(value) && (key === \"add\" || key === \"delete\")) {\n                        const myvalue = value;\n                        if (key === \"add\") {\n                            return add => {\n                                if (!Set.prototype.has.call(myvalue, add)) {\n                                    const returnvalue = Set.prototype[key].call(myvalue, add);\n                                    target[dispatchsymbol]();\n                                    return returnvalue;\n                                }\n                            };\n                        } else if (key === \"delete\") {\n                            return dele => {\n                                if (Set.prototype.has.call(myvalue, dele)) {\n                                    const returnvalue = Set.prototype[key].call(myvalue, dele);\n                                    target[dispatchsymbol]();\n                                    return returnvalue;\n                                }\n                            };\n                        }\n                    } else {\n                        return observedeepagent(get(value, key), () => {\n                            target[dispatchsymbol](key);\n                        });\n                    }\n                }\n            },\n            ownKeys(target) {\n                return Array.from(new Set([ ...ownKeys(target), ...ownKeys(get(target, \"value\")) ]));\n            },\n            set(target, key, value) {\n                const myvalue = get(target, \"value\");\n                if (key === \"value\" && isobject(value)) {\n                    set(target, key, value);\n                    target[dispatchsymbol]();\n                    return true;\n                } else if (!has(target, key)) {\n                    set(myvalue, key, value);\n                    target[dispatchsymbol](key);\n                } else if (key === \"length\") {\n                    set(myvalue, key, value);\n                    target[dispatchsymbol](key);\n                } else {\n                    return false;\n                }\n                return true;\n            }\n        });\n    } else {\n        console.error(init);\n        throw TypeError(invalid_primitive_or_object_state);\n    }\n}\n\nfunction createcssBlob(source) {\n    return URL.createObjectURL(new Blob([ source ], {\n        type: \"text/css\"\n    }));\n}\n\nfunction isCSSMediaRule(a) {\n    return gettagtype(a) === \"cssmediarule\";\n}\n\nfunction parsecsstext(text) {\n    const styleelement = render(createElement(\"style\", undefined, text));\n    const otherdocument = document.implementation.createHTMLDocument(\"\");\n    otherdocument.firstElementChild.appendChild(styleelement);\n    return Array.from(styleelement.sheet.cssRules);\n}\n\nfunction isCSSStyleRule(a) {\n    return gettagtype(a) === \"cssstylerule\";\n}\n\nfunction selectoraddprefix(cssstylerule, prefix) {\n    const selectorText = cssstylerule.selectorText;\n    if (selectorText === \"*\") {\n        cssstylerule.selectorText = prefix;\n    } else {\n        cssstylerule.selectorText = prefix + \" \" + selectorText;\n    }\n    return cssstylerule;\n}\n\nfunction prefixcssrules(cssRulesarray, prefix) {\n    return cssRulesarray.map(cssrule => {\n        if (isCSSStyleRule(cssrule)) {\n            return selectoraddprefix(cssrule, prefix);\n        } else if (isCSSMediaRule(cssrule)) {\n            prefixcssrules(Array.from(cssrule.cssRules), prefix);\n            return cssrule;\n        } else {\n            return cssrule;\n        }\n    });\n}\n\nconst componentsstylesheet = {};\n\nfunction savestyleblob(tagname, text) {\n    if (!componentsstylesheet[tagname]) {\n        componentsstylesheet[tagname] = createcssBlob(text);\n    }\n}\n\nfunction cssrulestocsstext(cssrules) {\n    return cssrules.map(c => c.cssText).join(\"\\n\");\n}\n\nfunction createlinkstylesheet(url) {\n    return render(createElement(\"link\", {\n        href: url,\n        rel: \"stylesheet\"\n    }));\n}\n\nfunction transformcsstext(text, prefix) {\n    const css = text;\n    const cssomold = parsecsstext(css);\n    const cssomnew = prefixcssrules(cssomold, prefix);\n    const cssnewtext = cssrulestocsstext(cssomnew);\n    return cssnewtext;\n}\n\nfunction registercssprefix(text, prefix) {\n    const css = text;\n    const cssnewtext = transformcsstext(css, prefix);\n    savestyleblob(prefix, cssnewtext);\n}\n\nconst attributessymbol = Symbol(\"attributes\");\n\nconst elementsymbol = Symbol(\"element\");\n\nconst vdomsymbol = Symbol(\"componentinnervdom\");\n\nconst mountedsymbol = Symbol(\"mounted\");\n\nconst unmountedsymbol = Symbol(\"unmounted\");\n\nfunction createComponent(custfun) {\n    var _a, _b, _c;\n    if (isfunction(custfun)) {\n        const defaultProps = custfun[\"defaultProps\"];\n        const css = custfun[\"css\"];\n        return _c = class Component extends AttrChange {\n            constructor(propsjson = {}, children = []) {\n                super();\n                this[_a] = false;\n                this[_b] = {};\n                const css = this.constructor[\"css\"];\n                if (css) {\n                    const prefix = this.tagName;\n                    if (!componentsstylesheet[prefix]) {\n                        registercssprefix(css, prefix);\n                    }\n                }\n                const defaultProps = this.constructor[\"defaultProps\"];\n                const attrs = createeleattragentreadwrite(this);\n                if (isobject(defaultProps)) {\n                    Object.assign(attrs, defaultProps);\n                }\n                if (isobject(propsjson)) {\n                    Object.assign(attrs, propsjson);\n                }\n                const props = attrs;\n                const thisattributess = Object.fromEntries(Object.entries(props).map(([key, value]) => [ key, createstate(value) ]));\n                this[attributessymbol] = readonlyproxy(thisattributess);\n                openctx();\n                let possiblyvirtualdom;\n                try {\n                    possiblyvirtualdom = custfun.call(undefined, readonlyproxy(Object.fromEntries(Object.entries(thisattributess).map(([key, value]) => [ key, readonlyproxy(value) ]))), children);\n                } catch (error) {\n                    closectx();\n                    throw error;\n                }\n                if (isarray(possiblyvirtualdom)) {\n                    possiblyvirtualdom = possiblyvirtualdom.flat(Infinity).filter(Boolean);\n                }\n                if (isvalidvdom(possiblyvirtualdom)) {\n                    const thisvdomsymbol = toArray(possiblyvirtualdom);\n                    this[vdomsymbol] = thisvdomsymbol.flat(Infinity).filter(Boolean);\n                    this[mountedsymbol] = getMounted();\n                    this[unmountedsymbol] = getUnMounted();\n                    closectx();\n                } else {\n                    closectx();\n                    console.error(possiblyvirtualdom);\n                    throw Error(invalid_Virtualdom);\n                }\n            }\n            connectedCallback() {\n                if (!this[elementsymbol]) {\n                    this[elementsymbol] = render(this[vdomsymbol]).flat(Infinity);\n                }\n                if (!this[readysymbol]) {\n                    createApp(this[elementsymbol], this);\n                    this[readysymbol] = true;\n                }\n                const css = this.constructor[\"css\"];\n                if (css) {\n                    const prefix = this.tagName;\n                    if (componentsstylesheet[prefix]) {\n                        const stylelinkelement = createlinkstylesheet(componentsstylesheet[prefix]);\n                        insertfirst(this, stylelinkelement);\n                    }\n                }\n                this[mountedsymbol].forEach(f => f());\n                onmounted(this);\n            }\n            disconnectedCallback() {\n                this[unmountedsymbol].forEach(f => f());\n                onunmounted(this);\n            }\n            attributeChangedCallback(name) {\n                if (this[attributessymbol][name]) {\n                    this[attributessymbol][name].value = createeleattragentreadwrite(this)[name];\n                }\n            }\n        }, _a = readysymbol, _b = attributessymbol, _c.css = isstring(css) && css ? css : undefined, \n        _c.defaultProps = isobject(defaultProps) ? JSON.parse(JSON.stringify(defaultProps)) : undefined, \n        _c;\n    } else {\n        console.error(custfun);\n        throw TypeError(invalid_Function);\n    }\n}\n\nif (!isfunction(window.HTMLElement) || !isfunction(window.Proxy) || !isobject(window.customElements) || !isfunction(window.CustomElementRegistry)) {\n    throw new TypeError(\" browser not supported !\");\n}\n\nfunction extenddirectives(options) {\n    Object.entries(options).forEach(([key, value]) => {\n        if (typeof value !== \"function\") {\n            throw TypeError(invalid_Function);\n        } else {\n            directives[key] = value;\n        }\n    });\n}\n\nextenddirectives({\n    value(element, value, vdom) {\n        if (isReactiveState(value) && (vdom.type === \"input\" || vdom.type === \"textarea\")) {\n            vdom.bindattr[\"value\"] = value;\n            [ \"change\", \"input\" ].forEach(eventname => {\n                const origin = vdom.onevent[eventname];\n                const eventsarray = [ origin ].flat(Infinity);\n                Reflect.set(vdom.onevent, eventname, eventsarray.concat([ e => {\n                    return value.value = e.target.value;\n                } ]).filter(Boolean));\n            });\n        } else {\n            console.error(value);\n            console.error(vdom);\n            throw TypeError(invalid_ReactiveState + invalid_Virtualdom);\n        }\n    }\n});\n\nfunction createRef(init) {\n    return {\n        value: init\n    };\n}\n\nconst Fragment = \"\";\n\nexport { Fragment, conditon as condition, createApp, createComponent, createElement, createRef, createstate as createState, extenddirectives as directives, createElement as h, assertvalidvirtualdom as html, useMounted, useUnMounted, watch };\n//# sourceMappingURL=index.js.map\n"],"names":["Reflect$1","window","Reflect","construct","deleteProperty","get","getOwnPropertyDescriptor","getPrototypeOf","has","ownKeys","set","isundefined","a","isboolean","isobject","isstring","isfunction","isarray","Array","isArray","gettagtype","getsymbol","Symbol","toString","call","replace","toLowerCase","trim","isSet","Set","invalid_Function","message","ctxopen","Mounted","UnMounted","useMounted","fun","TypeError","Error","add","useUnMounted","clearMounted","clearUnMounted","closectx","readysymbol","document$1","document","seteletext","e","v","textContent","setelehtml","innerHTML","createElementNS","namespace","name","createtextnode","data","createTextNode","svgnamespace","mathnamespace","domaddlisten","ele","event","addEventListener","getdomchildren","from","childNodes","getAttribute","HTMLElementprototype","HTMLElement","prototype","isprimitive","isnumber","_a","_b","invalid_primitive_or_object_state","isReactiveState","ReactiveState","eventtargetsymbol","memlisteners","dispatchsymbol","subscribesymbol","removeallistenerssymbol","addallistenerssymbol","[object Object]","init","this","EventTarget","Object","defineProperty","value","configurable","writable","toStringTag","forEach","callback","String","JSON","stringify","eventname","dispatchEvent","CustomEvent","detail","push","removeEventListener","toPrimitive","isconnected","element","documentElement","node","parentNode","getancestornode","requestAnimationFrame","directives","ref","html","createhtmlandtextdirective","text","errorname","watch","state","Reflect$2","get$1","set$1","valuestring","isobject$1","isstring$1","isSet$1","createeleattragentreadwrite","Element","asserthtmlelement","isinputtextortextareaflag","tagname","tagName","geteletagname","isinputtextortextarea","temp","create","outputattrs","Proxy","keys","getAttributeNames","attributesownkeys","target","key","getattribute","parse","error","t","setattribute","o","entries","map","join","k","removeAttribute","removeAttribute$1","hasAttribute","otherdescipter","enumerable","myvalue","setAttribute","attributeChangedCallback","AttrChange","qualifiedName","oldValue","undefined","merge_entries","m","Virtualdom","type","props","children","onevent","bindattr","字母大小写","propsentries","propsentriesNOTevents","filter","startsWith","字母开头的entries","test","assign","fromEntries","flat","slice","toArray","eventlistenerssymbol","onmounted","Node","readdlisteners","bindstatesymbol","rewatch","onunmounted","domremovelisten","removelisteners","n","r","u","p","length","s","h","apply","f","Map","htm","arguments","createElement","typenormalized","propsnormalized","childrennormalized","Infinity","inargs","isvalidvdom","flag","includes","assertvalidvirtualdom","args","vdom","invalid_Virtualdom","mount","container","appendChild","appendchild","createApp","el","body","head","elesarray","render","array","invalid_ReactiveState","truevdomsymbol","falsevdomsymbol","trueelesymbol","falseelesymbol","handletrue","handlefalse","conditon","iftrue","iffalse","options","true","false","super","optionstrue","optionsfalse","Boolean","elementtomount","attrs","statekey","invalid_custom_element_class","customElements","CustomElementRegistry","elementset","for","elementmap","RandomDefineCustomElement","initclass","extendsname","RandomDefineCustomElement$1","isclassextendsHTMLElement","表","组件状态名","find","elementname","fill","i","fromCharCode","Math","floor","random","getrandomstringandnumber","define","extends","constructor","iterator","reactivestatesymbol","virtualdomsymbol","throwinvalideletype","reactive","textnode","nodeValue","changetext","createDocumentFragment","createnativeelement","propsjson","createcostumelemet","attribute1","primitivestate","callbacks","values","handleprops","readonlyproxy","setPrototypeOf","isArray$1","Reflect$3","ownKeys$1","deleteProperty$1","construct$1","get$2","getOwnPropertyDescriptor$1","getPrototypeOf$1","has$1","set$2","isobject$2","isfunction$1","observedeepagent","deepobserveaddpath","patharray","ancestor","fakeobj","argumentslist","thisarg","argarray","descripter","createstate","_target","returnvalue","dele","prefixcssrules","cssRulesarray","prefix","cssrule","isCSSStyleRule","cssstylerule","selectorText","selectoraddprefix","isCSSMediaRule","cssRules","componentsstylesheet","savestyleblob","source","URL","createObjectURL","Blob","transformcsstext","cssomnew","styleelement","implementation","createHTMLDocument","firstElementChild","sheet","parsecsstext","c","cssText","attributessymbol","elementsymbol","vdomsymbol","mountedsymbol","unmountedsymbol","createComponent","custfun","_c","defaultProps","css","registercssprefix","thisattributess","possiblyvirtualdom","thisvdomsymbol","stylelinkelement","href","rel","insertBefore","firstChild","extenddirectives","createRef","eventsarray","concat","Fragment"],"mappings":"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"}