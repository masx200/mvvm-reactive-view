{"version":3,"file":"index.min.js","sources":["index.js"],"sourcesContent":["/**\n * The inverse of `_.toPairs`; this method returns an object composed\n * from key-value `pairs`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} pairs The key-value pairs.\n * @returns {Object} Returns the new object.\n * @example\n *\n * _.fromPairs([['a', 1], ['b', 2]]);\n * // => { 'a': 1, 'b': 2 }\n */\nfunction fromPairs(pairs) {\n  var index = -1,\n      length = pairs == null ? 0 : pairs.length,\n      result = {};\n\n  while (++index < length) {\n    var pair = pairs[index];\n    result[pair[0]] = pair[1];\n  }\n  return result;\n}\n\nvar fromPairs_1 = fromPairs;\n\nif (\"function\" !== typeof Object.fromEntries)\r\n    Object.fromEntries = fromPairs_1;\n\nfunction flattenDeep(arr1) {\r\n    return arr1.reduce((acc, val) => Array.isArray(val) ? acc.concat(flattenDeep(val)) : acc.concat(val), []);\r\n}\r\nfunction arrayflat(depth = 1) {\r\n    if (depth <= 1) {\r\n        return this.reduce((acc, val) => acc.concat(val), []);\r\n    }\r\n    else {\r\n        return flattenDeep(this);\r\n    }\r\n}\r\nif (typeof Array.prototype.flat !== \"function\") {\r\n    Array.prototype.flat =\r\n        arrayflat;\r\n}\n\nfunction isundefined(a) {\r\n    return typeof a === \"undefined\";\r\n}\r\nfunction isnumber(a) {\r\n    return typeof a === \"number\";\r\n}\r\nfunction isboolean(a) {\r\n    return typeof a === \"boolean\";\r\n}\r\nfunction isobject(a) {\r\n    return typeof a === \"object\" && a !== null;\r\n}\r\nfunction isstring(a) {\r\n    return typeof a === \"string\";\r\n}\r\nfunction isfunction(a) {\r\n    return typeof a === \"function\";\r\n}\r\nfunction isarray(a) {\r\n    return a instanceof Array && Array.isArray(a);\r\n}\r\nfunction getsymbol(a) {\r\n    return Symbol(a);\r\n}\n\nfunction isprimitive (a) {\r\n    return isstring(a) || isnumber(a) || isboolean(a) || isundefined(a);\r\n}\n\nvar _a, _b, _c;\r\nconst textnodesymbol = Symbol(\"textnode\");\r\nconst eventtargetsymbol = Symbol(\"eventtatget\");\r\nconst memlisteners = Symbol(\"memlisteners\");\r\nconst dispatchsymbol = getsymbol(\"dispatch\");\r\nconst subscribesymbol = getsymbol(\"subscribe\");\r\nconst removeallistenerssymbol = getsymbol(\"removeallisteners\");\r\nconst addallistenerssymbol = getsymbol(\"addallisteners\");\r\nclass ReactiveState {\r\n    constructor(init) {\r\n        this[_a] = undefined;\r\n        this[_b] = new EventTarget();\r\n        this[_c] = [];\r\n        if (isprimitive(init) || isobject(init)) {\r\n            Object.defineProperty(this, \"value\", {\r\n                value: init,\r\n                configurable: true,\r\n                writable: true\r\n            });\r\n        }\r\n        else {\r\n            throw TypeError(\"invalid State\");\r\n        }\r\n        Object.defineProperty(this, Symbol.toStringTag, {\r\n            value: \"ReactiveState\",\r\n            configurable: true\r\n        });\r\n    }\r\n    [addallistenerssymbol]() {\r\n        this[memlisteners].forEach(([value, callback]) => {\r\n            this[eventtargetsymbol].addEventListener(value, callback);\r\n        });\r\n    }\r\n    valueOf() {\r\n        return this.value;\r\n    }\r\n    toString() {\r\n        const value = this.value;\r\n        return isprimitive(value)\r\n            ? String(value)\r\n            : isobject(value)\r\n                ? JSON.stringify(value)\r\n                : \"\";\r\n    }\r\n    [(_a = textnodesymbol, _b = eventtargetsymbol, _c = memlisteners, dispatchsymbol)](eventname) {\r\n        const name = eventname ? String(eventname) : \"value\";\r\n        if (name !== \"value\") {\r\n            this[eventtargetsymbol].dispatchEvent(new Event(name));\r\n        }\r\n        this[eventtargetsymbol].dispatchEvent(new Event(\"value\"));\r\n    }\r\n    [subscribesymbol](callback, eventname) {\r\n        const name = eventname ? String(eventname) : \"value\";\r\n        this[memlisteners].push([name, () => callback(this)]);\r\n    }\r\n    [removeallistenerssymbol]() {\r\n        this[memlisteners].forEach(([value, callback]) => {\r\n            this[eventtargetsymbol].removeEventListener(value, callback);\r\n        });\r\n    }\r\n    [Symbol.toPrimitive]() {\r\n        const value = this.value;\r\n        return isprimitive(value)\r\n            ? value\r\n            : isobject(value)\r\n                ? JSON.stringify(value)\r\n                : void 0;\r\n    }\r\n}\n\nconst document = window.document;\r\nfunction seteletext(e, v) {\r\n    e.textContent = v;\r\n}\r\nfunction setelehtml(e, v) {\r\n    e.innerHTML = v;\r\n}\r\nfunction appendchild(container, ele) {\r\n    container.appendChild(ele);\r\n}\r\nfunction createsvgelement() {\r\n    return createElementNS(svgnamespace, \"svg\");\r\n}\r\nfunction createnonescript() {\r\n    return document.createDocumentFragment();\r\n}\r\nfunction createnativeelement(type) {\r\n    return document.createElement(type);\r\n}\r\nfunction createElementNS(namespace, name) {\r\n    return document.createElementNS(namespace, name);\r\n}\r\nfunction createtextnode(data) {\r\n    return document.createTextNode(data);\r\n}\r\nconst svgnamespace = \"http://www.w3.org/2000/svg\";\r\nfunction changetext(textnode, value) {\r\n    textnode.nodeValue = String(value);\r\n}\r\nconst mathnamespace = \"http://www.w3.org/1998/Math/MathML\";\r\nfunction createmathelement() {\r\n    return createElementNS(mathnamespace, \"math\");\r\n}\n\nfunction watch(state, callback, statekey) {\r\n    if (!(state instanceof ReactiveState && isfunction(callback))) {\r\n        throw TypeError(\"invalid state or callback\");\r\n    }\r\n    if (statekey) {\r\n        state[subscribesymbol](callback, statekey);\r\n    }\r\n    else {\r\n        state[subscribesymbol](callback);\r\n    }\r\n    requestAnimationFrame(() => {\r\n        state[addallistenerssymbol]();\r\n    });\r\n}\n\nconst requestAnimationFrame = window.requestAnimationFrame;\r\nvar directives = {\r\n    ref(ele, ref) {\r\n        if (typeof ref == \"object\") {\r\n            ref.value = ele;\r\n        }\r\n        else {\r\n            throw TypeError(\"invalid ref\");\r\n        }\r\n    },\r\n    html(ele, html) {\r\n        if (typeof html == \"string\") {\r\n            requestAnimationFrame(() => {\r\n                setelehtml(ele, html);\r\n            });\r\n        }\r\n        else if (html instanceof ReactiveState) {\r\n            watch(html, (state) => {\r\n                setelehtml(ele, String(state));\r\n            });\r\n            requestAnimationFrame(() => {\r\n                setelehtml(ele, String(html));\r\n            });\r\n        }\r\n        else {\r\n            throw TypeError(\"invalid html\");\r\n        }\r\n    },\r\n    text(ele, text) {\r\n        if (typeof text == \"string\") {\r\n            requestAnimationFrame(() => {\r\n                seteletext(ele, text);\r\n            });\r\n        }\r\n        else if (text instanceof ReactiveState) {\r\n            watch(text, (state) => {\r\n                seteletext(ele, String(state));\r\n            });\r\n            requestAnimationFrame(() => {\r\n                seteletext(ele, String(text));\r\n            });\r\n        }\r\n        else {\r\n            throw TypeError(\"invalid text\");\r\n        }\r\n    }\r\n};\n\nfunction extenddirectives(options) {\r\n    Object.entries(options).forEach(([key, value]) => {\r\n        if (typeof value !== \"function\") {\r\n            throw TypeError(\"invalid directive\");\r\n        }\r\n        else {\r\n            directives[key] = value;\r\n        }\r\n    });\r\n}\n\nextenddirectives({\r\n    value(element, value, vdom) {\r\n        if (value instanceof ReactiveState &&\r\n            (vdom.type === \"input\" || vdom.type === \"textarea\")) {\r\n            vdom.bindattr[\"value\"] = value;\r\n            [\"change\", \"input\"].forEach(eventname => {\r\n                const origin = vdom.onevent[eventname];\r\n                const eventsarray = [origin].flat(Infinity);\r\n                vdom.onevent[eventname] = [\r\n                    ...eventsarray,\r\n                    (e) => {\r\n                        return (value.value = e.target.value);\r\n                    }\r\n                ];\r\n            });\r\n        }\r\n        else {\r\n            throw TypeError(\"invalid ReactiveState or element\");\r\n        }\r\n    }\r\n});\n\nclass Virtualdom {\r\n    constructor(type = \"\", props = {}, children = []) {\r\n        this.element = undefined;\r\n        this.props = {};\r\n        this.children = [];\r\n        this.directives = {};\r\n        this.onevent = {};\r\n        this.bindattr = {};\r\n        const propsentries = Object.entries(props);\r\n        Object.assign(this, {\r\n            type,\r\n            bindattr: Object.fromEntries(propsentries\r\n                .filter(([key]) => /[A-Za-z]/.test(key[0]))\r\n                .filter(e => e[1] instanceof ReactiveState)),\r\n            props: Object.fromEntries(propsentries\r\n                .filter(([key]) => /[A-Za-z]/.test(key[0]))\r\n                .filter(e => !(e[1] instanceof ReactiveState))),\r\n            children,\r\n            onevent: Object.fromEntries(propsentries\r\n                .filter(([key]) => /\\@/.test(key[0]))\r\n                .map(([key, value]) => [key.slice(1), value])),\r\n            directives: Object.fromEntries(propsentries\r\n                .filter(([key]) => /\\*/.test(key[0]))\r\n                .map(([key, value]) => [key.slice(1), value]))\r\n        });\r\n        Object.defineProperty(this, Symbol.toStringTag, {\r\n            value: \"virtualdom\",\r\n            configurable: true\r\n        });\r\n    }\r\n}\n\nvar n=function(t,r,u,e){for(var p=1;p<r.length;p++){var s=r[p],h=\"number\"==typeof s?u[s]:s,a=r[++p];1===a?e[0]=h:3===a?e[1]=Object.assign(e[1]||{},h):5===a?(e[1]=e[1]||{})[r[++p]]=h:6===a?e[1][r[++p]]+=h+\"\":e.push(a?t.apply(null,n(t,h,u,[\"\",null])):h);}return e},t=function(n){for(var t,r,u=1,e=\"\",p=\"\",s=[0],h=function(n){1===u&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?s.push(n||e,0):3===u&&(n||e)?(s.push(n||e,1),u=2):2===u&&\"...\"===e&&n?s.push(n,3):2===u&&e&&!n?s.push(!0,5,e):u>=5&&((e||!n&&5===u)&&(s.push(e,u,r),u=6),n&&(s.push(n,u,r),u=6)),e=\"\";},a=0;a<n.length;a++){a&&(1===u&&h(),h(a));for(var f=0;f<n[a].length;f++)t=n[a][f],1===u?\"<\"===t?(h(),s=[s],u=3):e+=t:4===u?\"--\"===e&&\">\"===t?(u=1,e=\"\"):e=t+e[0]:p?t===p?p=\"\":e+=t:'\"'===t||\"'\"===t?p=t:\">\"===t?(h(),u=1):u&&(\"=\"===t?(u=5,r=e,e=\"\"):\"/\"===t&&(u<5||\">\"===n[a][f+1])?(h(),3===u&&(s=s[0]),u=s,(s=s[0]).push(u,2),u=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(h(),u=2):e+=t),3===u&&\"!--\"===e&&(u=4,s=s[0]);}return h(),s},r=\"function\"==typeof Map,u=r?new Map:{},e=r?function(n){var r=u.get(n);return r||u.set(n,r=t(n)),r}:function(n){for(var r=\"\",e=0;e<n.length;e++)r+=n[e].length+\"-\"+n[e];return u[r]||(u[r]=t(n))};function htm(t){var r=n(this,e(t),arguments,[]);return r.length>1?r:r[0]}\n\nfunction h(type = \"\", props = {}, ...children) {\r\n    let typenormalized = isstring(type) || isfunction(type) ? type : \"\";\r\n    let propsnormalized = isobject(props) ? props : {};\r\n    const childrennormalized = children.flat(1);\r\n    if (typeof typenormalized === \"string\") {\r\n        typenormalized = typenormalized.trim().toLowerCase();\r\n    }\r\n    if (typeof typenormalized === \"string\" && \"\" === typenormalized) {\r\n        return childrennormalized;\r\n    }\r\n    propsnormalized = Object.fromEntries(Object.entries(propsnormalized).map(([key, value]) => [\r\n        key.trim().toLowerCase(),\r\n        value\r\n    ]));\r\n    return new Virtualdom(typenormalized, propsnormalized, childrennormalized);\r\n}\n\nconst html = htm.bind(h);\r\nfunction isvalidvdom(v) {\r\n    let flag = false;\r\n    if (Array.isArray(v)) {\r\n        flag = v\r\n            .map((ele) => {\r\n            return isvalidvdom(ele);\r\n        })\r\n            .includes(false)\r\n            ? false\r\n            : true;\r\n    }\r\n    else if (v instanceof Virtualdom) {\r\n        if (isvalidvdom(v.children)) {\r\n            return true;\r\n        }\r\n    }\r\n    else if (v instanceof ReactiveState) {\r\n        return true;\r\n    }\r\n    else {\r\n        if (isstring(v)) {\r\n            return true;\r\n        }\r\n    }\r\n    return flag;\r\n}\r\nfunction assertvalidvirtualdom(...args) {\r\n    const vdom = html(...args);\r\n    if (isvalidvdom(vdom)) {\r\n        return vdom;\r\n    }\r\n    else {\r\n        console.error(vdom);\r\n        throw new TypeError(\"invalid Virtualdom!\");\r\n    }\r\n}\n\nconst eventlistenerssymbol = Symbol(\"eventlisteners\");\r\nfunction onevent (element, eventname, callback) {\r\n    if (!element[eventlistenerssymbol]) {\r\n        element[eventlistenerssymbol] = [];\r\n    }\r\n    if (typeof callback === \"function\") {\r\n        addlisteners(element, eventname, [callback]);\r\n    }\r\n    else if (isarray(callback)) {\r\n        addlisteners(element, eventname, callback);\r\n    }\r\n    else {\r\n        throw TypeError(\"invalid EventListener\");\r\n    }\r\n}\r\nfunction addlisteners(ele, event, callarray) {\r\n    callarray.forEach((call) => {\r\n        ele[eventlistenerssymbol].push([event, call]);\r\n        domaddlisten(ele, event, call);\r\n    });\r\n}\r\nfunction domaddlisten(ele, event, call) {\r\n    ele.addEventListener(event, call);\r\n}\n\nclass Setlikearray extends Array {\r\n    push(...items) {\r\n        items.forEach(item => {\r\n            if (isfunction(item) || isobject(item)) {\r\n                if (!this.includes(item)) {\r\n                    super.push(item);\r\n                }\r\n            }\r\n        });\r\n        return this.length;\r\n    }\r\n}\n\nconst Reflect = window.Reflect;\r\nconst { apply, construct, defineProperty, deleteProperty, get, getOwnPropertyDescriptor, getPrototypeOf, has, isExtensible, ownKeys, preventExtensions, set, setPrototypeOf } = Reflect;\n\nconst customElementsarray = new Setlikearray();\r\nfunction getcustomelementname(initclass) {\r\n    return \"c-\" + customElementsarray.indexOf(initclass);\r\n}\r\nfunction isclassextendsHTMLElement(initclass) {\r\n    return !!(isfunction(initclass) &&\r\n        initclass.prototype &&\r\n        initclass.prototype instanceof HTMLElement);\r\n}\r\nfunction createcostumelemet(initclass, children) {\r\n    if (isclassextendsHTMLElement(initclass)) {\r\n        customElementsarray.push(initclass);\r\n        const elementname = getcustomelementname(initclass);\r\n        if (customElements.get(elementname) === initclass) ;\r\n        else {\r\n            customElements.define(elementname, initclass);\r\n        }\r\n        return construct(initclass, [children]);\r\n    }\r\n    else {\r\n        throw TypeError(\"invalid custom element class !\");\r\n    }\r\n}\n\nfunction mount (ele, container) {\r\n    container.innerHTML = \"\";\r\n    let eles;\r\n    if (Array.isArray(ele)) {\r\n        eles = ele;\r\n    }\r\n    else {\r\n        eles = [ele];\r\n    }\r\n    eles.forEach(e => appendchild(container, e));\r\n}\n\nconst Reflect$1 = window.Reflect;\r\nconst { get: get$1, ownKeys: ownKeys$1, set: set$1 } = Reflect$1;\r\nconst valuestring = \"value\";\r\nfunction isobject$1(a) {\r\n    return typeof a === \"object\" && a !== null;\r\n}\r\nfunction isstring$1(a) {\r\n    return typeof a === \"string\";\r\n}\r\nfunction objtostylestring(o) {\r\n    return Object.entries(o)\r\n        .map(([key, value]) => key + \":\" + value)\r\n        .join(\";\");\r\n}\r\nfunction asserthtmlelement(ele) {\r\n    if (!(ele instanceof HTMLElement ||\r\n        ele instanceof SVGElement ||\r\n        ele instanceof Element)) {\r\n        throw TypeError(\"invalid HTMLElement!\");\r\n    }\r\n    else\r\n        return true;\r\n}\r\nfunction createeleattragentreadwrite(ele) {\r\n    asserthtmlelement(ele);\r\n    const isinputtextortextarea = (ele.tagName === \"INPUT\" && get$1(ele, \"type\") === \"text\") ||\r\n        ele.tagName === \"TEXTAREA\";\r\n    var temp = Object.create(null);\r\n    return new Proxy(temp, {\r\n        ownKeys() {\r\n            const keys = ownKeys$1(ele.attributes).filter(k => !/\\d/.test(String(k)[0]));\r\n            return isinputtextortextarea\r\n                ? Array.from(new Set([...keys, valuestring]))\r\n                : keys;\r\n        },\r\n        get(target, key) {\r\n            if (isinputtextortextarea && key === valuestring) {\r\n                return get$1(ele, valuestring);\r\n            }\r\n            else {\r\n                var v = ele.getAttribute(String(key));\r\n                if (!v) {\r\n                    return;\r\n                }\r\n                if (isstring$1(v)) {\r\n                    try {\r\n                        return JSON.parse(String(v));\r\n                    }\r\n                    catch (error) {\r\n                        return v;\r\n                    }\r\n                }\r\n                else\r\n                    return;\r\n            }\r\n        },\r\n        set(t, key, v) {\r\n            if (isinputtextortextarea && key === valuestring) {\r\n                return set$1(ele, valuestring, v);\r\n            }\r\n            else if (key === \"style\") {\r\n                ele.setAttribute(String(key), isstring$1(v) ? v : isobject$1(v) ? objtostylestring(v) : String(v));\r\n                return true;\r\n            }\r\n            else {\r\n                ele.setAttribute(String(key), isobject$1(v) ? JSON.stringify(v) : String(v));\r\n                return true;\r\n            }\r\n        },\r\n        deleteProperty(t, k) {\r\n            ele.removeAttribute(String(k));\r\n            return true;\r\n        },\r\n        has(target, key) {\r\n            if (isinputtextortextarea && key === valuestring) {\r\n                return true;\r\n            }\r\n            else {\r\n                return ele.hasAttribute(String(key));\r\n            }\r\n        },\r\n        defineProperty() {\r\n            return false;\r\n        },\r\n        getOwnPropertyDescriptor(target, key) {\r\n            const otherdescipter = {\r\n                enumerable: true,\r\n                configurable: true,\r\n                writable: true\r\n            };\r\n            if (isinputtextortextarea && key === valuestring) {\r\n                return {\r\n                    value: get$1(ele, valuestring),\r\n                    ...otherdescipter\r\n                };\r\n            }\r\n            else {\r\n                var attr = ele.getAttribute(String(key));\r\n                if (attr) {\r\n                    return {\r\n                        value: attr,\r\n                        ...otherdescipter\r\n                    };\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    });\r\n}\n\nconst bindstatesymbol = Symbol(\"bindstate\");\r\nconst reactivestatesymbol = Symbol(\"reactivestate\");\r\nconst virtualdomsymbol = Symbol(\"virtualdom\");\r\nfunction throwinvalideletype() {\r\n    throw TypeError(\"invalid element type!\");\r\n}\r\nfunction render(vdom, namespace) {\r\n    if (typeof vdom === \"string\") {\r\n        return createtextnode(vdom);\r\n    }\r\n    else if (vdom instanceof ReactiveState) {\r\n        const reactive = vdom;\r\n        const textnode = createtextnode(String(reactive));\r\n        textnode[reactivestatesymbol] = reactive;\r\n        reactive[textnodesymbol] = textnode;\r\n        watch(reactive, (state) => {\r\n            changetext(textnode, String(state));\r\n        });\r\n        return textnode;\r\n    }\r\n    else if (vdom instanceof Virtualdom && \"type\" in vdom) {\r\n        const { type } = vdom;\r\n        let element;\r\n        if (typeof type === \"string\") {\r\n            if (type === \"script\") {\r\n                return createnonescript();\r\n            }\r\n            else if (type === \"svg\") {\r\n                element = createsvgelement();\r\n            }\r\n            else if (type === \"math\") {\r\n                element = createmathelement();\r\n            }\r\n            else {\r\n                element = namespace\r\n                    ? createElementNS(namespace, type)\r\n                    : createnativeelement(type);\r\n            }\r\n        }\r\n        else if (typeof type == \"function\") {\r\n            element = createcostumelemet(type, vdom.children);\r\n        }\r\n        else {\r\n            throwinvalideletype();\r\n        }\r\n        handleprops(element, vdom);\r\n        if (typeof type !== \"function\") {\r\n            mount(vdom.children.map(e => {\r\n                if (type === \"svg\") {\r\n                    return render(e, svgnamespace);\r\n                }\r\n                else if (type === \"math\") {\r\n                    return render(e, mathnamespace);\r\n                }\r\n                else if (namespace) {\r\n                    return render(e, namespace);\r\n                }\r\n                else {\r\n                    return render(e);\r\n                }\r\n            }), element);\r\n        }\r\n        return element;\r\n    }\r\n    else {\r\n        throwinvalideletype();\r\n    }\r\n}\r\nfunction handleprops(element, vdom) {\r\n    ((element, vdom) => {\r\n        Object.entries(vdom.directives).forEach(([name, value]) => {\r\n            if (name in directives && typeof directives[name] === \"function\") {\r\n                directives[name](element, value, vdom);\r\n            }\r\n            else {\r\n                throw new Error(\"invalid directives \" + name);\r\n            }\r\n        });\r\n        const attribute1 = createeleattragentreadwrite(element);\r\n        Object.assign(attribute1, vdom.props);\r\n        element[virtualdomsymbol] = vdom;\r\n        vdom.element = element;\r\n        Object.entries(vdom.bindattr).forEach(([key, primitivestate]) => {\r\n            attribute1[key] = primitivestate.value;\r\n            watch(primitivestate, (state) => {\r\n                attribute1[key] = state.value;\r\n            });\r\n        });\r\n        Object.entries(vdom.onevent).forEach(([event, callbacks]) => {\r\n            onevent(element, event, callbacks);\r\n        });\r\n    })(element, vdom);\r\n    if (!element[bindstatesymbol]) {\r\n        element[bindstatesymbol] = new Set();\r\n    }\r\n    [Object.values(vdom.bindattr), Object.values(vdom.directives)]\r\n        .flat()\r\n        .filter(e => e instanceof ReactiveState)\r\n        .forEach(e => element[bindstatesymbol].add(e));\r\n}\n\nfunction createApp(vdom, container) {\r\n    const el = container;\r\n    if (!isvalidvdom(vdom)) {\r\n        console.error(vdom);\r\n        throw TypeError(\"invalid Virtualdom \");\r\n    }\r\n    if (!(el instanceof HTMLElement)) {\r\n        throw TypeError(\"invalid container HTMLElement!\");\r\n    }\r\n    if (el === document.body ||\r\n        el === document.documentElement ||\r\n        el === document.head) {\r\n        throw Error(\"Do not mount  to <html> or <body> <head>.\");\r\n    }\r\n    let elesarray;\r\n    if (Array.isArray(vdom)) {\r\n        elesarray = vdom;\r\n    }\r\n    else {\r\n        elesarray = [vdom];\r\n    }\r\n    mount(elesarray.map(e => render(e)), container);\r\n    return container;\r\n}\n\nfunction createRef(init) {\r\n    return { value: init };\r\n}\n\nconst Reflect$2 = window.Reflect;\r\nconst { apply: apply$1, construct: construct$1, defineProperty: defineProperty$1, get: get$2, getOwnPropertyDescriptor: getOwnPropertyDescriptor$1, getPrototypeOf: getPrototypeOf$1, has: has$1, set: set$2, setPrototypeOf: setPrototypeOf$1 } = Reflect$2;\r\nfunction isobject$2(a) {\r\n    return typeof a === \"object\" && a !== null;\r\n}\r\nfunction isfunction$1(a) {\r\n    return typeof a === \"function\";\r\n}\r\nfunction deepobserveaddpath(target, callback, patharray = [], ancestor = target) {\r\n    if (typeof callback !== \"function\") {\r\n        throw Error(\"observe callback invalid !\");\r\n    }\r\n    if (isfunction$1(target) || isobject$2(target)) {\r\n        let forkobj;\r\n        if (isobject$2(target)) {\r\n            forkobj = {};\r\n        }\r\n        else {\r\n            forkobj = () => { };\r\n        }\r\n        setPrototypeOf$1(forkobj, null);\r\n        return (forkobj => {\r\n            return new Proxy(forkobj, {\r\n                defineProperty(t, p, a) {\r\n                    return defineProperty$1(target, p, a);\r\n                },\r\n                deleteProperty(t, p) {\r\n                    callback(ancestor, [...patharray, p], undefined, get$2(target, p));\r\n                    return Reflect$2.deleteProperty(target, p);\r\n                },\r\n                ownKeys() {\r\n                    return Reflect$2.ownKeys(target);\r\n                },\r\n                has(t, p) {\r\n                    return has$1(target, p);\r\n                },\r\n                getPrototypeOf() {\r\n                    return getPrototypeOf$1(target);\r\n                },\r\n                setPrototypeOf(t, v) {\r\n                    return setPrototypeOf$1(target, v);\r\n                },\r\n                construct(t, argumentslist) {\r\n                    if (typeof target === \"function\") {\r\n                        return construct$1(target, argumentslist);\r\n                    }\r\n                },\r\n                apply(t, thisarg, argarray) {\r\n                    if (typeof target === \"function\") {\r\n                        return apply$1(target, thisarg, argarray);\r\n                    }\r\n                },\r\n                getOwnPropertyDescriptor(t, k) {\r\n                    var descripter = getOwnPropertyDescriptor$1(target, k);\r\n                    if (descripter) {\r\n                        descripter.configurable = true;\r\n                        return descripter;\r\n                    }\r\n                    else {\r\n                        return;\r\n                    }\r\n                },\r\n                set(t, k, v) {\r\n                    if (typeof callback === \"function\") {\r\n                        callback(ancestor, [...patharray, k], v, get$2(target, k));\r\n                    }\r\n                    return set$2(target, k, v);\r\n                },\r\n                get(t, k) {\r\n                    var value = get$2(target, k);\r\n                    if (isfunction$1(value) || isobject$2(value)) {\r\n                        return deepobserveaddpath(value, callback, [...patharray, k], target);\r\n                    }\r\n                    else {\r\n                        return value;\r\n                    }\r\n                }\r\n            });\r\n        })(forkobj);\r\n    }\r\n    else {\r\n        return target;\r\n    }\r\n}\r\nfunction observedeepagent(target, callback) {\r\n    if (typeof callback !== \"function\") {\r\n        throw Error(\"observe callback is not valid function !\");\r\n    }\r\n    if (typeof Proxy !== \"function\") {\r\n        throw Error(\"Proxy unsupported!\");\r\n    }\r\n    if (isfunction$1(target) || isobject$2(target)) {\r\n        return deepobserveaddpath(target, callback, [], target);\r\n    }\r\n    else {\r\n        return target;\r\n    }\r\n}\n\nfunction createstate(init) {\r\n    if (isprimitive(init)) {\r\n        return new Proxy(new ReactiveState(init), {\r\n            defineProperty() {\r\n                return false;\r\n            },\r\n            deleteProperty() {\r\n                return false;\r\n            },\r\n            set(target, key, value) {\r\n                if (key === textnodesymbol) {\r\n                    return set(target, key, value);\r\n                }\r\n                if (key === \"value\" && isprimitive(value)) {\r\n                    set(target, key, value);\r\n                    target[dispatchsymbol]();\r\n                    return true;\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    else if (init instanceof ReactiveState) {\r\n        return createstate(init.value);\r\n    }\r\n    else if (isobject(init)) {\r\n        return new Proxy(new ReactiveState(init), {\r\n            defineProperty() {\r\n                return false;\r\n            },\r\n            getOwnPropertyDescriptor(target, key) {\r\n                const myvalue = get(target, \"value\");\r\n                const descripter = getOwnPropertyDescriptor(target, key) ||\r\n                    getOwnPropertyDescriptor(myvalue, key);\r\n                return descripter;\r\n            },\r\n            deleteProperty(target, key) {\r\n                const myvalue = get(target, \"value\");\r\n                if (has(myvalue, key)) {\r\n                    deleteProperty(myvalue, key);\r\n                    target[dispatchsymbol](key);\r\n                    return true;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            },\r\n            has(target, key) {\r\n                const myvalue = get(target, \"value\");\r\n                return has(target, key) || has(myvalue, key);\r\n            },\r\n            get(target, key) {\r\n                const value = get(target, \"value\");\r\n                if (has(target, key)) {\r\n                    return get(target, key);\r\n                }\r\n                else if (has(value, key)) {\r\n                    return observedeepagent(get(value, key), () => {\r\n                        target[dispatchsymbol](key);\r\n                    });\r\n                }\r\n            },\r\n            ownKeys(target) {\r\n                return Array.from(new Set([...ownKeys(target), ...ownKeys(get(target, \"value\"))]));\r\n            },\r\n            set(target, key, value) {\r\n                if (key === textnodesymbol) {\r\n                    return set(target, key, value);\r\n                }\r\n                const myvalue = get(target, \"value\");\r\n                if (key === \"value\" && isobject(value)) {\r\n                    set(target, key, value);\r\n                    target[dispatchsymbol]();\r\n                    return true;\r\n                }\r\n                else if (!has(target, key)) {\r\n                    set(myvalue, key, value);\r\n                    target[dispatchsymbol](key);\r\n                }\r\n                else if (key === \"length\") {\r\n                    set(myvalue, key, value);\r\n                    target[dispatchsymbol](key);\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        throw TypeError(\"invalid State\");\r\n    }\r\n}\n\nexport { createApp, h as createElemet, createRef, createstate as createState, extenddirectives as directives, h, assertvalidvirtualdom as html, watch };\n//# sourceMappingURL=index.js.map\n"],"names":["_a","_b","_c","fromPairs_1","pairs","index","length","result","pair","isobject","a","isstring","isfunction","getsymbol","Symbol","isprimitive","isnumber","isboolean","isundefined","Object","fromEntries","Array","prototype","flat","depth","this","reduce","acc","val","concat","flattenDeep","arr1","isArray","textnodesymbol","eventtargetsymbol","memlisteners","dispatchsymbol","subscribesymbol","removeallistenerssymbol","addallistenerssymbol","ReactiveState","[object Object]","init","undefined","EventTarget","TypeError","defineProperty","value","configurable","writable","toStringTag","forEach","callback","addEventListener","String","JSON","stringify","eventname","name","dispatchEvent","Event","push","removeEventListener","toPrimitive","document","window","seteletext","e","v","textContent","setelehtml","innerHTML","createElementNS","namespace","createtextnode","data","createTextNode","svgnamespace","mathnamespace","watch","state","statekey","requestAnimationFrame","directives","ele","ref","html","text","extenddirectives","options","entries","key","element","vdom","type","bindattr","eventsarray","onevent","Infinity","target","Virtualdom","props","children","propsentries","assign","filter","test","map","slice","n","t","r","u","p","s","h","apply","replace","f","Map","get","set","typenormalized","propsnormalized","childrennormalized","trim","toLowerCase","arguments","bind","isvalidvdom","flag","includes","assertvalidvirtualdom","args","eventlistenerssymbol","addlisteners","event","callarray","call","domaddlisten","Reflect","construct","deleteProperty","getOwnPropertyDescriptor","getPrototypeOf","has","isExtensible","ownKeys","preventExtensions","setPrototypeOf","customElementsarray","items","item","super","createcostumelemet","initclass","HTMLElement","isclassextendsHTMLElement","elementname","indexOf","getcustomelementname","customElements","define","mount","container","eles","appendChild","appendchild","Reflect$1","get$1","ownKeys$1","set$1","valuestring","isobject$1","isstring$1","createeleattragentreadwrite","SVGElement","Element","asserthtmlelement","isinputtextortextarea","tagName","temp","create","Proxy","keys","attributes","k","from","Set","getAttribute","parse","error","setAttribute","o","join","removeAttribute","hasAttribute","otherdescipter","enumerable","attr","bindstatesymbol","reactivestatesymbol","virtualdomsymbol","throwinvalideletype","render","reactive","textnode","nodeValue","changetext","createDocumentFragment","createElement","createnativeelement","Error","attribute1","primitivestate","callbacks","values","add","handleprops","createApp","el","body","documentElement","head","elesarray","createRef","Reflect$2","apply$1","construct$1","defineProperty$1","get$2","getOwnPropertyDescriptor$1","getPrototypeOf$1","has$1","set$2","setPrototypeOf$1","isobject$2","isfunction$1","observedeepagent","deepobserveaddpath","patharray","ancestor","forkobj","argumentslist","thisarg","argarray","descripter","createstate","myvalue"],"mappings":"AA2BA,IAkDIA,EAAIC,EAAIC,EAlDRC,EAZJ,SAAmBC,GAKjB,IAJA,IAAIC,GAAS,EACTC,EAAkB,MAATF,EAAgB,EAAIA,EAAME,OACnCC,EAAS,KAEJF,EAAQC,GAAQ,CACvB,IAAIE,EAAOJ,EAAMC,GACjBE,EAAOC,EAAK,IAAMA,EAAK,GAEzB,OAAOD,GAiCT,SAASE,EAASC,GACd,MAAoB,iBAANA,GAAwB,OAANA,EAEpC,SAASC,EAASD,GACd,MAAoB,iBAANA,EAElB,SAASE,EAAWF,GAChB,MAAoB,mBAANA,EAKlB,SAASG,EAAUH,GACf,OAAOI,OAAOJ,GAGlB,SAASK,EAAaL,GAClB,OAAOC,EAASD,IAvBpB,SAAkBA,GACd,MAAoB,iBAANA,EAsBQM,CAASN,IApBnC,SAAmBA,GACf,MAAoB,kBAANA,EAmBuBO,CAAUP,IA1BnD,SAAqBA,GACjB,YAAoB,IAANA,EAyBuCQ,CAAYR,GA7CjE,mBAAsBS,OAAOC,cAC7BD,OAAOC,YAAcjB,GAaW,mBAAzBkB,MAAMC,UAAUC,OACvBF,MAAMC,UAAUC,KATpB,SAAmBC,EAAQ,GACvB,OAAIA,GAAS,EACFC,KAAKC,OAAO,CAACC,EAAKC,IAAQD,EAAIE,OAAOD,GAAM,IAL1D,SAASE,EAAYC,GACjB,OAAOA,EAAKL,OAAO,CAACC,EAAKC,IAAQP,MAAMW,QAAQJ,GAAOD,EAAIE,OAAOC,EAAYF,IAAQD,EAAIE,OAAOD,GAAM,IAO3FE,CAAYL,QAsC3B,MAAMQ,EAAiBnB,OAAO,YACxBoB,EAAoBpB,OAAO,eAC3BqB,EAAerB,OAAO,gBACtBsB,EAAiBvB,EAAU,YAC3BwB,EAAkBxB,EAAU,aAC5ByB,EAA0BzB,EAAU,qBACpC0B,EAAuB1B,EAAU,kBACvC,MAAM2B,EACFC,YAAYC,GAIR,GAHAjB,KAAKzB,QAAM2C,EACXlB,KAAKxB,GAAM,IAAI2C,YACfnB,KAAKvB,GAAM,IACPa,EAAY2B,KAASjC,EAASiC,GAQ9B,MAAMG,UAAU,iBAPhB1B,OAAO2B,eAAerB,KAAM,QAAS,CACjCsB,MAAOL,EACPM,cAAc,EACdC,UAAU,IAMlB9B,OAAO2B,eAAerB,KAAMX,OAAOoC,YAAa,CAC5CH,MAAO,gBACPC,cAAc,IAGtBP,CAACF,KACGd,KAAKU,GAAcgB,QAAQ,EAAEJ,EAAOK,MAChC3B,KAAKS,GAAmBmB,iBAAiBN,EAAOK,KAGxDX,UACI,OAAOhB,KAAKsB,MAEhBN,WACI,MAAMM,EAAQtB,KAAKsB,MACnB,OAAOhC,EAAYgC,GACbO,OAAOP,GACPtC,EAASsC,GACLQ,KAAKC,UAAUT,GACf,GAEdN,EAAEzC,EAAKiC,EAAgBhC,EAAKiC,EAAmBhC,EAAKiC,EAAcC,IAAiBqB,GAC/E,MAAMC,EAAOD,EAAYH,OAAOG,GAAa,QAChC,UAATC,GACAjC,KAAKS,GAAmByB,cAAc,IAAIC,MAAMF,IAEpDjC,KAAKS,GAAmByB,cAAc,IAAIC,MAAM,UAEpDnB,CAACJ,GAAiBe,EAAUK,GACxB,MAAMC,EAAOD,EAAYH,OAAOG,GAAa,QAC7ChC,KAAKU,GAAc0B,KAAK,CAACH,EAAM,IAAMN,EAAS3B,QAElDgB,CAACH,KACGb,KAAKU,GAAcgB,QAAQ,EAAEJ,EAAOK,MAChC3B,KAAKS,GAAmB4B,oBAAoBf,EAAOK,KAG3DX,CAAC3B,OAAOiD,eACJ,MAAMhB,EAAQtB,KAAKsB,MACnB,OAAOhC,EAAYgC,GACbA,EACAtC,EAASsC,GACLQ,KAAKC,UAAUT,QACf,GAIlB,MAAMiB,EAAWC,OAAOD,SACxB,SAASE,EAAWC,EAAGC,GACnBD,EAAEE,YAAcD,EAEpB,SAASE,EAAWH,EAAGC,GACnBD,EAAEI,UAAYH,EAclB,SAASI,EAAgBC,EAAWf,GAChC,OAAOM,EAASQ,gBAAgBC,EAAWf,GAE/C,SAASgB,EAAeC,GACpB,OAAOX,EAASY,eAAeD,GAEnC,MAAME,EAAe,6BAIrB,MAAMC,EAAgB,qCAKtB,SAASC,EAAMC,EAAO5B,EAAU6B,GAC5B,KAAMD,aAAiBxC,GAAiB5B,EAAWwC,IAC/C,MAAMP,UAAU,6BAEhBoC,EACAD,EAAM3C,GAAiBe,EAAU6B,GAGjCD,EAAM3C,GAAiBe,GAE3B8B,EAAsB,KAClBF,EAAMzC,OAId,MAAM2C,EAAwBjB,OAAOiB,sBACrC,IAAIC,EAAa,CACb1C,IAAI2C,EAAKC,GACL,GAAkB,iBAAPA,EAIP,MAAMxC,UAAU,eAHhBwC,EAAItC,MAAQqC,GAMpB3C,KAAK2C,EAAKE,GACN,GAAmB,iBAARA,EACPJ,EAAsB,KAClBZ,EAAWc,EAAKE,SAGnB,CAAA,KAAIA,aAAgB9C,GASrB,MAAMK,UAAU,gBARhBkC,EAAMO,EAAON,IACTV,EAAWc,EAAK9B,OAAO0B,MAE3BE,EAAsB,KAClBZ,EAAWc,EAAK9B,OAAOgC,QAOnC7C,KAAK2C,EAAKG,GACN,GAAmB,iBAARA,EACPL,EAAsB,KAClBhB,EAAWkB,EAAKG,SAGnB,CAAA,KAAIA,aAAgB/C,GASrB,MAAMK,UAAU,gBARhBkC,EAAMQ,EAAOP,IACTd,EAAWkB,EAAK9B,OAAO0B,MAE3BE,EAAsB,KAClBhB,EAAWkB,EAAK9B,OAAOiC,SASvC,SAASC,EAAiBC,GACtBtE,OAAOuE,QAAQD,GAAStC,QAAQ,EAAEwC,EAAK5C,MACnC,GAAqB,mBAAVA,EACP,MAAMF,UAAU,qBAGhBsC,EAAWQ,GAAO5C,IAK9ByC,EAAiB,CACb/C,MAAMmD,EAAS7C,EAAO8C,GAClB,KAAI9C,aAAiBP,IACF,UAAdqD,EAAKC,MAAkC,aAAdD,EAAKC,KAc/B,MAAMjD,UAAU,oCAbhBgD,EAAKE,SAAgB,MAAIhD,EACzB,CAAC,SAAU,SAASI,QAAQM,IACxB,MACMuC,EAAc,CADLH,EAAKI,QAAQxC,IACClC,KAAK2E,EAAAA,GAClCL,EAAKI,QAAQxC,GAAa,IACnBuC,EACF7B,GACWpB,EAAMA,MAAQoB,EAAEgC,OAAOpD,YAWvD,MAAMqD,EACF3D,YAAYqD,EAAO,GAAIO,EAAQ,GAAIC,EAAW,IAC1C7E,KAAKmE,aAAUjD,EACflB,KAAK4E,MAAQ,GACb5E,KAAK6E,SAAW,GAChB7E,KAAK0D,WAAa,GAClB1D,KAAKwE,QAAU,GACfxE,KAAKsE,SAAW,GAChB,MAAMQ,EAAepF,OAAOuE,QAAQW,GACpClF,OAAOqF,OAAO/E,KAAM,CAChBqE,KAAAA,EACAC,SAAU5E,OAAOC,YAAYmF,EACxBE,OAAO,EAAEd,KAAS,WAAWe,KAAKf,EAAI,KACtCc,OAAOtC,GAAKA,EAAE,aAAc3B,IACjC6D,MAAOlF,OAAOC,YAAYmF,EACrBE,OAAO,EAAEd,KAAS,WAAWe,KAAKf,EAAI,KACtCc,OAAOtC,KAAOA,EAAE,aAAc3B,KACnC8D,SAAAA,EACAL,QAAS9E,OAAOC,YAAYmF,EACvBE,OAAO,EAAEd,KAAS,KAAKe,KAAKf,EAAI,KAChCgB,IAAI,EAAEhB,EAAK5C,KAAW,CAAC4C,EAAIiB,MAAM,GAAI7D,KAC1CoC,WAAYhE,OAAOC,YAAYmF,EAC1BE,OAAO,EAAEd,KAAS,KAAKe,KAAKf,EAAI,KAChCgB,IAAI,EAAEhB,EAAK5C,KAAW,CAAC4C,EAAIiB,MAAM,GAAI7D,OAE9C5B,OAAO2B,eAAerB,KAAMX,OAAOoC,YAAa,CAC5CH,MAAO,aACPC,cAAc,KAK1B,IAAI6D,EAAE,SAASC,EAAEC,EAAEC,EAAE7C,GAAG,IAAI,IAAI8C,EAAE,EAAEA,EAAEF,EAAEzG,OAAO2G,IAAI,CAAC,IAAIC,EAAEH,EAAEE,GAAGE,EAAE,iBAAiBD,EAAEF,EAAEE,GAAGA,EAAExG,EAAEqG,IAAIE,GAAG,IAAIvG,EAAEyD,EAAE,GAAGgD,EAAE,IAAIzG,EAAEyD,EAAE,GAAGhD,OAAOqF,OAAOrC,EAAE,IAAI,GAAGgD,GAAG,IAAIzG,GAAGyD,EAAE,GAAGA,EAAE,IAAI,IAAI4C,IAAIE,IAAIE,EAAE,IAAIzG,EAAEyD,EAAE,GAAG4C,IAAIE,KAAKE,EAAE,GAAGhD,EAAEN,KAAKnD,EAAEoG,EAAEM,MAAM,KAAKP,EAAEC,EAAEK,EAAEH,EAAE,CAAC,GAAG,QAAQG,GAAI,OAAOhD,GAAG2C,EAAE,SAASD,GAAG,IAAI,IAAIC,EAAEC,EAAEC,EAAE,EAAE7C,EAAE,GAAG8C,EAAE,GAAGC,EAAE,CAAC,GAAGC,EAAE,SAASN,GAAG,IAAIG,IAAIH,IAAI1C,EAAEA,EAAEkD,QAAQ,uBAAuB,MAAMH,EAAErD,KAAKgD,GAAG1C,EAAE,GAAG,IAAI6C,IAAIH,GAAG1C,IAAI+C,EAAErD,KAAKgD,GAAG1C,EAAE,GAAG6C,EAAE,GAAG,IAAIA,GAAG,QAAQ7C,GAAG0C,EAAEK,EAAErD,KAAKgD,EAAE,GAAG,IAAIG,GAAG7C,IAAI0C,EAAEK,EAAErD,MAAK,EAAG,EAAEM,GAAG6C,GAAG,KAAK7C,IAAI0C,GAAG,IAAIG,KAAKE,EAAErD,KAAKM,EAAE6C,EAAED,GAAGC,EAAE,GAAGH,IAAIK,EAAErD,KAAKgD,EAAEG,EAAED,GAAGC,EAAE,IAAI7C,EAAE,IAAKzD,EAAE,EAAEA,EAAEmG,EAAEvG,OAAOI,IAAI,CAACA,IAAI,IAAIsG,GAAGG,IAAIA,EAAEzG,IAAI,IAAI,IAAI4G,EAAE,EAAEA,EAAET,EAAEnG,GAAGJ,OAAOgH,IAAIR,EAAED,EAAEnG,GAAG4G,GAAG,IAAIN,EAAE,MAAMF,GAAGK,IAAID,EAAE,CAACA,GAAGF,EAAE,GAAG7C,GAAG2C,EAAE,IAAIE,EAAE,OAAO7C,GAAG,MAAM2C,GAAGE,EAAE,EAAE7C,EAAE,IAAIA,EAAE2C,EAAE3C,EAAE,GAAG8C,EAAEH,IAAIG,EAAEA,EAAE,GAAG9C,GAAG2C,EAAE,MAAMA,GAAG,MAAMA,EAAEG,EAAEH,EAAE,MAAMA,GAAGK,IAAIH,EAAE,GAAGA,IAAI,MAAMF,GAAGE,EAAE,EAAED,EAAE5C,EAAEA,EAAE,IAAI,MAAM2C,IAAIE,EAAE,GAAG,MAAMH,EAAEnG,GAAG4G,EAAE,KAAKH,IAAI,IAAIH,IAAIE,EAAEA,EAAE,IAAIF,EAAEE,GAAGA,EAAEA,EAAE,IAAIrD,KAAKmD,EAAE,GAAGA,EAAE,GAAG,MAAMF,GAAG,OAAOA,GAAG,OAAOA,GAAG,OAAOA,GAAGK,IAAIH,EAAE,GAAG7C,GAAG2C,GAAG,IAAIE,GAAG,QAAQ7C,IAAI6C,EAAE,EAAEE,EAAEA,EAAE,IAAK,OAAOC,IAAID,GAAGH,EAAE,mBAAmBQ,IAAIP,EAAED,EAAE,IAAIQ,IAAI,GAAGpD,EAAE4C,EAAE,SAASF,GAAG,IAAIE,EAAEC,EAAEQ,IAAIX,GAAG,OAAOE,GAAGC,EAAES,IAAIZ,EAAEE,EAAED,EAAED,IAAIE,GAAG,SAASF,GAAG,IAAI,IAAIE,EAAE,GAAG5C,EAAE,EAAEA,EAAE0C,EAAEvG,OAAO6D,IAAI4C,GAAGF,EAAE1C,GAAG7D,OAAO,IAAIuG,EAAE1C,GAAG,OAAO6C,EAAED,KAAKC,EAAED,GAAGD,EAAED,KAEtpC,SAASM,EAAErB,EAAO,GAAIO,EAAQ,MAAOC,GACjC,IAAIoB,EAAiB/G,EAASmF,IAASlF,EAAWkF,GAAQA,EAAO,GAC7D6B,EAAkBlH,EAAS4F,GAASA,EAAQ,GAChD,MAAMuB,EAAqBtB,EAAS/E,KAAK,GAIzC,MAH8B,iBAAnBmG,IACPA,EAAiBA,EAAeG,OAAOC,eAEb,iBAAnBJ,GAA+B,KAAOA,EACtCE,GAEXD,EAAkBxG,OAAOC,YAAYD,OAAOuE,QAAQiC,GAAiBhB,IAAI,EAAEhB,EAAK5C,KAAW,CACvF4C,EAAIkC,OAAOC,cACX/E,KAEG,IAAIqD,EAAWsB,EAAgBC,EAAiBC,IAG3D,MAAMtC,EAnBqpC,SAAawB,GAAG,IAAIC,EAAEF,EAAEpF,KAAK0C,EAAE2C,GAAGiB,UAAU,IAAI,OAAOhB,EAAEzG,OAAO,EAAEyG,EAAEA,EAAE,IAmBhtCiB,KAAKb,GACtB,SAASc,EAAY7D,GACjB,IAAI8D,GAAO,EACX,GAAI7G,MAAMW,QAAQoC,GACd8D,GAAO9D,EACFuC,IAAKvB,GACC6C,EAAY7C,IAElB+C,UAAS,QAIb,GAAI/D,aAAagC,GAClB,GAAI6B,EAAY7D,EAAEkC,UACd,OAAO,MAGV,CAAA,GAAIlC,aAAa5B,EAClB,OAAO,EAGP,GAAI7B,EAASyD,GACT,OAAO,EAGf,OAAO8D,EAEX,SAASE,KAAyBC,GAC9B,MAAMxC,EAAOP,KAAQ+C,GACrB,GAAIJ,EAAYpC,GACZ,OAAOA,EAIP,MAAM,IAAIhD,UAAU,uBAI5B,MAAMyF,EAAuBxH,OAAO,kBACpC,SAASmF,EAASL,EAASnC,EAAWL,GAIlC,GAHKwC,EAAQ0C,KACT1C,EAAQ0C,GAAwB,IAEZ,mBAAblF,EACPmF,EAAa3C,EAASnC,EAAW,CAACL,QAEjC,CAAA,MApTQ1C,EAoTI0C,aAnTG/B,OAASA,MAAMW,QAAQtB,IAuTvC,MAAMmC,UAAU,yBAHhB0F,EAAa3C,EAASnC,EAAWL,GArTzC,IAAiB1C,EA2TjB,SAAS6H,EAAanD,EAAKoD,EAAOC,GAC9BA,EAAUtF,QAASuF,IACftD,EAAIkD,GAAsBzE,KAAK,CAAC2E,EAAOE,IAI/C,SAAsBtD,EAAKoD,EAAOE,GAC9BtD,EAAI/B,iBAAiBmF,EAAOE,GAJxBC,CAAavD,EAAKoD,EAAOE,KAoBjC,MAAME,EAAU3E,OAAO2E,SACjBxB,MAAEA,EAAKyB,UAAEA,EAAS/F,eAAEA,EAAcgG,eAAEA,EAActB,IAAEA,EAAGuB,yBAAEA,EAAwBC,eAAEA,EAAcC,IAAEA,EAAGC,aAAEA,EAAYC,QAAEA,EAAOC,kBAAEA,EAAiB3B,IAAEA,EAAG4B,eAAEA,IAAmBT,EAE1KU,GAAsB,IAhB5B,cAA2BjI,MACvBoB,QAAQ8G,GAQJ,OAPAA,EAAMpG,QAAQqG,KACN5I,EAAW4I,IAAS/I,EAAS+I,MACxB/H,KAAK0G,SAASqB,IACfC,MAAM5F,KAAK2F,MAIhB/H,KAAKnB,SAgBpB,SAASoJ,GAAmBC,EAAWrD,GACnC,GANJ,SAAmCqD,GAC/B,SAAU/I,EAAW+I,IACjBA,EAAUrI,WACVqI,EAAUrI,qBAAqBsI,aAG/BC,CAA0BF,GAAY,CACtCL,GAAoBzF,KAAK8F,GACzB,MAAMG,EAXd,SAA8BH,GAC1B,MAAO,KAAOL,GAAoBS,QAAQJ,GAUlBK,CAAqBL,GAKzC,OAJIM,eAAezC,IAAIsC,KAAiBH,GAEpCM,eAAeC,OAAOJ,EAAaH,GAEhCd,EAAUc,EAAW,CAACrD,IAG7B,MAAMzD,UAAU,kCAIxB,SAASsH,GAAO/E,EAAKgF,GAEjB,IAAIC,EADJD,EAAU7F,UAAY,IAGlB8F,EADAhJ,MAAMW,QAAQoD,GACPA,EAGA,CAACA,IAEPjC,QAAQgB,IA9RjB,SAAqBiG,EAAWhF,GAC5BgF,EAAUE,YAAYlF,IA6RJmF,CAAYH,EAAWjG,IAG7C,MAAMqG,GAAYvG,OAAO2E,SACjBpB,IAAKiD,GAAOtB,QAASuB,GAAWjD,IAAKkD,IAAUH,GACjDI,GAAc,QACpB,SAASC,GAAWnK,GAChB,MAAoB,iBAANA,GAAwB,OAANA,EAEpC,SAASoK,GAAWpK,GAChB,MAAoB,iBAANA,EAgBlB,SAASqK,GAA4B3F,IATrC,SAA2BA,GACvB,GAAMA,aAAewE,aACjBxE,aAAe4F,YACf5F,aAAe6F,QAIf,OAAO,EAHP,MAAMpI,UAAU,wBAMpBqI,CAAkB9F,GAClB,MAAM+F,EAAyC,UAAhB/F,EAAIgG,SAA8C,SAAvBX,GAAMrF,EAAK,SACjD,aAAhBA,EAAIgG,QACR,IAAIC,EAAOlK,OAAOmK,OAAO,MACzB,OAAO,IAAIC,MAAMF,EAAM,CACnB5I,UACI,MAAM+I,EAAOd,GAAUtF,EAAIqG,YAAYhF,OAAOiF,IAAM,KAAKhF,KAAKpD,OAAOoI,GAAG,KACxE,OAAOP,EACD9J,MAAMsK,KAAK,IAAIC,IAAI,IAAIJ,EAAMZ,MAC7BY,GAEV/I,IAAI0D,EAAQR,GACR,GAAIwF,GAAyBxF,IAAQiF,GACjC,OAAOH,GAAMrF,EAAKwF,IAGlB,IAAIxG,EAAIgB,EAAIyG,aAAavI,OAAOqC,IAChC,GAAKvB,GAGD0G,GAAW1G,GACX,IACI,OAAOb,KAAKuI,MAAMxI,OAAOc,IAE7B,MAAO2H,GACH,OAAO3H,IAOvB3B,IAAIqE,EAAGnB,EAAKvB,GACR,OAAI+G,GAAyBxF,IAAQiF,GAC1BD,GAAMvF,EAAKwF,GAAaxG,GAElB,UAARuB,GACLP,EAAI4G,aAAa1I,OAAOqC,GAAMmF,GAAW1G,GAAKA,EAAIyG,GAAWzG,IApDnD6H,EAoDyE7H,EAnDxFjD,OAAOuE,QAAQuG,GACjBtF,IAAI,EAAEhB,EAAK5C,KAAW4C,EAAM,IAAM5C,GAClCmJ,KAAK,MAiD0F5I,OAAOc,KACxF,IAGPgB,EAAI4G,aAAa1I,OAAOqC,GAAMkF,GAAWzG,GAAKb,KAAKC,UAAUY,GAAKd,OAAOc,KAClE,GAzDvB,IAA0B6H,GA4DlBnD,eAAc,CAAChC,EAAG4E,KACdtG,EAAI+G,gBAAgB7I,OAAOoI,KACpB,GAEXzC,IAAG,CAAC9C,EAAQR,OACJwF,GAAyBxF,IAAQiF,KAI1BxF,EAAIgH,aAAa9I,OAAOqC,IAGvC7C,eAAc,KACH,EAEXL,yBAAyB0D,EAAQR,GAC7B,MAAM0G,EAAiB,CACnBC,YAAY,EACZtJ,cAAc,EACdC,UAAU,GAEd,GAAIkI,GAAyBxF,IAAQiF,GACjC,MAAO,CACH7H,MAAO0H,GAAMrF,EAAKwF,OACfyB,GAIP,IAAIE,EAAOnH,EAAIyG,aAAavI,OAAOqC,IACnC,OAAI4G,EACO,CACHxJ,MAAOwJ,KACJF,QAIP,KAOpB,MAAMG,GAAkB1L,OAAO,aACzB2L,GAAsB3L,OAAO,iBAC7B4L,GAAmB5L,OAAO,cAChC,SAAS6L,KACL,MAAM9J,UAAU,yBAEpB,SAAS+J,GAAO/G,EAAMpB,GAClB,GAAoB,iBAAToB,EACP,OAAOnB,EAAemB,GAErB,GAAIA,aAAgBrD,EAAe,CACpC,MAAMqK,EAAWhH,EACXiH,EAAWpI,EAAepB,OAAOuJ,IAMvC,OALAC,EAASL,IAAuBI,EAChCA,EAAS5K,GAAkB6K,EAC3B/H,EAAM8H,EAAW7H,KA7YzB,SAAoB8H,EAAU/J,GAC1B+J,EAASC,UAAYzJ,OAAOP,GA6YpBiK,CAAWF,EAAUxJ,OAAO0B,MAEzB8H,EAEN,GAAIjH,aAAgBO,GAAc,SAAUP,EAAM,CACnD,MAAMC,KAAEA,GAASD,EACjB,IAAID,EACJ,GAAoB,iBAATE,EAAmB,CAC1B,GAAa,WAATA,EACA,OAnaL9B,EAASiJ,yBAsaJrH,EADc,QAATE,EAxaVtB,EAAgBK,EAAc,OA2aX,SAATiB,EAvZVtB,EAAgBM,EAAe,QA2ZhBL,EACJD,EAAgBC,EAAWqB,GA3ajD,SAA6BA,GACzB,OAAO9B,EAASkJ,cAAcpH,GA2aZqH,CAAoBrH,OAGV,mBAARA,EACZF,EAAU8D,GAAmB5D,EAAMD,EAAKS,UAGxCqG,KAmBJ,OAMR,SAAqB/G,EAASC,GAC1B,EAAED,EAASC,KACP1E,OAAOuE,QAAQG,EAAKV,YAAYhC,QAAQ,EAAEO,EAAMX,MAC5C,KAAIW,KAAQyB,GAA0C,mBAArBA,EAAWzB,IAIxC,MAAM,IAAI0J,MAAM,sBAAwB1J,GAHxCyB,EAAWzB,GAAMkC,EAAS7C,EAAO8C,KAMzC,MAAMwH,EAAatC,GAA4BnF,GAC/CzE,OAAOqF,OAAO6G,EAAYxH,EAAKQ,OAC/BT,EAAQ8G,IAAoB7G,EAC5BA,EAAKD,QAAUA,EACfzE,OAAOuE,QAAQG,EAAKE,UAAU5C,QAAQ,EAAEwC,EAAK2H,MACzCD,EAAW1H,GAAO2H,EAAevK,MACjCgC,EAAMuI,EAAiBtI,IACnBqI,EAAW1H,GAAOX,EAAMjC,UAGhC5B,OAAOuE,QAAQG,EAAKI,SAAS9C,QAAQ,EAAEqF,EAAO+E,MAC1CtH,EAAQL,EAAS4C,EAAO+E,MApBhC,CAsBG3H,EAASC,GACPD,EAAQ4G,MACT5G,EAAQ4G,IAAmB,IAAIZ,KAEnC,CAACzK,OAAOqM,OAAO3H,EAAKE,UAAW5E,OAAOqM,OAAO3H,EAAKV,aAC7C5D,OACAkF,OAAOtC,GAAKA,aAAa3B,GACzBW,QAAQgB,GAAKyB,EAAQ4G,IAAiBiB,IAAItJ,IArD3CuJ,CAAY9H,EAASC,GACD,mBAATC,GACPqE,GAAMtE,EAAKS,SAASK,IAAIxC,GACP,QAAT2B,EACO8G,GAAOzI,EAAGU,GAEH,SAATiB,EACE8G,GAAOzI,EAAGW,GAEZL,EACEmI,GAAOzI,EAAGM,GAGVmI,GAAOzI,IAElByB,GAEDA,EAGP+G,KAoCR,SAASgB,GAAU9H,EAAMuE,GACrB,MAAMwD,EAAKxD,EACX,IAAKnC,EAAYpC,GAEb,MAAMhD,UAAU,uBAEpB,KAAM+K,aAAchE,aAChB,MAAM/G,UAAU,kCAEpB,GAAI+K,IAAO5J,EAAS6J,MAChBD,IAAO5J,EAAS8J,iBAChBF,IAAO5J,EAAS+J,KAChB,MAAMX,MAAM,6CAEhB,IAAIY,EAQJ,OADA7D,IALI6D,EADA3M,MAAMW,QAAQ6D,GACFA,EAGA,CAACA,IAEDc,IAAIxC,GAAKyI,GAAOzI,IAAKiG,GAC9BA,EAGX,SAAS6D,GAAUvL,GACf,MAAO,CAAEK,MAAOL,GAGpB,MAAMwL,GAAYjK,OAAO2E,SACjBxB,MAAO+G,GAAStF,UAAWuF,GAAatL,eAAgBuL,GAAkB7G,IAAK8G,GAAOvF,yBAA0BwF,GAA4BvF,eAAgBwF,GAAkBvF,IAAKwF,GAAOhH,IAAKiH,GAAOrF,eAAgBsF,IAAqBT,GACnP,SAASU,GAAWlO,GAChB,MAAoB,iBAANA,GAAwB,OAANA,EAEpC,SAASmO,GAAanO,GAClB,MAAoB,mBAANA,EA8ElB,SAASoO,GAAiB3I,EAAQ/C,GAC9B,GAAwB,mBAAbA,EACP,MAAMgK,MAAM,4CAEhB,GAAqB,mBAAV7B,MACP,MAAM6B,MAAM,sBAEhB,OAAIyB,GAAa1I,IAAWyI,GAAWzI,GAnF3C,SAAS4I,EAAmB5I,EAAQ/C,EAAU4L,EAAY,GAAIC,EAAW9I,GACrE,GAAwB,mBAAb/C,EACP,MAAMgK,MAAM,8BAEhB,GAAIyB,GAAa1I,IAAWyI,GAAWzI,GAAS,CAC5C,IAAI+I,EAQJ,OANIA,EADAN,GAAWzI,GACD,GAGA,OAEdwI,GAAiBO,EAAS,MACnB,CAACA,GACG,IAAI3D,MAAM2D,EAAS,CACtBpM,eAAc,CAACgE,EAAGG,EAAGvG,IACV2N,GAAiBlI,EAAQc,EAAGvG,GAEvCoI,eAAc,CAAChC,EAAGG,KACd7D,EAAS6L,EAAU,IAAID,EAAW/H,QAAItE,EAAW2L,GAAMnI,EAAQc,IACxDiH,GAAUpF,eAAe3C,EAAQc,IAE5CkC,QAAO,IACI+E,GAAU/E,QAAQhD,GAE7B8C,IAAG,CAACnC,EAAGG,IACIwH,GAAMtI,EAAQc,GAEzB+B,eAAc,IACHwF,GAAiBrI,GAE5BkD,eAAc,CAACvC,EAAG1C,IACPuK,GAAiBxI,EAAQ/B,GAEpC3B,UAAUqE,EAAGqI,GACT,GAAsB,mBAAXhJ,EACP,OAAOiI,GAAYjI,EAAQgJ,IAGnC1M,MAAMqE,EAAGsI,EAASC,GACd,GAAsB,mBAAXlJ,EACP,OAAOgI,GAAQhI,EAAQiJ,EAASC,IAGxC5M,yBAAyBqE,EAAG4E,GACxB,IAAI4D,EAAaf,GAA2BpI,EAAQuF,GACpD,OAAI4D,GACAA,EAAWtM,cAAe,EACnBsM,QAGP,GAGR7H,IAAG,CAACX,EAAG4E,EAAGtH,KACkB,mBAAbhB,GACPA,EAAS6L,EAAU,IAAID,EAAWtD,GAAItH,EAAGkK,GAAMnI,EAAQuF,IAEpDgD,GAAMvI,EAAQuF,EAAGtH,IAE5B3B,IAAIqE,EAAG4E,GACH,IAAI3I,EAAQuL,GAAMnI,EAAQuF,GAC1B,OAAImD,GAAa9L,IAAU6L,GAAW7L,GAC3BgM,EAAmBhM,EAAOK,EAAU,IAAI4L,EAAWtD,GAAIvF,GAGvDpD,KArDhB,CAyDJmM,GAGH,OAAO/I,EAWA4I,CAAmB5I,EAAQ/C,EAAU,GAAI+C,GAGzCA,EAIf,SAASoJ,GAAY7M,GACjB,GAAI3B,EAAY2B,GACZ,OAAO,IAAI6I,MAAM,IAAI/I,EAAcE,GAAO,CACtCI,eAAc,KACH,EAEXgG,eAAc,KACH,EAEXrB,IAAG,CAACtB,EAAQR,EAAK5C,IACT4C,IAAQ1D,EACDwF,EAAItB,EAAQR,EAAK5C,KAEhB,UAAR4C,IAAmB5E,EAAYgC,MAC/B0E,EAAItB,EAAQR,EAAK5C,GACjBoD,EAAO/D,MACA,KAQlB,GAAIM,aAAgBF,EACrB,OAAO+M,GAAY7M,EAAKK,OAEvB,GAAItC,EAASiC,GACd,OAAO,IAAI6I,MAAM,IAAI/I,EAAcE,GAAO,CACtCI,eAAc,KACH,EAEXL,yBAAyB0D,EAAQR,GAC7B,MAAM6J,EAAUhI,EAAIrB,EAAQ,SAG5B,OAFmB4C,EAAyB5C,EAAQR,IAChDoD,EAAyByG,EAAS7J,IAG1ClD,eAAe0D,EAAQR,GACnB,MAAM6J,EAAUhI,EAAIrB,EAAQ,SAC5B,OAAI8C,EAAIuG,EAAS7J,KACbmD,EAAe0G,EAAS7J,GACxBQ,EAAO/D,GAAgBuD,IAChB,IAMflD,IAAI0D,EAAQR,GACR,MAAM6J,EAAUhI,EAAIrB,EAAQ,SAC5B,OAAO8C,EAAI9C,EAAQR,IAAQsD,EAAIuG,EAAS7J,IAE5ClD,IAAI0D,EAAQR,GACR,MAAM5C,EAAQyE,EAAIrB,EAAQ,SAC1B,OAAI8C,EAAI9C,EAAQR,GACL6B,EAAIrB,EAAQR,GAEdsD,EAAIlG,EAAO4C,GACTmJ,GAAiBtH,EAAIzE,EAAO4C,GAAM,KACrCQ,EAAO/D,GAAgBuD,UAF1B,GAMTwD,QAAQhD,GACG9E,MAAMsK,KAAK,IAAIC,IAAI,IAAIzC,EAAQhD,MAAYgD,EAAQ3B,EAAIrB,EAAQ,aAE1E1D,IAAI0D,EAAQR,EAAK5C,GACb,GAAI4C,IAAQ1D,EACR,OAAOwF,EAAItB,EAAQR,EAAK5C,GAE5B,MAAMyM,EAAUhI,EAAIrB,EAAQ,SAC5B,GAAY,UAARR,GAAmBlF,EAASsC,GAG5B,OAFA0E,EAAItB,EAAQR,EAAK5C,GACjBoD,EAAO/D,MACA,EAEN,GAAK6G,EAAI9C,EAAQR,GAIjB,CAAA,GAAY,WAARA,EAKL,OAAO,EAJP8B,EAAI+H,EAAS7J,EAAK5C,GAClBoD,EAAO/D,GAAgBuD,QALvB8B,EAAI+H,EAAS7J,EAAK5C,GAClBoD,EAAO/D,GAAgBuD,GAS3B,OAAO,KAKf,MAAM9C,UAAU"}