{"version":3,"file":"index.min.js","sources":["index.js"],"sourcesContent":["const {Event: Event, CustomEvent: CustomEvent, requestAnimationFrame: requestAnimationFrame, URL: URL, Blob: Blob, Element: Element, Node: Node, String: String, Array: Array, document: document, Object: Object, Reflect: Reflect, Proxy: Proxy, Symbol: Symbol, Boolean: Boolean, Promise: Promise, Set: Set, Math: Math, Error: Error, TypeError: TypeError, EventTarget: EventTarget, JSON: JSON, Map: Map} = window;\n\nfunction isprimitive(a) {\n    return isstring(a) || isnumber(a) || isboolean(a) || isundefined(a) || typeof a === \"bigint\";\n}\n\nconst Reflect$1 = window.Reflect;\n\nconst {apply: apply, construct: construct, defineProperty: defineProperty, deleteProperty: deleteProperty, get: get, getOwnPropertyDescriptor: getOwnPropertyDescriptor, getPrototypeOf: getPrototypeOf, has: has, ownKeys: ownKeys, set: set} = Reflect$1;\n\nconst isplainobject = a => isobject(a) && gettagtype(a) === \"object\";\n\nfunction isundefined(a) {\n    return !a && a === void 0 || a === null;\n}\n\nfunction isnumber(a) {\n    return typeof a === \"number\";\n}\n\nfunction isboolean(a) {\n    return typeof a === \"boolean\";\n}\n\nfunction isobject(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isstring(a) {\n    return typeof a === \"string\";\n}\n\nfunction isfunction(a) {\n    return typeof a === \"function\";\n}\n\nfunction isarray(a) {\n    return a instanceof Array && Array.isArray(a) && gettagtype(a) === \"array\";\n}\n\nfunction gettagtype(a) {\n    return {}.toString.call(a).replace(\"[object \", \"\").replace(\"]\", \"\").toLowerCase().trim();\n}\n\nfunction isSet(a) {\n    return gettagtype(a) === \"set\" && a instanceof Set;\n}\n\nconst {HTMLElement: HTMLElement$1, customElements: customElements, Proxy: Proxy$1} = window;\n\nif (!isfunction(HTMLElement$1) || !isfunction(Proxy$1) || !isobject(customElements)) {\n    console.error(\"Proxy,HTMLElement ,customElements ,browser not supported !\");\n    throw new TypeError;\n}\n\nconst hyphenateRE = /\\B([A-Z])/g;\n\nconst hyphenate = str => {\n    return str.replace(hyphenateRE, \"-$1\").toLowerCase();\n};\n\nconst String$1 = window.String;\n\nconst Reflect$2 = window.Reflect;\n\nconst {get: get$1, set: set$1, ownKeys: ownKeys$1} = Reflect$2;\n\nconst valuestring = \"value\";\n\nfunction isobject$1(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isstring$1(a) {\n    return typeof a === \"string\";\n}\n\nfunction isArray(a) {\n    return Array.isArray(a);\n}\n\nfunction isSet$1(a) {\n    return a instanceof Set;\n}\n\nconst isinputcheckbox = ele => \"input\" === geteletagname(ele) && get$1(ele, \"type\") === \"checkbox\";\n\nfunction objtostylestring(obj) {\n    obj = JSON.parse(JSON.stringify(obj));\n    obj = Object.fromEntries(Object.entries(obj).map(([key, value]) => [ hyphenate(key).trim(), value ]));\n    return Object.entries(obj).map(([key, value]) => key + \":\" + value).join(\";\");\n}\n\nfunction asserthtmlelement(ele) {\n    if (!(ele instanceof Element)) {\n        console.error(ele);\n        console.error(\"invalid HTMLElement!\");\n        throw TypeError();\n    }\n}\n\nfunction createeleattragentreadwrite(ele) {\n    asserthtmlelement(ele);\n    var temp = Object.create(null);\n    const outputattrs = new Proxy(temp, {\n        ownKeys() {\n            const isinputtextortextareaflag = isinputtextortextarea(ele);\n            const keys = attributesownkeys(ele);\n            return Array.from(new Set([ ...keys, isinputcheckbox(ele) ? \"checked\" : undefined, isinputtextortextareaflag ? valuestring : undefined ].flat(Infinity).filter(a => !!a)));\n        },\n        get(target, key) {\n            const isinputtextortextareaflag = isinputtextortextarea(ele);\n            if (isinputcheckbox(ele) && key === \"checked\") {\n                return get$1(ele, \"checked\");\n            }\n            if (isinputtextortextareaflag && key === valuestring) {\n                return get$1(ele, valuestring);\n            } else {\n                const v = getattribute(ele, String$1(key));\n                if (v === \"\") {\n                    return true;\n                }\n                if (v === null) {\n                    return;\n                }\n                if (isstring$1(v)) {\n                    try {\n                        return JSON.parse(String$1(v));\n                    } catch (error) {\n                        return v;\n                    }\n                } else return;\n            }\n        },\n        set(t, key, v) {\n            const isinputtextortextareaflag = isinputtextortextarea(ele);\n            if (\"function\" === typeof v) {\n                console.error(v);\n                console.error(\"Setting properties as functions is not allowed\");\n                throw TypeError();\n            }\n            if (geteletagname(ele) === \"input\" && key === \"checked\") {\n                set$1(ele, key, v);\n                return true;\n            }\n            if (isinputtextortextareaflag && key === valuestring) {\n                return set$1(ele, valuestring, v);\n            } else if (key === \"style\") {\n                const csstext = isstring$1(v) ? v : isobject$1(v) ? objtostylestring(v) : String$1(v);\n                set$1(get$1(ele, \"style\"), \"cssText\", csstext.trim());\n                return true;\n            } else if (key === \"class\" && isobject$1(v)) {\n                const classtext = isArray(v) ? v.join(\" \") : isSet$1(v) ? [ ...v ].join(\" \") : String$1(v);\n                setattribute(ele, String$1(key), classtext);\n            } else {\n                if (isSet$1(v)) {\n                    setattribute(ele, String$1(key), JSON.stringify([ ...v ]));\n                } else {\n                    if (v === true) {\n                        v = \"\";\n                    }\n                    setattribute(ele, String$1(key), isobject$1(v) ? JSON.stringify(v) : String$1(v));\n                    return true;\n                }\n            }\n            return true;\n        },\n        deleteProperty(t, k) {\n            removeAttribute(ele, String$1(k));\n            return true;\n        },\n        has(target, key) {\n            return ownKeys$1(outputattrs).includes(key);\n        },\n        defineProperty() {\n            return false;\n        },\n        getOwnPropertyDescriptor(target, key) {\n            const otherdescipter = {\n                enumerable: true,\n                configurable: true,\n                writable: true\n            };\n            const myvalue = get$1(outputattrs, key);\n            if (typeof myvalue !== \"undefined\") {\n                return {\n                    value: myvalue,\n                    ...otherdescipter\n                };\n            } else {\n                return;\n            }\n        },\n        setPrototypeOf() {\n            return false;\n        }\n    });\n    return outputattrs;\n}\n\nfunction attributesownkeys(ele) {\n    return ele.getAttributeNames();\n}\n\nfunction getattribute(ele, key) {\n    return ele.getAttribute(key);\n}\n\nfunction geteletagname(ele) {\n    return ele.tagName.toLowerCase();\n}\n\nfunction setattribute(ele, key, value) {\n    return ele.setAttribute(key, value);\n}\n\nfunction removeAttribute(ele, key) {\n    return ele.removeAttribute(key);\n}\n\nfunction isinputtextortextarea(ele) {\n    const tagname = geteletagname(ele);\n    return tagname === \"input\" && get$1(ele, \"type\") === \"text\" || tagname === \"textarea\";\n}\n\nconst document$1 = window.document;\n\nfunction seteletext(e, v) {\n    e.textContent = v;\n}\n\nfunction setelehtml(e, v) {\n    e.innerHTML = v;\n}\n\nfunction appendchild(container, ele) {\n    container.appendChild(ele);\n}\n\nfunction createsvgelement() {\n    return createElementNS(svgnamespace, \"svg\");\n}\n\nfunction createDocumentFragment() {\n    return document$1.createDocumentFragment();\n}\n\nfunction createnativeelement(type) {\n    return document$1.createElement(type);\n}\n\nfunction createElementNS(namespace, name) {\n    return document$1.createElementNS(namespace, name);\n}\n\nfunction createtextnode(data) {\n    return document$1.createTextNode(String(data));\n}\n\nconst svgnamespace = \"http://www.w3.org/2000/svg\";\n\nfunction changetext(textnode, value) {\n    textnode.nodeValue = String(value);\n}\n\nconst mathnamespace = \"http://www.w3.org/1998/Math/MathML\";\n\nfunction createmathelement() {\n    return createElementNS(mathnamespace, \"math\");\n}\n\nfunction domaddlisten(ele, event, call) {\n    ele.addEventListener(event, call);\n}\n\nfunction domremovelisten(ele, event, call) {\n    ele.removeEventListener(event, call);\n}\n\nfunction getdomchildren(ele) {\n    return Array.from(ele.childNodes);\n}\n\nfunction getAttribute(ele, name) {\n    return HTMLElementprototype.getAttribute.call(ele, name);\n}\n\nfunction setAttribute(ele, name, value) {\n    HTMLElementprototype.setAttribute.call(ele, name, value);\n}\n\nfunction removeAttribute$1(ele, name) {\n    HTMLElementprototype.removeAttribute.call(ele, name);\n}\n\nconst HTMLElementprototype = HTMLElement.prototype;\n\nfunction createanotherhtmldocument() {\n    return document$1.implementation.createHTMLDocument(\"\");\n}\n\nconst attributeChangedCallback = \"attributeChangedCallback\";\n\nclass AttrChange extends HTMLElement {\n    constructor() {\n        super();\n    }\n    set textContent(a) {\n        return;\n    }\n    set innerHTML(a) {\n        return;\n    }\n    set innerText(a) {\n        return;\n    }\n    setAttribute(qualifiedName, value) {\n        const callback = get(this, attributeChangedCallback);\n        const oldValue = getAttribute(this, qualifiedName);\n        if (oldValue !== value) {\n            setAttribute(this, qualifiedName, value);\n            if (isfunction(callback)) {\n                callback.call(this, qualifiedName, oldValue, value);\n            }\n        }\n    }\n    removeAttribute(qualifiedName) {\n        const callback = get(this, attributeChangedCallback);\n        const oldValue = getAttribute(this, qualifiedName);\n        if (null !== oldValue) {\n            removeAttribute$1(this, qualifiedName);\n            if (isfunction(callback)) {\n                callback.call(this, qualifiedName, oldValue, undefined);\n            }\n        }\n    }\n}\n\nvar n = function(t, r, u, e) {\n    for (var p = 1; p < r.length; p++) {\n        var s = r[p], h = \"number\" == typeof s ? u[s] : s, a = r[++p];\n        1 === a ? e[0] = h : 3 === a ? e[1] = Object.assign(e[1] || {}, h) : 5 === a ? (e[1] = e[1] || {})[r[++p]] = h : 6 === a ? e[1][r[++p]] += h + \"\" : e.push(a ? t.apply(null, n(t, h, u, [ \"\", null ])) : h);\n    }\n    return e;\n}, t = function(n) {\n    for (var t, r, u = 1, e = \"\", p = \"\", s = [ 0 ], h = function(n) {\n        1 === u && (n || (e = e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g, \"\"))) ? s.push(n || e, 0) : 3 === u && (n || e) ? (s.push(n || e, 1), \n        u = 2) : 2 === u && \"...\" === e && n ? s.push(n, 3) : 2 === u && e && !n ? s.push(!0, 5, e) : u >= 5 && ((e || !n && 5 === u) && (s.push(e, u, r), \n        u = 6), n && (s.push(n, u, r), u = 6)), e = \"\";\n    }, a = 0; a < n.length; a++) {\n        a && (1 === u && h(), h(a));\n        for (var f = 0; f < n[a].length; f++) t = n[a][f], 1 === u ? \"<\" === t ? (h(), s = [ s ], \n        u = 3) : e += t : 4 === u ? \"--\" === e && \">\" === t ? (u = 1, e = \"\") : e = t + e[0] : p ? t === p ? p = \"\" : e += t : '\"' === t || \"'\" === t ? p = t : \">\" === t ? (h(), \n        u = 1) : u && (\"=\" === t ? (u = 5, r = e, e = \"\") : \"/\" === t && (u < 5 || \">\" === n[a][f + 1]) ? (h(), \n        3 === u && (s = s[0]), u = s, (s = s[0]).push(u, 2), u = 0) : \" \" === t || \"\\t\" === t || \"\\n\" === t || \"\\r\" === t ? (h(), \n        u = 2) : e += t), 3 === u && \"!--\" === e && (u = 4, s = s[0]);\n    }\n    return h(), s;\n}, r = \"function\" == typeof Map, u = r ? new Map : {}, e = r ? function(n) {\n    var r = u.get(n);\n    return r || u.set(n, r = t(n)), r;\n} : function(n) {\n    for (var r = \"\", e = 0; e < n.length; e++) r += n[e].length + \"-\" + n[e];\n    return u[r] || (u[r] = t(n));\n};\n\nfunction htm(t) {\n    var r = n(this, e(t), arguments, []);\n    return r.length > 1 ? r : r[0];\n}\n\nfunction merge_entries(a) {\n    const m = {};\n    a.forEach(([key, value]) => {\n        if (!m[key]) {\n            m[key] = new Set;\n        }\n        value.forEach(v => {\n            m[key].add(v);\n        });\n    });\n    return Object.entries(m).map(([k, v]) => [ k, Array.from(v) ]);\n}\n\nvar _a, _b;\n\nconst invalid_primitive_or_object_state = \"invalid primitive or object state\";\n\nfunction isReactiveState(a) {\n    return a instanceof ReactiveState;\n}\n\nconst eventtargetsymbol = Symbol(\"eventtatget\");\n\nconst memlisteners = Symbol(\"memlisteners\");\n\nconst dispatchsymbol = Symbol(\"dispatch\");\n\nconst subscribesymbol = Symbol(\"subscribe\");\n\nconst removeallistenerssymbol = Symbol(\"removeallisteners\");\n\nconst addallistenerssymbol = Symbol(\"addallisteners\");\n\nclass ReactiveState {\n    constructor(init) {\n        this[_a] = new EventTarget;\n        this[_b] = [];\n        this.valueOf = () => {\n            return this.value;\n        };\n        if (isprimitive(init) || isobject(init)) {\n            Object.defineProperty(this, \"value\", {\n                value: init,\n                configurable: true,\n                writable: true\n            });\n        } else {\n            console.error(init);\n            console.error(invalid_primitive_or_object_state);\n            throw TypeError();\n        }\n    }\n    [addallistenerssymbol]() {\n        this[memlisteners].forEach(([value, callback]) => {\n            this[eventtargetsymbol].addEventListener(value, callback);\n        });\n    }\n    toString() {\n        const value = this.valueOf();\n        return isprimitive(value) ? String(value) : isSet(value) ? JSON.stringify([ ...value ]) : isobject(value) ? JSON.stringify(value) : \"\";\n    }\n    [(_a = eventtargetsymbol, _b = memlisteners, dispatchsymbol)](eventname) {\n        const name = eventname ? String(eventname) : \"value\";\n        this[eventtargetsymbol].dispatchEvent(new CustomEvent(\"value\", {\n            detail: name\n        }));\n    }\n    [subscribesymbol](callback) {\n        const name = \"value\";\n        this[memlisteners].push([ name, event => callback.call(undefined, this, get(event, \"detail\")) ]);\n    }\n    [removeallistenerssymbol]() {\n        this[memlisteners].forEach(([value, callback]) => {\n            this[eventtargetsymbol].removeEventListener(value, callback);\n        });\n    }\n    [Symbol.toPrimitive]() {\n        const value = this.valueOf();\n        return isprimitive(value) ? value : isobject(value) ? JSON.stringify(value) : void 0;\n    }\n}\n\nReflect.defineProperty(ReactiveState.prototype, Symbol.toStringTag, {\n    value: \"ReactiveState\"\n});\n\nfunction isVirtualdom(a) {\n    return a instanceof Virtualdom;\n}\n\nclass Virtualdom {\n    constructor(type, props = {}, children = []) {\n        this.props = {};\n        this.children = [];\n        this.directives = {};\n        this.onevent = {};\n        this.bindattr = {};\n        props = {\n            ...props\n        };\n        const \\u5b57\\u6bcd\\u5927\\u5c0f\\u5199 = /[A-Za-z\\u4e00-\\u9fa5]/;\n        const propsentries = Object.entries(props);\n        const propsentriesNOTevents = propsentries.filter(([key]) => !(key.startsWith(\"@\") || key.startsWith(\"on\")));\n        const \\u5b57\\u6bcd\\u5f00\\u5934\\u7684entries = propsentriesNOTevents.filter(([key]) => \\u5b57\\u6bcd\\u5927\\u5c0f\\u5199.test(key[0]));\n        Object.assign(this, {\n            type: type,\n            bindattr: Object.fromEntries(\\u5b57\\u6bcd\\u5f00\\u5934\\u7684entries.filter(e => isReactiveState(e[1]))),\n            props: Object.fromEntries(\\u5b57\\u6bcd\\u5f00\\u5934\\u7684entries.filter(e => !isReactiveState(e[1]))),\n            children: children.flat(1 / 0),\n            onevent: Object.fromEntries(merge_entries([ ...propsentries.filter(([key]) => /\\@/.test(key[0])).map(([key, value]) => [ key.slice(1).toLowerCase().trim(), [ value ].flat(1 / 0) ]), ...propsentries.filter(([key]) => key.startsWith(\"on\")).map(([key, value]) => [ key.slice(2).toLowerCase().trim(), [ value ].flat(1 / 0) ]) ])),\n            directives: Object.fromEntries(propsentriesNOTevents.filter(([key]) => /\\*/.test(key[0]) || key[0].startsWith(\"_\")).map(([key, value]) => [ key.slice(1).toLowerCase().trim(), value ]))\n        });\n    }\n}\n\ndefineProperty(Virtualdom.prototype, Symbol.toStringTag, {\n    value: \"VirtualElement\"\n});\n\nfunction createElement(type, propsorchildren, ...children) {\n    if (isarray(propsorchildren)) {\n        return apply(createElement$1, undefined, [ type, undefined, [ ...propsorchildren, ...children ].flat(1 / 0) ]);\n    } else {\n        return apply(createElement$1, undefined, Array.from(arguments));\n    }\n}\n\nfunction createElement$1(type, props = {}, ...children) {\n    let typenormalized = isstring(type) || isfunction(type) ? type : \"\";\n    const propsnormalized = isplainobject(props) ? props : {};\n    const childrennormalized = children.flat(Infinity).map(a => a === 0 ? \"0\" : a).filter(a => !!a);\n    if (isstring(typenormalized)) {\n        typenormalized = typenormalized.trim().toLowerCase();\n    }\n    if (\"\" === typenormalized) {\n        return childrennormalized;\n    } else {\n        return new Virtualdom(typenormalized, propsnormalized, childrennormalized);\n    }\n}\n\nfunction html(...inargs) {\n    return htm.call(createElement, ...inargs);\n}\n\nfunction isvalidvdom(v) {\n    if (isnumber(v)) {\n        return true;\n    }\n    let flag = false;\n    if (isarray(v)) {\n        return v.every(e => isvalidvdom(e));\n    } else if (isVirtualdom(v)) {\n        if (isvalidvdom(v.children)) {\n            return true;\n        }\n    } else if (isReactiveState(v)) {\n        return true;\n    } else {\n        if (isstring(v)) {\n            return true;\n        }\n    }\n    return flag;\n}\n\nfunction assertvalidvirtualdom(...args) {\n    const vdom = html(...args);\n    if (isvalidvdom(vdom)) {\n        return vdom;\n    } else {\n        console.error(vdom);\n        console.error(invalid_Virtualdom);\n        throw new TypeError;\n    }\n}\n\nfunction toArray(a) {\n    return (isarray(a) ? a : [ a ]).flat(1 / 0).filter(a => !isundefined(a));\n}\n\nfunction mount(ele, container, clear = true) {\n    if (clear) {\n        seteletext(container, \"\");\n    }\n    const eles = toArray(ele).flat(Infinity);\n    eles.forEach(e => appendchild(container, e));\n    return container;\n}\n\nconst invalid_custom_element_class = \"invalid custom element class !\";\n\nif (!isobject(window.customElements)) {\n    console.error(\" customElements  not supported !\");\n    throw new TypeError;\n}\n\nfunction \\u4f7f\\u7528value\\u4ece\\u8868\\u4e2d\\u67e5\\u8be2key(\\u8868, \\u7ec4\\u4ef6\\u72b6\\u6001\\u540d) {\n    const outputentrie = Object.entries(\\u8868).find(v => {\n        return v[1] === \\u7ec4\\u4ef6\\u72b6\\u6001\\u540d;\n    });\n    return outputentrie ? outputentrie[0] : undefined;\n}\n\nwindow.CustomElementRegistry = get(getPrototypeOf(window.customElements), \"constructor\");\n\nconst elementset = Symbol.for(\"elementset\");\n\nconst elementmap = Symbol.for(\"elementmap\");\n\nconst {CustomElementRegistry: CustomElementRegistry} = window;\n\nconst customElements$1 = window.customElements;\n\nif (!has(customElements$1, elementset)) {\n    set(customElements$1, elementset, new Set);\n}\n\nif (!has(customElements$1, elementmap)) {\n    set(customElements$1, elementmap, {});\n}\n\nvar RandomDefineCustomElement = (initclass, extendsname) => RandomDefineCustomElement$1(initclass, extendsname);\n\nfunction RandomDefineCustomElement$1(initclass, extendsname, length = 1) {\n    if (!isclassextendsHTMLElement(initclass)) {\n        console.error(initclass);\n        console.error(invalid_custom_element_class);\n        throw TypeError();\n    }\n    if (!get(customElements$1, elementset).has(initclass)) {\n        const elementname = getrandomstringandnumber(length);\n        if (customElements$1.get(elementname)) {\n            return RandomDefineCustomElement$1(initclass, extendsname, length + 1);\n        } else {\n            if (extendsname) {\n                customElements$1.define(elementname, initclass, {\n                    extends: extendsname\n                });\n            } else {\n                customElements$1.define(elementname, initclass);\n            }\n        }\n        return elementname;\n    } else {\n        return \\u4f7f\\u7528value\\u4ece\\u8868\\u4e2d\\u67e5\\u8be2key(get(customElements$1, elementmap), initclass);\n    }\n}\n\ncustomElements$1.define = function(name, constructor, options) {\n    if (!isclassextendsHTMLElement(constructor)) {\n        console.error(constructor);\n        console.error(invalid_custom_element_class);\n        throw TypeError();\n    }\n    if (!get(customElements$1, elementset).has(constructor)) {\n        if (has(customElements$1[elementmap], name)) {\n            RandomDefineCustomElement$1(constructor, options ? options.extends : undefined);\n        } else {\n            CustomElementRegistry.prototype.define.call(customElements$1, name, constructor, options);\n            customElements$1[elementset].add(constructor);\n            customElements$1[elementmap][name] = constructor;\n        }\n    }\n};\n\nset(customElements$1, Symbol.iterator, () => {\n    const entries = Object.entries(customElements$1[elementmap]);\n    return entries[Symbol.iterator].call(entries);\n});\n\nconst charactorlist = Array(26).fill(undefined).map((v, i) => 97 + i).map(n => String.fromCharCode(n));\n\nconst hexnumberlist = Array(16).fill(undefined).map((v, i) => i).map(a => a.toString(16));\n\nconst charactorandnumberlist = [ ...new Set([ ...hexnumberlist, ...charactorlist ]) ];\n\nfunction getrandomcharactor() {\n    return get(charactorlist, Math.floor(Math.random() * charactorlist.length));\n}\n\nfunction getrandomhexnumberandcharactor() {\n    return get(charactorandnumberlist, Math.floor(Math.random() * charactorandnumberlist.length));\n}\n\nfunction getrandomstringandnumber(length = 1) {\n    return Array(length).fill(undefined).map(() => getrandomcharactor()).join(\"\") + \"-\" + Array(length).fill(undefined).map(() => getrandomhexnumberandcharactor()).join(\"\");\n}\n\nfunction isclassextendsHTMLElement(initclass) {\n    return !!(isfunction(initclass) && initclass.prototype && initclass.prototype instanceof HTMLElement);\n}\n\nfunction createcostumelemet(initclass, propsjson, children) {\n    if (isclassextendsHTMLElement(initclass)) {\n        RandomDefineCustomElement(initclass);\n        return construct(initclass, [ propsjson, children ]);\n    } else {\n        console.error(initclass);\n        console.error(invalid_custom_element_class);\n        throw TypeError();\n    }\n}\n\nfunction isconnected(element) {\n    return document.documentElement === getancestornode(element);\n}\n\nfunction getancestornode(node) {\n    while (node && node.parentNode && node.parentNode !== document) {\n        node = node.parentNode;\n    }\n    return node;\n}\n\nconst invalid_Function = \"invalid Function\";\n\nconst errormessage = \"invalid useMounted or useUnMounted out of createComponent\";\n\nlet ctxopen = false;\n\nlet MountedSet = new Set;\n\nlet UnMountedSet = new Set;\n\nlet StateSet = new Set;\n\nfunction getstates() {\n    return [ ...StateSet ];\n}\n\nfunction usestste(state) {\n    if (ctxopen) {\n        StateSet.add(state);\n    }\n}\n\nfunction getMounted() {\n    return [ ...MountedSet ];\n}\n\nfunction getUnMounted() {\n    return [ ...UnMountedSet ];\n}\n\nfunction useMounted(fun) {\n    if (isfunction(fun)) {\n        if (ctxopen) {\n            MountedSet.add(fun);\n        } else {\n            console.error(errormessage);\n            throw Error();\n        }\n    } else {\n        console.error(fun);\n        console.error(invalid_Function);\n        throw TypeError();\n    }\n}\n\nfunction useUnMounted(fun) {\n    if (isfunction(fun)) {\n        if (ctxopen) {\n            UnMountedSet.add(fun);\n        } else {\n            console.error(errormessage);\n            throw Error();\n        }\n    } else {\n        console.error(fun);\n        console.error(invalid_Function);\n        throw TypeError();\n    }\n}\n\nfunction clearMounted() {\n    MountedSet = new Set;\n}\n\nfunction clearstate() {\n    StateSet = new Set;\n}\n\nfunction clearUnMounted() {\n    UnMountedSet = new Set;\n}\n\nfunction openctx() {\n    ctxopen = true;\n    clearall();\n}\n\nfunction closectx() {\n    ctxopen = false;\n    clearall();\n}\n\nfunction clearall() {\n    clearMounted();\n    clearUnMounted();\n    clearstate();\n}\n\nfunction watch(state, callback) {\n    if (isarray(state)) {\n        const statearray = toArray(state);\n        if (!statearray.length) {\n            console.error(\"Empty array not allowed\");\n            throw new Error;\n        }\n        statearray.forEach(state1 => {\n            watchsingle(state1, () => {\n                callback(...state);\n            });\n        });\n    } else if (isReactiveState(state)) {\n        watchsingle(state, callback);\n    } else {\n        console.error(state);\n        console.error(callback);\n        console.error(invalid_ReactiveState + invalid_Function);\n        throw new TypeError;\n    }\n}\n\nfunction watchsingle(state, callback) {\n    if (!(isReactiveState(state) && isfunction(callback))) {\n        console.error(state);\n        console.error(callback);\n        console.error(invalid_ReactiveState + invalid_Function);\n        throw TypeError();\n    }\n    state[subscribesymbol](callback);\n    requestAnimationFrame(() => {\n        rewatch(state);\n    });\n}\n\nfunction unwatch(state) {\n    state[removeallistenerssymbol]();\n}\n\nfunction rewatch(state) {\n    state[addallistenerssymbol]();\n}\n\nconst {requestAnimationFrame: requestAnimationFrame$1} = window;\n\nconst directive = {\n    ref(ele, ref, _vdom) {\n        console.log(_vdom);\n        if (isobject(ref)) {\n            set(ref, \"value\", ele);\n        } else if (isfunction(ref)) {\n            apply(ref, undefined, [ ele ]);\n        } else {\n            console.error(ref);\n            console.error(\"invalid ref\");\n            throw TypeError();\n        }\n    },\n    html(ele, html, _vdom) {\n        console.log(_vdom);\n        createhtmlandtextdirective(setelehtml, \"html\")(ele, html);\n    },\n    text(ele, text, _vdom) {\n        console.log(_vdom);\n        createhtmlandtextdirective(seteletext, \"text\")(ele, text);\n    }\n};\n\nfunction createhtmlandtextdirective(seteletext, errorname) {\n    return function(ele, text) {\n        const element = ele;\n        if (isstring(text)) {\n            requestAnimationFrame$1(() => {\n                seteletext(ele, text);\n            });\n        } else if (isReactiveState(text)) {\n            watch(text, state => {\n                if (isconnected(element)) {\n                    seteletext(ele, String(state));\n                }\n            });\n            requestAnimationFrame$1(() => {\n                seteletext(ele, String(text));\n            });\n        } else {\n            console.error(text);\n            console.error(\"invalid \" + errorname);\n            throw TypeError();\n        }\n    };\n}\n\nconst componentsymbol = Symbol(\"component\");\n\nconst eventlistenerssymbol = Symbol(\"eventlisteners\");\n\nfunction onevent(element, eventname, callback) {\n    firstaddlisteners(element, eventname, toArray(callback));\n}\n\nfunction firstaddlisteners(ele, event, callarray) {\n    const element = ele;\n    callarray.forEach(call => {\n        if (!isfunction(call)) {\n            console.error(call);\n            console.error(invalid_Function);\n            throw TypeError();\n        }\n        if (!has(element, eventlistenerssymbol)) {\n            set(element, eventlistenerssymbol, []);\n        }\n        get(ele, eventlistenerssymbol).push([ event, call ]);\n        domaddlisten(ele, event, call);\n    });\n}\n\nfunction removelisteners(ele) {\n    if (has(ele, eventlistenerssymbol)) {\n        get(ele, eventlistenerssymbol).forEach(([event, call]) => {\n            domremovelisten(ele, event, call);\n        });\n    }\n}\n\nfunction readdlisteners(ele) {\n    if (has(ele, eventlistenerssymbol)) {\n        get(ele, eventlistenerssymbol).forEach(([event, call]) => {\n            domaddlisten(ele, event, call);\n        });\n    }\n}\n\nconst bindstatesymbol = Symbol(\"bindstate\");\n\nconst virtualdomsymbol = Symbol(\"virtualelement\");\n\nfunction throwinvalideletype(type) {\n    console.error(type);\n    console.error(\"invalid element type!\");\n    throw TypeError();\n}\n\nfunction render(vdom, namespace) {\n    if (isarray(vdom)) {\n        return vdom.map(a => render(a)).flat(1 / 0);\n    }\n    if (isnumber(vdom) || isstring(vdom)) {\n        const textnode = createtextnode(vdom);\n        set(textnode, virtualdomsymbol, vdom);\n        return textnode;\n    } else if (isReactiveState(vdom)) {\n        const reactive = vdom;\n        const textnode = createtextnode(String(reactive));\n        set(textnode, virtualdomsymbol, vdom);\n        watch(reactive, state => {\n            if (isconnected(element)) {\n                changetext(textnode, String(state));\n            }\n        });\n        const element = textnode;\n        set(element, bindstatesymbol, new Set);\n        get(element, bindstatesymbol).add(reactive);\n        return textnode;\n    } else if (isVirtualdom(vdom)) {\n        const {type: type} = vdom;\n        let element = undefined;\n        if (typeof type === \"string\") {\n            if (type === \"script\") {\n                return createDocumentFragment();\n            } else if (type === \"svg\") {\n                element = createsvgelement();\n            } else if (type === \"math\") {\n                element = createmathelement();\n            } else if (\"\" === type || type === \"html\") {\n                const fragmentnode = createDocumentFragment();\n                mount(render(vdom.children), fragmentnode);\n                return fragmentnode;\n            } else {\n                element = namespace ? createElementNS(namespace, type) : createnativeelement(type);\n            }\n        } else if (typeof type == \"function\") {\n            if (isobject(type[\"defaultProps\"])) {\n                vdom.props = JSON.parse(JSON.stringify({\n                    ...type[\"defaultProps\"],\n                    ...vdom.props\n                }));\n            }\n            const propsjson = JSON.parse(JSON.stringify({\n                ...vdom.props,\n                ...Object.fromEntries(Object.entries(vdom.bindattr).map(([key, value]) => {\n                    return [ key, value.value ];\n                }))\n            }));\n            element = createcostumelemet(type, propsjson, vdom.children);\n        } else {\n            throwinvalideletype(vdom);\n        }\n        if (element) {\n            handleprops(element, vdom);\n        }\n        if (type && (isfunction(type) || isstring(type))) {\n            if (!type[componentsymbol]) {\n                if (element) {\n                    mount(vdom.children.map(e => {\n                        if (type === \"svg\" && isVirtualdom(e)) {\n                            return render(e, svgnamespace);\n                        } else if (type === \"math\" && isVirtualdom(e)) {\n                            return render(e, mathnamespace);\n                        } else if (namespace && isVirtualdom(e)) {\n                            return render(e, namespace);\n                        } else {\n                            return render(e);\n                        }\n                    }), element);\n                    return element;\n                }\n            }\n        }\n        return element;\n    } else {\n        throwinvalideletype(vdom);\n    }\n    console.error(vdom);\n    throw new Error;\n}\n\nfunction handleprops(element, vdom) {\n    ((element, vdom) => {\n        Object.entries(vdom.directives).forEach(([name, value]) => {\n            if (isfunction(directive[name])) {\n                directive[name](element, value, vdom);\n            } else {\n                console.error(vdom.directives);\n                console.error(\"invalid directives \" + name);\n                throw new Error;\n            }\n        });\n        const attribute1 = createeleattragentreadwrite(element);\n        Object.assign(attribute1, vdom.props);\n        set(element, virtualdomsymbol, vdom);\n        vdom.element = element;\n        Object.entries(vdom.bindattr).forEach(([key, primitivestate]) => {\n            attribute1[key] = primitivestate.valueOf();\n            watch(primitivestate, state => {\n                if (isconnected(element)) {\n                    attribute1[key] = state.valueOf();\n                }\n            });\n        });\n        Object.entries(vdom.onevent).forEach(([event, callbacks]) => {\n            onevent(element, event, callbacks);\n        });\n    })(element, vdom);\n    [ ...Object.values(vdom.bindattr), ...Object.values(vdom.directives) ].flat(1 / 0).filter(e => isReactiveState(e)).forEach(e => {\n        if (!has(element, bindstatesymbol)) {\n            set(element, bindstatesymbol, new Set);\n        }\n        get(element, bindstatesymbol).add(e);\n    });\n}\n\nconst invalid_Virtualdom = \"invalid Virtualdom \";\n\nfunction MountElement(vdom, container) {\n    if (isarray(vdom)) {\n        vdom = vdom.flat(Infinity);\n    }\n    const el = container;\n    if (!(el instanceof HTMLElement)) {\n        console.error(el);\n        console.error(\"invalid container HTMLElement!\");\n        throw TypeError();\n    }\n    if (el === document$1.body || el === document$1.documentElement || el === document$1.head) {\n        console.error(el);\n        console.error(\"Do not mount  to <html> or <body> <head>.\");\n        throw Error();\n    }\n    const elesarray = toArray(vdom);\n    if (isvalidvdom(vdom)) {\n        mount(render(elesarray), container);\n    } else if (isNode(vdom) || isNodeArray(vdom)) {\n        mount(elesarray, container);\n    } else {\n        console.error(vdom);\n        console.error(invalid_Virtualdom);\n        throw TypeError();\n    }\n    return container;\n}\n\nfunction isNodeArray(array) {\n    return isarray(array) && array.every(a => a instanceof Node);\n}\n\nfunction isNode(a) {\n    return a instanceof Node;\n}\n\nfunction isArray$1(a) {\n    return Array.isArray(a);\n}\n\nconst Reflect$3 = window.Reflect;\n\nconst {ownKeys: ownKeys$2, deleteProperty: deleteProperty$1, apply: apply$1, construct: construct$1, defineProperty: defineProperty$1, get: get$2, getOwnPropertyDescriptor: getOwnPropertyDescriptor$1, getPrototypeOf: getPrototypeOf$1, has: has$1, set: set$2, setPrototypeOf: setPrototypeOf} = Reflect$3;\n\nfunction isobject$2(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isfunction$1(a) {\n    return typeof a === \"function\";\n}\n\nfunction deepobserveaddpath(target, callback, patharray = [], ancestor = target) {\n    if (!isfunction$1(callback)) {\n        console.error(callback);\n        console.error(\"observe callback invalid !\");\n        throw Error();\n    }\n    if (isfunction$1(target) || isobject$2(target)) {\n        let fakeobj;\n        if (isArray$1(target)) {\n            fakeobj = [];\n        } else if (isfunction$1(target)) {\n            fakeobj = () => {};\n        } else {\n            fakeobj = {};\n        }\n        setPrototypeOf(fakeobj, null);\n        return new Proxy(fakeobj, {\n            defineProperty(t, p, a) {\n                callback(ancestor, [ ...patharray, String(p) ], has$1(a, \"value\") ? a.value : isfunction$1(a.get) ? a.get() : undefined, get$2(target, p));\n                return defineProperty$1(target, p, a);\n            },\n            deleteProperty(t, p) {\n                callback(ancestor, [ ...patharray, String(p) ], undefined, get$2(target, p));\n                return deleteProperty$1(target, p);\n            },\n            ownKeys() {\n                return ownKeys$2(target);\n            },\n            has(t, p) {\n                return has$1(target, p);\n            },\n            getPrototypeOf() {\n                return getPrototypeOf$1(target);\n            },\n            setPrototypeOf(t, v) {\n                return setPrototypeOf(target, v);\n            },\n            construct(t, argumentslist) {\n                if (isfunction$1(target)) {\n                    return construct$1(target, argumentslist);\n                }\n            },\n            apply(t, thisarg, argarray) {\n                if (isfunction$1(target)) {\n                    return apply$1(target, thisarg, argarray);\n                }\n            },\n            getOwnPropertyDescriptor(t, k) {\n                var descripter = getOwnPropertyDescriptor$1(target, k);\n                if (isArray$1(target) && k === \"length\") {\n                    return descripter;\n                } else {\n                    if (descripter) {\n                        descripter.configurable = true;\n                        return descripter;\n                    } else {\n                        return;\n                    }\n                }\n            },\n            set(t, k, v) {\n                if (isfunction$1(callback)) {\n                    callback(ancestor, [ ...patharray, String(k) ], v, get$2(target, k));\n                }\n                return set$2(target, k, v);\n            },\n            get(t, k) {\n                var value = get$2(target, k);\n                if (isfunction$1(value) || isobject$2(value)) {\n                    return deepobserveaddpath(value, callback, [ ...patharray, String(k) ], target);\n                } else {\n                    return value;\n                }\n            }\n        });\n    } else {\n        return target;\n    }\n}\n\nfunction observedeepagent(target, callback) {\n    if (!isfunction$1(callback)) {\n        console.error(callback);\n        console.error(\"observe callback  invalid function !\");\n        throw Error();\n    }\n    if (!isfunction$1(Proxy)) {\n        console.error(\"Proxy unsupported!\");\n        throw Error();\n    }\n    if (isfunction$1(target) || isobject$2(target)) {\n        return deepobserveaddpath(target, callback);\n    } else {\n        return target;\n    }\n}\n\nfunction handleobjectstate(init) {\n    let initobj = init;\n    const containReactiveState = isplainobject(init) && Object.values(init).some(a => isReactiveState(a));\n    const state_entries = Object.entries(init).filter(e => {\n        const a = e[1];\n        return isReactiveState(a);\n    });\n    if (containReactiveState) {\n        initobj = {\n            ...init\n        };\n        state_entries.forEach(([key, state]) => {\n            defineProperty(initobj, key, {\n                enumerable: true,\n                get() {\n                    return state.valueOf();\n                },\n                configurable: true\n            });\n        });\n    }\n    const reactive = new ReactiveState(initobj);\n    if (containReactiveState) {\n        state_entries.forEach(([key, state]) => {\n            watch(state, () => {\n                reactive[dispatchsymbol](String(key));\n            });\n        });\n    }\n    const objproxyhandler = {};\n    objproxyhandler.ownKeys = target => {\n        return Array.from(new Set([ ...ownKeys(target), ...ownKeys(get(target, \"value\")) ]));\n    };\n    objproxyhandler.setPrototypeOf = () => {\n        return false;\n    };\n    objproxyhandler.defineProperty = () => {\n        return false;\n    };\n    objproxyhandler.getOwnPropertyDescriptor = (target, key) => {\n        const myvalue = get(target, \"value\");\n        const descripter = getOwnPropertyDescriptor(target, key) || getOwnPropertyDescriptor(myvalue, key);\n        if (descripter) {\n            descripter.configurable = true;\n        }\n        return descripter;\n    };\n    objproxyhandler.deleteProperty = (target, key) => {\n        const myvalue = get(target, \"value\");\n        if (has(myvalue, key)) {\n            deleteProperty(myvalue, key);\n            target[dispatchsymbol](String(key));\n            return true;\n        } else {\n            return true;\n        }\n    };\n    objproxyhandler.has = (target, key) => {\n        const myvalue = get(target, \"value\");\n        return has(target, key) || has(myvalue, key);\n    };\n    objproxyhandler.get = (target, key) => {\n        const value = get(target, \"value\");\n        if (key === \"value\" && (isarray(value) || isplainobject(value))) {\n            return observedeepagent(get(target, key), (_target_, patharray) => {\n                target[dispatchsymbol](patharray[0]);\n            });\n        } else if (has(target, key)) {\n            return get(target, key);\n        } else if (has(value, key)) {\n            if (isSet(value) && (key === \"add\" || key === \"clear\" || key === \"delete\")) {\n                switch (key) {\n                  case \"add\":\n                    {\n                        return add => {\n                            if (!set_prototype.has.call(value, add)) {\n                                const returnvalue = set_prototype[key].call(value, add);\n                                target[dispatchsymbol]();\n                                return returnvalue;\n                            }\n                            return;\n                        };\n                    }\n\n                  case \"delete\":\n                    {\n                        return dele => {\n                            if (set_prototype.has.call(value, dele)) {\n                                const returnvalue = set_prototype[key].call(value, dele);\n                                target[dispatchsymbol]();\n                                return returnvalue;\n                            }\n                            return;\n                        };\n                    }\n\n                  case \"clear\":\n                    {\n                        return () => {\n                            if (value.size) {\n                                const returnvalue = set_prototype[key].call(value);\n                                target[dispatchsymbol]();\n                                return returnvalue;\n                            }\n                            return;\n                        };\n                    }\n                }\n            } else if (isarray(value) || isplainobject(value)) {\n                return observedeepagent(get(value, key), () => {\n                    target[dispatchsymbol](String(key));\n                });\n            } else {\n                return get(value, key);\n            }\n        }\n    };\n    objproxyhandler.set = (target, key, value) => {\n        if (isReactiveState(value)) {\n            value = value.valueOf();\n        }\n        const myvalue = get(target, \"value\");\n        if (key === \"value\" && isobject(value)) {\n            set(target, key, value);\n            target[dispatchsymbol]();\n        } else if (!has(target, key)) {\n            set(myvalue, key, value);\n            target[dispatchsymbol](String(key));\n        }\n        return true;\n    };\n    return new Proxy(reactive, objproxyhandler);\n}\n\nconst set_prototype = Set.prototype;\n\nfunction createstate(init) {\n    const state = createstate$1(init);\n    usestste(state);\n    return state;\n}\n\nfunction createstate$1(init) {\n    if (!(isprimitive(init) || isobject(init) || isReactiveState(init))) {\n        console.error(init);\n        console.error(invalid_primitive_or_object_state);\n        throw TypeError();\n    }\n    if (isprimitive(init)) {\n        return getproperyreadproxy(new Proxy(new ReactiveState(init), {\n            defineProperty() {\n                return false;\n            },\n            deleteProperty() {\n                return false;\n            },\n            set(target, key, value) {\n                if (key === \"value\" && isprimitive(value)) {\n                    if (target[key] !== value) {\n                        set(target, key, value);\n                        target[dispatchsymbol]();\n                    }\n                    return true;\n                } else {\n                    return false;\n                }\n            },\n            setPrototypeOf() {\n                return false;\n            }\n        }));\n    } else if (isReactiveState(init)) {\n        return createstate$1(init.valueOf());\n    } else if (isobject(init)) {\n        return handleobjectstate(init);\n    } else {\n        throw Error();\n    }\n}\n\nfunction createcssBlob(source) {\n    return URL.createObjectURL(new Blob([ source ], {\n        type: \"text/css\"\n    }));\n}\n\nfunction isCSSMediaRule(a) {\n    return gettagtype(a) === \"cssmediarule\";\n}\n\nfunction isCSSImportRule(a) {\n    return gettagtype(a) === \"cssimportrule\";\n}\n\nfunction parsecsstext(text) {\n    const styleelement = render(createElement(\"style\", [ text ]));\n    const otherdocument = createanotherhtmldocument();\n    appendchild(otherdocument.documentElement, styleelement);\n    return Array.from(get(get(styleelement, \"sheet\"), \"cssRules\"));\n}\n\nfunction isCSSStyleRule(a) {\n    return gettagtype(a) === \"cssstylerule\";\n}\n\nfunction selectoraddprefix(cssstylerule, prefix) {\n    const selectorText = cssstylerule.selectorText;\n    const selectorarray = selectorText.split(\",\");\n    cssstylerule.selectorText = selectorarray.map(selectorText => {\n        let prefixselector = prefix + \" \" + selectorText;\n        if (selectorText.startsWith(\"*\")) {\n            prefixselector = prefixselector + \",\" + selectorText.replace(\"*\", prefix);\n        }\n        return prefixselector;\n    }).join(\",\");\n    return cssstylerule;\n}\n\nfunction prefixcssrules(cssRulesarray, prefix) {\n    return cssRulesarray.map(cssrule => {\n        if (isCSSStyleRule(cssrule)) {\n            return selectoraddprefix(cssrule, prefix);\n        } else if (isCSSMediaRule(cssrule)) {\n            prefixcssrules(Array.from(cssrule.cssRules), prefix);\n            return cssrule;\n        } else if (isCSSImportRule(cssrule)) {\n            savestyleblob(prefix, undefined, cssrule.href);\n            return;\n        } else {\n            return cssrule;\n        }\n    }).filter(Boolean);\n}\n\nconst componentsstylesheet = {};\n\nfunction savestyleblob(tagname, csstext, urltext) {\n    tagname = tagname.toLowerCase();\n    if (!componentsstylesheet[tagname]) {\n        componentsstylesheet[tagname] = new Set;\n    }\n    if (csstext) {\n        componentsstylesheet[tagname].add(createcssBlob(csstext));\n    } else if (urltext) {\n        componentsstylesheet[tagname].add(urltext);\n    }\n}\n\nfunction cssrulestocsstext(cssrules) {\n    return cssrules.map(c => c.cssText).join(\"\\n\");\n}\n\nfunction createlinkstylesheet(url) {\n    return render(createElement(\"link\", {\n        href: url,\n        rel: \"stylesheet\"\n    }));\n}\n\nfunction transformcsstext(text, prefix) {\n    const css = text;\n    const cssomold = parsecsstext(css);\n    const cssomnew = prefixcssrules(cssomold, prefix).filter(Boolean);\n    const cssnewtext = cssrulestocsstext(cssomnew);\n    return cssnewtext;\n}\n\nfunction registercssprefix(text, prefix) {\n    const css = text;\n    const cssnewtext = transformcsstext(css, prefix);\n    savestyleblob(prefix, cssnewtext);\n}\n\nfunction loadlinkstyle(stylelinkelement, container) {\n    return new Promise(rs => {\n        const loaderrorfun = () => {\n            stylelinkelement.onload = stylelinkelement.onerror = null;\n            rs();\n        };\n        stylelinkelement.onload = loaderrorfun;\n        stylelinkelement.onerror = loaderrorfun;\n        appendchild(container, stylelinkelement);\n    });\n}\n\nfunction waitloadallstyle(prefix, _this) {\n    return Promise.all([ ...componentsstylesheet[prefix] ].map(styleurl => loadlinkstyle(createlinkstylesheet(styleurl), _this)));\n}\n\nfunction readonlyproxy(target) {\n    return new Proxy(target, {\n        set() {\n            return true;\n        },\n        defineProperty() {\n            return false;\n        },\n        deleteProperty() {\n            return false;\n        },\n        setPrototypeOf() {\n            return false;\n        }\n    });\n}\n\nconst readysymbol = Symbol(\"ready\");\n\nfunction setimmediate(fun) {\n    return Promise.resolve().then(() => fun());\n}\n\nconst innerstatesymbol = Symbol(\"innerstate\");\n\nconst attributessymbol = Symbol(\"attributes\");\n\nconst elementsymbol = Symbol(\"innerelement\");\n\nconst vdomsymbol = Symbol(\"innervdom\");\n\nconst mountedsymbol = Symbol(\"mounted\");\n\nconst unmountedsymbol = Symbol(\"unmounted\");\n\nfunction createComponent(custfun) {\n    var _a, _b, _c, _d;\n    if (isfunction(custfun)) {\n        const defaultProps = get(custfun, \"defaultProps\");\n        const css = get(custfun, \"css\");\n        return _d = class Component extends AttrChange {\n            constructor(propsjson = {}, children = []) {\n                super();\n                this[_b] = false;\n                this[_c] = {};\n                const css = get(this.constructor, \"css\");\n                if (css) {\n                    const prefix = this.tagName.toLowerCase();\n                    if (!componentsstylesheet[prefix]) {\n                        registercssprefix(css, prefix);\n                    }\n                }\n                const defaultProps = get(this.constructor, \"defaultProps\");\n                const attrs = createeleattragentreadwrite(this);\n                if (isobject(defaultProps)) {\n                    Object.assign(attrs, defaultProps);\n                }\n                if (isobject(propsjson)) {\n                    Object.assign(attrs, propsjson);\n                }\n                openctx();\n                const props = attrs;\n                const thisattributess = Object.fromEntries(Object.entries(props).map(([key, value]) => [ key, createstate(value) ]));\n                this[attributessymbol] = readonlyproxy(thisattributess);\n                const readonlyprop = readonlyproxy(Object.fromEntries(Object.entries(thisattributess).map(([key, value]) => [ key, readonlyproxy(value) ])));\n                let possiblyvirtualdom;\n                try {\n                    possiblyvirtualdom = custfun.call(undefined, readonlyprop, children);\n                } catch (error) {\n                    closectx();\n                    console.error(error);\n                    throw error;\n                }\n                if (isarray(possiblyvirtualdom)) {\n                    possiblyvirtualdom = possiblyvirtualdom.flat(Infinity).filter(Boolean);\n                }\n                if (isvalidvdom(possiblyvirtualdom)) {\n                    const thisvdomsymbol = toArray(possiblyvirtualdom);\n                    this[vdomsymbol] = thisvdomsymbol.flat(Infinity).filter(Boolean);\n                    this[mountedsymbol] = getMounted();\n                    this[unmountedsymbol] = getUnMounted();\n                    this[innerstatesymbol] = getstates();\n                    closectx();\n                } else {\n                    closectx();\n                    console.error(possiblyvirtualdom);\n                    console.error(invalid_Virtualdom);\n                    throw TypeError();\n                }\n            }\n            connectedCallback() {\n                if (!this[elementsymbol]) {\n                    this[elementsymbol] = render(this[vdomsymbol]).flat(Infinity);\n                }\n                if (!this[readysymbol]) {\n                    this[readysymbol] = true;\n                    const css = get(this.constructor, \"css\");\n                    const prefix = this.tagName.toLowerCase();\n                    if (css && componentsstylesheet[prefix]) {\n                        seteletext(this, \"\");\n                        waitloadallstyle(prefix, this).then(() => {\n                            mount(this[elementsymbol], this, false);\n                        });\n                    } else {\n                        mount(this[elementsymbol], this);\n                    }\n                }\n                this[mountedsymbol].forEach(f => {\n                    setimmediate(f);\n                });\n                onmounted(this);\n            }\n            disconnectedCallback() {\n                this[unmountedsymbol].forEach(f => {\n                    setimmediate(f);\n                });\n                onunmounted(this);\n            }\n            attributeChangedCallback(name) {\n                if (get(this, attributessymbol)[name]) {\n                    set(get(this, attributessymbol)[name], \"value,\", createeleattragentreadwrite(this)[name]);\n                }\n            }\n        }, _a = componentsymbol, _b = readysymbol, _c = attributessymbol, _d[_a] = true, \n        _d.css = isstring(css) && css ? css : undefined, _d.defaultProps = isobject(defaultProps) ? JSON.parse(JSON.stringify(defaultProps)) : undefined, \n        _d;\n    } else {\n        console.error(custfun);\n        console.error(invalid_Function);\n        throw TypeError();\n    }\n}\n\nfunction onmounted(ele) {\n    if (isarray(ele)) {\n        ele.forEach(e => {\n            onmounted(e);\n        });\n    } else if (isNode(ele)) {\n        if (has(ele, eventlistenerssymbol)) {\n            readdlisteners(ele);\n        }\n        if (has(ele, bindstatesymbol)) {\n            get(ele, bindstatesymbol).forEach(state => {\n                rewatch(state);\n            });\n            if (has(ele, innerstatesymbol)) {\n                get(ele, innerstatesymbol).forEach(state => {\n                    rewatch(state);\n                });\n            }\n        }\n        onmounted(getdomchildren(ele));\n    }\n}\n\nfunction onunmounted(ele) {\n    if (isarray(ele)) {\n        ele.forEach(e => {\n            onunmounted(e);\n        });\n    } else if (isNode(ele)) {\n        if (has(ele, eventlistenerssymbol)) {\n            removelisteners(ele);\n        }\n        if (has(ele, innerstatesymbol)) {\n            get(ele, innerstatesymbol).forEach(state => {\n                unwatch(state);\n            });\n        }\n        onunmounted(getdomchildren(ele));\n    }\n}\n\nconst invalid_ReactiveState = \"invalid ReactiveState\";\n\nconst truevdomsymbol = Symbol(\"truevdom\");\n\nconst falsevdomsymbol = Symbol(\"falsevdom\");\n\nconst trueelesymbol = Symbol(\"trueele\");\n\nconst falseelesymbol = Symbol(\"falseele\");\n\nconst handletrue = Symbol(\"handletrue\");\n\nconst handlefalse = Symbol(\"handlefalse\");\n\nfunction conditon(conditon, iftrue, iffalse) {\n    var _a, _b;\n    if (!(isReactiveState(conditon) || isboolean(conditon))) {\n        console.error(conditon);\n        console.error(invalid_ReactiveState);\n        throw TypeError();\n    }\n    [ iftrue, iffalse ].forEach(a => {\n        if (!(isundefined(a) || isvalidvdom(a))) {\n            console.error(a);\n            console.error(invalid_Virtualdom);\n            throw new TypeError;\n        }\n    });\n    const options = {\n        true: iftrue,\n        false: iffalse\n    };\n    class Condition extends AttrChange {\n        constructor() {\n            super();\n            this[_b] = false;\n            const optionstrue = get(options, \"true\");\n            const optionsfalse = get(options, \"false\");\n            this[truevdomsymbol] = [ optionstrue ].flat(1 / 0).filter(Boolean);\n            this[falsevdomsymbol] = [ optionsfalse ].flat(1 / 0).filter(Boolean);\n        }\n        [(_a = componentsymbol, _b = readysymbol, handlefalse)]() {\n            setelehtml(this, \"\");\n            if (this[falsevdomsymbol]) {\n                if (!this[falseelesymbol]) {\n                    this[falseelesymbol] = render(this[falsevdomsymbol]);\n                }\n                const elementtomount = this[falseelesymbol];\n                MountElement(elementtomount, this);\n                elementtomount.forEach(e => onmounted(e));\n                if (this[trueelesymbol]) {\n                    this[trueelesymbol].forEach(e => onunmounted(e));\n                }\n            }\n        }\n        [handletrue]() {\n            setelehtml(this, \"\");\n            if (this[truevdomsymbol]) {\n                if (!this[trueelesymbol]) {\n                    this[trueelesymbol] = render(this[truevdomsymbol]);\n                }\n                const elementtomount = this[trueelesymbol];\n                MountElement(elementtomount, this);\n                elementtomount.forEach(e => onmounted(e));\n                if (this[falseelesymbol]) {\n                    this[falseelesymbol].forEach(e => onunmounted(e));\n                }\n            }\n        }\n        connectedCallback() {\n            if (!this[readysymbol]) {\n                this[readysymbol] = true;\n                const attrs = createeleattragentreadwrite(this);\n                if (true === attrs[\"value\"]) {\n                    get(this, handletrue).call(this);\n                }\n                if (false === attrs[\"value\"]) {\n                    get(this, handlefalse).call(this);\n                }\n            }\n            onmounted(this);\n        }\n        disconnectedCallback() {\n            onunmounted(this);\n        }\n        attributeChangedCallback(name) {\n            if (this[readysymbol]) {\n                if (name === \"value\") {\n                    const attrs = createeleattragentreadwrite(this);\n                    if (true === attrs[\"value\"]) {\n                        this[handletrue]();\n                    }\n                    if (false === attrs[\"value\"]) {\n                        this[handlefalse]();\n                    }\n                }\n            }\n        }\n    }\n    Condition[_a] = true;\n    const vdom = createElement(Condition, {\n        value: conditon\n    });\n    return vdom;\n}\n\nfunction computed(state, callback) {\n    if (!((isarray(state) || isReactiveState(state)) && isfunction(callback))) {\n        console.error(state);\n        console.error(callback);\n        console.error(invalid_ReactiveState + invalid_Function);\n        throw TypeError();\n    }\n    const state1array = toArray(state);\n    if (!state1array.length) {\n        console.error(\"Empty array not allowed\");\n        throw new Error;\n    }\n    const state1 = Arraycomputed(state1array, callback);\n    usestste(state1);\n    return state1;\n}\n\nfunction Arraycomputed(state, callback) {\n    const reactivestate = new ReactiveState;\n    const getter = () => {\n        const value = apply(callback, undefined, state.map(st => st.valueOf()));\n        return isReactiveState(value) ? value.value : value;\n    };\n    let memorized = getter();\n    if (isfunction(memorized)) {\n        console.error(memorized);\n        throw new TypeError;\n    }\n    defineProperty(reactivestate, \"value\", {\n        get: getter,\n        configurable: true\n    });\n    state.forEach(state => {\n        watch(state, () => {\n            let newvalue = getter();\n            if (newvalue !== memorized) {\n                reactivestate[dispatchsymbol]();\n                memorized = newvalue;\n            }\n        });\n    });\n    return getproperyreadproxy(readonlyproxy(reactivestate));\n}\n\nconst __proto__ = \"__proto__\";\n\nfunction getproperyreadproxy(a) {\n    const target = a;\n    return new Proxy(target, {\n        ownKeys(target) {\n            let myvalue = get(target, \"value\");\n            const myvalueobj = isobject(myvalue) ? myvalue : myvalue[__proto__];\n            return Array.from(new Set([ ...ownKeys(target), ...ownKeys(myvalueobj) ]));\n        },\n        has(target, key) {\n            const myvalue = get(target, \"value\");\n            const myvalueobj = isobject(myvalue) ? myvalue : myvalue[__proto__];\n            return has(target, key) || has(myvalueobj, key);\n        },\n        get(target, key) {\n            if (has(target, key)) {\n                return get(target, key);\n            } else {\n                const myvalue = get(target, \"value\");\n                const myvalueobj = isobject(myvalue) ? myvalue : Object(myvalue);\n                if (has(myvalueobj, key)) {\n                    return get(myvalueobj, key);\n                }\n            }\n        }\n    });\n}\n\nfunction createRef(value) {\n    return {\n        value: value\n    };\n}\n\nfunction extenddirectives(options = {}) {\n    Object.entries(options).forEach(([key, value]) => {\n        if (typeof value !== \"function\") {\n            console.error(value);\n            console.error(invalid_Function);\n            throw TypeError();\n        } else {\n            if (!directive[key]) {\n                Reflect.set(directive, key, value);\n            } else {\n                console.error(directive);\n                console.error(\"do not extend existing directive\");\n                throw new Error;\n            }\n        }\n    });\n    return directive;\n}\n\nextenddirectives({\n    value(_element, value, vdom) {\n        console.log(vdom);\n        if (isReactiveState(value) && (vdom.type === \"input\" || vdom.type === \"textarea\")) {\n            vdom.bindattr[\"value\"] = value;\n            [ \"change\", \"input\" ].forEach(eventname => {\n                const origin = vdom.onevent[eventname];\n                const eventsarray = toArray(origin);\n                set(vdom.onevent, eventname, [ ...eventsarray, e => {\n                    return value.value = e.target.value;\n                } ].filter(Boolean));\n            });\n        } else {\n            console.error(value);\n            console.error(vdom);\n            console.error(invalid_ReactiveState + invalid_Virtualdom);\n            throw TypeError();\n        }\n    }\n});\n\nextenddirectives({\n    checked(_element, value, vdom) {\n        console.log(vdom);\n        if (isReactiveState(value) && vdom.type === \"input\") {\n            vdom.bindattr[\"checked\"] = value;\n            [ \"change\", \"input\" ].forEach(eventname => {\n                const origin = vdom.onevent[eventname];\n                const eventsarray = toArray(origin);\n                set(vdom.onevent, eventname, [ ...eventsarray, e => {\n                    return value.value = e.target.checked;\n                } ].filter(Boolean));\n            });\n        } else {\n            console.error(value);\n            console.error(vdom);\n            console.error(invalid_ReactiveState + invalid_Virtualdom);\n            throw TypeError();\n        }\n    }\n});\n\nexport { MountElement, computed, conditon as condition, createComponent, createElement, createRef, createstate as createState, extenddirectives as directives, createElement as h, assertvalidvirtualdom as html, render, useMounted, useUnMounted, watch };\n//# sourceMappingURL=index.js.map\n"],"names":["Event","CustomEvent","requestAnimationFrame","URL","Blob","Element","Node","String","Array","document","Object","Reflect","Proxy","Symbol","Boolean","Promise","Set","Math","Error","TypeError","EventTarget","JSON","Map","window","isprimitive","a","isstring","isnumber","isboolean","isundefined","Reflect$1","apply","construct","defineProperty","deleteProperty","get","getOwnPropertyDescriptor","getPrototypeOf","has","ownKeys","set","isplainobject","isobject","gettagtype","isfunction","isarray","isArray","toString","call","replace","toLowerCase","trim","isSet","HTMLElement","HTMLElement$1","customElements","Proxy$1","hyphenateRE","hyphenate","str","String$1","Reflect$2","get$1","set$1","ownKeys$1","valuestring","isobject$1","isstring$1","isSet$1","isinputcheckbox","ele","geteletagname","createeleattragentreadwrite","asserthtmlelement","temp","create","outputattrs","[object Object]","isinputtextortextareaflag","isinputtextortextarea","keys","getAttributeNames","attributesownkeys","from","undefined","flat","Infinity","filter","target","key","v","getAttribute","getattribute","parse","error","t","csstext","obj","stringify","fromEntries","entries","map","value","join","classtext","setattribute","k","removeAttribute","includes","otherdescipter","enumerable","configurable","writable","myvalue","setPrototypeOf","tagName","setAttribute","tagname","document$1","seteletext","e","textContent","setelehtml","innerHTML","appendchild","container","appendChild","createDocumentFragment","createElementNS","namespace","name","createtextnode","data","createTextNode","svgnamespace","mathnamespace","domaddlisten","event","addEventListener","getdomchildren","childNodes","HTMLElementprototype","prototype","attributeChangedCallback","AttrChange","super","innerText","qualifiedName","callback","this","oldValue","_a","_b","n","r","u","p","length","s","h","assign","push","f","htm","arguments","merge_entries","m","forEach","add","isReactiveState","ReactiveState","eventtargetsymbol","memlisteners","dispatchsymbol","subscribesymbol","removeallistenerssymbol","addallistenerssymbol","init","valueOf","eventname","dispatchEvent","detail","removeEventListener","toPrimitive","isVirtualdom","Virtualdom","toStringTag","type","props","children","directives","onevent","bindattr","字母大小写","propsentries","propsentriesNOTevents","startsWith","字母开头的entries","test","slice","createElement","propsorchildren","createElement$1","typenormalized","propsnormalized","childrennormalized","html","inargs","isvalidvdom","every","assertvalidvirtualdom","args","vdom","toArray","mount","clear","CustomElementRegistry","elementset","for","elementmap","customElements$1","RandomDefineCustomElement","initclass","extendsname","RandomDefineCustomElement$1","isclassextendsHTMLElement","表","组件状态名","outputentrie","find","使用value从表中查询key","elementname","fill","charactorlist","floor","random","charactorandnumberlist","getrandomstringandnumber","define","extends","constructor","options","iterator","i","fromCharCode","hexnumberlist","isconnected","element","documentElement","node","parentNode","getancestornode","ctxopen","MountedSet","UnMountedSet","StateSet","usestste","state","useMounted","fun","useUnMounted","closectx","clearall","watch","statearray","state1","watchsingle","rewatch","requestAnimationFrame$1","directive","ref","_vdom","createhtmlandtextdirective","text","errorname","componentsymbol","eventlistenerssymbol","callarray","firstaddlisteners","bindstatesymbol","virtualdomsymbol","throwinvalideletype","render","textnode","reactive","nodeValue","changetext","fragmentnode","createnativeelement","propsjson","createcostumelemet","attribute1","primitivestate","callbacks","values","handleprops","MountElement","el","body","head","elesarray","isNode","array","isArray$1","Reflect$3","ownKeys$2","deleteProperty$1","apply$1","construct$1","defineProperty$1","get$2","getOwnPropertyDescriptor$1","getPrototypeOf$1","has$1","set$2","isobject$2","isfunction$1","observedeepagent","deepobserveaddpath","patharray","ancestor","fakeobj","argumentslist","thisarg","argarray","descripter","set_prototype","createstate","createstate$1","getproperyreadproxy","initobj","containReactiveState","some","state_entries","objproxyhandler","_target_","returnvalue","dele","size","handleobjectstate","parsecsstext","styleelement","implementation","createHTMLDocument","prefixcssrules","cssRulesarray","prefix","cssrule","isCSSStyleRule","cssstylerule","selectorarray","selectorText","split","prefixselector","selectoraddprefix","isCSSMediaRule","cssRules","isCSSImportRule","savestyleblob","href","componentsstylesheet","urltext","source","createObjectURL","registercssprefix","c","cssText","transformcsstext","waitloadallstyle","_this","all","styleurl","stylelinkelement","rs","loaderrorfun","onload","onerror","loadlinkstyle","url","rel","createlinkstylesheet","readonlyproxy","readysymbol","setimmediate","resolve","then","innerstatesymbol","attributessymbol","elementsymbol","vdomsymbol","mountedsymbol","unmountedsymbol","createComponent","custfun","_c","_d","defaultProps","css","attrs","thisattributess","readonlyprop","possiblyvirtualdom","thisvdomsymbol","onmounted","onunmounted","readdlisteners","domremovelisten","removelisteners","unwatch","truevdomsymbol","falsevdomsymbol","trueelesymbol","falseelesymbol","handletrue","handlefalse","conditon","iftrue","iffalse","true","false","Condition","optionstrue","optionsfalse","elementtomount","computed","state1array","reactivestate","getter","st","memorized","newvalue","Arraycomputed","__proto__","myvalueobj","createRef","extenddirectives","_element","eventsarray","checked"],"mappings":"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"}