{"version":3,"file":"index.min.js","sources":["index.js"],"sourcesContent":["function fromPairs(pairs) {\n    var index = -1, length = pairs == null ? 0 : pairs.length, result = {};\n    while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n    }\n    return result;\n}\n\nvar fromPairs_1 = fromPairs;\n\nif (\"function\" !== typeof Object.fromEntries) Object.fromEntries = fromPairs_1;\n\nfunction flattenDeep(arr1) {\n    return arr1.reduce((acc, val) => Array.isArray(val) ? acc.concat(flattenDeep(val)) : acc.concat(val), []);\n}\n\nfunction arrayflat(depth = 1) {\n    if (depth <= 1) {\n        return this.reduce((acc, val) => acc.concat(val), []);\n    } else {\n        return flattenDeep(this);\n    }\n}\n\nif (typeof Array.prototype.flat !== \"function\") {\n    Array.prototype.flat = arrayflat;\n}\n\nfunction isundefined(a) {\n    return typeof a === \"undefined\";\n}\n\nfunction isnumber(a) {\n    return typeof a === \"number\";\n}\n\nfunction isboolean(a) {\n    return typeof a === \"boolean\";\n}\n\nfunction isobject(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isstring(a) {\n    return typeof a === \"string\";\n}\n\nfunction isfunction(a) {\n    return typeof a === \"function\";\n}\n\nfunction isarray(a) {\n    return a instanceof Array && Array.isArray(a);\n}\n\nfunction getsymbol(a) {\n    return Symbol(a);\n}\n\nfunction isprimitive(a) {\n    return isstring(a) || isnumber(a) || isboolean(a) || isundefined(a);\n}\n\nvar _a, _b, _c;\n\nconst textnodesymbol = Symbol(\"textnode\");\n\nconst eventtargetsymbol = Symbol(\"eventtatget\");\n\nconst memlisteners = Symbol(\"memlisteners\");\n\nconst dispatchsymbol = getsymbol(\"dispatch\");\n\nconst subscribesymbol = getsymbol(\"subscribe\");\n\nconst removeallistenerssymbol = getsymbol(\"removeallisteners\");\n\nconst addallistenerssymbol = getsymbol(\"addallisteners\");\n\nclass ReactiveState {\n    constructor(init) {\n        this[_a] = undefined;\n        this[_b] = new EventTarget;\n        this[_c] = [];\n        if (isprimitive(init) || isobject(init)) {\n            Object.defineProperty(this, \"value\", {\n                value: init,\n                configurable: true,\n                writable: true\n            });\n        } else {\n            throw TypeError(\"invalid State\");\n        }\n        Object.defineProperty(this, Symbol.toStringTag, {\n            value: \"ReactiveState\",\n            configurable: true\n        });\n    }\n    [addallistenerssymbol]() {\n        this[memlisteners].forEach(([value, callback]) => {\n            this[eventtargetsymbol].addEventListener(value, callback);\n        });\n    }\n    valueOf() {\n        return this.value;\n    }\n    toString() {\n        const value = this.value;\n        return isprimitive(value) ? String(value) : isobject(value) ? JSON.stringify(value) : \"\";\n    }\n    [(_a = textnodesymbol, _b = eventtargetsymbol, _c = memlisteners, dispatchsymbol)](eventname) {\n        const name = eventname ? String(eventname) : \"value\";\n        if (name !== \"value\") {\n            this[eventtargetsymbol].dispatchEvent(new Event(name));\n        }\n        this[eventtargetsymbol].dispatchEvent(new Event(\"value\"));\n    }\n    [subscribesymbol](callback, eventname) {\n        const name = eventname ? String(eventname) : \"value\";\n        this[memlisteners].push([ name, () => callback(this) ]);\n    }\n    [removeallistenerssymbol]() {\n        this[memlisteners].forEach(([value, callback]) => {\n            this[eventtargetsymbol].removeEventListener(value, callback);\n        });\n    }\n    [Symbol.toPrimitive]() {\n        const value = this.value;\n        return isprimitive(value) ? value : isobject(value) ? JSON.stringify(value) : void 0;\n    }\n}\n\nconst document = window.document;\n\nfunction seteletext(e, v) {\n    e.textContent = v;\n}\n\nfunction setelehtml(e, v) {\n    e.innerHTML = v;\n}\n\nfunction appendchild(container, ele) {\n    container.appendChild(ele);\n}\n\nfunction createsvgelement() {\n    return createElementNS(svgnamespace, \"svg\");\n}\n\nfunction createnonescript() {\n    return document.createDocumentFragment();\n}\n\nfunction createnativeelement(type) {\n    return document.createElement(type);\n}\n\nfunction createElementNS(namespace, name) {\n    return document.createElementNS(namespace, name);\n}\n\nfunction createtextnode(data) {\n    return document.createTextNode(data);\n}\n\nconst svgnamespace = \"http://www.w3.org/2000/svg\";\n\nfunction changetext(textnode, value) {\n    textnode.nodeValue = String(value);\n}\n\nconst mathnamespace = \"http://www.w3.org/1998/Math/MathML\";\n\nfunction createmathelement() {\n    return createElementNS(mathnamespace, \"math\");\n}\n\nfunction watch(state, callback, statekey) {\n    if (!(state instanceof ReactiveState && isfunction(callback))) {\n        throw TypeError(\"invalid state or callback\");\n    }\n    if (statekey) {\n        state[subscribesymbol](callback, statekey);\n    } else {\n        state[subscribesymbol](callback);\n    }\n    requestAnimationFrame(() => {\n        state[addallistenerssymbol]();\n    });\n}\n\nconst requestAnimationFrame = window.requestAnimationFrame;\n\nvar directives = {\n    ref(ele, ref) {\n        if (typeof ref == \"object\") {\n            ref.value = ele;\n        } else {\n            throw TypeError(\"invalid ref\");\n        }\n    },\n    html(ele, html) {\n        if (typeof html == \"string\") {\n            requestAnimationFrame(() => {\n                setelehtml(ele, html);\n            });\n        } else if (html instanceof ReactiveState) {\n            watch(html, state => {\n                setelehtml(ele, String(state));\n            });\n            requestAnimationFrame(() => {\n                setelehtml(ele, String(html));\n            });\n        } else {\n            throw TypeError(\"invalid html\");\n        }\n    },\n    text(ele, text) {\n        if (typeof text == \"string\") {\n            requestAnimationFrame(() => {\n                seteletext(ele, text);\n            });\n        } else if (text instanceof ReactiveState) {\n            watch(text, state => {\n                seteletext(ele, String(state));\n            });\n            requestAnimationFrame(() => {\n                seteletext(ele, String(text));\n            });\n        } else {\n            throw TypeError(\"invalid text\");\n        }\n    }\n};\n\nfunction extenddirectives(options) {\n    Object.entries(options).forEach(([key, value]) => {\n        if (typeof value !== \"function\") {\n            throw TypeError(\"invalid directive\");\n        } else {\n            directives[key] = value;\n        }\n    });\n}\n\nextenddirectives({\n    value(element, value, vdom) {\n        if (value instanceof ReactiveState && (vdom.type === \"input\" || vdom.type === \"textarea\")) {\n            vdom.bindattr[\"value\"] = value;\n            [ \"change\", \"input\" ].forEach(eventname => {\n                const origin = vdom.onevent[eventname];\n                const eventsarray = [ origin ].flat(Infinity);\n                vdom.onevent[eventname] = [ ...eventsarray, e => {\n                    return value.value = e.target.value;\n                } ];\n            });\n        } else {\n            throw TypeError(\"invalid ReactiveState or element\");\n        }\n    }\n});\n\nclass Virtualdom {\n    constructor(type = \"\", props = {}, children = []) {\n        this.element = undefined;\n        this.props = {};\n        this.children = [];\n        this.directives = {};\n        this.onevent = {};\n        this.bindattr = {};\n        const propsentries = Object.entries(props);\n        Object.assign(this, {\n            type: type,\n            bindattr: Object.fromEntries(propsentries.filter(([key]) => /[A-Za-z]/.test(key[0])).filter(e => e[1] instanceof ReactiveState)),\n            props: Object.fromEntries(propsentries.filter(([key]) => /[A-Za-z]/.test(key[0])).filter(e => !(e[1] instanceof ReactiveState))),\n            children: children,\n            onevent: Object.fromEntries(propsentries.filter(([key]) => /\\@/.test(key[0])).map(([key, value]) => [ key.slice(1), value ])),\n            directives: Object.fromEntries(propsentries.filter(([key]) => /\\*/.test(key[0])).map(([key, value]) => [ key.slice(1), value ]))\n        });\n        Object.defineProperty(this, Symbol.toStringTag, {\n            value: \"virtualdom\",\n            configurable: true\n        });\n    }\n}\n\nvar n = function(t, r, u, e) {\n    for (var p = 1; p < r.length; p++) {\n        var s = r[p], h = \"number\" == typeof s ? u[s] : s, a = r[++p];\n        1 === a ? e[0] = h : 3 === a ? e[1] = Object.assign(e[1] || {}, h) : 5 === a ? (e[1] = e[1] || {})[r[++p]] = h : 6 === a ? e[1][r[++p]] += h + \"\" : e.push(a ? t.apply(null, n(t, h, u, [ \"\", null ])) : h);\n    }\n    return e;\n}, t = function(n) {\n    for (var t, r, u = 1, e = \"\", p = \"\", s = [ 0 ], h = function(n) {\n        1 === u && (n || (e = e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g, \"\"))) ? s.push(n || e, 0) : 3 === u && (n || e) ? (s.push(n || e, 1), \n        u = 2) : 2 === u && \"...\" === e && n ? s.push(n, 3) : 2 === u && e && !n ? s.push(!0, 5, e) : u >= 5 && ((e || !n && 5 === u) && (s.push(e, u, r), \n        u = 6), n && (s.push(n, u, r), u = 6)), e = \"\";\n    }, a = 0; a < n.length; a++) {\n        a && (1 === u && h(), h(a));\n        for (var f = 0; f < n[a].length; f++) t = n[a][f], 1 === u ? \"<\" === t ? (h(), s = [ s ], \n        u = 3) : e += t : 4 === u ? \"--\" === e && \">\" === t ? (u = 1, e = \"\") : e = t + e[0] : p ? t === p ? p = \"\" : e += t : '\"' === t || \"'\" === t ? p = t : \">\" === t ? (h(), \n        u = 1) : u && (\"=\" === t ? (u = 5, r = e, e = \"\") : \"/\" === t && (u < 5 || \">\" === n[a][f + 1]) ? (h(), \n        3 === u && (s = s[0]), u = s, (s = s[0]).push(u, 2), u = 0) : \" \" === t || \"\\t\" === t || \"\\n\" === t || \"\\r\" === t ? (h(), \n        u = 2) : e += t), 3 === u && \"!--\" === e && (u = 4, s = s[0]);\n    }\n    return h(), s;\n}, r = \"function\" == typeof Map, u = r ? new Map : {}, e = r ? function(n) {\n    var r = u.get(n);\n    return r || u.set(n, r = t(n)), r;\n} : function(n) {\n    for (var r = \"\", e = 0; e < n.length; e++) r += n[e].length + \"-\" + n[e];\n    return u[r] || (u[r] = t(n));\n};\n\nfunction htm(t) {\n    var r = n(this, e(t), arguments, []);\n    return r.length > 1 ? r : r[0];\n}\n\nfunction h(type = \"\", props = {}, ...children) {\n    let typenormalized = isstring(type) || isfunction(type) ? type : \"\";\n    let propsnormalized = isobject(props) ? props : {};\n    const childrennormalized = children.flat(1);\n    if (typeof typenormalized === \"string\") {\n        typenormalized = typenormalized.trim().toLowerCase();\n    }\n    if (typeof typenormalized === \"string\" && \"\" === typenormalized) {\n        return childrennormalized;\n    }\n    propsnormalized = Object.fromEntries(Object.entries(propsnormalized).map(([key, value]) => [ key.trim().toLowerCase(), value ]));\n    return new Virtualdom(typenormalized, propsnormalized, childrennormalized);\n}\n\nconst html = htm.bind(h);\n\nfunction isvalidvdom(v) {\n    let flag = false;\n    if (Array.isArray(v)) {\n        flag = v.map(ele => {\n            return isvalidvdom(ele);\n        }).includes(false) ? false : true;\n    } else if (v instanceof Virtualdom) {\n        if (isvalidvdom(v.children)) {\n            return true;\n        }\n    } else if (v instanceof ReactiveState) {\n        return true;\n    } else {\n        if (isstring(v)) {\n            return true;\n        }\n    }\n    return flag;\n}\n\nfunction assertvalidvirtualdom(...args) {\n    const vdom = html(...args);\n    if (isvalidvdom(vdom)) {\n        return vdom;\n    } else {\n        console.error(vdom);\n        throw new TypeError(\"invalid Virtualdom!\");\n    }\n}\n\nconst eventlistenerssymbol = Symbol(\"eventlisteners\");\n\nfunction onevent(element, eventname, callback) {\n    if (!element[eventlistenerssymbol]) {\n        element[eventlistenerssymbol] = [];\n    }\n    if (typeof callback === \"function\") {\n        addlisteners(element, eventname, [ callback ]);\n    } else if (isarray(callback)) {\n        addlisteners(element, eventname, callback);\n    } else {\n        throw TypeError(\"invalid EventListener\");\n    }\n}\n\nfunction addlisteners(ele, event, callarray) {\n    callarray.forEach(call => {\n        ele[eventlistenerssymbol].push([ event, call ]);\n        domaddlisten(ele, event, call);\n    });\n}\n\nfunction domaddlisten(ele, event, call) {\n    ele.addEventListener(event, call);\n}\n\nclass Setlikearray extends Array {\n    push(...items) {\n        items.forEach(item => {\n            if (isfunction(item) || isobject(item)) {\n                if (!this.includes(item)) {\n                    super.push(item);\n                }\n            }\n        });\n        return this.length;\n    }\n}\n\nconst Reflect = window.Reflect;\n\nconst {apply: apply, construct: construct, defineProperty: defineProperty, deleteProperty: deleteProperty, get: get, getOwnPropertyDescriptor: getOwnPropertyDescriptor, getPrototypeOf: getPrototypeOf, has: has, isExtensible: isExtensible, ownKeys: ownKeys, preventExtensions: preventExtensions, set: set, setPrototypeOf: setPrototypeOf} = Reflect;\n\nconst customElementsarray = new Setlikearray;\n\nfunction getcustomelementname(initclass) {\n    return \"c-\" + customElementsarray.indexOf(initclass);\n}\n\nfunction isclassextendsHTMLElement(initclass) {\n    return !!(isfunction(initclass) && initclass.prototype && initclass.prototype instanceof HTMLElement);\n}\n\nfunction createcostumelemet(initclass, children) {\n    if (isclassextendsHTMLElement(initclass)) {\n        customElementsarray.push(initclass);\n        const elementname = getcustomelementname(initclass);\n        if (customElements.get(elementname) === initclass) ; else {\n            customElements.define(elementname, initclass);\n        }\n        return construct(initclass, [ children ]);\n    } else {\n        throw TypeError(\"invalid custom element class !\");\n    }\n}\n\nfunction mount(ele, container) {\n    container.innerHTML = \"\";\n    let eles;\n    if (Array.isArray(ele)) {\n        eles = ele;\n    } else {\n        eles = [ ele ];\n    }\n    eles.forEach(e => appendchild(container, e));\n}\n\nconst Reflect$1 = window.Reflect;\n\nconst {get: get$1, ownKeys: ownKeys$1, set: set$1} = Reflect$1;\n\nconst valuestring = \"value\";\n\nfunction isobject$1(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isstring$1(a) {\n    return typeof a === \"string\";\n}\n\nfunction objtostylestring(o) {\n    return Object.entries(o).map(([key, value]) => key + \":\" + value).join(\";\");\n}\n\nfunction asserthtmlelement(ele) {\n    if (!(ele instanceof HTMLElement || ele instanceof SVGElement || ele instanceof Element)) {\n        throw TypeError(\"invalid HTMLElement!\");\n    } else return true;\n}\n\nfunction createeleattragentreadwrite(ele) {\n    asserthtmlelement(ele);\n    const isinputtextortextarea = ele.tagName === \"INPUT\" && get$1(ele, \"type\") === \"text\" || ele.tagName === \"TEXTAREA\";\n    var temp = Object.create(null);\n    return new Proxy(temp, {\n        ownKeys() {\n            const keys = ownKeys$1(ele.attributes).filter(k => !/\\d/.test(String(k)[0]));\n            return isinputtextortextarea ? Array.from(new Set([ ...keys, valuestring ])) : keys;\n        },\n        get(target, key) {\n            if (isinputtextortextarea && key === valuestring) {\n                return get$1(ele, valuestring);\n            } else {\n                var v = ele.getAttribute(String(key));\n                if (!v) {\n                    return;\n                }\n                if (isstring$1(v)) {\n                    try {\n                        return JSON.parse(String(v));\n                    } catch (error) {\n                        return v;\n                    }\n                } else return;\n            }\n        },\n        set(t, key, v) {\n            if (isinputtextortextarea && key === valuestring) {\n                return set$1(ele, valuestring, v);\n            } else if (key === \"style\") {\n                ele.setAttribute(String(key), isstring$1(v) ? v : isobject$1(v) ? objtostylestring(v) : String(v));\n                return true;\n            } else {\n                ele.setAttribute(String(key), isobject$1(v) ? JSON.stringify(v) : String(v));\n                return true;\n            }\n        },\n        deleteProperty(t, k) {\n            ele.removeAttribute(String(k));\n            return true;\n        },\n        has(target, key) {\n            if (isinputtextortextarea && key === valuestring) {\n                return true;\n            } else {\n                return ele.hasAttribute(String(key));\n            }\n        },\n        defineProperty() {\n            return false;\n        },\n        getOwnPropertyDescriptor(target, key) {\n            const otherdescipter = {\n                enumerable: true,\n                configurable: true,\n                writable: true\n            };\n            if (isinputtextortextarea && key === valuestring) {\n                return {\n                    value: get$1(ele, valuestring),\n                    ...otherdescipter\n                };\n            } else {\n                var attr = ele.getAttribute(String(key));\n                if (attr) {\n                    return {\n                        value: attr,\n                        ...otherdescipter\n                    };\n                } else {\n                    return;\n                }\n            }\n        }\n    });\n}\n\nconst bindstatesymbol = Symbol(\"bindstate\");\n\nconst reactivestatesymbol = Symbol(\"reactivestate\");\n\nconst virtualdomsymbol = Symbol(\"virtualdom\");\n\nfunction throwinvalideletype() {\n    throw TypeError(\"invalid element type!\");\n}\n\nfunction render(vdom, namespace) {\n    if (typeof vdom === \"string\") {\n        return createtextnode(vdom);\n    } else if (vdom instanceof ReactiveState) {\n        const reactive = vdom;\n        const textnode = createtextnode(String(reactive));\n        textnode[reactivestatesymbol] = reactive;\n        reactive[textnodesymbol] = textnode;\n        watch(reactive, state => {\n            changetext(textnode, String(state));\n        });\n        return textnode;\n    } else if (vdom instanceof Virtualdom && \"type\" in vdom) {\n        const {type: type} = vdom;\n        let element;\n        if (typeof type === \"string\") {\n            if (type === \"script\") {\n                return createnonescript();\n            } else if (type === \"svg\") {\n                element = createsvgelement();\n            } else if (type === \"math\") {\n                element = createmathelement();\n            } else {\n                element = namespace ? createElementNS(namespace, type) : createnativeelement(type);\n            }\n        } else if (typeof type == \"function\") {\n            element = createcostumelemet(type, vdom.children);\n        } else {\n            throwinvalideletype();\n        }\n        handleprops(element, vdom);\n        if (typeof type !== \"function\") {\n            mount(vdom.children.map(e => {\n                if (type === \"svg\") {\n                    return render(e, svgnamespace);\n                } else if (type === \"math\") {\n                    return render(e, mathnamespace);\n                } else if (namespace) {\n                    return render(e, namespace);\n                } else {\n                    return render(e);\n                }\n            }), element);\n        }\n        return element;\n    } else {\n        throwinvalideletype();\n    }\n}\n\nfunction handleprops(element, vdom) {\n    ((element, vdom) => {\n        Object.entries(vdom.directives).forEach(([name, value]) => {\n            if (name in directives && typeof directives[name] === \"function\") {\n                directives[name](element, value, vdom);\n            } else {\n                throw new Error(\"invalid directives \" + name);\n            }\n        });\n        const attribute1 = createeleattragentreadwrite(element);\n        Object.assign(attribute1, vdom.props);\n        element[virtualdomsymbol] = vdom;\n        vdom.element = element;\n        Object.entries(vdom.bindattr).forEach(([key, primitivestate]) => {\n            attribute1[key] = primitivestate.value;\n            watch(primitivestate, state => {\n                attribute1[key] = state.value;\n            });\n        });\n        Object.entries(vdom.onevent).forEach(([event, callbacks]) => {\n            onevent(element, event, callbacks);\n        });\n    })(element, vdom);\n    if (!element[bindstatesymbol]) {\n        element[bindstatesymbol] = new Set;\n    }\n    [ Object.values(vdom.bindattr), Object.values(vdom.directives) ].flat().filter(e => e instanceof ReactiveState).forEach(e => element[bindstatesymbol].add(e));\n}\n\nfunction createApp(vdom, container) {\n    const el = container;\n    if (!isvalidvdom(vdom)) {\n        console.error(vdom);\n        throw TypeError(\"invalid Virtualdom \");\n    }\n    if (!(el instanceof HTMLElement)) {\n        throw TypeError(\"invalid container HTMLElement!\");\n    }\n    if (el === document.body || el === document.documentElement || el === document.head) {\n        throw Error(\"Do not mount  to <html> or <body> <head>.\");\n    }\n    let elesarray;\n    if (Array.isArray(vdom)) {\n        elesarray = vdom;\n    } else {\n        elesarray = [ vdom ];\n    }\n    mount(elesarray.map(e => render(e)), container);\n    return container;\n}\n\nfunction createRef(init) {\n    return {\n        value: init\n    };\n}\n\nconst Reflect$2 = window.Reflect;\n\nconst {apply: apply$1, construct: construct$1, defineProperty: defineProperty$1, get: get$2, getOwnPropertyDescriptor: getOwnPropertyDescriptor$1, getPrototypeOf: getPrototypeOf$1, has: has$1, set: set$2, setPrototypeOf: setPrototypeOf$1} = Reflect$2;\n\nfunction isobject$2(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isfunction$1(a) {\n    return typeof a === \"function\";\n}\n\nfunction deepobserveaddpath(target, callback, patharray = [], ancestor = target) {\n    if (typeof callback !== \"function\") {\n        throw Error(\"observe callback invalid !\");\n    }\n    if (isfunction$1(target) || isobject$2(target)) {\n        let forkobj;\n        if (isobject$2(target)) {\n            forkobj = {};\n        } else {\n            forkobj = () => {};\n        }\n        setPrototypeOf$1(forkobj, null);\n        return (forkobj => {\n            return new Proxy(forkobj, {\n                defineProperty(t, p, a) {\n                    return defineProperty$1(target, p, a);\n                },\n                deleteProperty(t, p) {\n                    callback(ancestor, [ ...patharray, p ], undefined, get$2(target, p));\n                    return Reflect$2.deleteProperty(target, p);\n                },\n                ownKeys() {\n                    return Reflect$2.ownKeys(target);\n                },\n                has(t, p) {\n                    return has$1(target, p);\n                },\n                getPrototypeOf() {\n                    return getPrototypeOf$1(target);\n                },\n                setPrototypeOf(t, v) {\n                    return setPrototypeOf$1(target, v);\n                },\n                construct(t, argumentslist) {\n                    if (typeof target === \"function\") {\n                        return construct$1(target, argumentslist);\n                    }\n                },\n                apply(t, thisarg, argarray) {\n                    if (typeof target === \"function\") {\n                        return apply$1(target, thisarg, argarray);\n                    }\n                },\n                getOwnPropertyDescriptor(t, k) {\n                    var descripter = getOwnPropertyDescriptor$1(target, k);\n                    if (descripter) {\n                        descripter.configurable = true;\n                        return descripter;\n                    } else {\n                        return;\n                    }\n                },\n                set(t, k, v) {\n                    if (typeof callback === \"function\") {\n                        callback(ancestor, [ ...patharray, k ], v, get$2(target, k));\n                    }\n                    return set$2(target, k, v);\n                },\n                get(t, k) {\n                    var value = get$2(target, k);\n                    if (isfunction$1(value) || isobject$2(value)) {\n                        return deepobserveaddpath(value, callback, [ ...patharray, k ], target);\n                    } else {\n                        return value;\n                    }\n                }\n            });\n        })(forkobj);\n    } else {\n        return target;\n    }\n}\n\nfunction observedeepagent(target, callback) {\n    if (typeof callback !== \"function\") {\n        throw Error(\"observe callback is not valid function !\");\n    }\n    if (typeof Proxy !== \"function\") {\n        throw Error(\"Proxy unsupported!\");\n    }\n    if (isfunction$1(target) || isobject$2(target)) {\n        return deepobserveaddpath(target, callback, [], target);\n    } else {\n        return target;\n    }\n}\n\nfunction createstate(init) {\n    if (isprimitive(init)) {\n        return new Proxy(new ReactiveState(init), {\n            defineProperty() {\n                return false;\n            },\n            deleteProperty() {\n                return false;\n            },\n            set(target, key, value) {\n                if (key === textnodesymbol) {\n                    return set(target, key, value);\n                }\n                if (key === \"value\" && isprimitive(value)) {\n                    set(target, key, value);\n                    target[dispatchsymbol]();\n                    return true;\n                } else {\n                    return false;\n                }\n            }\n        });\n    } else if (init instanceof ReactiveState) {\n        return createstate(init.value);\n    } else if (isobject(init)) {\n        return new Proxy(new ReactiveState(init), {\n            defineProperty() {\n                return false;\n            },\n            getOwnPropertyDescriptor(target, key) {\n                const myvalue = get(target, \"value\");\n                const descripter = getOwnPropertyDescriptor(target, key) || getOwnPropertyDescriptor(myvalue, key);\n                return descripter;\n            },\n            deleteProperty(target, key) {\n                const myvalue = get(target, \"value\");\n                if (has(myvalue, key)) {\n                    deleteProperty(myvalue, key);\n                    target[dispatchsymbol](key);\n                    return true;\n                } else {\n                    return true;\n                }\n            },\n            has(target, key) {\n                const myvalue = get(target, \"value\");\n                return has(target, key) || has(myvalue, key);\n            },\n            get(target, key) {\n                const value = get(target, \"value\");\n                if (has(target, key)) {\n                    return get(target, key);\n                } else if (has(value, key)) {\n                    return observedeepagent(get(value, key), () => {\n                        target[dispatchsymbol](key);\n                    });\n                }\n            },\n            ownKeys(target) {\n                return Array.from(new Set([ ...ownKeys(target), ...ownKeys(get(target, \"value\")) ]));\n            },\n            set(target, key, value) {\n                if (key === textnodesymbol) {\n                    return set(target, key, value);\n                }\n                const myvalue = get(target, \"value\");\n                if (key === \"value\" && isobject(value)) {\n                    set(target, key, value);\n                    target[dispatchsymbol]();\n                    return true;\n                } else if (!has(target, key)) {\n                    set(myvalue, key, value);\n                    target[dispatchsymbol](key);\n                } else if (key === \"length\") {\n                    set(myvalue, key, value);\n                    target[dispatchsymbol](key);\n                } else {\n                    return false;\n                }\n                return true;\n            }\n        });\n    } else {\n        throw TypeError(\"invalid State\");\n    }\n}\n\nexport { createApp, h as createElemet, createRef, createstate as createState, extenddirectives as directives, h, assertvalidvirtualdom as html, watch };\n//# sourceMappingURL=index.js.map\n"],"names":["_a","_b","_c","fromPairs_1","pairs","index","length","result","pair","isobject","a","isstring","isfunction","getsymbol","Symbol","isprimitive","isnumber","isboolean","isundefined","Object","fromEntries","Array","prototype","flat","depth","this","reduce","acc","val","concat","flattenDeep","arr1","isArray","textnodesymbol","eventtargetsymbol","memlisteners","dispatchsymbol","subscribesymbol","removeallistenerssymbol","addallistenerssymbol","ReactiveState","[object Object]","init","undefined","EventTarget","TypeError","defineProperty","value","configurable","writable","toStringTag","forEach","callback","addEventListener","String","JSON","stringify","eventname","name","dispatchEvent","Event","push","removeEventListener","toPrimitive","document","window","seteletext","e","v","textContent","setelehtml","innerHTML","createElementNS","namespace","createtextnode","data","createTextNode","svgnamespace","mathnamespace","watch","state","statekey","requestAnimationFrame","directives","ele","ref","html","text","extenddirectives","options","entries","key","element","vdom","type","bindattr","eventsarray","onevent","Infinity","target","Virtualdom","props","children","propsentries","assign","filter","test","map","slice","n","t","r","u","p","s","h","apply","replace","f","Map","get","set","typenormalized","propsnormalized","childrennormalized","trim","toLowerCase","arguments","bind","isvalidvdom","flag","includes","assertvalidvirtualdom","args","eventlistenerssymbol","addlisteners","event","callarray","call","domaddlisten","Reflect","construct","deleteProperty","getOwnPropertyDescriptor","getPrototypeOf","has","isExtensible","ownKeys","preventExtensions","setPrototypeOf","customElementsarray","items","item","super","createcostumelemet","initclass","HTMLElement","isclassextendsHTMLElement","elementname","indexOf","getcustomelementname","customElements","define","mount","container","eles","appendChild","appendchild","Reflect$1","get$1","ownKeys$1","set$1","valuestring","isobject$1","isstring$1","createeleattragentreadwrite","SVGElement","Element","asserthtmlelement","isinputtextortextarea","tagName","temp","create","Proxy","keys","attributes","k","from","Set","getAttribute","parse","error","setAttribute","o","join","removeAttribute","hasAttribute","otherdescipter","enumerable","attr","bindstatesymbol","reactivestatesymbol","virtualdomsymbol","throwinvalideletype","render","reactive","textnode","nodeValue","changetext","createDocumentFragment","createElement","createnativeelement","Error","attribute1","primitivestate","callbacks","values","add","handleprops","createApp","el","body","documentElement","head","elesarray","createRef","Reflect$2","apply$1","construct$1","defineProperty$1","get$2","getOwnPropertyDescriptor$1","getPrototypeOf$1","has$1","set$2","setPrototypeOf$1","isobject$2","isfunction$1","observedeepagent","deepobserveaddpath","patharray","ancestor","forkobj","argumentslist","thisarg","argarray","descripter","createstate","myvalue"],"mappings":"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"}