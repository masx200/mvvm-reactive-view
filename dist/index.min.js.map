{"version":3,"file":"index.min.js","sources":["../node_modules/_event-target-shim@5.0.1@event-target-shim/src/event.mjs","../node_modules/_event-target-shim@5.0.1@event-target-shim/src/event-target.mjs","../polyfill/Object-fromEntries.js","../src/UtilTools/isprimitive.ts","../src/UtilTools/util.ts","../polyfill/event-target-polyfill.js","../polyfill/custom-elements.min.js","../polyfill/Array-prototype-flat.js","../src/assetbrowser.ts","../node_modules/_@masx200_dom-element-attribute-agent-proxy@1.2.0@@masx200/dom-element-attribute-agent-proxy/src/mustUseDomProp.ts","../node_modules/_@masx200_dom-element-attribute-agent-proxy@1.2.0@@masx200/dom-element-attribute-agent-proxy/src/index.ts","../node_modules/lodash/isObject.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_root.js","../node_modules/lodash/now.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/isSymbol.js","../node_modules/lodash/toNumber.js","../node_modules/lodash/debounce.js","../src/cached-map.ts","../src/UtilTools/reflect.ts","../src/mounted-unmounted/Component-context.ts","../src/Reactivity/ReactiveState.ts","../src/UtilTools/merge-entries.ts","../src/CreateElement/VirtualElement.ts","../src/CreateElement/isvalidvdom.ts","../src/CustomClass/isclassextendsHTMLElement.ts","../src/ScopedCSS/cssrulestocsstext.ts","../src/CustomClass/getrandomstringandnumber.ts","../src/CustomClass/CustomElementRegistry.ts","../src/AttributeClass/iscomponent.ts","../src/UtilTools/dom.ts","../src/UtilTools/toArray.ts","../src/MountElement/mount-real-element.ts","../src/MountElement/isNodeArray.ts","../src/MountElement/MountElement.ts","../src/Reactivity/watch.ts","../src/UtilTools/isconnected.ts","../src/Directives/create-html-and-text-directive.ts","../src/Directives/extend-directive.ts","../src/Directives/directives.ts","../src/RenderVirtual/handle-onevent.ts","../src/RenderVirtual/render-vdom-to-real.ts","../src/CustomClass/create-costum-elemet.ts","../src/RenderVirtual/handle-props.ts","../src/ScopedCSS/parsecss-transformcss.ts","../src/ScopedCSS/create-cssurlblob.ts","../src/ScopedCSS/savestyleblob.ts","../src/ScopedCSS/transform-prefix-cssrules.ts","../src/ScopedCSS/isCSSRule.ts","../src/ScopedCSS/selectoraddprefix.ts","../src/ScopedCSS/prefix-cssmediarule.ts","../src/ScopedCSS/parsecsstext.ts","../src/ScopedCSS/transformcsstext.ts","../src/ScopedCSS/registercssprefix.ts","../src/ScopedCSS/waitloadallstyle.ts","../src/ScopedCSS/loadlinkstyle.ts","../src/Reactivity/readonly-proxy.ts","../src/UtilTools/setimmediate.ts","../src/mounted-unmounted/element-onmount-unmount.ts","../src/AttributeClass/readysymbol.ts","../src/AttributeClass/attr-change.ts","../src/AttributeClass/createComponent.ts","../src/CreateElement/create-element.ts","../src/AttributeClass/conditon.ts","../src/Reactivity/getproperyread-proxy.ts","../src/Reactivity/computed.ts","../node_modules/_@masx200_deep-observe-agent-proxy@1.2.0@@masx200/deep-observe-agent-proxy/src/index.ts","../src/Reactivity/create-state.ts","../src/Reactivity/handle-object-state.ts","../src/AttributeClass/list-map.ts","../src/asserttype.ts","../src/AttributeClass/switchable.ts","../src/createref.ts","../node_modules/htm/dist/htm.module.js","../src/CreateElement/html.ts","../src/Directives/model-input-textarea-value-directive-binding.ts"],"sourcesContent":["/**\n * @typedef {object} PrivateData\n * @property {EventTarget} eventTarget The event target.\n * @property {{type:string}} event The original event object.\n * @property {number} eventPhase The current event phase.\n * @property {EventTarget|null} currentTarget The current event target.\n * @property {boolean} canceled The flag to prevent default.\n * @property {boolean} stopped The flag to stop propagation.\n * @property {boolean} immediateStopped The flag to stop propagation immediately.\n * @property {Function|null} passiveListener The listener if the current listener is passive. Otherwise this is null.\n * @property {number} timeStamp The unix time.\n * @private\n */\n\n/**\n * Private data for event wrappers.\n * @type {WeakMap<Event, PrivateData>}\n * @private\n */\nconst privateData = new WeakMap()\n\n/**\n * Cache for wrapper classes.\n * @type {WeakMap<Object, Function>}\n * @private\n */\nconst wrappers = new WeakMap()\n\n/**\n * Get private data.\n * @param {Event} event The event object to get private data.\n * @returns {PrivateData} The private data of the event.\n * @private\n */\nfunction pd(event) {\n    const retv = privateData.get(event)\n    console.assert(\n        retv != null,\n        \"'this' is expected an Event object, but got\",\n        event\n    )\n    return retv\n}\n\n/**\n * https://dom.spec.whatwg.org/#set-the-canceled-flag\n * @param data {PrivateData} private data.\n */\nfunction setCancelFlag(data) {\n    if (data.passiveListener != null) {\n        if (\n            typeof console !== \"undefined\" &&\n            typeof console.error === \"function\"\n        ) {\n            console.error(\n                \"Unable to preventDefault inside passive event listener invocation.\",\n                data.passiveListener\n            )\n        }\n        return\n    }\n    if (!data.event.cancelable) {\n        return\n    }\n\n    data.canceled = true\n    if (typeof data.event.preventDefault === \"function\") {\n        data.event.preventDefault()\n    }\n}\n\n/**\n * @see https://dom.spec.whatwg.org/#interface-event\n * @private\n */\n/**\n * The event wrapper.\n * @constructor\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Event|{type:string}} event The original event to wrap.\n */\nfunction Event(eventTarget, event) {\n    privateData.set(this, {\n        eventTarget,\n        event,\n        eventPhase: 2,\n        currentTarget: eventTarget,\n        canceled: false,\n        stopped: false,\n        immediateStopped: false,\n        passiveListener: null,\n        timeStamp: event.timeStamp || Date.now(),\n    })\n\n    // https://heycam.github.io/webidl/#Unforgeable\n    Object.defineProperty(this, \"isTrusted\", { value: false, enumerable: true })\n\n    // Define accessors\n    const keys = Object.keys(event)\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i]\n        if (!(key in this)) {\n            Object.defineProperty(this, key, defineRedirectDescriptor(key))\n        }\n    }\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEvent.prototype = {\n    /**\n     * The type of this event.\n     * @type {string}\n     */\n    get type() {\n        return pd(this).event.type\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get target() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get currentTarget() {\n        return pd(this).currentTarget\n    },\n\n    /**\n     * @returns {EventTarget[]} The composed path of this event.\n     */\n    composedPath() {\n        const currentTarget = pd(this).currentTarget\n        if (currentTarget == null) {\n            return []\n        }\n        return [currentTarget]\n    },\n\n    /**\n     * Constant of NONE.\n     * @type {number}\n     */\n    get NONE() {\n        return 0\n    },\n\n    /**\n     * Constant of CAPTURING_PHASE.\n     * @type {number}\n     */\n    get CAPTURING_PHASE() {\n        return 1\n    },\n\n    /**\n     * Constant of AT_TARGET.\n     * @type {number}\n     */\n    get AT_TARGET() {\n        return 2\n    },\n\n    /**\n     * Constant of BUBBLING_PHASE.\n     * @type {number}\n     */\n    get BUBBLING_PHASE() {\n        return 3\n    },\n\n    /**\n     * The target of this event.\n     * @type {number}\n     */\n    get eventPhase() {\n        return pd(this).eventPhase\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopPropagation() {\n        const data = pd(this)\n\n        data.stopped = true\n        if (typeof data.event.stopPropagation === \"function\") {\n            data.event.stopPropagation()\n        }\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopImmediatePropagation() {\n        const data = pd(this)\n\n        data.stopped = true\n        data.immediateStopped = true\n        if (typeof data.event.stopImmediatePropagation === \"function\") {\n            data.event.stopImmediatePropagation()\n        }\n    },\n\n    /**\n     * The flag to be bubbling.\n     * @type {boolean}\n     */\n    get bubbles() {\n        return Boolean(pd(this).event.bubbles)\n    },\n\n    /**\n     * The flag to be cancelable.\n     * @type {boolean}\n     */\n    get cancelable() {\n        return Boolean(pd(this).event.cancelable)\n    },\n\n    /**\n     * Cancel this event.\n     * @returns {void}\n     */\n    preventDefault() {\n        setCancelFlag(pd(this))\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     */\n    get defaultPrevented() {\n        return pd(this).canceled\n    },\n\n    /**\n     * The flag to be composed.\n     * @type {boolean}\n     */\n    get composed() {\n        return Boolean(pd(this).event.composed)\n    },\n\n    /**\n     * The unix time of this event.\n     * @type {number}\n     */\n    get timeStamp() {\n        return pd(this).timeStamp\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     * @deprecated\n     */\n    get srcElement() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The flag to stop event bubbling.\n     * @type {boolean}\n     * @deprecated\n     */\n    get cancelBubble() {\n        return pd(this).stopped\n    },\n    set cancelBubble(value) {\n        if (!value) {\n            return\n        }\n        const data = pd(this)\n\n        data.stopped = true\n        if (typeof data.event.cancelBubble === \"boolean\") {\n            data.event.cancelBubble = true\n        }\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     * @deprecated\n     */\n    get returnValue() {\n        return !pd(this).canceled\n    },\n    set returnValue(value) {\n        if (!value) {\n            setCancelFlag(pd(this))\n        }\n    },\n\n    /**\n     * Initialize this event object. But do nothing under event dispatching.\n     * @param {string} type The event type.\n     * @param {boolean} [bubbles=false] The flag to be possible to bubble up.\n     * @param {boolean} [cancelable=false] The flag to be possible to cancel.\n     * @deprecated\n     */\n    initEvent() {\n        // Do nothing.\n    },\n}\n\n// `constructor` is not enumerable.\nObject.defineProperty(Event.prototype, \"constructor\", {\n    value: Event,\n    configurable: true,\n    writable: true,\n})\n\n// Ensure `event instanceof window.Event` is `true`.\nif (typeof window !== \"undefined\" && typeof window.Event !== \"undefined\") {\n    Object.setPrototypeOf(Event.prototype, window.Event.prototype)\n\n    // Make association for wrappers.\n    wrappers.set(window.Event.prototype, Event)\n}\n\n/**\n * Get the property descriptor to redirect a given property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to redirect the property.\n * @private\n */\nfunction defineRedirectDescriptor(key) {\n    return {\n        get() {\n            return pd(this).event[key]\n        },\n        set(value) {\n            pd(this).event[key] = value\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Get the property descriptor to call a given method property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to call the method property.\n * @private\n */\nfunction defineCallDescriptor(key) {\n    return {\n        value() {\n            const event = pd(this).event\n            return event[key].apply(event, arguments)\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define new wrapper class.\n * @param {Function} BaseEvent The base wrapper class.\n * @param {Object} proto The prototype of the original event.\n * @returns {Function} The defined wrapper class.\n * @private\n */\nfunction defineWrapper(BaseEvent, proto) {\n    const keys = Object.keys(proto)\n    if (keys.length === 0) {\n        return BaseEvent\n    }\n\n    /** CustomEvent */\n    function CustomEvent(eventTarget, event) {\n        BaseEvent.call(this, eventTarget, event)\n    }\n\n    CustomEvent.prototype = Object.create(BaseEvent.prototype, {\n        constructor: { value: CustomEvent, configurable: true, writable: true },\n    })\n\n    // Define accessors.\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i]\n        if (!(key in BaseEvent.prototype)) {\n            const descriptor = Object.getOwnPropertyDescriptor(proto, key)\n            const isFunc = typeof descriptor.value === \"function\"\n            Object.defineProperty(\n                CustomEvent.prototype,\n                key,\n                isFunc\n                    ? defineCallDescriptor(key)\n                    : defineRedirectDescriptor(key)\n            )\n        }\n    }\n\n    return CustomEvent\n}\n\n/**\n * Get the wrapper class of a given prototype.\n * @param {Object} proto The prototype of the original event to get its wrapper.\n * @returns {Function} The wrapper class.\n * @private\n */\nfunction getWrapper(proto) {\n    if (proto == null || proto === Object.prototype) {\n        return Event\n    }\n\n    let wrapper = wrappers.get(proto)\n    if (wrapper == null) {\n        wrapper = defineWrapper(getWrapper(Object.getPrototypeOf(proto)), proto)\n        wrappers.set(proto, wrapper)\n    }\n    return wrapper\n}\n\n/**\n * Wrap a given event to management a dispatching.\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Object} event The event to wrap.\n * @returns {Event} The wrapper instance.\n * @private\n */\nexport function wrapEvent(eventTarget, event) {\n    const Wrapper = getWrapper(Object.getPrototypeOf(event))\n    return new Wrapper(eventTarget, event)\n}\n\n/**\n * Get the immediateStopped flag of a given event.\n * @param {Event} event The event to get.\n * @returns {boolean} The flag to stop propagation immediately.\n * @private\n */\nexport function isStopped(event) {\n    return pd(event).immediateStopped\n}\n\n/**\n * Set the current event phase of a given event.\n * @param {Event} event The event to set current target.\n * @param {number} eventPhase New event phase.\n * @returns {void}\n * @private\n */\nexport function setEventPhase(event, eventPhase) {\n    pd(event).eventPhase = eventPhase\n}\n\n/**\n * Set the current target of a given event.\n * @param {Event} event The event to set current target.\n * @param {EventTarget|null} currentTarget New current target.\n * @returns {void}\n * @private\n */\nexport function setCurrentTarget(event, currentTarget) {\n    pd(event).currentTarget = currentTarget\n}\n\n/**\n * Set a passive listener of a given event.\n * @param {Event} event The event to set current target.\n * @param {Function|null} passiveListener New passive listener.\n * @returns {void}\n * @private\n */\nexport function setPassiveListener(event, passiveListener) {\n    pd(event).passiveListener = passiveListener\n}\n","import {\n    isStopped,\n    setCurrentTarget,\n    setEventPhase,\n    setPassiveListener,\n    wrapEvent,\n} from \"./event.mjs\"\n\n/**\n * @typedef {object} ListenerNode\n * @property {Function} listener\n * @property {1|2|3} listenerType\n * @property {boolean} passive\n * @property {boolean} once\n * @property {ListenerNode|null} next\n * @private\n */\n\n/**\n * @type {WeakMap<object, Map<string, ListenerNode>>}\n * @private\n */\nconst listenersMap = new WeakMap()\n\n// Listener types\nconst CAPTURE = 1\nconst BUBBLE = 2\nconst ATTRIBUTE = 3\n\n/**\n * Check whether a given value is an object or not.\n * @param {any} x The value to check.\n * @returns {boolean} `true` if the value is an object.\n */\nfunction isObject(x) {\n    return x !== null && typeof x === \"object\" //eslint-disable-line no-restricted-syntax\n}\n\n/**\n * Get listeners.\n * @param {EventTarget} eventTarget The event target to get.\n * @returns {Map<string, ListenerNode>} The listeners.\n * @private\n */\nfunction getListeners(eventTarget) {\n    const listeners = listenersMap.get(eventTarget)\n    if (listeners == null) {\n        throw new TypeError(\n            \"'this' is expected an EventTarget object, but got another value.\"\n        )\n    }\n    return listeners\n}\n\n/**\n * Get the property descriptor for the event attribute of a given event.\n * @param {string} eventName The event name to get property descriptor.\n * @returns {PropertyDescriptor} The property descriptor.\n * @private\n */\nfunction defineEventAttributeDescriptor(eventName) {\n    return {\n        get() {\n            const listeners = getListeners(this)\n            let node = listeners.get(eventName)\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    return node.listener\n                }\n                node = node.next\n            }\n            return null\n        },\n\n        set(listener) {\n            if (typeof listener !== \"function\" && !isObject(listener)) {\n                listener = null // eslint-disable-line no-param-reassign\n            }\n            const listeners = getListeners(this)\n\n            // Traverse to the tail while removing old value.\n            let prev = null\n            let node = listeners.get(eventName)\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    // Remove old value.\n                    if (prev !== null) {\n                        prev.next = node.next\n                    } else if (node.next !== null) {\n                        listeners.set(eventName, node.next)\n                    } else {\n                        listeners.delete(eventName)\n                    }\n                } else {\n                    prev = node\n                }\n\n                node = node.next\n            }\n\n            // Add new value.\n            if (listener !== null) {\n                const newNode = {\n                    listener,\n                    listenerType: ATTRIBUTE,\n                    passive: false,\n                    once: false,\n                    next: null,\n                }\n                if (prev === null) {\n                    listeners.set(eventName, newNode)\n                } else {\n                    prev.next = newNode\n                }\n            }\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define an event attribute (e.g. `eventTarget.onclick`).\n * @param {Object} eventTargetPrototype The event target prototype to define an event attrbite.\n * @param {string} eventName The event name to define.\n * @returns {void}\n */\nfunction defineEventAttribute(eventTargetPrototype, eventName) {\n    Object.defineProperty(\n        eventTargetPrototype,\n        `on${eventName}`,\n        defineEventAttributeDescriptor(eventName)\n    )\n}\n\n/**\n * Define a custom EventTarget with event attributes.\n * @param {string[]} eventNames Event names for event attributes.\n * @returns {EventTarget} The custom EventTarget.\n * @private\n */\nfunction defineCustomEventTarget(eventNames) {\n    /** CustomEventTarget */\n    function CustomEventTarget() {\n        EventTarget.call(this)\n    }\n\n    CustomEventTarget.prototype = Object.create(EventTarget.prototype, {\n        constructor: {\n            value: CustomEventTarget,\n            configurable: true,\n            writable: true,\n        },\n    })\n\n    for (let i = 0; i < eventNames.length; ++i) {\n        defineEventAttribute(CustomEventTarget.prototype, eventNames[i])\n    }\n\n    return CustomEventTarget\n}\n\n/**\n * EventTarget.\n *\n * - This is constructor if no arguments.\n * - This is a function which returns a CustomEventTarget constructor if there are arguments.\n *\n * For example:\n *\n *     class A extends EventTarget {}\n *     class B extends EventTarget(\"message\") {}\n *     class C extends EventTarget(\"message\", \"error\") {}\n *     class D extends EventTarget([\"message\", \"error\"]) {}\n */\nfunction EventTarget() {\n    /*eslint-disable consistent-return */\n    if (this instanceof EventTarget) {\n        listenersMap.set(this, new Map())\n        return\n    }\n    if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        return defineCustomEventTarget(arguments[0])\n    }\n    if (arguments.length > 0) {\n        const types = new Array(arguments.length)\n        for (let i = 0; i < arguments.length; ++i) {\n            types[i] = arguments[i]\n        }\n        return defineCustomEventTarget(types)\n    }\n    throw new TypeError(\"Cannot call a class as a function\")\n    /*eslint-enable consistent-return */\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEventTarget.prototype = {\n    /**\n     * Add a given listener to this event target.\n     * @param {string} eventName The event name to add.\n     * @param {Function} listener The listener to add.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    addEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n        if (typeof listener !== \"function\" && !isObject(listener)) {\n            throw new TypeError(\"'listener' should be a function or an object.\")\n        }\n\n        const listeners = getListeners(this)\n        const optionsIsObj = isObject(options)\n        const capture = optionsIsObj\n            ? Boolean(options.capture)\n            : Boolean(options)\n        const listenerType = capture ? CAPTURE : BUBBLE\n        const newNode = {\n            listener,\n            listenerType,\n            passive: optionsIsObj && Boolean(options.passive),\n            once: optionsIsObj && Boolean(options.once),\n            next: null,\n        }\n\n        // Set it as the first node if the first node is null.\n        let node = listeners.get(eventName)\n        if (node === undefined) {\n            listeners.set(eventName, newNode)\n            return\n        }\n\n        // Traverse to the tail while checking duplication..\n        let prev = null\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                // Should ignore duplication.\n                return\n            }\n            prev = node\n            node = node.next\n        }\n\n        // Add it.\n        prev.next = newNode\n    },\n\n    /**\n     * Remove a given listener from this event target.\n     * @param {string} eventName The event name to remove.\n     * @param {Function} listener The listener to remove.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    removeEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n\n        const listeners = getListeners(this)\n        const capture = isObject(options)\n            ? Boolean(options.capture)\n            : Boolean(options)\n        const listenerType = capture ? CAPTURE : BUBBLE\n\n        let prev = null\n        let node = listeners.get(eventName)\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                if (prev !== null) {\n                    prev.next = node.next\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next)\n                } else {\n                    listeners.delete(eventName)\n                }\n                return\n            }\n\n            prev = node\n            node = node.next\n        }\n    },\n\n    /**\n     * Dispatch a given event.\n     * @param {Event|{type:string}} event The event to dispatch.\n     * @returns {boolean} `false` if canceled.\n     */\n    dispatchEvent(event) {\n        if (event == null || typeof event.type !== \"string\") {\n            throw new TypeError('\"event.type\" should be a string.')\n        }\n\n        // If listeners aren't registered, terminate.\n        const listeners = getListeners(this)\n        const eventName = event.type\n        let node = listeners.get(eventName)\n        if (node == null) {\n            return true\n        }\n\n        // Since we cannot rewrite several properties, so wrap object.\n        const wrappedEvent = wrapEvent(this, event)\n\n        // This doesn't process capturing phase and bubbling phase.\n        // This isn't participating in a tree.\n        let prev = null\n        while (node != null) {\n            // Remove this listener if it's once\n            if (node.once) {\n                if (prev !== null) {\n                    prev.next = node.next\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next)\n                } else {\n                    listeners.delete(eventName)\n                }\n            } else {\n                prev = node\n            }\n\n            // Call this listener\n            setPassiveListener(\n                wrappedEvent,\n                node.passive ? node.listener : null\n            )\n            if (typeof node.listener === \"function\") {\n                try {\n                    node.listener.call(this, wrappedEvent)\n                } catch (err) {\n                    if (\n                        typeof console !== \"undefined\" &&\n                        typeof console.error === \"function\"\n                    ) {\n                        console.error(err)\n                    }\n                }\n            } else if (\n                node.listenerType !== ATTRIBUTE &&\n                typeof node.listener.handleEvent === \"function\"\n            ) {\n                node.listener.handleEvent(wrappedEvent)\n            }\n\n            // Break if `event.stopImmediatePropagation` was called.\n            if (isStopped(wrappedEvent)) {\n                break\n            }\n\n            node = node.next\n        }\n        setPassiveListener(wrappedEvent, null)\n        setEventPhase(wrappedEvent, 0)\n        setCurrentTarget(wrappedEvent, null)\n\n        return !wrappedEvent.defaultPrevented\n    },\n}\n\n// `constructor` is not enumerable.\nObject.defineProperty(EventTarget.prototype, \"constructor\", {\n    value: EventTarget,\n    configurable: true,\n    writable: true,\n})\n\n// Ensure `eventTarget instanceof window.EventTarget` is `true`.\nif (\n    typeof window !== \"undefined\" &&\n    typeof window.EventTarget !== \"undefined\"\n) {\n    Object.setPrototypeOf(EventTarget.prototype, window.EventTarget.prototype)\n}\n\nexport { defineEventAttribute, EventTarget }\nexport default EventTarget\n","(() => {\r\n  function fromPairs(pairs) {\r\n    var index = -1,\r\n      length = pairs == null ? 0 : pairs.length,\r\n      result = {};\r\n    while (++index < length) {\r\n      var pair = pairs[index];\r\n      result[pair[0]] = pair[1];\r\n    }\r\n    return result;\r\n  }\r\n\r\n  var fromPairs_1 = fromPairs;\r\n\r\n  if (\"function\" !== typeof Object.fromEntries) {\r\n    Object.fromEntries = fromPairs_1;\r\n  }\r\n})();\r\n","import { isboolean, isnumber, isString, isundefined } from \"./util\";\r\nexport type Primitivetype = string | number | boolean | undefined | bigint;\r\nexport default function(a: any): a is Primitivetype {\r\n  return (\r\n    isString(a) || isnumber(a) || isboolean(a) || isundefined(a) || isbigint(a)\r\n    // typeof a === \"bigint\"\r\n  );\r\n}\r\nexport function isbigint(a: any): a is bigint {\r\n  return typeof a === \"bigint\";\r\n}\r\n","export function issymbol(a: any): a is symbol {\r\n  return typeof a === \"symbol\";\r\n  //||gettagtype(a) === \"symbol\";\r\n}\r\n\r\nexport { isplainobject };\r\nexport { isfunction as isFunction, isarray as isArray, isstring as isString };\r\nexport { isprimitive };\r\n\r\nconst isplainobject = (a: any): a is Record<any, any> =>\r\n  isobject(a) && gettagtype(a) === \"Object\";\r\n\r\nimport isprimitive from \"./isprimitive\";\r\n/* eslint-disable @typescript-eslint/explicit-function-return-type */\r\nexport function isundefined(a: any): a is void {\r\n  return (!a && a === void 0) || a === null;\r\n}\r\n\r\nexport function isnumber(a: any): a is number {\r\n  return typeof a === \"number\";\r\n}\r\nexport function isboolean(a: any): a is boolean {\r\n  return typeof a === \"boolean\";\r\n}\r\nexport function isobject(a: any): a is Exclude<object, Function> {\r\n  return typeof a === \"object\" && a !== null;\r\n}\r\n// export function isstring(a: string): true;\r\n// export function isstring(a): boolean;\r\nexport function isstring(a: any): a is string {\r\n  return typeof a === \"string\";\r\n}\r\nexport function isfunction(a: any): a is Function {\r\n  return typeof a === \"function\";\r\n}\r\n\r\nexport function isarray(a: any): a is Array<any> {\r\n  return Array.isArray(a)&&a instanceof Array \r\n//&&  \r\n//&& gettagtype(a) === \"Array\";\r\n}\r\n/* export function getsymbol(a: string) {\r\n  return Symbol(a);\r\n} */\r\nexport function gettagtype(a: any): string {\r\n  return (\r\n    {}.toString\r\n      .call(a)\r\n      .replace(\"[object \", \"\")\r\n      .replace(\"]\", \"\")\r\n      //.toLowerCase()\r\n      .trim()\r\n  );\r\n}\r\n//export function ispromise(a: any): a is Promise<any> {\r\n//  return gettagtype(a) === \"promise\" && isFunction(get(a, \"then\"));\r\n//}\r\nexport function isSet(a: any): a is Set<any> {\r\n  return a instanceof Set;\r\n}\r\nexport function isMap(a: any): a is Map<any, any> {\r\n  return a instanceof Map;\r\n}\r\nconst camelizeRE = /-(\\w)/g;\r\nexport const camelize = (str: string): string => {\r\n  return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : \"\"));\r\n};\r\n\r\nconst hyphenateRE = /\\B([A-Z])/g;\r\nexport const hyphenate = (str: string): string => {\r\n  return str.replace(hyphenateRE, \"-$1\").toLowerCase();\r\n};\r\n\r\nexport function isWeakMap(a: any): a is WeakMap<any, any> {\r\n  return a instanceof WeakMap;\r\n}\r\n","import event_target from \"event-target-shim/dist/event-target-shim\";\r\n(() => {\r\n  try {\r\n    new EventTarget();\r\n  } catch (e) {\r\n    // Reflect.set()\r\n    window.EventTarget = undefined;\r\n  }\r\n  //   if (\"function\" != typeof EventTarget) {\r\n  (() => {\r\n    if (\"function\" != typeof window.EventTarget) {\r\n      window.EventTarget = event_target;\r\n      // Reflect.set(window, \"EventTarget\", event_target);\r\n      //   window.EventTarget = (event_target as unknown) as EventTarget;\r\n    }\r\n  })();\r\n  //   }\r\n})();\r\n","(() => {\r\n  if (\r\n    \"object\" != typeof window.customElements ||\r\n    typeof window.CustomElementRegistry !== \"function\"\r\n  ) {\r\n    (function() {\r\n      /*\r\n          \r\n           Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\r\n           This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\r\n           The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\r\n           The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\r\n           Code distributed by Google as part of the polymer project is also\r\n           subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\r\n          */\r\n      \"use strict\";\r\n      var aa = new Set(\r\n        \"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph\".split(\r\n          \" \"\r\n        )\r\n      );\r\n      function g(a) {\r\n        var b = aa.has(a);\r\n        a = /^[a-z][.0-9_a-z]*-[\\-.0-9_a-z]*$/.test(a);\r\n        return !b && a;\r\n      }\r\n      function l(a) {\r\n        var b = a.isConnected;\r\n        if (void 0 !== b) return b;\r\n        for (; a && !(a.__CE_isImportDocument || a instanceof Document); )\r\n          a =\r\n            a.parentNode ||\r\n            (window.ShadowRoot && a instanceof ShadowRoot ? a.host : void 0);\r\n        return !(!a || !(a.__CE_isImportDocument || a instanceof Document));\r\n      }\r\n      function n(a, b) {\r\n        for (; b && b !== a && !b.nextSibling; ) b = b.parentNode;\r\n        return b && b !== a ? b.nextSibling : null;\r\n      }\r\n      function p(a, b, d) {\r\n        d = void 0 === d ? new Set() : d;\r\n        for (var c = a; c; ) {\r\n          if (c.nodeType === Node.ELEMENT_NODE) {\r\n            var e = c;\r\n            b(e);\r\n            var f = e.localName;\r\n            if (\"link\" === f && \"import\" === e.getAttribute(\"rel\")) {\r\n              c = e.import;\r\n              if (c instanceof Node && !d.has(c))\r\n                for (d.add(c), c = c.firstChild; c; c = c.nextSibling)\r\n                  p(c, b, d);\r\n              c = n(a, e);\r\n              continue;\r\n            } else if (\"template\" === f) {\r\n              c = n(a, e);\r\n              continue;\r\n            }\r\n            if ((e = e.__CE_shadowRoot))\r\n              for (e = e.firstChild; e; e = e.nextSibling) p(e, b, d);\r\n          }\r\n          c = c.firstChild ? c.firstChild : n(a, c);\r\n        }\r\n      }\r\n      function r(a, b, d) {\r\n        a[b] = d;\r\n      }\r\n      function u() {\r\n        this.a = new Map();\r\n        this.g = new Map();\r\n        this.c = [];\r\n        this.f = [];\r\n        this.b = !1;\r\n      }\r\n      function ba(a, b, d) {\r\n        a.a.set(b, d);\r\n        a.g.set(d.constructorFunction, d);\r\n      }\r\n      function ca(a, b) {\r\n        a.b = !0;\r\n        a.c.push(b);\r\n      }\r\n      function da(a, b) {\r\n        a.b = !0;\r\n        a.f.push(b);\r\n      }\r\n      function v(a, b) {\r\n        a.b &&\r\n          p(b, function(b) {\r\n            return w(a, b);\r\n          });\r\n      }\r\n      function w(a, b) {\r\n        if (a.b && !b.__CE_patched) {\r\n          b.__CE_patched = !0;\r\n          for (var d = 0; d < a.c.length; d++) a.c[d](b);\r\n          for (d = 0; d < a.f.length; d++) a.f[d](b);\r\n        }\r\n      }\r\n      function x(a, b) {\r\n        var d = [];\r\n        p(b, function(b) {\r\n          return d.push(b);\r\n        });\r\n        for (b = 0; b < d.length; b++) {\r\n          var c = d[b];\r\n          1 === c.__CE_state ? a.connectedCallback(c) : y(a, c);\r\n        }\r\n      }\r\n      function z(a, b) {\r\n        var d = [];\r\n        p(b, function(b) {\r\n          return d.push(b);\r\n        });\r\n        for (b = 0; b < d.length; b++) {\r\n          var c = d[b];\r\n          1 === c.__CE_state && a.disconnectedCallback(c);\r\n        }\r\n      }\r\n      function A(a, b, d) {\r\n        d = void 0 === d ? {} : d;\r\n        var c = d.u || new Set(),\r\n          e =\r\n            d.i ||\r\n            function(b) {\r\n              return y(a, b);\r\n            },\r\n          f = [];\r\n        p(\r\n          b,\r\n          function(b) {\r\n            if (\"link\" === b.localName && \"import\" === b.getAttribute(\"rel\")) {\r\n              var d = b.import;\r\n              d instanceof Node &&\r\n                ((d.__CE_isImportDocument = !0), (d.__CE_hasRegistry = !0));\r\n              d && \"complete\" === d.readyState\r\n                ? (d.__CE_documentLoadHandled = !0)\r\n                : b.addEventListener(\"load\", function() {\r\n                    var d = b.import;\r\n                    if (!d.__CE_documentLoadHandled) {\r\n                      d.__CE_documentLoadHandled = !0;\r\n                      var f = new Set(c);\r\n                      f.delete(d);\r\n                      A(a, d, { u: f, i: e });\r\n                    }\r\n                  });\r\n            } else f.push(b);\r\n          },\r\n          c\r\n        );\r\n        if (a.b) for (b = 0; b < f.length; b++) w(a, f[b]);\r\n        for (b = 0; b < f.length; b++) e(f[b]);\r\n      }\r\n      function y(a, b) {\r\n        if (void 0 === b.__CE_state) {\r\n          var d = b.ownerDocument;\r\n          if (d.defaultView || (d.__CE_isImportDocument && d.__CE_hasRegistry))\r\n            if ((d = a.a.get(b.localName))) {\r\n              d.constructionStack.push(b);\r\n              var c = d.constructorFunction;\r\n              try {\r\n                try {\r\n                  if (new c() !== b)\r\n                    throw Error(\r\n                      \"The custom element constructor did not produce the element being upgraded.\"\r\n                    );\r\n                } finally {\r\n                  d.constructionStack.pop();\r\n                }\r\n              } catch (t) {\r\n                throw ((b.__CE_state = 2), t);\r\n              }\r\n              b.__CE_state = 1;\r\n              b.__CE_definition = d;\r\n              if (d.attributeChangedCallback)\r\n                for (d = d.observedAttributes, c = 0; c < d.length; c++) {\r\n                  var e = d[c],\r\n                    f = b.getAttribute(e);\r\n                  null !== f && a.attributeChangedCallback(b, e, null, f, null);\r\n                }\r\n              l(b) && a.connectedCallback(b);\r\n            }\r\n        }\r\n      }\r\n      u.prototype.connectedCallback = function(a) {\r\n        var b = a.__CE_definition;\r\n        b.connectedCallback && b.connectedCallback.call(a);\r\n      };\r\n      u.prototype.disconnectedCallback = function(a) {\r\n        var b = a.__CE_definition;\r\n        b.disconnectedCallback && b.disconnectedCallback.call(a);\r\n      };\r\n      u.prototype.attributeChangedCallback = function(a, b, d, c, e) {\r\n        var f = a.__CE_definition;\r\n        f.attributeChangedCallback &&\r\n          -1 < f.observedAttributes.indexOf(b) &&\r\n          f.attributeChangedCallback.call(a, b, d, c, e);\r\n      };\r\n      function B(a) {\r\n        var b = document;\r\n        this.c = a;\r\n        this.a = b;\r\n        this.b = void 0;\r\n        A(this.c, this.a);\r\n        \"loading\" === this.a.readyState &&\r\n          ((this.b = new MutationObserver(this.f.bind(this))),\r\n          this.b.observe(this.a, { childList: !0, subtree: !0 }));\r\n      }\r\n      function C(a) {\r\n        a.b && a.b.disconnect();\r\n      }\r\n      B.prototype.f = function(a) {\r\n        var b = this.a.readyState;\r\n        (\"interactive\" !== b && \"complete\" !== b) || C(this);\r\n        for (b = 0; b < a.length; b++)\r\n          for (var d = a[b].addedNodes, c = 0; c < d.length; c++)\r\n            A(this.c, d[c]);\r\n      };\r\n      function ea() {\r\n        var a = this;\r\n        this.b = this.a = void 0;\r\n        this.c = new Promise(function(b) {\r\n          a.b = b;\r\n          a.a && b(a.a);\r\n        });\r\n      }\r\n      function D(a) {\r\n        if (a.a) throw Error(\"Already resolved.\");\r\n        a.a = void 0;\r\n        a.b && a.b(void 0);\r\n      }\r\n      function E(a) {\r\n        this.c = !1;\r\n        this.a = a;\r\n        this.j = new Map();\r\n        this.f = function(b) {\r\n          return b();\r\n        };\r\n        this.b = !1;\r\n        this.g = [];\r\n        this.o = new B(a);\r\n      }\r\n      E.prototype.l = function(a, b) {\r\n        var d = this;\r\n        if (!(b instanceof Function))\r\n          throw new TypeError(\"Custom element constructors must be functions.\");\r\n        if (!g(a))\r\n          throw new SyntaxError(\"The element name '\" + a + \"' is not valid.\");\r\n        if (this.a.a.get(a))\r\n          throw Error(\r\n            \"A custom element with name '\" + a + \"' has already been defined.\"\r\n          );\r\n        if (this.c) throw Error(\"A custom element is already being defined.\");\r\n        this.c = !0;\r\n        try {\r\n          var c = function(b) {\r\n              var a = e[b];\r\n              if (void 0 !== a && !(a instanceof Function))\r\n                throw Error(\"The '\" + b + \"' callback must be a function.\");\r\n              return a;\r\n            },\r\n            e = b.prototype;\r\n          if (!(e instanceof Object))\r\n            throw new TypeError(\r\n              \"The custom element constructor's prototype is not an object.\"\r\n            );\r\n          var f = c(\"connectedCallback\");\r\n          var t = c(\"disconnectedCallback\");\r\n          var k = c(\"adoptedCallback\");\r\n          var h = c(\"attributeChangedCallback\");\r\n          var m = b.observedAttributes || [];\r\n        } catch (q) {\r\n          return;\r\n        } finally {\r\n          this.c = !1;\r\n        }\r\n        b = {\r\n          localName: a,\r\n          constructorFunction: b,\r\n          connectedCallback: f,\r\n          disconnectedCallback: t,\r\n          adoptedCallback: k,\r\n          attributeChangedCallback: h,\r\n          observedAttributes: m,\r\n          constructionStack: []\r\n        };\r\n        ba(this.a, a, b);\r\n        this.g.push(b);\r\n        this.b ||\r\n          ((this.b = !0),\r\n          this.f(function() {\r\n            return fa(d);\r\n          }));\r\n      };\r\n      E.prototype.i = function(a) {\r\n        A(this.a, a);\r\n      };\r\n      function fa(a) {\r\n        if (!1 !== a.b) {\r\n          a.b = !1;\r\n          for (var b = a.g, d = [], c = new Map(), e = 0; e < b.length; e++)\r\n            c.set(b[e].localName, []);\r\n          A(a.a, document, {\r\n            i: function(b) {\r\n              if (void 0 === b.__CE_state) {\r\n                var e = b.localName,\r\n                  f = c.get(e);\r\n                f ? f.push(b) : a.a.a.get(e) && d.push(b);\r\n              }\r\n            }\r\n          });\r\n          for (e = 0; e < d.length; e++) y(a.a, d[e]);\r\n          for (; 0 < b.length; ) {\r\n            var f = b.shift();\r\n            e = f.localName;\r\n            f = c.get(f.localName);\r\n            for (var t = 0; t < f.length; t++) y(a.a, f[t]);\r\n            (e = a.j.get(e)) && D(e);\r\n          }\r\n        }\r\n      }\r\n      E.prototype.get = function(a) {\r\n        if ((a = this.a.a.get(a))) return a.constructorFunction;\r\n      };\r\n      E.prototype.m = function(a) {\r\n        if (!g(a))\r\n          return Promise.reject(\r\n            new SyntaxError(\"'\" + a + \"' is not a valid custom element name.\")\r\n          );\r\n        var b = this.j.get(a);\r\n        if (b) return b.c;\r\n        b = new ea();\r\n        this.j.set(a, b);\r\n        this.a.a.get(a) &&\r\n          !this.g.some(function(b) {\r\n            return b.localName === a;\r\n          }) &&\r\n          D(b);\r\n        return b.c;\r\n      };\r\n      E.prototype.s = function(a) {\r\n        C(this.o);\r\n        var b = this.f;\r\n        this.f = function(d) {\r\n          return a(function() {\r\n            return b(d);\r\n          });\r\n        };\r\n      };\r\n      window.CustomElementRegistry = E;\r\n      E.prototype.define = E.prototype.l;\r\n      E.prototype.upgrade = E.prototype.i;\r\n      E.prototype.get = E.prototype.get;\r\n      E.prototype.whenDefined = E.prototype.m;\r\n      E.prototype.polyfillWrapFlushCallback = E.prototype.s;\r\n      var F = window.Document.prototype.createElement,\r\n        G = window.Document.prototype.createElementNS,\r\n        ha = window.Document.prototype.importNode,\r\n        ia = window.Document.prototype.prepend,\r\n        ja = window.Document.prototype.append,\r\n        ka = window.DocumentFragment.prototype.prepend,\r\n        la = window.DocumentFragment.prototype.append,\r\n        H = window.Node.prototype.cloneNode,\r\n        I = window.Node.prototype.appendChild,\r\n        J = window.Node.prototype.insertBefore,\r\n        K = window.Node.prototype.removeChild,\r\n        L = window.Node.prototype.replaceChild,\r\n        M = Object.getOwnPropertyDescriptor(\r\n          window.Node.prototype,\r\n          \"textContent\"\r\n        ),\r\n        N = window.Element.prototype.attachShadow,\r\n        O = Object.getOwnPropertyDescriptor(\r\n          window.Element.prototype,\r\n          \"innerHTML\"\r\n        ),\r\n        P = window.Element.prototype.getAttribute,\r\n        Q = window.Element.prototype.setAttribute,\r\n        R = window.Element.prototype.removeAttribute,\r\n        S = window.Element.prototype.getAttributeNS,\r\n        T = window.Element.prototype.setAttributeNS,\r\n        U = window.Element.prototype.removeAttributeNS,\r\n        ma = window.Element.prototype.insertAdjacentElement,\r\n        na = window.Element.prototype.insertAdjacentHTML,\r\n        oa = window.Element.prototype.prepend,\r\n        pa = window.Element.prototype.append,\r\n        V = window.Element.prototype.before,\r\n        qa = window.Element.prototype.after,\r\n        ra = window.Element.prototype.replaceWith,\r\n        sa = window.Element.prototype.remove,\r\n        ta = window.HTMLElement,\r\n        W = Object.getOwnPropertyDescriptor(\r\n          window.HTMLElement.prototype,\r\n          \"innerHTML\"\r\n        ),\r\n        ua = window.HTMLElement.prototype.insertAdjacentElement,\r\n        va = window.HTMLElement.prototype.insertAdjacentHTML;\r\n      var wa = new (function() {})();\r\n      function xa() {\r\n        var a = X;\r\n        window.HTMLElement = (function() {\r\n          function b() {\r\n            var b = this.constructor,\r\n              c = a.g.get(b);\r\n            if (!c)\r\n              throw Error(\r\n                \"The custom element being constructed was not registered with `customElements`.\"\r\n              );\r\n            var e = c.constructionStack;\r\n            if (0 === e.length)\r\n              return (\r\n                (e = F.call(document, c.localName)),\r\n                Object.setPrototypeOf(e, b.prototype),\r\n                (e.__CE_state = 1),\r\n                (e.__CE_definition = c),\r\n                w(a, e),\r\n                e\r\n              );\r\n            c = e.length - 1;\r\n            var f = e[c];\r\n            if (f === wa)\r\n              throw Error(\r\n                \"The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.\"\r\n              );\r\n            e[c] = wa;\r\n            Object.setPrototypeOf(f, b.prototype);\r\n            w(a, f);\r\n            return f;\r\n          }\r\n          b.prototype = ta.prototype;\r\n          Object.defineProperty(b.prototype, \"constructor\", {\r\n            writable: !0,\r\n            configurable: !0,\r\n            enumerable: !1,\r\n            value: b\r\n          });\r\n          return b;\r\n        })();\r\n      }\r\n      function Y(a, b, d) {\r\n        function c(b) {\r\n          return function(d) {\r\n            for (var e = [], c = 0; c < arguments.length; ++c)\r\n              e[c] = arguments[c];\r\n            c = [];\r\n            for (var f = [], m = 0; m < e.length; m++) {\r\n              var q = e[m];\r\n              q instanceof Element && l(q) && f.push(q);\r\n              if (q instanceof DocumentFragment)\r\n                for (q = q.firstChild; q; q = q.nextSibling) c.push(q);\r\n              else c.push(q);\r\n            }\r\n            b.apply(this, e);\r\n            for (e = 0; e < f.length; e++) z(a, f[e]);\r\n            if (l(this))\r\n              for (e = 0; e < c.length; e++)\r\n                (f = c[e]), f instanceof Element && x(a, f);\r\n          };\r\n        }\r\n        void 0 !== d.h && (b.prepend = c(d.h));\r\n        void 0 !== d.append && (b.append = c(d.append));\r\n      }\r\n      function ya() {\r\n        var a = X;\r\n        r(Document.prototype, \"createElement\", function(b) {\r\n          if (this.__CE_hasRegistry) {\r\n            var d = a.a.get(b);\r\n            if (d) return new d.constructorFunction();\r\n          }\r\n          b = F.call(this, b);\r\n          w(a, b);\r\n          return b;\r\n        });\r\n        r(Document.prototype, \"importNode\", function(b, d) {\r\n          b = ha.call(this, b, !!d);\r\n          this.__CE_hasRegistry ? A(a, b) : v(a, b);\r\n          return b;\r\n        });\r\n        r(Document.prototype, \"createElementNS\", function(b, d) {\r\n          if (\r\n            this.__CE_hasRegistry &&\r\n            (null === b || \"http://www.w3.org/1999/xhtml\" === b)\r\n          ) {\r\n            var c = a.a.get(d);\r\n            if (c) return new c.constructorFunction();\r\n          }\r\n          b = G.call(this, b, d);\r\n          w(a, b);\r\n          return b;\r\n        });\r\n        Y(a, Document.prototype, { h: ia, append: ja });\r\n      }\r\n      function za() {\r\n        function a(a, c) {\r\n          Object.defineProperty(a, \"textContent\", {\r\n            enumerable: c.enumerable,\r\n            configurable: !0,\r\n            get: c.get,\r\n            set: function(a) {\r\n              if (this.nodeType === Node.TEXT_NODE) c.set.call(this, a);\r\n              else {\r\n                var d = void 0;\r\n                if (this.firstChild) {\r\n                  var e = this.childNodes,\r\n                    k = e.length;\r\n                  if (0 < k && l(this)) {\r\n                    d = Array(k);\r\n                    for (var h = 0; h < k; h++) d[h] = e[h];\r\n                  }\r\n                }\r\n                c.set.call(this, a);\r\n                if (d) for (a = 0; a < d.length; a++) z(b, d[a]);\r\n              }\r\n            }\r\n          });\r\n        }\r\n        var b = X;\r\n        r(Node.prototype, \"insertBefore\", function(a, c) {\r\n          if (a instanceof DocumentFragment) {\r\n            var e = Array.prototype.slice.apply(a.childNodes);\r\n            a = J.call(this, a, c);\r\n            if (l(this)) for (c = 0; c < e.length; c++) x(b, e[c]);\r\n            return a;\r\n          }\r\n          e = l(a);\r\n          c = J.call(this, a, c);\r\n          e && z(b, a);\r\n          l(this) && x(b, a);\r\n          return c;\r\n        });\r\n        r(Node.prototype, \"appendChild\", function(a) {\r\n          if (a instanceof DocumentFragment) {\r\n            var c = Array.prototype.slice.apply(a.childNodes);\r\n            a = I.call(this, a);\r\n            if (l(this)) for (var e = 0; e < c.length; e++) x(b, c[e]);\r\n            return a;\r\n          }\r\n          c = l(a);\r\n          e = I.call(this, a);\r\n          c && z(b, a);\r\n          l(this) && x(b, a);\r\n          return e;\r\n        });\r\n        r(Node.prototype, \"cloneNode\", function(a) {\r\n          a = H.call(this, !!a);\r\n          this.ownerDocument.__CE_hasRegistry ? A(b, a) : v(b, a);\r\n          return a;\r\n        });\r\n        r(Node.prototype, \"removeChild\", function(a) {\r\n          var c = l(a),\r\n            e = K.call(this, a);\r\n          c && z(b, a);\r\n          return e;\r\n        });\r\n        r(Node.prototype, \"replaceChild\", function(a, c) {\r\n          if (a instanceof DocumentFragment) {\r\n            var e = Array.prototype.slice.apply(a.childNodes);\r\n            a = L.call(this, a, c);\r\n            if (l(this)) for (z(b, c), c = 0; c < e.length; c++) x(b, e[c]);\r\n            return a;\r\n          }\r\n          e = l(a);\r\n          var f = L.call(this, a, c),\r\n            d = l(this);\r\n          d && z(b, c);\r\n          e && z(b, a);\r\n          d && x(b, a);\r\n          return f;\r\n        });\r\n        M && M.get\r\n          ? a(Node.prototype, M)\r\n          : ca(b, function(b) {\r\n              a(b, {\r\n                enumerable: !0,\r\n                configurable: !0,\r\n                get: function() {\r\n                  for (var a = [], b = 0; b < this.childNodes.length; b++) {\r\n                    var f = this.childNodes[b];\r\n                    f.nodeType !== Node.COMMENT_NODE && a.push(f.textContent);\r\n                  }\r\n                  return a.join(\"\");\r\n                },\r\n                set: function(a) {\r\n                  for (; this.firstChild; ) K.call(this, this.firstChild);\r\n                  null != a &&\r\n                    \"\" !== a &&\r\n                    I.call(this, document.createTextNode(a));\r\n                }\r\n              });\r\n            });\r\n      }\r\n      function Aa(a) {\r\n        function b(b) {\r\n          return function(e) {\r\n            for (var c = [], d = 0; d < arguments.length; ++d)\r\n              c[d] = arguments[d];\r\n            d = [];\r\n            for (var k = [], h = 0; h < c.length; h++) {\r\n              var m = c[h];\r\n              m instanceof Element && l(m) && k.push(m);\r\n              if (m instanceof DocumentFragment)\r\n                for (m = m.firstChild; m; m = m.nextSibling) d.push(m);\r\n              else d.push(m);\r\n            }\r\n            b.apply(this, c);\r\n            for (c = 0; c < k.length; c++) z(a, k[c]);\r\n            if (l(this))\r\n              for (c = 0; c < d.length; c++)\r\n                (k = d[c]), k instanceof Element && x(a, k);\r\n          };\r\n        }\r\n        var d = Element.prototype;\r\n        void 0 !== V && (d.before = b(V));\r\n        void 0 !== V && (d.after = b(qa));\r\n        void 0 !== ra &&\r\n          r(d, \"replaceWith\", function(b) {\r\n            for (var e = [], c = 0; c < arguments.length; ++c)\r\n              e[c] = arguments[c];\r\n            c = [];\r\n            for (var d = [], k = 0; k < e.length; k++) {\r\n              var h = e[k];\r\n              h instanceof Element && l(h) && d.push(h);\r\n              if (h instanceof DocumentFragment)\r\n                for (h = h.firstChild; h; h = h.nextSibling) c.push(h);\r\n              else c.push(h);\r\n            }\r\n            k = l(this);\r\n            ra.apply(this, e);\r\n            for (e = 0; e < d.length; e++) z(a, d[e]);\r\n            if (k)\r\n              for (z(a, this), e = 0; e < c.length; e++)\r\n                (d = c[e]), d instanceof Element && x(a, d);\r\n          });\r\n        void 0 !== sa &&\r\n          r(d, \"remove\", function() {\r\n            var b = l(this);\r\n            sa.call(this);\r\n            b && z(a, this);\r\n          });\r\n      }\r\n      function Ba() {\r\n        function a(a, b) {\r\n          Object.defineProperty(a, \"innerHTML\", {\r\n            enumerable: b.enumerable,\r\n            configurable: !0,\r\n            get: b.get,\r\n            set: function(a) {\r\n              var e = this,\r\n                d = void 0;\r\n              l(this) &&\r\n                ((d = []),\r\n                p(this, function(a) {\r\n                  a !== e && d.push(a);\r\n                }));\r\n              b.set.call(this, a);\r\n              if (d)\r\n                for (var f = 0; f < d.length; f++) {\r\n                  var t = d[f];\r\n                  1 === t.__CE_state && c.disconnectedCallback(t);\r\n                }\r\n              this.ownerDocument.__CE_hasRegistry ? A(c, this) : v(c, this);\r\n              return a;\r\n            }\r\n          });\r\n        }\r\n        function b(a, b) {\r\n          r(a, \"insertAdjacentElement\", function(a, e) {\r\n            var d = l(e);\r\n            a = b.call(this, a, e);\r\n            d && z(c, e);\r\n            l(a) && x(c, e);\r\n            return a;\r\n          });\r\n        }\r\n        function d(a, b) {\r\n          function e(a, b) {\r\n            for (var e = []; a !== b; a = a.nextSibling) e.push(a);\r\n            for (b = 0; b < e.length; b++) A(c, e[b]);\r\n          }\r\n          r(a, \"insertAdjacentHTML\", function(a, c) {\r\n            a = a.toLowerCase();\r\n            if (\"beforebegin\" === a) {\r\n              var d = this.previousSibling;\r\n              b.call(this, a, c);\r\n              e(d || this.parentNode.firstChild, this);\r\n            } else if (\"afterbegin\" === a)\r\n              (d = this.firstChild), b.call(this, a, c), e(this.firstChild, d);\r\n            else if (\"beforeend\" === a)\r\n              (d = this.lastChild),\r\n                b.call(this, a, c),\r\n                e(d || this.firstChild, null);\r\n            else if (\"afterend\" === a)\r\n              (d = this.nextSibling),\r\n                b.call(this, a, c),\r\n                e(this.nextSibling, d);\r\n            else\r\n              throw new SyntaxError(\r\n                \"The value provided (\" +\r\n                  String(a) +\r\n                  \") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.\"\r\n              );\r\n          });\r\n        }\r\n        var c = X;\r\n        N &&\r\n          r(Element.prototype, \"attachShadow\", function(a) {\r\n            a = N.call(this, a);\r\n            var b = c;\r\n            if (b.b && !a.__CE_patched) {\r\n              a.__CE_patched = !0;\r\n              for (var e = 0; e < b.c.length; e++) b.c[e](a);\r\n            }\r\n            return (this.__CE_shadowRoot = a);\r\n          });\r\n        O && O.get\r\n          ? a(Element.prototype, O)\r\n          : W && W.get\r\n          ? a(HTMLElement.prototype, W)\r\n          : da(c, function(b) {\r\n              a(b, {\r\n                enumerable: !0,\r\n                configurable: !0,\r\n                get: function() {\r\n                  return H.call(this, !0).innerHTML;\r\n                },\r\n                set: function(a) {\r\n                  var b = \"template\" === this.localName,\r\n                    c = b ? this.content : this,\r\n                    e = G.call(document, this.namespaceURI, this.localName);\r\n                  for (e.innerHTML = a; 0 < c.childNodes.length; )\r\n                    K.call(c, c.childNodes[0]);\r\n                  for (a = b ? e.content : e; 0 < a.childNodes.length; )\r\n                    I.call(c, a.childNodes[0]);\r\n                }\r\n              });\r\n            });\r\n        r(Element.prototype, \"setAttribute\", function(a, b) {\r\n          if (1 !== this.__CE_state) return Q.call(this, a, b);\r\n          var e = P.call(this, a);\r\n          Q.call(this, a, b);\r\n          b = P.call(this, a);\r\n          c.attributeChangedCallback(this, a, e, b, null);\r\n        });\r\n        r(Element.prototype, \"setAttributeNS\", function(a, b, d) {\r\n          if (1 !== this.__CE_state) return T.call(this, a, b, d);\r\n          var e = S.call(this, a, b);\r\n          T.call(this, a, b, d);\r\n          d = S.call(this, a, b);\r\n          c.attributeChangedCallback(this, b, e, d, a);\r\n        });\r\n        r(Element.prototype, \"removeAttribute\", function(a) {\r\n          if (1 !== this.__CE_state) return R.call(this, a);\r\n          var b = P.call(this, a);\r\n          R.call(this, a);\r\n          null !== b && c.attributeChangedCallback(this, a, b, null, null);\r\n        });\r\n        r(Element.prototype, \"removeAttributeNS\", function(a, b) {\r\n          if (1 !== this.__CE_state) return U.call(this, a, b);\r\n          var d = S.call(this, a, b);\r\n          U.call(this, a, b);\r\n          var e = S.call(this, a, b);\r\n          d !== e && c.attributeChangedCallback(this, b, d, e, a);\r\n        });\r\n        ua\r\n          ? b(HTMLElement.prototype, ua)\r\n          : ma\r\n          ? b(Element.prototype, ma)\r\n          : console.warn(\r\n              \"Custom Elements: `Element#insertAdjacentElement` was not patched.\"\r\n            );\r\n        va\r\n          ? d(HTMLElement.prototype, va)\r\n          : na\r\n          ? d(Element.prototype, na)\r\n          : console.warn(\r\n              \"Custom Elements: `Element#insertAdjacentHTML` was not patched.\"\r\n            );\r\n        Y(c, Element.prototype, { h: oa, append: pa });\r\n        Aa(c);\r\n      }\r\n      var Z = window.customElements;\r\n      if (\r\n        !Z ||\r\n        Z.forcePolyfill ||\r\n        \"function\" != typeof Z.define ||\r\n        \"function\" != typeof Z.get\r\n      ) {\r\n        var X = new u();\r\n        xa();\r\n        ya();\r\n        Y(X, DocumentFragment.prototype, { h: ka, append: la });\r\n        za();\r\n        Ba();\r\n        document.__CE_hasRegistry = !0;\r\n        var customElements = new E(X);\r\n        Object.defineProperty(window, \"customElements\", {\r\n          configurable: !0,\r\n          enumerable: !0,\r\n          value: customElements\r\n        });\r\n      }\r\n    }.call(self));\r\n\r\n    //# sourceMappingURL=custom-elements.min.js.map\r\n\r\n    window.CustomElementRegistry = Reflect.get(\r\n      Reflect.getPrototypeOf(window.customElements),\r\n      \"constructor\"\r\n    );\r\n  }\r\n})();\r\n","(() => {\r\n  function flattenDeep(arr1) {\r\n    return arr1.reduce(\r\n      (acc, val) => acc.concat(Array.isArray(val) ? flattenDeep(val) : val),\r\n\r\n      []\r\n    );\r\n  }\r\n\r\n  function arrayflat(depth = 1) {\r\n    if (depth <= 1) {\r\n      return this.reduce((acc, val) => acc.concat(val), []);\r\n    } else if (depth > 10) {\r\n      return flattenDeep(this);\r\n    } else {\r\n      let result = [...this];\r\n      while (depth >= 1) {\r\n        result = arrayflat.call(result);\r\n        depth--;\r\n      }\r\n      return result;\r\n    }\r\n  }\r\n\r\n  if (typeof Array.prototype.flat !== \"function\") {\r\n    Array.prototype.flat = arrayflat;\r\n  }\r\n})();\r\n","import { isfunction, isobject } from \"./UtilTools/util\";\r\nconst { HTMLElement, customElements, Proxy } = window;\r\nif (\r\n  !isfunction(HTMLElement) ||\r\n  //   typeof HTMLElement !== \"function\" ||\r\n  !isfunction(Proxy) ||\r\n  //   typeof Proxy !== \"function\" ||\r\n  !isobject(customElements)\r\n  /*||\r\n  //   typeof customElements !== \"object\" ||\r\n  !isfunction(window.CustomElementRegistry)\r\n  //||\r\n  //   typeof CustomElementRegistry !== \"function\"\r\n\r\n*/\r\n) {\r\n  console.error(\"Proxy,HTMLElement ,customElements ,browser not supported !\");\r\n  throw new TypeError();\r\n}\r\n","const acceptValue = [\"input\", \"textarea\", \"option\", \"select\"];\r\n\r\nexport default (tag: string, attr: string, attrtype: string) => {\r\n  return (\r\n    (attr === \"value\" && acceptValue.includes(tag) && attrtype !== \"button\") ||\r\n    (attr === \"selected\" && tag === \"option\") ||\r\n    (attr === \"checked\" && tag === \"input\") ||\r\n    (attr === \"muted\" && tag === \"video\")\r\n  );\r\n};\r\n","import mustUseDomProp from \"./mustUseDomProp\";\r\n/* const camelizeRE = /-(\\w)/g;\r\nconst camelize = (str: string): string => {\r\n  return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : \"\"));\r\n};\r\n */\r\nconst hyphenateRE = /\\B([A-Z])/g;\r\nconst hyphenate = (str: string): string => {\r\n  return str.replace(hyphenateRE, \"-$1\").toLowerCase();\r\n};\r\nconst String = window.String;\r\nconst Reflect = window.Reflect;\r\nconst { get, set, ownKeys } = Reflect;\r\nconst valuestring = \"value\";\r\nfunction isobject(a: any): a is Record<any, any> {\r\n  return typeof a === \"object\" && a !== null;\r\n}\r\nfunction isstring(a: any): a is string {\r\n  return typeof a === \"string\";\r\n}\r\nfunction isArray(a: any): a is Array<any> {\r\n  return Array.isArray(a);\r\n}\r\n\r\nfunction isSet(a: any): a is Set<any> {\r\n  return a instanceof Set;\r\n}\r\n\r\nconst isinputcheckbox = (\r\n  ele: HTMLElement | Element | SVGElement | HTMLInputElement\r\n) =>\r\n  \"input\" === geteletagname(ele) &&\r\n  (get(ele, \"type\") === \"checkbox\" || get(ele, \"type\") === \"radio\");\r\n\r\n//stylejson\r\nfunction objtostylestring(obj: object): string {\r\n  //style\r\n\r\n  obj = JSON.parse(JSON.stringify(obj));\r\n\r\n  const objentries = Object.entries(obj).map(([key, value]) => [\r\n    hyphenate(key).trim(),\r\n    value\r\n  ]);\r\n\r\n  return objentries.map(([key, value]) => key + \":\" + value).join(\";\");\r\n}\r\nfunction asserthtmlelement(ele: any) {\r\n  if (!(ele instanceof Element)) {\r\n    console.error(ele);\r\n    console.error(\"invalid HTMLElement!\");\r\n    throw TypeError();\r\n  }\r\n}\r\nexport default function createeleattragentreadwrite(\r\n  ele: Element\r\n): Record<string, any> {\r\n  asserthtmlelement(ele);\r\n\r\n  var temp: Record<string, any> = Object.create(null);\r\n\r\n  const outputattrs: Record<string, any> = new Proxy(temp, {\r\n    ownKeys(/* target */) {\r\n      const isinputtextortextareaflag = isinputtextortextarea(ele);\r\n\r\n      const keys = attributesownkeys(ele);\r\n\r\n      return Array.from(\r\n        new Set(\r\n          [\r\n            ...keys,\r\n            isinputcheckbox(ele) ? \"checked\" : undefined,\r\n            isinputtextortextareaflag ? valuestring : undefined\r\n            //Array.from(new Set([...keys, valuestring]))\r\n            //  : keys\r\n          ]\r\n            .flat(Infinity)\r\n            .filter(a => !!a)\r\n        )\r\n      );\r\n    },\r\n    get(target, key) {\r\n      //   const isinputtextortextareaflag = isinputtextortextarea(ele);\r\n\r\n      //   if (isinputcheckbox(ele) && key === \"checked\") {\r\n      //     return get(ele, \"checked\");\r\n      //   }\r\n      //   if (isinputtextortextareaflag && key === valuestring) {\r\n      //     return get(ele, valuestring);\r\n\r\n      //   }\r\n      if (mustUseDomProp(geteletagname(ele), String(key), get(ele, \"type\"))) {\r\n        return get(ele, String(key));\r\n      } else {\r\n        const v = getattribute(ele, String(key));\r\n        // ele.getAttribute(String(key));\r\n        //   console.log(v);\r\n        if (v === \"\") {\r\n          return true;\r\n        }\r\n        /* truebug */\r\n        if (v === null) {\r\n          return;\r\n        }\r\n\r\n        //true\r\n\r\n        if (isstring(v)) {\r\n          try {\r\n            return JSON.parse(String(v)); // v\r\n          } catch (error) {\r\n            return v;\r\n          }\r\n        } else return;\r\n      }\r\n    },\r\n    set(t, key, v) {\r\n      //   const isinputtextortextareaflag = isinputtextortextarea(ele);\r\n\r\n      //\r\n      if (\"function\" === typeof v) {\r\n        console.error(v);\r\n\r\n        console.error(\"Setting properties as functions is not allowed\");\r\n        throw TypeError();\r\n\r\n        // throw TypeError(\"\");\r\n      }\r\n      /* inputcheckbox checked,,checked*/\r\n      /*  if (geteletagname(ele) === \"input\" && key === \"checked\") {\r\n        set(ele, key, v);\r\n        return true;\r\n      }\r\n\r\n      if (isinputtextortextareaflag && key === valuestring) {\r\n        //value,\r\n        return set(ele, valuestring, String(v));\r\n      }  */\r\n\r\n      if (mustUseDomProp(geteletagname(ele), String(key), get(ele, \"type\"))) {\r\n        return set(ele, String(key), v);\r\n      } else if (key === \"style\") {\r\n        const csstext = isstring(v)\r\n          ? v\r\n          : isobject(v)\r\n          ? objtostylestring(v)\r\n          : String(v);\r\n        //csstext\r\n        set(get(ele, \"style\"), \"cssText\", csstext.trim());\r\n        // ele.style.cssText = csstext.trim();\r\n\r\n        //    setattribute(\r\n        //      ele,\r\n        //       String(key),\r\n        //      isstring(v) ? v : isobject(v) ? objtostylestring(v) : String(v)\r\n        //     );\r\n        /*   ele.setAttribute(\r\n          String(key),\r\n          isstring(v) ? v : isobject(v) ? objtostylestring(v) : String(v)\r\n        ); */\r\n        return true;\r\n      } else if (key === \"class\" && isobject(v)) {\r\n        const classtext = isArray(v)\r\n          ? v.join(\" \")\r\n          : isSet(v)\r\n          ? [...v].join(\" \")\r\n          : String(v);\r\n\r\n        setattribute(ele, String(key), classtext);\r\n        return true;\r\n        /*  if (isArray(v)) {\r\n          setattribute(ele, String(key), v.join(\" \"));\r\n        } else if (isSet(v)) {\r\n          setattribute(ele, String(key), [...v].join(\" \"));\r\n        } else {\r\n          setattribute(ele, String(key), String(v));\r\n        }*/\r\n        //\r\n      } else {\r\n        /* falseattribute */\r\n\r\n        if (false === v || v === null || v === undefined) {\r\n          removeAttribute(ele, String(key));\r\n          return true;\r\n        }\r\n        //true,\r\n        if (isSet(v)) {\r\n          setattribute(ele, String(key), JSON.stringify([...v]));\r\n          return true;\r\n        } else {\r\n          if (v === true) {\r\n            v = \"\";\r\n          }\r\n\r\n          setattribute(\r\n            ele,\r\n            String(key),\r\n            isobject(v) ? JSON.stringify(v) : String(v)\r\n          );\r\n          /*  ele.setAttribute(\r\n          String(key),\r\n          isobject(v) ? JSON.stringify(v) : String(v)\r\n        ); */\r\n          return true;\r\n        }\r\n      }\r\n      //   return true;\r\n    },\r\n    deleteProperty(t, k) {\r\n      removeAttribute(ele, String(k));\r\n      // ele.removeAttribute(String(k));\r\n      return true;\r\n    },\r\n    has(target, key) {\r\n      return ownKeys(outputattrs).includes(key);\r\n      /*\r\nconst isinputtextortextareaflag = isinputtextortextarea(ele);\r\n  \r\n      if (isinputtextortextareaflag && key === valuestring) {\r\n        return true;\r\n      } else {\r\n        return hasAttribute(ele, String(key));\r\n\r\n        // ele.hasAttribute(String(key));\r\n      }\r\n\r\n*/\r\n    },\r\n    defineProperty() {\r\n      return false;\r\n    },\r\n    getOwnPropertyDescriptor(target, key) {\r\n      const otherdescipter = {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true\r\n      };\r\n      const myvalue: any = get(outputattrs, key);\r\n      if (typeof myvalue !== \"undefined\") {\r\n        return {\r\n          value: myvalue,\r\n          ...otherdescipter\r\n        };\r\n      } else {\r\n        return;\r\n      }\r\n\r\n      /*  if (isinputtextortextareaflag && key === valuestring) {\r\n        return {\r\n          value: get(ele, valuestring),\r\n          ...otherdescipter\r\n          //   enumerable: true,\r\n          //   configurable: true,\r\n          //   writable: true\r\n        };\r\n      } else {\r\n        const attr = getattribute(ele, String(key));\r\n        // ele.getAttribute(String(key));\r\n\r\n        //true\r\n        let outvalue;\r\n        if (attr === \"\") {\r\n          outvalue = true;\r\n        }\r\n        if (outvalue) {\r\n          return {\r\n            value: outvalue,\r\n            ...otherdescipter\r\n            // enumerable: true,\r\n            // configurable: true,\r\n            // writable: true\r\n          };\r\n        } else {\r\n          return;\r\n        }\r\n      } */\r\n    },\r\n    setPrototypeOf() {\r\n      return false;\r\n    }\r\n    /*  setPrototypeOf() {\r\n      return false;\r\n    },\r\n    getPrototypeOf() {\r\n      return null;\r\n    }*/\r\n  });\r\n  return outputattrs;\r\n}\r\nfunction attributesownkeys(\r\n  ele: HTMLElement | Element | SVGElement | HTMLInputElement\r\n): string[] {\r\n  //   return ownKeys(ele.attributes).filter(k => !/\\d/.test(String(k)[0]));\r\n  return ele.getAttributeNames();\r\n}\r\nfunction getattribute(\r\n  ele: HTMLElement | Element | SVGElement | HTMLInputElement,\r\n  key: string\r\n) {\r\n  return ele.getAttribute(key);\r\n}\r\nfunction geteletagname(ele: Element /* { tagName: string } */) {\r\n  return ele.tagName.toLowerCase();\r\n}\r\nfunction setattribute(\r\n  ele: HTMLElement | Element | SVGElement | HTMLInputElement,\r\n  key: string,\r\n  value: string\r\n) {\r\n  return ele.setAttribute(key, value);\r\n}\r\nfunction removeAttribute(\r\n  ele: HTMLElement | Element | SVGElement | HTMLInputElement,\r\n  key: string\r\n) {\r\n  return ele.removeAttribute(key);\r\n}\r\n\r\n/* function hasAttribute(\r\n  ele: HTMLElement | Element | SVGElement | HTMLInputElement,\r\n  key: string\r\n) {\r\n  return ele.hasAttribute(key);\r\n}\r\n */\r\nfunction isinputtextortextarea(\r\n  ele: HTMLElement | Element | SVGElement | HTMLInputElement\r\n) {\r\n  const tagname = geteletagname(ele);\r\n  return (\r\n    tagname === \"textarea\" ||\r\n    tagname === \"select\" ||\r\n    (tagname === \"input\" && get(ele, \"type\") === \"text\")\r\n\r\n    /* select */\r\n  );\r\n}\r\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","import { Htmlelementconstructor } from \"./AttributeClass/createComponent\";\r\nimport { CallbackReactiveState } from \"./Reactivity/watch\";\r\n\r\nexport const cached_callback_eventlistner = new WeakMap<\r\n  Function,\r\n  EventListener\r\n>();\r\nexport const cached_create_componet = new WeakMap<\r\n  Function,\r\n  Htmlelementconstructor\r\n>();\r\nexport const cached_callback_debounced_watchs = new WeakMap<\r\n  CallbackReactiveState,\r\n  Function\r\n>();\r\n","import { isMap, isWeakMap } from \"./util\";\r\n\r\n// const { Reflect } = window;\r\n// export default Reflect;\r\nexport const {\r\n  apply,\r\n  construct,\r\n  defineProperty,\r\n  deleteProperty,\r\n  //   get,\r\n  getOwnPropertyDescriptor,\r\n  getPrototypeOf,\r\n  has,\r\n\r\n  //   isExtensible,\r\n  ownKeys,\r\n  preventExtensions\r\n  //   set\r\n  //   setPrototypeOf\r\n} = Reflect;\r\n/* getsetreflect.getreflect.setmap.setmap.get */\r\nexport function get(\r\n  target: Map<any, any> | WeakMap<any, any>,\r\n  propertyKey: PropertyKey\r\n): any;\r\nexport function get(\r\n  target: Exclude<object, Map<any, any> | WeakMap<any, any>>,\r\n  propertyKey: PropertyKey\r\n): //   receiver?: any\r\nany;\r\nexport function get(\r\n  target: object,\r\n  propertyKey: PropertyKey\r\n  //   receiver?: any\r\n): any {\r\n  if (isMap(target) || isWeakMap(target)) {\r\n    // debugger;\r\n    return target.get(propertyKey);\r\n  } else {\r\n    // debugger;\r\n    return Reflect.get(target, propertyKey /* , receiver */);\r\n  }\r\n}\r\nexport function set(\r\n  target: Map<any, any> | WeakMap<any, any>,\r\n  propertyKey: PropertyKey,\r\n  value: any\r\n): boolean;\r\nexport function set(\r\n  target: Exclude<object, Map<any, any> | WeakMap<any, any>>,\r\n  propertyKey: PropertyKey,\r\n  value: any\r\n): //   receiver?: any\r\nboolean;\r\nexport function set(\r\n  target: object,\r\n  propertyKey: PropertyKey,\r\n  value: any\r\n  //   receiver?: any\r\n): boolean {\r\n  if (isMap(target) || isWeakMap(target)) {\r\n    target.set(propertyKey, value);\r\n    // debugger;\r\n    return true;\r\n  } else {\r\n    // debugger;\r\n    return Reflect.set(target, propertyKey, value /* , receiver */);\r\n  }\r\n}\r\n\r\n// export {};\r\n/*\r\napply()\r\n Function.prototype.apply() \r\nconstruct()\r\n new  new target(...args)\r\ndefineProperty()\r\n Object.defineProperty() \r\ndeleteProperty()\r\ndelete delete target[name]\r\n//Reflect.enumerate()\r\nfor...in \r\nget()\r\n target[name]\r\ngetOwnPropertyDescriptor()\r\n Object.getOwnPropertyDescriptor()\r\ngetPrototypeOf()\r\n Object.getPrototypeOf()\r\nhas()\r\n in  \r\nisExtensible()\r\n Object.isExtensible().\r\nownKeys()\r\n( Object.keys(), enumerable).\r\npreventExtensions()\r\n Object.preventExtensions()Boolean\r\nset()\r\nBooleantrue\r\nsetPrototypeOf()\r\n Object.setPrototypeOf()\r\n*/\r\n","let watchrecord: [ReactiveState<any>, Function][] = [];\r\n/* watchstatecallback,\r\nremoveeventlistener,\r\naddeventlistener\r\n*/\r\nimport ReactiveState from \"../Reactivity/ReactiveState\";\r\nimport { isFunction } from \"../UtilTools/util\";\r\nexport function getwatchrecords() {\r\n  return [...watchrecord];\r\n}\r\nexport function usewatch(state: ReactiveState<any>, callback: Function) {\r\n  if (ctxopen) {\r\n    watchrecord.push([state, callback]);\r\n  }\r\n}\r\nfunction clearwatch() {\r\n  watchrecord = [];\r\n}\r\nexport const invalid_Function = \"invalid Function\";\r\nconst errormessage =\r\n  \"invalid useMounted or useUnMounted out of createComponent\";\r\nlet ctxopen = false;\r\nlet MountedSet: Set<Function> = new Set();\r\nlet UnMountedSet: Set<Function> = new Set();\r\nlet StateSet: Set<ReactiveState<any>> = new Set();\r\n/*  ReactiveState*/\r\n\r\nexport function getstates() {\r\n  return [...StateSet];\r\n}\r\nexport function recordusestste(state: ReactiveState<any>) {\r\n  if (ctxopen) {\r\n    StateSet.add(state);\r\n  }\r\n}\r\nexport function getMounted() {\r\n  return [...MountedSet];\r\n}\r\nexport function getUnMounted() {\r\n  return [...UnMountedSet];\r\n}\r\nexport function useMounted(fun: Function) {\r\n  if (isFunction(fun)) {\r\n    if (ctxopen) {\r\n      MountedSet.add(fun);\r\n    } else {\r\n      //console.error()\r\n      console.error(errormessage);\r\n      throw Error();\r\n    }\r\n  } else {\r\n    console.error(fun);\r\n    console.error(invalid_Function);\r\n    throw TypeError();\r\n  }\r\n}\r\n\r\nexport function useUnMounted(fun: Function) {\r\n  if (isFunction(fun)) {\r\n    if (ctxopen) {\r\n      UnMountedSet.add(fun);\r\n    } else {\r\n      console.error(errormessage);\r\n      throw Error();\r\n      //throw Error(errormessage);\r\n    }\r\n  } else {\r\n    console.error(fun);\r\n    console.error(invalid_Function);\r\n    throw TypeError();\r\n    //throw TypeError(invalid_Function);\r\n  }\r\n}\r\nexport function clearMounted() {\r\n  MountedSet = new Set();\r\n}\r\n\r\nfunction clearstate() {\r\n  StateSet = new Set();\r\n}\r\nexport function clearUnMounted() {\r\n  UnMountedSet = new Set();\r\n}\r\nexport function openctx() {\r\n  ctxopen = true;\r\n  clearall();\r\n}\r\nexport function closectx() {\r\n  ctxopen = false;\r\n  clearall();\r\n}\r\nfunction clearall() {\r\n  clearMounted();\r\n  clearUnMounted();\r\n  clearstate();\r\n  clearwatch();\r\n}\r\n","const EventTarget = window.EventTarget;\r\nimport debounce from \"lodash/debounce\";\r\nimport { cached_callback_eventlistner } from \"../cached-map\";\r\n// import Reflect from \"./reflect\";\r\nimport isprimitive, { Primitivetype } from \"../UtilTools/isprimitive\";\r\nimport { defineProperty } from \"../UtilTools/reflect\";\r\nimport { isobject, isSet } from \"../UtilTools/util\";\r\nimport { UnwrapedState } from \"./watch\";\r\nimport { recordusestste } from \"src/mounted-unmounted/Component-context\";\r\nexport const addonelistner = Symbol(\"addonelistner\");\r\nexport const removeonelistner = Symbol(\"removeonelistner\");\r\n// import { Primitive } from 'lodash';\r\n// export const callbackmap = Symbol(\"callbackmap\");\r\nexport const cancelsubscribe = Symbol(\"cancelsubscribe\");\r\nconst debouncedispatch = Symbol(\"debouncedispatch\");\r\nexport const invalid_primitive_or_object_state =\r\n  \"invalid primitive or object state\";\r\nexport function isReactiveState(a: any): a is ReactiveState<any> {\r\n  return (\r\n    a instanceof ReactiveState && a[Symbol.toStringTag] === \"ReactiveState\"\r\n  );\r\n}\r\n// export const textnodesymbol = Symbol(\"textnode\");\r\nexport const changetextnodesymbol = Symbol(\"changetextnode\");\r\nexport const eventtargetsymbol = Symbol(\"eventtatget\");\r\nexport const memlisteners = Symbol(\"memlisteners\");\r\nexport const dispatchsymbol = Symbol(\"dispatch\");\r\nexport const subscribesymbol = Symbol(\"subscribe\");\r\nexport const removeallistenerssymbol = Symbol(\"removeallisteners\");\r\nexport const addallistenerssymbol = Symbol(\"addallisteners\");\r\n/* const forkarryaprototype = {};\r\nownKeys(Array.prototype).forEach(key => {\r\n  forkarryaprototype[key] = Array.prototype[key];\r\n}); */\r\n/* class forkarray {}\r\nObject.assign(forkarray.prototype, forkarryaprototype);\r\nforkarray.prototype.constructor = forkarray;\r\ndeleteProperty(forkarray.prototype, \"length\"); */\r\n/* extends forkarray  */\r\n\r\nexport default class ReactiveState<T extends UnwrapedState> {\r\n  value: T extends Array<any>\r\n    ? Array<any>\r\n    : T extends Function\r\n    ? Function\r\n    : T extends Primitivetype\r\n    ? Primitivetype\r\n    : object;\r\n  //extends Primitivetype ? Primitivetype : Exclude<object, Function>;\r\n  //   [callbackmap] = new Map<Function, EventListener>();\r\n\r\n  readonly [Symbol.toStringTag] = \"ReactiveState\";\r\n\r\n  constructor(init?: T) {\r\n    //super();\r\n    // this.value = undefined;\r\n\r\n    // if (isprimitive(init) || isobject(init)) {\r\n    this.value = init as any; //as T; /* extends Primitivetype\r\n    //  ? Primitivetype\r\n    //  : Exclude<object, Function>; */\r\n    defineProperty(this, \"value\", {\r\n      value: init,\r\n      configurable: true,\r\n      writable: true\r\n    });\r\n\r\n    // this.value = init;\r\n    // } else {\r\n    //   console.error(init);\r\n    //   console.error(invalid_primitive_or_object_state);\r\n    //   throw TypeError();\r\n    // }\r\n    // this[eventtargetsymbol] = new EventTarget();\r\n\r\n    /*\r\n  //  Object.defineProperty(this, Symbol.toStringTag, {\r\n //     value: \"ReactiveState\",\r\n   //   configurable: true\r\n    //});\r\n\r\n*/\r\n    recordusestste(this);\r\n    const debouncedfun = debounce((eventname?: string) => {\r\n      const name = eventname ? String(eventname) : \"value\";\r\n\r\n      this[eventtargetsymbol].dispatchEvent(\r\n        new CustomEvent(\"value\", { detail: name })\r\n      );\r\n    });\r\n    this[debouncedispatch] = (eventname?: string) => {\r\n      debouncedfun(eventname);\r\n    };\r\n  }\r\n  [debouncedispatch]: (eventname?: string | undefined) => void;\r\n  /* get [Symbol.toStringTag]() {\r\n  //  return \"ReativeState\";\r\n\r\n} */\r\n  [removeallistenerssymbol]() {\r\n    this[memlisteners].forEach(callback => {\r\n      this[removeonelistner](callback);\r\n    });\r\n  }\r\n  [removeonelistner](callback: EventListener) {\r\n    const name = \"value\";\r\n    this[eventtargetsymbol].removeEventListener(name, callback);\r\n  }\r\n  [addonelistner](callback: EventListener) {\r\n    const name = \"value\";\r\n    this[eventtargetsymbol].addEventListener(name, callback);\r\n  }\r\n  [addallistenerssymbol]() {\r\n    // const name = \"value\";\r\n    this[memlisteners].forEach(callback => {\r\n      this[addonelistner](callback);\r\n      //   this[eventtargetsymbol].addEventListener(name, callback);\r\n    });\r\n  }\r\n  /*  [changetextnodesymbol](textnode: Text) {\r\n    this[textnodesymbol] = textnode;\r\n  } */\r\n  // [textnodesymbol]: Text | undefined;\r\n  /*  [changetextnodesymbol](textnode: Text) {\r\n      this[textnodesymbol] = textnode;\r\n    } */\r\n  // [textnodesymbol]: Text | undefined;\r\n\r\n  [eventtargetsymbol] = new EventTarget();\r\n  [memlisteners] = new Set<EventListener>();\r\n\r\n  //this\r\n  valueOf = () => {\r\n    return this.value;\r\n  };\r\n  toString() {\r\n    const value = this.valueOf();\r\n    return isprimitive(value)\r\n      ? String(value)\r\n      : isSet(value)\r\n      ? JSON.stringify([...(value as Set<any>)])\r\n      : isobject(value)\r\n      ? JSON.stringify(value)\r\n      : \"\";\r\n  }\r\n\r\n  [dispatchsymbol](eventname?: string) {\r\n    //\r\n\r\n    this[debouncedispatch](eventname);\r\n  }\r\n  [subscribesymbol](\r\n    callback: Function\r\n    /*, eventname?: string*/\r\n  ) {\r\n    let eventlistener: EventListener;\r\n    const possiblecallback = cached_callback_eventlistner.get(callback);\r\n    if (possiblecallback) {\r\n      eventlistener = possiblecallback;\r\n    } else {\r\n      //\r\n      eventlistener = () => callback(/* this.valueOf() */);\r\n\r\n      cached_callback_eventlistner.set(callback, eventlistener);\r\n    }\r\n    // this[eventtargetsymbol].addEventListener(\"value\", callback);\r\n    // const name = eventname ? String(eventname) : \"value\";\r\n    //  const name = \"value\";\r\n    this[memlisteners].add(eventlistener);\r\n  }\r\n  [cancelsubscribe](callback: Function) {\r\n    const eventlistener = cached_callback_eventlistner.get(callback);\r\n    /*  if (!eventlistener) {\r\n      throw new Error();\r\n    } */\r\n    if (eventlistener) {\r\n      this[memlisteners].delete(eventlistener);\r\n      this[removeonelistner](eventlistener);\r\n    }\r\n  }\r\n\r\n  [Symbol.toPrimitive](): string | undefined | Primitivetype {\r\n    //return this.value;\r\n    const value = this.valueOf();\r\n    return isprimitive(value)\r\n      ? value\r\n      : isobject(value)\r\n      ? JSON.stringify(value)\r\n      : void 0;\r\n  }\r\n}\r\n/* Reflect.defineProperty(ReactiveState.prototype, Symbol.toStringTag, {\r\n  value: \"ReactiveState\"\r\n}); */\r\n","/* \r\n        \r\n        [[\"value\",[\"f\",\"f\"]],[\"value\",[\"f\",\"f\"]]]\r\n\r\n\r\n        [[\"value\",[\"f\",\"f\",\"f\",\"f\"]]]\r\n        \r\n        */\r\nexport function merge_entries(\r\n  a: [string, any][] /* Array<[any, Array<any>]> */\r\n): [string, any][] {\r\n  const m: { [s: string]: Set<any> } = {};\r\n\r\n  a.forEach(([key, value]) => {\r\n    if (!m[key]) {\r\n      m[key] = new Set();\r\n    }\r\n    // m[key] && (m[key] = new Set());\r\n\r\n    value.forEach((v: any) => {\r\n      m[key].add(v);\r\n    });\r\n  });\r\n  return Object.entries(m).map(([k, v]) => [k, [...v]]);\r\n}\r\n","const VirtualElementSet = new WeakSet<Virtualdom<any>>();\r\nconst Letter_case_and_Chinese = /[A-Za-z\\u4e00-\\u9fa5]/;\r\nimport { Class } from \"../CustomClass/customclass\";\r\nimport ReactiveState, { isReactiveState } from \"../Reactivity/ReactiveState\";\r\n//// import { Class } from \"./rendervdomtoreal\";\r\nimport { merge_entries } from \"../UtilTools/merge-entries\";\r\nimport { defineProperty, preventExtensions } from \"../UtilTools/reflect\";\r\nimport { isstring } from \"../UtilTools/util\";\r\nimport { ElementAttrs } from \"./create-element\";\r\nimport { VaildVDom } from \"./isvalidvdom\";\r\n// //export function isVirtualdom(a: any): a is Virtualdom<any> {\r\n//   return a instanceof Virtualdom;\r\n// }//\r\nexport function isVirtualdom(a: any): a is Virtualdom<any> {\r\n  return VirtualElementSet.has(a);\r\n  /*   isobject(a) &&\r\n    // has(a, isvirtualelement) &&\r\n    get(a, isvirtualelement) === isvirtualelement */\r\n}\r\n// export const isvirtualelement = Symbol(\"isvirtualelement\");\r\nexport type Vdomchildren = Array<VaildVDom>;\r\nexport { createVirtualElement };\r\nfunction createVirtualElement<T extends Class | string | Function>(\r\n  type: T,\r\n  props: ElementAttrs = {},\r\n  children: Vdomchildren = []\r\n): Virtualdom<T> {\r\n  props = Object.assign({}, props);\r\n  children = children.flat(1 / 0);\r\n\r\n  const propsentries = Object.entries(props);\r\n  const propsentriesNOTevents = propsentries.filter(\r\n    ([key]) => !(key.startsWith(\"@\") || key.startsWith(\"on\"))\r\n  );\r\n  const Entries_beginning_with_a_letter = propsentriesNOTevents.filter(\r\n    ([key]) => Letter_case_and_Chinese.test(key[0])\r\n  );\r\n  const virtual = Object.create(null);\r\n  const vdom = virtual;\r\n  [\r\n    \"onevent\",\r\n    \"element\",\r\n    \"type\",\r\n    \"props\",\r\n    \"children\",\r\n    \"directives\",\r\n    \"bindattr\"\r\n  ].forEach(key => {\r\n    defineProperty(virtual, key, {\r\n      //   enumerable: false,\r\n      writable: true\r\n    });\r\n  });\r\n  //   [\"type\", \"props\", \"children\", \"directives\", \"bindattr\"].forEach(key => {\r\n  //     defineProperty(virtual, key, {\r\n  //       enumerable: true,\r\n  //       writable: true\r\n  //     });\r\n  //   });\r\n  vdom.element = [];\r\n  Object.assign(virtual, {\r\n    type,\r\n    bindattr: Object.fromEntries(\r\n      Entries_beginning_with_a_letter.filter(e => isReactiveState(e[1]))\r\n    ),\r\n    props: Object.fromEntries(\r\n      Entries_beginning_with_a_letter.filter(e => !isReactiveState(e[1])).map(\r\n        ([key, value]) => [key, isstring(value) ? value.trim() : value]\r\n      )\r\n    ),\r\n    children,\r\n    onevent: Object.fromEntries(\r\n      merge_entries([\r\n        ...propsentries\r\n          .filter(([key]) => \"@\" == key[0])\r\n          .map(([key, value]) => [\r\n            key\r\n              .slice(1)\r\n              .toLowerCase()\r\n              .trim(),\r\n            [value].flat(1 / 0)\r\n          ]),\r\n        ...propsentries\r\n          .filter(([key]) => key.startsWith(\"on\"))\r\n          .map(([key, value]) => [\r\n            key\r\n              .slice(2)\r\n              .toLowerCase()\r\n              .trim(),\r\n            [value].flat(1 / 0)\r\n          ])\r\n      ] as [string, any][])\r\n    ),\r\n    directives: Object.fromEntries(\r\n      propsentriesNOTevents\r\n        .filter(([key]) => key[0] === \"*\" || key[0] === \"_\" || key[0] === \"$\")\r\n        .map(([key, value]) => [\r\n          key\r\n            .slice(1)\r\n            .toLowerCase()\r\n            .trim(),\r\n          value\r\n        ])\r\n    )\r\n  });\r\n  defineProperty(virtual, Symbol.toStringTag, { value: \"VirtualElement\" });\r\n  //   virtual[Symbol.toStringTag] = \"VirtualElement\";\r\n  //   virtual[isvirtualelement] = isvirtualelement;\r\n  //   defineProperty(virtual, isvirtualelement, { value: isvirtualelement });\r\n  preventExtensions(virtual);\r\n  VirtualElementSet.add(virtual);\r\n\r\n  Object.freeze(vdom);\r\n  return virtual;\r\n}\r\n// JSON.stringify\r\ninterface Virtualdom<T extends Class | string | Function> {\r\n  //   readonly [isvirtualelement]: unique symbol;\r\n  readonly [Symbol.toStringTag]: \"VirtualElement\";\r\n  readonly element: Element[];\r\n  readonly type: T;\r\n  readonly props: ElementAttrs;\r\n  readonly children: Vdomchildren;\r\n  readonly directives: Record<string, any>;\r\n  //   { [key: string]: any };\r\n  readonly onevent: Record<string, Array<EventListener>>;\r\n  //   {\r\n  //     [key: string]: Array<EventListener>;\r\n  //   };\r\n  readonly bindattr: Record<string, ReactiveState<any>>;\r\n  /* {\r\n    [key: string]: ReactiveState<any>;\r\n  }; */\r\n}\r\nexport default Virtualdom;\r\n// //export default class Virtualdom<T extends Class | string | Function> {\r\n//   [Symbol.toStringTag] = \"VirtualElement\";\r\n//   // get [Symbol.toStringTag]() {\r\n//     return \"VirtualElement\";\r\n//   // } //\r\n// //   options: any |undefined\r\n// //  element: undefined | Element | Node;\r\n//   type: T | undefined;\r\n//   props: ElementAttrs = {};\r\n//   children: Vdomchildren = [];\r\n//   directives: object = {};\r\n//   onevent: { [key: string]: Array<EventListener> } = {};\r\n//   bindattr: { [key: string]: ReactiveState<any> } = {};\r\n//   constructor(type: T, props: ElementAttrs = {}, children: Vdomchildren = []) {\r\n//     //\r\n//     props = { ...props };\r\n//     const Letter_case_and_Chinese = /[A-Za-z\\u4e00-\\u9fa5]/;\r\n//     // console.log(type, props, children);\r\n//     //on\r\n//     const propsentries = Object.entries(props);\r\n//     //\r\n// .map(([key, value]) => [\r\n// key.startsWith(\"on\")?key.replace(\"on\",\"@\")key\r\n// ,\r\n// value\r\n\r\n// ]);\r\n// //\r\n// //   const propsentriesNOTevents = propsentries.filter(\r\n//       ([key]) => !(key.startsWith(\"@\") || key.startsWith(\"on\"))\r\n//     );\r\n//     const Entries_beginning_with_a_letter = propsentriesNOTevents.filter(([key]) =>\r\n//       Letter_case_and_Chinese.test(key[0])\r\n//     );\r\n\r\n//     Object.assign(this, {\r\n//       type,\r\n//       bindattr: Object.fromEntries(\r\n//         //   propsentriesNOTevents\r\n//           .filter(([key]) => Letter_case_and_Chinese.test(key[0])) //\r\n// //    Entries_beginning_with_a_letter.filter(\r\n//           e => isReactiveState(e[1])\r\n//           // e[1] instanceof ReactiveState\r\n//         )\r\n//       ),\r\n//       props: Object.fromEntries(\r\n//         //   propsentriesNOTevents\r\n//           .filter(([key]) => Letter_case_and_Chinese.test(key[0])) //\r\n// //  Entries_beginning_with_a_letter.filter(\r\n//           e => !isReactiveState(e[1])\r\n//           //    e[1] instanceof ReactiveState\r\n//         )\r\n//       ),\r\n//       children: children.flat(1 / 0),\r\n//       onevent: Object.fromEntries(\r\n//         // entries\r\n//         [\r\n//         ['value',[f,f]]\r\n//         ,\r\n//         ['value',[f,f]]\r\n//       ]\r\n//         \r\n\r\n//          [\r\n//         ['value',[f,f,f,f]]\r\n//          ]\r\n//         //\r\n\r\n// //\r\n\r\n//         [[\"value\",[\"f\",\"f\"]],[\"value\",[\"f\",\"f\"]]]\r\n\r\n//         [[\"value\",[\"f\",\"f\",\"f\",\"f\"]]]\r\n\r\n//         //\r\n// //     merge_entries([\r\n//           ...propsentries\r\n//             .filter(([key]) => /\\@/.test(key[0]))\r\n//             .map(([key, value]) => [\r\n//               //\r\n//               key\r\n//                 .slice(1)\r\n//                 .toLowerCase()\r\n//                 .trim(),\r\n//               //\r\n//               [value].flat(1 / 0)\r\n//             ]),\r\n//           ...propsentries\r\n//             .filter(([key]) => key.startsWith(\"on\"))\r\n//             .map(([key, value]) => [\r\n//               //\r\n//               key\r\n//                 .slice(2)\r\n//                 .toLowerCase()\r\n//                 .trim(),\r\n//               //\r\n//               [value].flat(1 / 0)\r\n//             ])\r\n//         ])\r\n//       ),\r\n\r\n//       //\"*\"\"_\"\r\n//       directives: Object.fromEntries(\r\n//         propsentriesNOTevents\r\n//         //  .filter(([key]) => /\\//\r\n// //.test(key[0]) || key[0].startsWith(\"_\"))\r\n//         //  .map(([key, value]) => [\r\n//             //\r\n//             key\r\n//               .slice(1)\r\n//               .toLowerCase()\r\n//               .trim(),\r\n\r\n//             value\r\n//           ])\r\n//       )\r\n//     });\r\n//     //\r\n//  Object.defineProperty(this, Symbol.toStringTag, {\r\n//       value: \"virtualdom\",\r\n//       configurable: true\r\n//     });\r\n// //\r\n// //  }\r\n// }//\r\n// // defineProperty(Virtualdom.prototype, Symbol.toStringTag, {\r\n//   value: \"VirtualElement\"\r\n// });\r\n//  //\r\n","export type VaildVDom =\r\n  | Virtualdom<any>\r\n  | string\r\n  | number\r\n  | Vdomchildren\r\n  | ReactiveState<any>;\r\n// import { VaildVDom } from \"./isvalidvdom\";\r\nimport Virtualdom, {\r\n  isVirtualdom,\r\n  Vdomchildren\r\n} from \"../CreateElement/VirtualElement\";\r\nimport ReactiveState, { isReactiveState } from \"../Reactivity/ReactiveState\";\r\nimport { isArray, isnumber, isstring } from \"../UtilTools/util\";\r\n\r\nexport function isvalidvdom(v: any): v is VaildVDom {\r\n  if (isstring(v)) {\r\n    return true;\r\n  }\r\n  if (isnumber(v)) {\r\n    return true;\r\n  }\r\n  let flag = false;\r\n  if (isArray(v)) {\r\n    /*flag = v\r\n        .map((ele: any) => {\r\n          return isvalidvdom(ele);\r\n          //isstring(ele) || ele instanceof Virtualdom;\r\n        })\r\n        .includes(false)\r\n        ? false\r\n        : true;\r\n      return flag;*/\r\n    //https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/every\r\n    //\r\n    /* children */\r\n    return /* !! */ /* v.length */ /* && */ v.every(e => isvalidvdom(e));\r\n  } else if (\r\n    isVirtualdom(v)\r\n    // v instanceof Virtualdom\r\n  ) {\r\n    return isvalidvdom(v.children);\r\n    /*  if (isvalidvdom(v.children)) {\r\n        return true;\r\n      } */\r\n  } else if (\r\n    isReactiveState(v)\r\n    //  v instanceof ReactiveState\r\n  ) {\r\n    return true;\r\n  }\r\n  /*  else {\r\n    } */\r\n  return flag;\r\n}\r\n","import { Class } from \"../CustomClass/customclass\";\r\nimport { isfunction } from \"../UtilTools/util\";\r\n\r\nexport function isclassextendsHTMLElement(initclass: {\r\n  prototype: any;\r\n}): initclass is Class {\r\n  return !!(\r\n    isfunction(initclass) &&\r\n    initclass.prototype &&\r\n    initclass.prototype instanceof HTMLElement\r\n  );\r\n}\r\n","export function cssrulestocsstext(cssrules: Array<CSSRule>): string {\r\n  return cssrules.map(c => c.cssText).join(\"\\n\");\r\n  // .replace(/\\n/g, \"\");\r\n}\r\n","export { getrandomstringandnumber };\r\nimport { get } from \"src/UtilTools/reflect\";\r\n\r\nconst charactorlist = Array(26)\r\n  .fill(undefined)\r\n  .map((v, i) => 97 + i)\r\n  .map(n => String.fromCharCode(n));\r\n\r\nconst hexnumberlist = Array(16)\r\n  .fill(undefined)\r\n  .map((v, i) => i)\r\n  .map(a => a.toString(16));\r\n\r\nconst charactorandnumberlist = [\r\n  ...new Set([...hexnumberlist, ...charactorlist])\r\n];\r\n\r\nfunction getrandomcharactor() {\r\n  return get(\r\n    //  Array(26)\r\n    //  .fill(undefined)\r\n    //  .map((v, i) => 97 + i)\r\n    // .map(n => String.fromCharCode(n))\r\n    charactorlist,\r\n    Math.floor(Math.random() * charactorlist.length)\r\n  );\r\n}\r\nfunction getrandomhexnumberandcharactor() {\r\n  return get(\r\n    // Array(16)\r\n    //  .fill(undefined)\r\n    // .map((v, i) => i)\r\n    charactorandnumberlist,\r\n    Math.floor(Math.random() * charactorandnumberlist.length)\r\n  );\r\n\r\n  //.toString(16);\r\n}\r\nfunction getrandomstringandnumber(length = 1) {\r\n  return (\r\n    Array(length)\r\n      .fill(undefined)\r\n      .map(() => getrandomcharactor())\r\n\r\n      .join(\"\") +\r\n    \"-\" +\r\n    Array(length)\r\n      .fill(undefined)\r\n      .map(() => getrandomhexnumberandcharactor())\r\n      .join(\"\")\r\n  );\r\n}\r\n","export const invalid_custom_element_class = \"invalid custom element class !\";\r\n// import { isclassextendsHTMLElement } from \"./CustomElement/create-costum-elemet\";\r\nimport { get, getPrototypeOf, has, set } from \"../UtilTools/reflect\";\r\nimport { isobject } from \"../UtilTools/util\";\r\nimport { getrandomstringandnumber } from \"./getrandomstringandnumber\";\r\nimport { isclassextendsHTMLElement } from \"./isclassextendsHTMLElement\";\r\nif (\r\n  //   typeof Proxy !== \"function\" ||\r\n  !isobject(window.customElements) //||\r\n  //   typeof customElements !== \"object\" ||\r\n\r\n  //||\r\n  //   typeof CustomElementRegistry !== \"function\"\r\n) {\r\n  console.error(\" customElements  not supported !\");\r\n  throw new TypeError();\r\n}\r\n\r\nfunction Usevaluetoquerythekeyfromthetable(\r\n  table: object,\r\n  Componentstatusname: any\r\n): string | undefined {\r\n  const outputentrie = Object.entries(table).find(v => {\r\n    return v[1] === Componentstatusname;\r\n  });\r\n  return outputentrie ? outputentrie[0] : undefined;\r\n}\r\n\r\ninterface ElementDefinitionOptions {\r\n  extends?: string;\r\n}\r\nwindow.CustomElementRegistry = get(\r\n  getPrototypeOf(window.customElements),\r\n  \"constructor\"\r\n);\r\nconst elementset = Symbol.for(\"elementset\");\r\nconst elementmap = Symbol.for(\"elementmap\");\r\n\r\ninterface CustomElements extends CustomElementRegistry {\r\n  [elementset]: Set<Function>;\r\n  [elementmap]: Record<string, Function>;\r\n}\r\nconst { CustomElementRegistry } = window;\r\nconst customElements = window.customElements as CustomElements;\r\n// export default customElements;\r\n\r\nif (!has(customElements, elementset)) {\r\n  Reflect.set(customElements, elementset, new Set());\r\n  //   assert(elementset in customElements);\r\n  //   customElements[elementset] = new Set();\r\n}\r\nif (!has(customElements, elementmap)) {\r\n  Reflect.set(customElements, elementmap, {});\r\n  //   customElements[elementmap] = {};\r\n}\r\n// debugger;\r\nexport default (initclass: Function, extendsname?: string) =>\r\n  RandomDefineCustomElement(initclass, extendsname);\r\n\r\nfunction RandomDefineCustomElement(\r\n  initclass: Function,\r\n  extendsname?: string,\r\n  length = 1\r\n): string | undefined {\r\n  if (!isclassextendsHTMLElement(initclass)) {\r\n    console.error(initclass);\r\n    console.error(invalid_custom_element_class);\r\n    throw TypeError();\r\n  }\r\n\r\n  //\r\n  //   console.log(get(customElements, elementset));\r\n  //   debugger;\r\n  if (!get(customElements, elementset).has(initclass)) {\r\n    const elementname = getrandomstringandnumber(length);\r\n\r\n    if (customElements.get(elementname)) {\r\n      return RandomDefineCustomElement(initclass, extendsname, length + 1);\r\n    } else {\r\n      if (extendsname) {\r\n        customElements.define(elementname, initclass, { extends: extendsname });\r\n      } else {\r\n        customElements.define(elementname, initclass);\r\n      }\r\n    }\r\n\r\n    return elementname;\r\n  } else {\r\n    return Usevaluetoquerythekeyfromthetable(\r\n      get(customElements, elementmap),\r\n      initclass\r\n    );\r\n  }\r\n\r\n  //\r\n}\r\n\r\n/* customElements.get = function name(name) {\r\n  return customElements[elementmap].get(name);\r\n};\r\n */\r\ncustomElements.define = function(\r\n  name: string,\r\n  constructor: Function,\r\n  options?: ElementDefinitionOptions\r\n): void {\r\n  if (!isclassextendsHTMLElement(constructor)) {\r\n    console.error(constructor);\r\n    console.error(invalid_custom_element_class);\r\n    throw TypeError();\r\n  }\r\n  if (!get(customElements, elementset).has(constructor)) {\r\n    if (has(customElements[elementmap], name)) {\r\n      /*  */\r\n      RandomDefineCustomElement(\r\n        constructor,\r\n        options ? options.extends : undefined\r\n      );\r\n    } else {\r\n      CustomElementRegistry.prototype.define.call(\r\n        customElements,\r\n        name,\r\n        constructor,\r\n        options\r\n      );\r\n      customElements[elementset].add(constructor);\r\n      customElements[elementmap][name] = constructor;\r\n    }\r\n  }\r\n};\r\nset(customElements, Symbol.iterator, () => {\r\n  const entries = Object.entries(customElements[elementmap]);\r\n\r\n  return entries[Symbol.iterator].call(entries);\r\n});\r\n/* customElements[Symbol.iterator] = () => {\r\n  const entries = Object.entries(customElements[elementmap]);\r\n\r\n  return entries[Symbol.iterator].call(entries);\r\n}; */\r\n","import { get } from \"../UtilTools/reflect\";\r\nimport { isFunction } from \"../UtilTools/util\";\r\nconst componentsymbol = Symbol(\"component\");\r\nexport { componentsymbol };\r\nexport function iscomponent(a: any) {\r\n  return (\r\n    isFunction(a) &&\r\n    //  has(a, componentsymbol) &&\r\n    get(a, componentsymbol) === componentsymbol\r\n  );\r\n}\r\n","// const document = window.document;\r\n//import { seteletext, setelehtml } from \"./directives\";\r\n//export { seteletext, setelehtml };\r\n\r\nexport function seteletext(e: Element | Node, v: string) {\r\n  e.textContent = v;\r\n}\r\nexport function setelehtml(e: Element, v: string) {\r\n  e.innerHTML = v;\r\n}\r\nexport function appendchild(\r\n  container: HTMLElement | SVGSVGElement | SVGElement | Element | Node,\r\n  ele: HTMLElement | SVGElement | Element | Node\r\n) {\r\n  container.appendChild(ele);\r\n}\r\nexport function createsvgelement() {\r\n  return createElementNS(svgnamespace, \"svg\");\r\n}\r\nexport function createnonescript() {\r\n  return createDocumentFragment();\r\n}\r\nexport function createDocumentFragment() {\r\n  return document.createDocumentFragment();\r\n}\r\nexport function createnativeelement(type: string) {\r\n  return document.createElement(type);\r\n}\r\nexport function createElementNS(namespace: string, name: string) {\r\n  return document.createElementNS(namespace, name);\r\n}\r\nexport function createtextnode(data: string | number) {\r\n  return document.createTextNode(String(data));\r\n}\r\nexport const svgnamespace = \"http://www.w3.org/2000/svg\";\r\nexport function changetext(textnode: Text, value: string) {\r\n  textnode.nodeValue = String(value);\r\n}\r\n// export default document;\r\n\r\nexport const mathnamespace = \"http://www.w3.org/1998/Math/MathML\";\r\n\r\nexport function createmathelement() {\r\n  return createElementNS(mathnamespace, \"math\");\r\n}\r\nexport function createComment() {\r\n  return document.createComment(\"\");\r\n}\r\nexport function removeElement(element: Element) {\r\n  element.remove();\r\n}\r\nexport function removeNode(node: Element | Node) {\r\n  //   node.remove();\r\n  let parentNode = node.parentNode;\r\n  if (parentNode) {\r\n    parentNode.removeChild(node);\r\n  }\r\n}\r\nexport function replaceChild(newChild: Node, oldChild: Node) {\r\n  let parentNode = oldChild.parentNode;\r\n  if (parentNode) {\r\n    parentNode.replaceChild(newChild, oldChild);\r\n  }\r\n}\r\n\r\nexport function domaddlisten(\r\n  ele: Element | Node,\r\n  event: string,\r\n  call: EventListener\r\n) {\r\n  ele.addEventListener(event, call);\r\n}\r\n\r\nexport function domremovelisten(\r\n  ele: Element | Node,\r\n  event: string,\r\n  call: EventListener\r\n) {\r\n  ele.removeEventListener(event, call);\r\n}\r\nexport function getchildren(ele: Element) {\r\n  return [...ele.children];\r\n}\r\nexport function getchildNodes(ele: Element | Node) {\r\n  return [...ele.childNodes];\r\n}\r\nexport function getAttribute(ele: Element, name: string) {\r\n  return HTMLElementprototype.getAttribute.call(ele, name);\r\n}\r\nexport function setAttribute(ele: Element, name: string, value: any) {\r\n  HTMLElementprototype.setAttribute.call(ele, name, value);\r\n}\r\nexport function removeAttribute(ele: Element, name: string) {\r\n  HTMLElementprototype.removeAttribute.call(ele, name);\r\n}\r\nconst HTMLElementprototype = HTMLElement.prototype;\r\n\r\nexport function insertfirst(\r\n  container: HTMLElement | Element,\r\n  ele: HTMLElement\r\n) {\r\n  container.insertBefore(ele, container.firstChild);\r\n}\r\nexport function createanotherhtmldocument() {\r\n  return document.implementation.createHTMLDocument(\"\");\r\n}\r\n/* export function getparentNode(ele: Node): Node {\r\n  return ele.parentNode ? ele.parentNode : ele;\r\n}\r\n */\r\nexport function querySelectorAll(selector: string) {\r\n  return [...document.querySelectorAll(selector)];\r\n}\r\n","import { isArray, isundefined } from \"./util\";\r\n/* export function toArray<T not Array>(a: T): Array<T>;\r\nexport function toArray<T>(a: Array<T>): Array<T>; */\r\n// export function toArray<T>(a: Array<T>): Array<T>;\r\nexport function toArray(a: any): any[] {\r\n  return (isArray(a) ? a : [a]).flat(1 / 0).filter(a => !isundefined(a));\r\n}\r\n","import { appendchild, /* setelehtml,  */ seteletext } from \"../UtilTools/dom\";\r\nimport { toArray } from \"../UtilTools/toArray\";\r\nexport default function<\r\n  T extends HTMLElement | SVGSVGElement | SVGElement | Element | Node\r\n>(\r\n  ele:\r\n    | Node\r\n    | Array<\r\n        | HTMLElement\r\n        | Text\r\n        | SVGSVGElement\r\n        | DocumentFragment\r\n        | SVGElement\r\n        | Element\r\n        | Node\r\n      >\r\n    | SVGElement\r\n    | DocumentFragment\r\n    | HTMLElement\r\n    | Text\r\n    | SVGSVGElement\r\n    | Element,\r\n  container: T,\r\n  clear: boolean = true\r\n): T {\r\n  if (clear) {\r\n    seteletext(container, \"\");\r\n  }\r\n  //   container.innerHTML = \"\";\r\n  /*  let eles: Array<any>;\r\n  if (Array.isArray(ele)) {\r\n    eles = ele;\r\n  } else {\r\n    // appendchild(container, ele);\r\n    eles = [ele];\r\n  } */\r\n  const eles = toArray(ele).flat(Infinity);\r\n  eles.forEach((e: Node | HTMLElement | Element | SVGElement) =>\r\n    appendchild(container, e)\r\n  );\r\n  return container;\r\n}\r\nimport mountrealelement from \"./mount-real-element\";\r\nexport { mountrealelement };\r\n","import { isArray } from \"src/UtilTools/util\";\r\n\r\nexport function isNodeArray(arr: any[]): arr is Node[] {\r\n  //https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/every\r\n  //\r\n  return !!(isArray(arr) && arr.length && arr.every(a => isNode(a)));\r\n  //!array.map(e => e instanceof Node).includes(false);\r\n}\r\nexport function isNode(a: any): a is Node {\r\n  return a instanceof Node;\r\n}\r\n","export const invalid_Virtualdom = \"invalid Virtualdom \";\r\n// import { VaildVDom } from \"../AttributeClass/conditon\";\r\n// import document from \"./UtilTools/dom\";\r\n// import { isvalidvdom } from \"./CreateElement/html\";\r\nimport mount from \"./mount-real-element\";\r\nimport render from \"../RenderVirtual/render-vdom-to-real\";\r\nimport { toArray } from \"../UtilTools/toArray\";\r\nimport { isArray } from \"../UtilTools/util\";\r\nimport { isvalidvdom, VaildVDom } from \"../CreateElement/isvalidvdom\";\r\nimport { isNode, isNodeArray } from \"./isNodeArray\";\r\nexport default function MountElement<T extends Element>(\r\n  vdom: VaildVDom | Node | Element | Array<Node | Element>,\r\n  container: T\r\n): T {\r\n  if (isArray(vdom)) {\r\n    vdom = vdom.flat(Infinity);\r\n    if (!vdom.length) {\r\n      //\r\n      console.error(\"Empty array not allowed\");\r\n      throw new TypeError();\r\n    }\r\n  }\r\n  const el = container;\r\n  if (!(el instanceof HTMLElement)) {\r\n    console.error(el);\r\n    console.error(\"invalid container HTMLElement!\");\r\n    throw TypeError();\r\n  }\r\n\r\n  if (\r\n    el === document.body ||\r\n    el === document.documentElement ||\r\n    el === document.head\r\n  ) {\r\n    console.error(el);\r\n    console.error(\"Do not mount  to <html> or <body> <head>.\");\r\n    throw Error();\r\n  }\r\n  /*   if (\r\n    !(\r\n      isvalidvdom(vdom) ||\r\n      vdom instanceof Node ||\r\n      (isArray(vdom) && isNodeArray(vdom))\r\n    )\r\n  ) {\r\n    console.error(vdom);\r\n    throw TypeError(invalid_Virtualdom);\r\n  } */\r\n\r\n  /*   let elesarray: Array<any>;\r\n  if (Array.isArray(vdom)) {\r\n    elesarray = vdom;\r\n  } else {\r\n    elesarray = [vdom];\r\n  } */\r\n  const elesarray = toArray(vdom);\r\n  if (isvalidvdom(vdom)) {\r\n    // mount(elesarray.map(e => render(e)), container);\r\n    mount(render(elesarray), container);\r\n  } else if (isNode(vdom) /*  instanceof Node */ || isNodeArray(vdom)) {\r\n    mount(elesarray, container);\r\n  } else {\r\n    console.error(vdom);\r\n    console.error(invalid_Virtualdom);\r\n    throw TypeError();\r\n  }\r\n\r\n  //\r\n  return container;\r\n}\r\n","import debounce from \"lodash/debounce\";\r\nimport { cached_callback_debounced_watchs } from \"../cached-map\";\r\nimport { invalid_ReactiveState } from \"../AttributeClass/conditon\";\r\nimport {\r\n  invalid_Function,\r\n  usewatch\r\n} from \"../mounted-unmounted/Component-context\";\r\nimport ReactiveState, {\r\n  addallistenerssymbol,\r\n  cancelsubscribe,\r\n  isReactiveState,\r\n  removeallistenerssymbol,\r\n  subscribesymbol\r\n} from \"./ReactiveState\";\r\nimport { toArray } from \"../UtilTools/toArray\";\r\n//import { requestAnimationFrame } from \"./directives\";\r\nimport { isarray, isFunction } from \"../UtilTools/util\";\r\nexport type CancelWatchfun = () => void;\r\nexport type UnwrapedState = any; //Primitivetype | Exclude<object, Function>;\r\n\r\nexport interface CallbackReactiveState /* <\r\n  \r\n> */ {\r\n  (...args: UnwrapedState[]): any;\r\n}\r\n\r\nexport function watch<T extends UnwrapedState>(\r\n  state: ReactiveState<T> | Array<ReactiveState<T>>,\r\n\r\n  callback: CallbackReactiveState\r\n): CancelWatchfun {\r\n  if (isarray(state) || isReactiveState(state)) {\r\n    const statearray: ReactiveState<any>[] = toArray(state);\r\n    if (!statearray.length) {\r\n      console.error(\"Empty array not allowed\");\r\n      throw new Error();\r\n    }\r\n    /* watchcallback */\r\n    const debouncedcallback = debounce(callback);\r\n    const stateandlisteners: [ReactiveState<any>, Function][] = statearray.map(\r\n      state1 => {\r\n        const listener: Function = (() => {\r\n          /* callbacklistener */\r\n          const cachedfun = cached_callback_debounced_watchs.get(callback);\r\n          if (cachedfun) {\r\n            return cachedfun;\r\n          } else {\r\n            const listenfun = () => {\r\n              //watch\r\n              debouncedcallback(...statearray.map(r => r.valueOf()));\r\n            };\r\n            cached_callback_debounced_watchs.set(callback, listenfun);\r\n            return listenfun;\r\n          }\r\n        })();\r\n        watchsingle(\r\n          state1,\r\n\r\n          listener\r\n        );\r\n\r\n        return [state1, listener];\r\n      }\r\n    );\r\n\r\n    const cancelWatch: CancelWatchfun = () => {\r\n      stateandlisteners.forEach(([state, listener]) => {\r\n        state[cancelsubscribe](listener);\r\n      });\r\n    };\r\n    return cancelWatch;\r\n  }\r\n  //  else if (isReactiveState(state)) {\r\n  //  watchsingle(state, callback);\r\n  ////return watch(toArray(state),callback)\r\n  // }\r\n  else {\r\n    console.error(state);\r\n    console.error(callback);\r\n    console.error(invalid_ReactiveState + invalid_Function);\r\n    throw new TypeError();\r\n  }\r\n}\r\n\r\nfunction watchsingle(\r\n  state: ReactiveState<any>,\r\n  callback: Function\r\n  //  statekey?: string\r\n) {\r\n  if (\r\n    !(\r\n      isReactiveState(state) &&\r\n      // state instanceof ReactiveState\r\n      isFunction(callback)\r\n    )\r\n  ) {\r\n    console.error(state);\r\n    console.error(callback);\r\n    console.error(invalid_ReactiveState + invalid_Function);\r\n\r\n    throw TypeError();\r\n  }\r\n\r\n  state[subscribesymbol](callback);\r\n\r\n  //  if (statekey) {\r\n\r\n  //   state[subscribesymbol](callback, statekey);\r\n  // } else {\r\n\r\n  //  }\r\n\r\n  requestAnimationFrame(() => {\r\n    rewatch(state);\r\n    // state[addallistenerssymbol]();\r\n  });\r\n\r\n  usewatch(state, callback);\r\n}\r\nexport function unwatch(state: ReactiveState<any>): void {\r\n  state[removeallistenerssymbol]();\r\n}\r\n\r\nexport function rewatch(state: ReactiveState<any>): void {\r\n  state[addallistenerssymbol]();\r\n}\r\nexport default watch;\r\n","import { isboolean } from \"./util\";\r\n\r\n// import { getparentNode } from \"./dom\";\r\n\r\nexport function isconnected(element: Node) {\r\n  /* edge  element.isConnected,*/\r\n  const isConnectedstate = element.isConnected;\r\n  if (isboolean(isConnectedstate)) {\r\n    return isConnectedstate;\r\n  } else {\r\n    return document.documentElement === getancestornode(element);\r\n  }\r\n}\r\nfunction getancestornode(node: Node) {\r\n  while (\r\n    node &&\r\n    node.parentNode &&\r\n    node.parentNode !== document\r\n    /*  getparentNode(node) &&\r\n    getparentNode(node) !== node &&\r\n    getparentNode(node) !== document */\r\n  ) {\r\n    //   if(getparentNode(node)){}\r\n    node = node.parentNode; // getparentNode(node);\r\n  }\r\n  return node;\r\n}\r\n","import ReactiveState, { isReactiveState } from \"../Reactivity/ReactiveState\";\r\nimport { watch } from \"src/Reactivity/watch\";\r\nimport { isconnected } from \"src/UtilTools/isconnected\";\r\nimport { isstring } from \"src/UtilTools/util\";\r\n\r\nexport { createhtmlandtextdirective };\r\nfunction createhtmlandtextdirective(seteletext: Function, errorname: string) {\r\n  return function(ele: Element, text: string | ReactiveState<any>) {\r\n    const element = ele;\r\n    if (\r\n      isstring(text)\r\n      //typeof text == \"string\"\r\n    ) {\r\n      requestAnimationFrame(() => {\r\n        seteletext(ele, text);\r\n        /*    ele.textContent = text;*/\r\n        //   console.log(ele.outerHTML);\r\n      });\r\n    } else if (\r\n      isReactiveState(text)\r\n      //  text instanceof ReactiveState\r\n    ) {\r\n      //   const ReactiveState = text;\r\n      watch(text, (/* state: { value: any } */) => {\r\n        const state = text;\r\n        if (isconnected(element)) {\r\n          seteletext(ele, String(state));\r\n        }\r\n        /* ele.textContent = String(state);*/\r\n      });\r\n      //   ReactiveState[subscribesymbol]((state: { value: any }) => {\r\n      //     ele.textContent = String(state.value);\r\n      //   });\r\n      requestAnimationFrame(() => {\r\n        // console.log(\"text\");\r\n        seteletext(ele, String(text));\r\n\r\n        /*  ele.textContent = String(text);*/\r\n      });\r\n    } else {\r\n      console.error(text);\r\n      console.error(\"invalid \" + errorname);\r\n      throw TypeError();\r\n    }\r\n  };\r\n}\r\n","import { invalid_Function } from \"../mounted-unmounted/Component-context\";\r\nimport directives from \"./directives\";\r\nimport { isplainobject } from \"../UtilTools/util\";\r\nimport Virtualdom from \"../CreateElement/VirtualElement\";\r\nexport interface Extendfun {\r\n  (\r\n    value: any,\r\n    element: Element,\r\n\r\n    vdom: Virtualdom<any>\r\n  ): void;\r\n}\r\nexport interface ExtendOptions {\r\n  [s: string]: Extendfun;\r\n}\r\nexport { extenddirectives };\r\nexport default function extenddirectives(options: ExtendOptions = {}) {\r\n  if (!isplainobject(options)) {\r\n    console.error(options);\r\n    throw new TypeError();\r\n  }\r\n  Object.entries(options).forEach(([key, value]) => {\r\n    if (typeof value !== \"function\") {\r\n      console.error(value);\r\n      console.error(invalid_Function);\r\n      throw TypeError();\r\n    } else {\r\n      if (!directives[key]) {\r\n        Reflect.set(directives, key, value);\r\n      } else {\r\n        console.error(directives);\r\n        console.error(\"do not extend existing directive\");\r\n        throw new Error();\r\n      }\r\n    }\r\n  });\r\n  return directives;\r\n}\r\n","export const { requestAnimationFrame } = window;\r\nimport ReactiveState from \"../Reactivity/ReactiveState\";\r\nimport { setelehtml, seteletext } from \"../UtilTools/dom\";\r\nimport { apply, set } from \"../UtilTools/reflect\";\r\nimport { isfunction, isobject } from \"../UtilTools/util\";\r\nimport Virtualdom from \"../CreateElement/VirtualElement\";\r\nimport { createhtmlandtextdirective } from \"./create-html-and-text-directive\";\r\nimport extenddirectives, { ExtendOptions } from \"./extend-directive\";\r\nexport { directive };\r\nconst directive: ExtendOptions = {\r\n  ref(ref: object | Function, ele: Element, _vdom: Virtualdom<any>) {\r\n    if (isfunction(ref)) {\r\n      apply(ref as Function, undefined, [ele]);\r\n      // ref(ele)\r\n      //   ref.call(undefined, ele);\r\n    } else if (isobject(ref)) {\r\n      set(ref as object, \"value\", ele);\r\n      //   ref.value = ele;\r\n    } else {\r\n      console.log(_vdom);\r\n      console.error(ref);\r\n      console.error(\"invalid ref\");\r\n      throw TypeError();\r\n    }\r\n  }\r\n};\r\nextenddirectives({\r\n  html(\r\n    html: string | ReactiveState<any>,\r\n    ele: Element,\r\n\r\n    _vdom: Virtualdom<any>\r\n  ) {\r\n    console.log(_vdom);\r\n    createhtmlandtextdirective(setelehtml, \"html\")(ele, html);\r\n\r\n    // ele.innerHTML = html;\r\n    // console.log(ele.outerHTML);\r\n    /*  if (typeof html == \"string\") {\r\n          requestAnimationFrame(() => {\r\n            setelehtml(ele, html);\r\n    \r\n            /* ele.innerHTML = html;*/\r\n    //   console.log(ele.outerHTML);\r\n    /*     });\r\n        } else if (html instanceof ReactiveState) {\r\n          //   const ReactiveState = html;\r\n          watch(html, (state: { value: any }) => {\r\n            /*ele.innerHTML = String(state);*/\r\n    /*\r\n            setelehtml(ele, String(state));\r\n          });\r\n          //   ReactiveState[subscribesymbol]((state: { value: any }) => {\r\n          //     ele.innerHTML = String(state.value);\r\n          //   });\r\n          requestAnimationFrame(() => {\r\n            // console.log(\"html\");\r\n            /*  ele.innerHTML = String(html);*/\r\n    /*\r\n      //      setelehtml(ele, String(html));\r\n     //     });\r\n      //  } else {\r\n    \r\n    //console.error()\r\n      //    throw TypeError(\"invalid html\");\r\n     //   }\r\n    \r\n    */\r\n  },\r\n  text(\r\n    text: string | ReactiveState<any>,\r\n    ele: Element,\r\n    _vdom: Virtualdom<any>\r\n  ) {\r\n    console.log(_vdom);\r\n    createhtmlandtextdirective(seteletext, \"text\")(ele, text);\r\n\r\n    /*\r\n    \r\n      // ele.textContent = text;\r\n        // console.log(ele.outerHTML);\r\n        if (typeof text == \"string\") {\r\n          requestAnimationFrame(() => {\r\n            seteletext(ele, text);\r\n            /*    ele.textContent = text;*/\r\n    /*      //   console.log(ele.outerHTML);\r\n          });\r\n        } else if (text instanceof ReactiveState) {\r\n          //   const ReactiveState = text;\r\n          watch(text, (state: { value: any }) => {\r\n            seteletext(ele, String(state));\r\n    \r\n            /* ele.textContent = String(state);*/\r\n    /*   });\r\n          //   ReactiveState[subscribesymbol]((state: { value: any }) => {\r\n          //     ele.textContent = String(state.value);\r\n          //   });\r\n          requestAnimationFrame(() => {\r\n            // console.log(\"text\");\r\n            seteletext(ele, String(text));\r\n    \r\n            /*  ele.textContent = String(text);*/\r\n    /*    });\r\n       // } else {\r\n      //    throw TypeError(\"invalid text\");\r\n     //   }\r\n    \r\n    */\r\n  }\r\n});\r\n\r\nexport default directive;\r\n","import onevent /*  eventlistenerssymbol  */ from \"./handle-onevent\";\r\nexport { onevent };\r\nimport { invalid_Function } from \"../mounted-unmounted/Component-context\";\r\nimport { domaddlisten, domremovelisten } from \"../UtilTools/dom\";\r\nimport { get, has, set } from \"../UtilTools/reflect\";\r\nimport { toArray } from \"../UtilTools/toArray\";\r\nimport { /* isArray, */ isfunction } from \"../UtilTools/util\";\r\nexport const eventlistenerssymbol = Symbol(\"eventlisteners\");\r\nexport default function(\r\n  element: Element | Node,\r\n  eventname: string,\r\n  callback: EventListener | Array<EventListener>\r\n) {\r\n  /* if (!element[eventlistenerssymbol]) {\r\n    element[eventlistenerssymbol] = [];\r\n  }\r\n*/\r\n  firstaddlisteners(element, eventname, toArray(callback));\r\n  /*\r\n//  if (isfunction(callback)) {\r\n//    firstaddlisteners(element, eventname, [callback]);\r\n//  } else if (isArray(callback)) {\r\n//    firstaddlisteners(element, eventname, callback);\r\n // } else {\r\n //   console.error(callback);\r\n //   throw TypeError(invalid_Function);\r\n // }\r\n*/\r\n}\r\nexport function firstaddlisteners(\r\n  ele: Element | Node,\r\n  event: string,\r\n  callarray: Array<EventListener>\r\n) {\r\n  const element = ele;\r\n  callarray.forEach((call: EventListener) => {\r\n    if (!isfunction(call)) {\r\n      console.error(call);\r\n      console.error(invalid_Function);\r\n      throw TypeError();\r\n    }\r\n\r\n    if (!has(element, eventlistenerssymbol)) {\r\n      set(element, eventlistenerssymbol, []);\r\n      //   element[eventlistenerssymbol] = [];\r\n    }\r\n    (get(ele, eventlistenerssymbol) as [string, EventListener][])\r\n      /* ele[eventlistenerssymbol] */\r\n      .push([event, call]);\r\n    domaddlisten(ele, event, call);\r\n  });\r\n}\r\nexport function removelisteners(\r\n  ele: Element | Node\r\n  //   event: string,\r\n  //   callarray: Array<EventListener>\r\n) {\r\n  // const element = ele;\r\n  if (has(ele, eventlistenerssymbol)) {\r\n    (get(ele, eventlistenerssymbol) as [string, EventListener][])\r\n      /*   ele[eventlistenerssymbol] */\r\n\r\n      .forEach(([event, call]) => {\r\n        //   ele[eventlistenerssymbol].push([event, call]);\r\n        domremovelisten(ele, event, call);\r\n      });\r\n  }\r\n}\r\nexport function readdlisteners(\r\n  ele: Element | Node\r\n  //   event: string,\r\n  //   callarray: Array<EventListener>\r\n) {\r\n  if (has(ele, eventlistenerssymbol)) {\r\n    (get(ele, eventlistenerssymbol) as [string, EventListener][]).forEach(\r\n      ([event, call]) => {\r\n        //   ele[eventlistenerssymbol].push([event, call]);\r\n        domaddlisten(ele, event, call);\r\n      }\r\n    );\r\n  }\r\n}\r\n","export { render };\r\nimport { createcostumelemet } from \"../CustomClass/create-costum-elemet\";\r\nimport { iscomponent } from \"../AttributeClass/iscomponent\";\r\nimport mount from \"../MountElement/mount-real-element\";\r\nimport { invalid_Virtualdom } from \"../MountElement/MountElement\";\r\nimport ReactiveState, { isReactiveState } from \"../Reactivity/ReactiveState\";\r\nimport { watch } from \"../Reactivity/watch\";\r\nimport {\r\n  changetext,\r\n  createDocumentFragment,\r\n  createElementNS,\r\n  createmathelement,\r\n  //   createnonescript,\r\n  createnativeelement,\r\n  createsvgelement,\r\n  createtextnode,\r\n  mathnamespace,\r\n  svgnamespace\r\n} from \"../UtilTools/dom\";\r\nimport { isconnected } from \"../UtilTools/isconnected\";\r\nimport { get, set } from \"../UtilTools/reflect\";\r\nimport {\r\n  isArray,\r\n  isfunction,\r\n  isnumber,\r\n  isobject,\r\n  isstring\r\n} from \"../UtilTools/util\";\r\nimport Virtualdom, {\r\n  isVirtualdom,\r\n  Vdomchildren\r\n} from \"../CreateElement/VirtualElement\";\r\nimport handleprops from \"./handle-props\";\r\nimport { autocreateclass } from \"src/AttributeClass/createComponent\";\r\n\r\nexport const bindstatesymbol = Symbol(\"bindstate\");\r\n\r\n// export const reactivestatesymbol = Symbol(\"reactive\");\r\n// export const virtualdomsymbol = Symbol(\"virtualelement\");\r\n/* ,dom */\r\nfunction throwinvalideletype(type?: any): never {\r\n  console.error(type);\r\n  console.error(\"invalid element type!\");\r\n  console.error(invalid_Virtualdom);\r\n  throw TypeError(/*\"invalid element type!\"*/);\r\n}\r\nexport default function render(\r\n  vdom: Virtualdom<string | Function>,\r\n  namespace?: string\r\n): Element;\r\nexport default function render(\r\n  vdom: Virtualdom<\"script\" | \"\" | \"html\">,\r\n  namespace?: string\r\n): Node;\r\nexport default function render(\r\n  vdom: Vdomchildren,\r\n  namespace?: string\r\n): Array<Node | Element>;\r\nexport default function render(\r\n  vdom: string | ReactiveState<any> | number,\r\n  namespace?: string\r\n): Node;\r\nexport default function render(\r\n  vdom: Array<Virtualdom<any>>,\r\n  namespace?: string\r\n): Array<Element>;\r\nexport default function render(\r\n  vdom: Array<string | ReactiveState<any> | number>,\r\n  namespace?: string\r\n): Array<Node>;\r\nexport default function render(\r\n  vdom: Virtualdom<any> | string | number | ReactiveState<any> | Vdomchildren,\r\n  namespace?: string\r\n): Array<Node | Element> | Element | Node {\r\n  if (isArray(vdom)) {\r\n    return (vdom as (string | number | ReactiveState<any> | Virtualdom<any>)[])\r\n      .map(a => render(a as any))\r\n      .flat(1 / 0);\r\n  }\r\n  if (isnumber(vdom) || isstring(vdom)) {\r\n    const textnode = createtextnode(vdom);\r\n    // set(textnode, virtualdomsymbol, vdom);\r\n    // textnode[virtualdomsymbol] = vdom;\r\n    return textnode;\r\n\r\n    // } else if (typeof vdom === \"string\") {\r\n    // return createtextnode(vdom);\r\n  } else if (isReactiveState(vdom) /*instanceof ReactiveState*/) {\r\n    const reactive = vdom;\r\n    const textnode = createtextnode(String(reactive));\r\n    // set(textnode, virtualdomsymbol, vdom);\r\n    // textnode[virtualdomsymbol] = reactive;\r\n\r\n    //textnode[reactivestatesymbol] = reactive;\r\n    /*  try {\r\n      reactive[textnodesymbol] = textnode;\r\n    } catch (error) {\r\n      console.warn(error);\r\n    } */\r\n\r\n    watch(reactive, (/* state: ReactiveState<any> */) => {\r\n      const state = reactive;\r\n      if (isconnected(element)) {\r\n        changetext(textnode, String(state));\r\n      }\r\n    });\r\n    const element = textnode;\r\n    set(element, bindstatesymbol, new Set());\r\n    // element[bindstatesymbol] = new Set();\r\n    (get(element, bindstatesymbol) as Set<ReactiveState<any>>).add(reactive);\r\n    // element[bindstatesymbol].add(reactive);\r\n    return textnode;\r\n  } else if (\r\n    isVirtualdom(vdom)\r\n    //vdom instanceof Virtualdom && \"type\" in vdom\r\n  ) {\r\n    let { type } = vdom;\r\n    if (isfunction(type)) {\r\n      type = autocreateclass(type);\r\n      // debugger;\r\n    }\r\n    let element:\r\n      | Element\r\n      | HTMLElement\r\n      | SVGSVGElement\r\n      | SVGElement\r\n      | undefined = undefined;\r\n    if (typeof type === \"string\") {\r\n      if (type === \"script\") {\r\n        /*  */\r\n\r\n        return createDocumentFragment();\r\n      } else if (type === \"svg\") {\r\n        /* svg?svg */\r\n        element = createsvgelement();\r\n      } else if (type === \"math\") {\r\n        /* svg?svg */\r\n        element = createmathelement();\r\n      } else if (\"\" === type || type === \"html\") {\r\n        const fragmentnode = createDocumentFragment();\r\n\r\n        mount(render(vdom.children), fragmentnode);\r\n\r\n        return fragmentnode;\r\n        //html\r\n        // return render(vdom.children);\r\n        // element = createDocumentFragment();\r\n      } else {\r\n        element = namespace\r\n          ? createElementNS(namespace, type)\r\n          : createnativeelement(type);\r\n      }\r\n    } else if (typeof type == \"function\") {\r\n      //props\r\n\r\n      /*static defaultProps = {\r\n        name: 'Omi',\r\n        myAge: 18\r\n  }*/\r\n      if (isobject(type[\"defaultProps\"])) {\r\n        /*  readonly props*/\r\n        Object.assign(\r\n          vdom.props,\r\n          JSON.parse(JSON.stringify({ ...type[\"defaultProps\"], ...vdom.props }))\r\n        );\r\n        /* vdom.props = JSON.parse(\r\n          JSON.stringify({ ...type[\"defaultProps\"], ...vdom.props })\r\n        ); */\r\n      }\r\n\r\n      const propsjson = JSON.parse(\r\n        JSON.stringify({\r\n          ...vdom.props,\r\n          ...Object.fromEntries(\r\n            Object.entries(vdom.bindattr).map(([key, value]) => {\r\n              return [key, value.value];\r\n            })\r\n          )\r\n        })\r\n      );\r\n      element = createcostumelemet(\r\n        type,\r\n        propsjson,\r\n        vdom.children\r\n        // vdom.options\r\n      );\r\n    } else {\r\n      throwinvalideletype(vdom);\r\n      // throw TypeError(\"invalid element type!\");\r\n    }\r\n    /*  if (element) {\r\n      const attribute1: { [key: string]: any } = createeleattr(element);\r\n      Object.assign(\r\n        attribute1,\r\n\r\n        /* false */\r\n    //     vdom.props\r\n    //     // Object.fromEntries(Object.entries(vdom.props).filter())\r\n    //   );\r\n    // } */\r\n    // apply(handleprops)\r\n\r\n    /* children, */\r\n    /* web components childnodes,slot */\r\n    /* https://webkit.org/blog/4096/introducing-shadow-dom-api/ */\r\n    /*  */\r\n    /* https://developer.mozilla.org/zh-CN/docs/Web/API/Element/slot */\r\n    if (\r\n      type &&\r\n      (isfunction(type) || isstring(type))\r\n      // /\r\n      //   /\r\n\r\n      /* typeof type !== \"function\" */\r\n    ) {\r\n      /* children, */\r\n      if (\r\n        !iscomponent(type)\r\n        // componentsymbol !== type[componentsymbol]\r\n      ) {\r\n        if (element) {\r\n          mount(\r\n            vdom.children.map(e => {\r\n              if (type === \"svg\" && isVirtualdom(e)) {\r\n                /* svg?svg */\r\n                //   element.innerHTML = element.innerHTML;\r\n                return render(e, svgnamespace);\r\n              } else if (type === \"math\" && isVirtualdom(e)) {\r\n                return render(e, mathnamespace);\r\n              } else if (namespace && isVirtualdom(e)) {\r\n                return render(e, namespace);\r\n              } else {\r\n                return render(e as any) as any;\r\n              }\r\n            }),\r\n\r\n            element\r\n          );\r\n          //   return element;\r\n        }\r\n      }\r\n    }\r\n    /* select,value, option,,\r\n    \r\n    children,attributes,\r\n    */\r\n    if (element) {\r\n      handleprops(element, vdom);\r\n    }\r\n\r\n    return element as Node | Element;\r\n  } else {\r\n    throwinvalideletype(vdom);\r\n    // throw TypeError(\"invalid element type!\");\r\n  }\r\n  //   throw Error();\r\n  //   throwinvalideletype();\r\n\r\n  /* console.error(vdom);\r\n  throw new Error(); */\r\n  //   return;\r\n  //   throw new Error();\r\n}\r\n","import { Class, Custom } from \"./customclass\";\r\n//import setlikearray from \"./setlikearay\";\r\n// const customElementsarray = new Set;\r\nimport RandomDefineCustomElement, {\r\n  invalid_custom_element_class\r\n} from \"./CustomElementRegistry\";\r\nimport { construct } from \"../UtilTools/reflect\";\r\nimport { isclassextendsHTMLElement } from \"./isclassextendsHTMLElement\";\r\nimport { autocreateclass } from \"src/AttributeClass/createComponent\";\r\nimport { isfunction } from \"src/UtilTools/util\";\r\n\r\n// import Reflect from \"./reflect\";\r\n\r\n// import { Class } from \"./rendervdomtoreal\";\r\n\r\nexport function createcostumelemet(\r\n  initclass: Class | Custom,\r\n  propsjson?: object,\r\n  children?: any[]\r\n  //   options?: any\r\n): HTMLElement {\r\n  let type = initclass;\r\n  if (isfunction(type)) {\r\n    type = autocreateclass(type);\r\n    // debugger;\r\n  }\r\n  initclass = type;\r\n  if (isclassextendsHTMLElement(initclass)) {\r\n    // customElementsarray.push(initclass);\r\n    /*   const elementname =\r\n     getcustomelementname(initclass); */\r\n    /* if (customElements.get(elementname) === initclass) {\r\n    } else {\r\n      customElements.define(elementname, initclass);\r\n    } */\r\n    RandomDefineCustomElement(initclass);\r\n    return construct(initclass, [propsjson, children /* , options */]); // (children);\r\n  } else {\r\n    console.error(initclass);\r\n    console.error(invalid_custom_element_class);\r\n    throw TypeError();\r\n  }\r\n}\r\n","import createeleattr from \"@masx200/dom-element-attribute-agent-proxy\";\r\nimport ReactiveState, { isReactiveState } from \"../Reactivity/ReactiveState\";\r\nimport watch from \"src/Reactivity/watch\";\r\nimport { isconnected } from \"src/UtilTools/isconnected\";\r\nimport { get, has, set } from \"src/UtilTools/reflect\";\r\nimport { isfunction } from \"src/UtilTools/util\";\r\nimport Virtualdom from \"../CreateElement/VirtualElement\";\r\nimport directives from \"../Directives/directives\";\r\nimport { onevent } from \"./handle-onevent\";\r\nimport { bindstatesymbol /* virtualdomsymbol */ } from \"./render-vdom-to-real\";\r\n\r\nexport default handleprops;\r\nfunction handleprops(\r\n  element: HTMLElement | Element | SVGSVGElement | SVGElement,\r\n  vdom: Virtualdom<any>\r\n) {\r\n  /* if (!vdom.element) {\r\n    vdom.element = element;\r\n  }\r\n */\r\n  vdom.element.push(element);\r\n  /*  if (vdom.element.length > 1) {\r\n    console.log(vdom);\r\n  } */\r\n  ((element, vdom) => {\r\n    Object.entries(vdom.directives).forEach(([name, value]) => {\r\n      if (\r\n        isfunction(\r\n          directives[name]\r\n        ) /* typeof directives[name] === \"function\" */\r\n        /*name in directives &&*/\r\n      ) {\r\n        directives[name](value, element, vdom);\r\n      } else {\r\n        console.error(vdom.directives);\r\n        console.error(\"invalid directives \" + name);\r\n        throw new Error();\r\n      }\r\n    });\r\n\r\n    const attribute1: Record<string, any> = createeleattr(element);\r\n    Object.assign(\r\n      attribute1,\r\n\r\n      /* false */\r\n      vdom.props\r\n      // Object.fromEntries(Object.entries(vdom.props).filter())\r\n    );\r\n    /*  */\r\n    // set(element, virtualdomsymbol, vdom);\r\n    // element[virtualdomsymbol] = vdom;\r\n    /* ,dom */\r\n\r\n    /*  */\r\n\r\n    Object.entries(vdom.bindattr).forEach(([key, primitivestate]) => {\r\n      attribute1[key] = primitivestate.valueOf();\r\n      watch(primitivestate, (/* state: ReactiveState<any> */) => {\r\n        const state = primitivestate;\r\n        if (isconnected(element)) {\r\n          attribute1[key] = state.valueOf();\r\n        }\r\n      });\r\n      /*     primitivestate[subscribesymbol]();\r\n        requestAnimationFrame(() => {\r\n          primitivestate[addallistenerssymbol]();\r\n        }); */\r\n    });\r\n\r\n    /*  */\r\n\r\n    /*  if (!element[eventlistenerssymbol]) {\r\n        element[eventlistenerssymbol] = [];\r\n      }\r\n  */\r\n    Object.entries(vdom.onevent).forEach(([event, callbacks]) => {\r\n      onevent(element, event, callbacks);\r\n    });\r\n  })(element, vdom);\r\n  /*  if (!element[bindstatesymbol]) {\r\n      element[bindstatesymbol] = new Set();\r\n    }\r\n  */\r\n  [...Object.values(vdom.bindattr), ...Object.values(vdom.directives)]\r\n    .flat(1 / 0)\r\n    .filter(\r\n      e => isReactiveState(e)\r\n      // e instanceof ReactiveState\r\n    )\r\n\r\n    .forEach((e: ReactiveState<any>) => {\r\n      if (!has(element, bindstatesymbol)) {\r\n        set(element, bindstatesymbol, new Set());\r\n        // element[bindstatesymbol] = new Set();\r\n      }\r\n      (get(element, bindstatesymbol) as Set<ReactiveState<any>>).add(e);\r\n      //   element[bindstatesymbol].add(e);\r\n    });\r\n}\r\n","import createElement from \"../CreateElement/create-element\";\r\nimport render from \"../RenderVirtual/render-vdom-to-real\";\r\n\r\nconst componentsstylesheet: Map<string, Set<string>> = new Map();\r\n// { [key: string]: Set<string> }\r\n\r\nexport { componentsstylesheet };\r\n\r\nexport function createlinkstylesheet(url: string): HTMLLinkElement {\r\n  return render(\r\n    createElement(\"link\", { href: url, rel: \"stylesheet\" })\r\n  ) as HTMLLinkElement;\r\n}\r\n","export { createcssBlob };\r\nfunction createcssBlob(source: string): string {\r\n  const cachedBlob = sourcecssblobCache.get(source);\r\n  if (cachedBlob) {\r\n    return cachedBlob;\r\n  } else {\r\n    const bloburl = URL.createObjectURL(\r\n      new Blob([source], { type: \"text/css\" })\r\n    );\r\n    sourcecssblobCache.set(source, bloburl);\r\n    return bloburl;\r\n  }\r\n}\r\nconst sourcecssblobCache = new Map<string, string>();\r\n","import { componentsstylesheet } from \"./parsecss-transformcss\";\r\nimport { get, set } from \"src/UtilTools/reflect\";\r\nimport { createcssBlob } from \"./create-cssurlblob\";\r\n\r\nexport function savestyleblob(\r\n  tagname: string,\r\n  csstext?: string,\r\n  urltext?: string\r\n) {\r\n  tagname = tagname.toLowerCase();\r\n  const prefix = tagname;\r\n  if (\r\n    !get(componentsstylesheet, prefix)\r\n    // componentsstylesheet[tagname]\r\n  ) {\r\n    set(componentsstylesheet, tagname, new Set());\r\n    // componentsstylesheet[tagname] = ;\r\n  }\r\n  if (csstext) {\r\n    get(componentsstylesheet, prefix).add(createcssBlob(csstext));\r\n  } else if (urltext) {\r\n    get(componentsstylesheet, prefix).add(urltext);\r\n  }\r\n}\r\n","import {\r\n  isCSSImportRule,\r\n  isCSSMediaRule,\r\n  //   isCSSRule,\r\n  isCSSStyleRule\r\n} from \"./isCSSRule\";\r\nimport { prefixcssmediarule } from \"./prefix-cssmediarule\";\r\nimport { savestyleblob } from \"./savestyleblob\";\r\nimport { selectoraddprefix } from \"./selectoraddprefix\";\r\n// import { isundefined } from \"src/UtilTools/util\";\r\n\r\nexport function prefixcssrules(\r\n  cssRulesarray: Array<CSSRule>,\r\n  prefix: string\r\n): Array<CSSRule> {\r\n  return cssRulesarray\r\n    .map((cssrule: CSSRule) => {\r\n      if (isCSSStyleRule(cssrule)) {\r\n        const resultoutput = selectoraddprefix(cssrule, prefix);\r\n        // console.log(resultoutput);\r\n        return resultoutput;\r\n      } else if (isCSSMediaRule(cssrule)) {\r\n        /*  selectoraddprefix,*/\r\n\r\n        // return cssrule;\r\n\r\n        return prefixcssmediarule(cssrule, prefix);\r\n      } else if (isCSSImportRule(cssrule)) {\r\n        //url\r\n        savestyleblob(prefix, undefined, cssrule.href);\r\n        return;\r\n      } else {\r\n        return cssrule;\r\n      }\r\n    })\r\n    .filter(Boolean) as Array<CSSRule>;\r\n}\r\n","import { gettagtype } from \"src/UtilTools/util\";\r\n\r\nexport function isCSSStyleRule(a: any): a is CSSStyleRule {\r\n  return gettagtype(a) === \"CSSStyleRule\";\r\n}\r\nexport function isCSSMediaRule(a: any): a is CSSMediaRule {\r\n  return gettagtype(a) === \"CSSMediaRule\";\r\n}\r\nexport function isCSSImportRule(a: any): a is CSSImportRule {\r\n  return gettagtype(a) === \"CSSImportRule\";\r\n}\r\nexport function isCSSRule(a: any): a is CSSRule {\r\n  return a instanceof CSSRule;\r\n}\r\n","// import { get } from \"src/UtilTools/reflect\";\r\n/*  selectoraddprefix,*/\r\nexport function selectoraddprefix(cssstylerule: CSSStyleRule, prefix: string) {\r\n  /* Edge CSSStyleRuleselectorText?*/\r\n  //css \r\n  //h1,p,h3,div\r\n  const selectorold = cssstylerule.selectorText;\r\n  const stylebodyold = cssstylerule.cssText.slice(selectorold.length);\r\n  const selectorTextss = selectorold;\r\n\r\n  const selectorarray = selectorTextss.split(\",\");\r\n  const selectoraftertransform = selectorarray\r\n    .map(selectorTextone => {\r\n      let prefixselector = prefix + \" \" + selectorTextone;\r\n\r\n      if (selectorTextone.startsWith(\"*\")) {\r\n        prefixselector =\r\n          prefixselector + \",\" + selectorTextone.replace(\"*\", prefix);\r\n      }\r\n      return prefixselector;\r\n    })\r\n    .join(\",\");\r\n\r\n  /*   cssstylerule.selectorText = selectoraftertransform;\r\n    if (cssstylerule.selectorText.startsWith(prefix)) {\r\n      return cssstylerule;\r\n    } else { */\r\n  // console.trace();\r\n  return {\r\n    /* , */\r\n    // type: cssstylerule.type,\r\n    // parentRule: cssstylerule.parentRule,\r\n    // parentStyleSheet: cssstylerule.parentStyleSheet,\r\n    // style: cssstylerule.style,\r\n    // styleMap: get(cssstylerule, \"styleMap\"),\r\n    selectorText: selectoraftertransform,\r\n    cssText: selectoraftertransform + stylebodyold,\r\n    // cssText: selectoraftertransform + stylebodyold,\r\n    // selectorText: selectoraftertransform,\r\n    [Symbol.toStringTag]: \"CSSStyleRule\"\r\n  };\r\n  // }\r\n\r\n  /*\r\n    const prefixselector = prefix + \" \" + selectorText;\r\n    if (selectorText.startsWith(\"*\")) {\r\n      cssstylerule.selectorText =\r\n        selectorText.replace(\"*\", prefix) + \",\" + prefixselector;\r\n      /* '* ',selectorrule*/\r\n\r\n  /* \r\n      *{font-size:80px !important;}\r\n  p{color:blue !important;} \r\n  */\r\n  /* \r\n      \r\n      q-9, q-9 * { font-size: 80px !important; }\r\n  q-9 p { color: blue !important; }\r\n  \r\n      */\r\n  /* } else {\r\n      cssstylerule.selectorText = prefixselector;\r\n    }\r\n  */\r\n}\r\n","import { prefixcssrules } from \"./transform-prefix-cssrules\";\r\nimport { cssrulestocsstext } from \"./cssrulestocsstext\";\r\n\r\nexport function prefixcssmediarule(cssrule: CSSMediaRule, prefix: string) {\r\n  const rulesarr = prefixcssrules([...cssrule.cssRules], prefix);\r\n  const conditionText = cssrule.conditionText;\r\n  const cssText =\r\n    cssrule.cssText.slice(0, 7) +\r\n    conditionText +\r\n    \"{\" +\r\n    cssrulestocsstext(rulesarr) +\r\n    \"}\";\r\n  return {\r\n    cssText,\r\n    conditionText,\r\n    cssRules: rulesarr,\r\n    [Symbol.toStringTag]: \"CSSMediaRule\"\r\n  };\r\n}\r\n","import { render } from \"src/RenderVirtual/render-vdom-to-real\";\r\nimport createElement from \"src/CreateElement/create-element\";\r\nimport { createanotherhtmldocument, appendchild } from \"src/UtilTools/dom\";\r\nimport { get } from \"src/UtilTools/reflect\";\r\n\r\nexport function parsecsstext(text: string): Array<CSSRule> {\r\n  const styleelement = render(\r\n    createElement(\"style\", [text])\r\n  ) as HTMLStyleElement;\r\n  //   console.dir(styleelement);\r\n  /* documentsheet */\r\n  //const otherdocument = document.implementation.createHTMLDocument(\"\");\r\n  const otherdocument = createanotherhtmldocument();\r\n  appendchild(otherdocument.documentElement, styleelement);\r\n  //otherdocument.firstElementChild.appendChild(styleelement);\r\n  return Array.from(\r\n    get(\r\n      get(styleelement, \"sheet\"),\r\n\r\n      \"cssRules\"\r\n    )\r\n  );\r\n}\r\n","// import { parsecsstext } from \"./parsecss-transformcss\";\r\nimport { prefixcssrules } from \"./transform-prefix-cssrules\";\r\nimport { cssrulestocsstext } from \"./cssrulestocsstext\";\r\nimport { parsecsstext } from \"./parsecsstext\";\r\n\r\nexport function transformcsstext(text: string, prefix: string): string {\r\n  const cachedtext = oldcsstotransformedcss.get(text);\r\n  if (cachedtext) {\r\n    return cachedtext;\r\n  } else {\r\n    const css = text;\r\n    const cssomold = parsecsstext(css);\r\n    const cssomnew = prefixcssrules(cssomold, prefix).filter(Boolean);\r\n    //   console.log(cssomnew);\r\n    //   console.log([css, prefix, cssomold, cssomnew]);\r\n    const cssnewtext = cssrulestocsstext(cssomnew);\r\n    //   console.log([text, cssomold, cssomnew, cssnewtext]);\r\n    oldcsstotransformedcss.set(text, cssnewtext);\r\n    return cssnewtext;\r\n  }\r\n}\r\nconst oldcsstotransformedcss = new Map<string, string>();\r\n","import { transformcsstext } from \"./transformcsstext\";\r\nimport { savestyleblob } from \"./savestyleblob\";\r\n// import { savestyleblob } from \"./parsecss-transformcss\";\r\n\r\nexport function registercssprefix(text: string, prefix: string) {\r\n  //   debugger;\r\n  //   console.trace();\r\n  const css = text;\r\n  const cssnewtext = transformcsstext(css, prefix);\r\n  //   cssnewtext.forEach(url => {\r\n  /* cssurl */\r\n  savestyleblob(prefix, cssnewtext);\r\n  //   });\r\n}\r\n","import {\r\n  componentsstylesheet,\r\n  createlinkstylesheet\r\n  //   loadlinkstyle\r\n} from \"./parsecss-transformcss\";\r\nimport { querySelectorAll } from \"src/UtilTools/dom\";\r\nimport { get } from \"src/UtilTools/reflect\";\r\nimport { loadlinkstyle } from \"./loadlinkstyle\";\r\n\r\nexport function waitloadallstyle(\r\n  prefix: string,\r\n  containerthis: Element | HTMLElement | SVGSVGElement | SVGElement\r\n) {\r\n  return Promise.all(\r\n    [...get(componentsstylesheet, prefix)].map(styleurl => {\r\n      if (\r\n        querySelectorAll(`link[rel=\"stylesheet\"][href=\"${styleurl}\"]`).length\r\n      ) {\r\n        return Promise.resolve();\r\n      } else {\r\n        /* linkstylesheet, */\r\n        return loadlinkstyle(createlinkstylesheet(styleurl), containerthis);\r\n      }\r\n    })\r\n  );\r\n}\r\n","import { appendchild } from \"src/UtilTools/dom\";\r\n\r\nexport function loadlinkstyle(\r\n  stylelinkelement: HTMLElement,\r\n  container: HTMLElement | Element | SVGSVGElement | SVGElement\r\n): Promise<void> {\r\n  return new Promise(rs => {\r\n    const loaderrorfun = () => {\r\n      stylelinkelement.onload = stylelinkelement.onerror = null;\r\n      rs();\r\n      //   console.log(stylelinkelement.href);\r\n    };\r\n    stylelinkelement.onload = loaderrorfun;\r\n    stylelinkelement.onerror = loaderrorfun;\r\n    appendchild(container, stylelinkelement);\r\n  });\r\n}\r\n","export default function<T extends object>(target: T): T {\r\n  return new Proxy(target, {\r\n    set() {\r\n      return true;\r\n    },\r\n    defineProperty() {\r\n      return false;\r\n    },\r\n    deleteProperty() {\r\n      return false;\r\n    },\r\n    setPrototypeOf() {\r\n      return false;\r\n    }\r\n  });\r\n}\r\n","export function setimmediate(fun: Function) {\r\n  return Promise.resolve().then(() => fun());\r\n}\r\n","import {\r\n  innerstatesymbol,\r\n  innerwatchrecords\r\n} from \"../AttributeClass/createComponent\";\r\nimport { cached_callback_eventlistner } from \"../cached-map\";\r\nimport { isNode } from \"../MountElement/isNodeArray\";\r\n// import { isNode } from \"./MountElement/MountElement\";\r\nimport ReactiveState, {\r\n  addonelistner,\r\n  dispatchsymbol,\r\n  //   callbackmap,\r\n  removeonelistner\r\n} from \"../Reactivity/ReactiveState\";\r\nimport { rewatch /* , unwatch */, unwatch } from \"../Reactivity/watch\";\r\nimport {\r\n  readdlisteners,\r\n  removelisteners\r\n} from \"../RenderVirtual/handle-onevent\";\r\nimport { bindstatesymbol } from \"../RenderVirtual/render-vdom-to-real\";\r\nimport { getchildNodes } from \"../UtilTools/dom\";\r\nimport { get, has } from \"../UtilTools/reflect\";\r\nimport { isArray } from \"../UtilTools/util\";\r\n\r\nexport function onmounted(ele: Element | Node | Array<Node>) {\r\n  if (isArray(ele)) {\r\n    ele.forEach(e => {\r\n      onmounted(e);\r\n    });\r\n  } else if (\r\n    isNode(ele)\r\n    //   ele instanceof Node\r\n  ) {\r\n    // if (has(ele, eventlistenerssymbol)) {\r\n    readdlisteners(ele);\r\n    // }\r\n    //\r\n    if (\r\n      has(ele, bindstatesymbol)\r\n      // ele[bindstatesymbol]\r\n    ) {\r\n      (get(ele, bindstatesymbol) as ReactiveState<any>[])\r\n\r\n        /*  ele[bindstatesymbol] */\r\n        .forEach((state: ReactiveState<any>) => {\r\n          rewatch(state);\r\n\r\n          /* dom */\r\n          state[dispatchsymbol]();\r\n        });\r\n    }\r\n    if (\r\n      has(ele, innerstatesymbol)\r\n      //   ele[innerstatesymbol]\r\n    ) {\r\n      (get(ele, innerstatesymbol) as ReactiveState<any>[]).forEach(\r\n        (state: ReactiveState<any>) => {\r\n          rewatch(state);\r\n        }\r\n      );\r\n    }\r\n    // readdlisteners(ele);\r\n    /* watchstatecallback,\r\nremoveeventlistener,\r\naddeventlistener\r\n*/\r\n    if (has(ele, innerwatchrecords)) {\r\n      const watchrecords = get(ele, innerwatchrecords) as [\r\n        ReactiveState<any>,\r\n        Function\r\n      ][];\r\n      watchrecords.forEach(([state, callback]) => {\r\n        const eventlistener = cached_callback_eventlistner.get(callback);\r\n        /*   if (!eventlistener) {\r\n          throw new Error();\r\n        } */\r\n        if (eventlistener) {\r\n          state[addonelistner](eventlistener);\r\n        }\r\n      });\r\n    }\r\n    onmounted(getchildNodes(ele));\r\n  }\r\n\r\n  //\r\n}\r\nexport function onunmounted(ele: Element | Node | Array<Node>) {\r\n  if (isArray(ele)) {\r\n    ele.forEach(e => {\r\n      onunmounted(e);\r\n    });\r\n  } else if (\r\n    isNode(ele)\r\n    //   ele instanceof Node\r\n  ) {\r\n    // if (\r\n    //   has(ele, eventlistenerssymbol)\r\n    //   // ele[eventlistenerssymbol]\r\n    // ) {\r\n    removelisteners(ele);\r\n    // }\r\n    /*   if (ele[bindstatesymbol]) {\r\n      ele[bindstatesymbol].forEach((state: ReactiveState) => {\r\n        unwatch(state);\r\n      });\r\n */\r\n    // readdlisteners(ele);\r\n    // }\r\n    //\r\n    /* unwatch ReactiveState*/\r\n    if (\r\n      has(ele, innerstatesymbol)\r\n      // ele[innerstatesymbol]\r\n    ) {\r\n      (get(ele, innerstatesymbol) as ReactiveState<any>[]).forEach(\r\n        (state: ReactiveState<any>) => {\r\n          unwatch(state);\r\n        }\r\n      );\r\n    }\r\n    if (has(ele, innerwatchrecords)) {\r\n      const watchrecords = get(ele, innerwatchrecords) as [\r\n        ReactiveState<any>,\r\n        Function\r\n      ][];\r\n      watchrecords.forEach(([state, callback]) => {\r\n        const eventlistener = cached_callback_eventlistner.get(callback);\r\n        /*  if (!eventlistener) {\r\n          throw new Error();\r\n        } */\r\n        if (eventlistener) {\r\n          state[removeonelistner](eventlistener);\r\n        }\r\n      });\r\n    }\r\n    onunmounted(getchildNodes(ele));\r\n  }\r\n}\r\n","export const readysymbol = Symbol(\"readystate\");\r\n","import createeleattragentreadwrite from \"@masx200/dom-element-attribute-agent-proxy\";\r\nimport { setimmediate } from \"src/UtilTools/setimmediate\";\r\nimport {\r\n  onmounted,\r\n  onunmounted\r\n} from \"../mounted-unmounted/element-onmount-unmount\";\r\nimport { get } from \"../UtilTools/reflect\";\r\nimport { isFunction, isfunction, isobject } from \"../UtilTools/util\";\r\nimport { readysymbol } from \"./readysymbol\";\r\nexport const attributeChangedCallback = Symbol(\"attributeChanged\");\r\nexport const firstinstalledcallback = Symbol(\"firstinstalled\");\r\n/* \r\n\r\n super.disconnectedCallback();\r\n\r\n babel?\r\n\r\n  connectedCallback() {\r\n            //    return _asyncToGenerator((function*() {}\r\n                ))();\r\n            }\r\n            disconnectedCallback() {\r\n               // return _asyncToGenerator((function*() {}\r\n                ))();\r\n            }\r\n*/\r\nexport function connectedCallback(componentelement: HTMLElement) {\r\n  AttrChange.prototype.connectedCallback.call(componentelement);\r\n}\r\n\r\nexport function disconnectedCallback(componentelement: HTMLElement) {\r\n  AttrChange.prototype.disconnectedCallback.call(componentelement);\r\n}\r\nexport class AttrChange extends HTMLElement {\r\n  //   abstract [firstinstalledcallback]();\r\n  disconnectedCallback() {\r\n    setimmediate(() => {\r\n      onunmounted(this);\r\n    });\r\n  }\r\n  connectedCallback() {\r\n    setimmediate(() => {\r\n      if (!this[readysymbol]) {\r\n        this[readysymbol] = true;\r\n        const callback = get(this, firstinstalledcallback);\r\n        if (isfunction(callback)) {\r\n          // get(this,firstinstalledcallback)\r\n          setimmediate(() => {\r\n            callback.call(this);\r\n          });\r\n        }\r\n      }\r\n      onmounted(this);\r\n    });\r\n\r\n    // onmounted(this);\r\n  }\r\n  [readysymbol] = false;\r\n  // [attributessymbol]: Record<string, ReactiveState<any>>;\r\n  constructor() {\r\n    super();\r\n    const defaultProps = get(this.constructor, \"defaultProps\");\r\n    // this.constructor[\"defaultProps\"];\r\n    const attrs: Record<string, any> = createeleattragentreadwrite(this);\r\n    //   const props = {};\r\n    if (isobject(defaultProps)) {\r\n      /*     if (!this[attributessymbol]) {\r\n        this[attributessymbol] = {};\r\n      } */\r\n      Object.assign(attrs, defaultProps);\r\n      // Object.assign(props, this.constructor[\"defaultProps\"]);\r\n    }\r\n\r\n    // mutation observer setattribute\r\n    new MutationObserver(mutations => {\r\n      mutations.forEach(mutation => {\r\n        if (mutation.type == \"attributes\") {\r\n          console.log(\r\n            \"The \" + mutation.attributeName + \" attribute was modified.\"\r\n          );\r\n          const callback = get(this, attributeChangedCallback);\r\n\r\n          let qualifiedName = mutation.attributeName;\r\n          if (\r\n            qualifiedName &&\r\n            isFunction(\r\n              callback\r\n              // this[attributeChangedCallback]\r\n            )\r\n          ) {\r\n            // setimmediate(() => {\r\n            callback.call(this, qualifiedName);\r\n            // });\r\n          }\r\n        }\r\n      });\r\n    }).observe(this, { attributes: true });\r\n  }\r\n  //   [attributeChangedCallback](name?: string): void;\r\n  // prototype!: HTMLElement;\r\n  /*  defaultProps?: { [key: string]: any } | undefined;\r\n  css?: string | undefined; */\r\n  /* constructor() {\r\n    super();\r\n  } */\r\n\r\n  /* seteletext,children */\r\n  //   get textContent() {\r\n  //     return String(super.textContent || \"\");\r\n  //   }\r\n  //   set textContent(_a: string) {\r\n  //     console.trace();\r\n  //     // return;\r\n  //   }\r\n  //   get innerHTML() {\r\n  //     return super.innerHTML;\r\n  //   }\r\n  //   set innerHTML(_a: string) {\r\n  //     // return;\r\n  //   }\r\n  //   get innerText() {\r\n  //     return super.innerText;\r\n  //   }\r\n  //   set innerText(_a: string) {\r\n  //     // return;\r\n  //   }\r\n  // [attributeChangedCallback](\r\n  //   name: string\r\n\r\n  /* _name?: any, _oldValue?: any, _newValue?: any */\r\n  // ) {\r\n  //   noop(name);\r\n  //\r\n  //  }\r\n  /* constructor() {\r\n    super();\r\n  } */\r\n\r\n  //innerhtmlinnertexttextcontent\r\n  /* disconnectedCallback() {\r\n  //console.log('Custom square element removed from page.');\r\n} */\r\n  /* connectedCallback() {\r\n  //console.log('Custom square element added to page.');\r\n  updateStyle(this);\r\n} */\r\n  //\r\n  //   connectedCallback(){}\r\n  /* attributeChangedCallback(name, oldValue, newValue) {\r\n  //console.log('Custom square element attributes changed.');\r\n  updateStyle(this);\r\n} */\r\n  //   setAttribute(qualifiedName: string, value: string) {\r\n  //     const callback = get(this, attributeChangedCallback);\r\n  //     const oldValue = getAttribute(this, qualifiedName);\r\n  //     // super.getAttribute(qualifiedName);\r\n\r\n  //     if (oldValue !== value) {\r\n  //       setAttribute(this, qualifiedName, value);\r\n  //       //   super.setAttribute(qualifiedName, value);\r\n  //       if (\r\n  //         isFunction(\r\n  //           callback\r\n  //           // this[attributeChangedCallback]\r\n  //         )\r\n  //       ) {\r\n  //         // setimmediate(() => {\r\n  //         callback.call(this, qualifiedName, oldValue, value);\r\n  //         // });\r\n  //       }\r\n  //     }\r\n  //   }\r\n  //   removeAttribute(qualifiedName: string) {\r\n  //     const callback = get(this, attributeChangedCallback);\r\n  //     const oldValue = getAttribute(this, qualifiedName);\r\n\r\n  //     if (null !== oldValue) {\r\n  //       //   super.removeAttribute(qualifiedName);\r\n  //       removeAttribute(this, qualifiedName);\r\n  //       if (isFunction(callback)) {\r\n  //         // setimmediate(() => {\r\n  //         callback.call(this, qualifiedName, oldValue, undefined);\r\n  //         // });\r\n  //       }\r\n  //     }\r\n  //   }\r\n}\r\n","const waittranformcsssymbol = Symbol(\"waittranformcss\");\r\nexport const innerwatchrecords = Symbol(\"innerwatchrecord\");\r\nexport const innerstatesymbol = Symbol(\"innerstate\");\r\nimport createeleattragentreadwrite from \"@masx200/dom-element-attribute-agent-proxy\";\r\nimport { isvalidvdom } from \"src/CreateElement/isvalidvdom\";\r\nimport { isclassextendsHTMLElement } from \"src/CustomClass/isclassextendsHTMLElement\";\r\nimport { registercssprefix } from \"src/ScopedCSS/registercssprefix\";\r\nimport { waitloadallstyle } from \"src/ScopedCSS/waitloadallstyle\";\r\nimport { cached_create_componet } from \"../cached-map\";\r\n// import { Class } from \"./rendervdomtoreal\";\r\nimport Virtualdom, { Vdomchildren } from \"../CreateElement/VirtualElement\";\r\nimport { Custom } from \"../CustomClass/customclass\";\r\nimport {\r\n  closectx,\r\n  getMounted,\r\n  getstates,\r\n  getUnMounted,\r\n  getwatchrecords,\r\n  invalid_Function,\r\n  openctx\r\n} from \"../mounted-unmounted/Component-context\";\r\n// import { isvalidvdom } from \"../CreateElement/html\";\r\n// import { Promise } from \"q\";\r\n// import { inflate } from \"zlib\";\r\n// import { componentsymbol } from \"./iscomponent\";\r\n// import { insertfirst } from \"./dom\";\r\nimport mount from \"../MountElement/mount-real-element\";\r\nimport {\r\n  /* createApp, */ invalid_Virtualdom\r\n} from \"../MountElement/MountElement\";\r\nimport ReactiveState, {\r\n  dispatchsymbol /* , { dispatchsymbol } */\r\n} from \"../Reactivity/ReactiveState\";\r\nimport readonlyproxy from \"../Reactivity/readonly-proxy\";\r\nimport render from \"../RenderVirtual/render-vdom-to-real\";\r\nimport {\r\n  /* parsecsstext,\r\n                        prefixcssrules,\r\n                        cssrulestocsstext, */\r\n  //   savestyleblob,\r\n  componentsstylesheet\r\n  //   createlinkstylesheet,\r\n  //   transformcsstext,\r\n  //   registercssprefix\r\n  /*  loadlinkstyle,\r\n                        createlinkstylesheet */\r\n  //   savestyleblob\r\n  //   waitloadallstyle\r\n} from \"../ScopedCSS/parsecss-transformcss\";\r\nimport { seteletext } from \"../UtilTools/dom\";\r\nimport { apply, defineProperty, get, set } from \"../UtilTools/reflect\";\r\nimport { setimmediate } from \"../UtilTools/setimmediate\";\r\nimport { toArray } from \"../UtilTools/toArray\";\r\nimport { isfunction, isobject, isstring } from \"../UtilTools/util\";\r\nimport {\r\n  AttrChange,\r\n  attributeChangedCallback,\r\n  connectedCallback,\r\n  disconnectedCallback,\r\n  firstinstalledcallback\r\n} from \"./attr-change\";\r\nimport createcomponent from \"./createComponent\";\r\nimport { componentsymbol } from \"./iscomponent\";\r\nimport { readysymbol } from \"./readysymbol\";\r\nexport const attributessymbol = Symbol(\"attributes\");\r\nconst elementsymbol = Symbol(\"innerelement\");\r\nconst inner_vdom_symbol = Symbol(\"innervdom\");\r\nconst mountedsymbol = Symbol(\"mounted\");\r\nconst unmountedsymbol = Symbol(\"unmounted\");\r\nexport interface Htmlelementconstructor {\r\n  new (): HTMLElement;\r\n  prototype: HTMLElement;\r\n  defaultProps?: Record<string, any>;\r\n  css?: string;\r\n}\r\nfunction createComponent(custfun: Custom): Htmlelementconstructor {\r\n  if (isfunction(custfun)) {\r\n    const cached_class = cached_create_componet.get(custfun);\r\n    if (cached_class) {\r\n      return cached_class;\r\n    }\r\n\r\n    const defaultProps = get(custfun, \"defaultProps\"); //custfun[\"defaultProps\"];\r\n    const css = get(custfun, \"css\");\r\n    class Component extends AttrChange {\r\n      [innerwatchrecords]: [ReactiveState<any>, Function][];\r\n      [attributessymbol]: Record<string, ReactiveState<any>> = {};\r\n      // new (propsjson?: object | undefined, children?: any[] | undefined): HTMLElement\r\n\r\n      //   constructor(...args: any[]);\r\n\r\n      [waittranformcsssymbol]: undefined | (() => Promise<void>);\r\n      constructor(\r\n        propsjson: Record<string, any> = {},\r\n        children: Vdomchildren = [] /* , options?: any */ //   : HTMLElement;\r\n      ) {\r\n        super();\r\n        // this[attributessymbol] = {};\r\n        const css = get(this.constructor, \"css\");\r\n\r\n        if (css) {\r\n          const prefix = this.tagName.toLowerCase();\r\n          if (\r\n            !get(componentsstylesheet, prefix)\r\n            /*  componentsstylesheet[prefix] */\r\n          ) {\r\n            set(componentsstylesheet, prefix, new Set());\r\n            /* css */\r\n            // console.trace();\r\n            this[waittranformcsssymbol] = () => {\r\n              return setimmediate(() => {\r\n                registercssprefix(css, prefix);\r\n              });\r\n            };\r\n\r\n            /* csscssom ,,,blob,link-stylesheet,*/\r\n            /* const cssomold = parsecsstext(css);\r\n                const cssomnew = prefixcssrules(cssomold, prefix);\r\n                //   console.log([css, prefix, cssomold, cssomnew]);\r\n                const cssnewtext = cssrulestocsstext(cssomnew); */\r\n            // const cssnewtext = transformcsstext(css, prefix);\r\n            // savestyleblob(prefix, cssnewtext);\r\n            // console.log(cssnewtext, componentsstylesheet);\r\n          }\r\n        }\r\n        // const defaultProps = get(this.constructor, \"defaultProps\");\r\n        // this.constructor[\"defaultProps\"];\r\n        const attrs: Record<string, any> = createeleattragentreadwrite(this);\r\n        //   const props = {};\r\n        /*    if (isobject(defaultProps)) {\r\n          Object.assign(attrs, defaultProps);\r\n          // Object.assign(props, this.constructor[\"defaultProps\"]);\r\n        } */\r\n        if (isobject(propsjson)) {\r\n          Object.assign(attrs, propsjson);\r\n          // Object.assign(props, propsjson);\r\n        }\r\n        // console.log({ ...attrs });\r\n        //   this[attributessymbol] = createeleattragentreadwrite(this);\r\n        // const props = createeleattragentreadwrite(this);/\r\n        const props = attrs;\r\n        openctx();\r\n\r\n        const thisattributess = Object.fromEntries(\r\n          Object.entries(props).map(([key]) => [\r\n            key,\r\n            (() => {\r\n              /* getterattribute */\r\n              const attributes = createeleattragentreadwrite(this) as Record<\r\n                string,\r\n                any\r\n              >;\r\n              const state = new ReactiveState();\r\n              defineProperty(state, \"value\", {\r\n                get() {\r\n                  return get(attributes, key);\r\n                },\r\n                configurable: true\r\n              });\r\n              //   usestste(state);\r\n              return state;\r\n            })()\r\n          ])\r\n        );\r\n        this[attributessymbol] = thisattributess;\r\n        // console.log({ props, thisattributess });\r\n        // debugger;\r\n        /* attributesreactivestatesinnerstates */\r\n        const readonlyprop = readonlyproxy(\r\n          Object.fromEntries(\r\n            Object.entries(thisattributess).map(([key, value]) => [\r\n              key,\r\n              readonlyproxy(value)\r\n            ])\r\n          )\r\n        );\r\n\r\n        let possiblyvirtualdom:\r\n          | string\r\n          | Virtualdom<any>\r\n          | ReactiveState<any>\r\n          | (string | Virtualdom<any> | ReactiveState<any>)[]\r\n          | any;\r\n        try {\r\n          possiblyvirtualdom = apply(custfun, undefined, [\r\n            readonlyprop,\r\n            children.flat(1 / 0)\r\n          ]);\r\n          /* custfun.call(\r\n            undefined,\r\n            //propsreactivestatevalue\r\n            // readonlyproxy(thisattributess),\r\n            readonlyprop,\r\n            children */\r\n          // );\r\n        } catch (error) {\r\n          closectx();\r\n          console.error(\"error in component\");\r\n          throw error;\r\n        }\r\n        /* \r\n        if (isArray(possiblyvirtualdom)) {\r\n          possiblyvirtualdom = possiblyvirtualdom\r\n            .flat(Infinity)\r\n            .filter(Boolean);\r\n        } */\r\n        possiblyvirtualdom = toArray(possiblyvirtualdom);\r\n        if (isvalidvdom(possiblyvirtualdom)) {\r\n          const vdomarray /* isArray(possiblyvirtualdom)\r\n                ? possiblyvirtualdom\r\n                : [possiblyvirtualdom]; */ = toArray(\r\n            possiblyvirtualdom\r\n          );\r\n          //\r\n          this[inner_vdom_symbol] = vdomarray.flat(Infinity).filter(Boolean);\r\n          this[mountedsymbol] = getMounted();\r\n          this[unmountedsymbol] = getUnMounted();\r\n          this[innerstatesymbol] = getstates();\r\n          this[innerwatchrecords] = getwatchrecords();\r\n          closectx();\r\n        } else {\r\n          closectx();\r\n          console.error(possiblyvirtualdom);\r\n          console.error(invalid_Virtualdom);\r\n          throw TypeError();\r\n        }\r\n\r\n        //   this[mountedsymbol] = getMounted();\r\n        //   this[unmountedsymbol] = getUnMounted();\r\n      }\r\n      //   prototype!: HTMLElement;\r\n      //   defaultProps?: { [key: string]: any } | undefined;\r\n      //  css?: string | undefined;\r\n      [innerstatesymbol]: Array<ReactiveState<any>>;\r\n      static [componentsymbol] = componentsymbol;\r\n      static css = isstring(css) && css ? css : undefined;\r\n      [readysymbol] = false;\r\n      [mountedsymbol]: Array<Function>;\r\n      [unmountedsymbol]: Array<Function>;\r\n      static defaultProps = isobject(defaultProps)\r\n        ? JSON.parse(JSON.stringify(defaultProps))\r\n        : undefined;\r\n\r\n      [elementsymbol]: Array<Node>;\r\n      [inner_vdom_symbol]: Array<\r\n        Virtualdom<any> | ReactiveState<any> | string | number\r\n      >;\r\n      // | undefined;\r\n      [firstinstalledcallback]() {\r\n        const thencallbackfirst = () => {\r\n          /* css */\r\n          seteletext(this, \"\");\r\n          /* link style sheethead */\r\n          return waitloadallstyle(prefix, document.head);\r\n        };\r\n        const thencallbacksecond = () => {\r\n          //   console.log(\"style load all\");\r\n          //   console.log(\"mount1\");\r\n          mount(this[elementsymbol], this, false);\r\n          this[waittranformcsssymbol] = undefined;\r\n        };\r\n        if (!this[elementsymbol]) {\r\n          const innervdom = this[inner_vdom_symbol];\r\n          if (innervdom) {\r\n            this[elementsymbol] = render(innervdom).flat(Infinity);\r\n            this[inner_vdom_symbol] = [];\r\n            /*,  */\r\n          }\r\n        }\r\n\r\n        const css = get(this.constructor, \"css\");\r\n        const prefix = this.tagName.toLowerCase();\r\n        if (css /*  && componentsstylesheet[prefix] */) {\r\n          const waitcallback = this[waittranformcsssymbol];\r\n          if (waitcallback) {\r\n            waitcallback()\r\n              .then(thencallbackfirst)\r\n              .then(thencallbacksecond);\r\n          } else {\r\n            Promise.resolve(thencallbackfirst).then(thencallbacksecond);\r\n          }\r\n\r\n          /*  children */\r\n\r\n          /* css, */\r\n          /* css@import */\r\n          /*  */\r\n          //   console.log(componentsstylesheet[prefix]);\r\n          // if (componentsstylesheet[prefix]) {\r\n          /* const stylelinkelement = createlinkstylesheet(\r\n              componentsstylesheet[prefix]\r\n            ); */\r\n          /*   stylelinkelement.onload = () => {\r\n              mount(this[elementsymbol], this, false);\r\n            };\r\n            stylelinkelement.onerror = () => {\r\n              mount(this[elementsymbol], this, false);\r\n            }; */\r\n          // insertfirst(this, stylelinkelement);\r\n          // }\r\n          /*  Promise.all(\r\n              [...componentsstylesheet[prefix]].map(styleurl =>\r\n                loadlinkstyle(createlinkstylesheet(styleurl), this)\r\n              )\r\n            )\r\n*/\r\n        } else {\r\n          // console.log(\"mount2\");\r\n          mount(this[elementsymbol], this);\r\n        }\r\n      }\r\n      connectedCallback() {\r\n        setimmediate(() => {\r\n          connectedCallback(this);\r\n          // if (!this[elementsymbol]) {\r\n          //   this[elementsymbol] = render(this[vdomsymbol]).flat(Infinity);\r\n          // }\r\n          //    /*  if (!this[readysymbol]) {\r\n          //       this[readysymbol] = true;\r\n          //       /*  */\r\n          //       //   mount(this[elementsymbol], this, false);\r\n          //     } */\r\n          //mounted callback \r\n          this[mountedsymbol].forEach(f => {\r\n            setimmediate(f);\r\n          });\r\n        });\r\n\r\n        // onmounted(this);\r\n        // super.connectedCallback();\r\n      }\r\n      disconnectedCallback() {\r\n        setimmediate(() => {\r\n          disconnectedCallback(this);\r\n          this[unmountedsymbol].forEach(f => {\r\n            setimmediate(f);\r\n          });\r\n        });\r\n\r\n        // onunmounted(this);\r\n        // super.disconnectedCallback();\r\n      }\r\n      [attributeChangedCallback](\r\n        name: string /* , oldValue: any, newValue: any */\r\n      ) {\r\n        // console.log(this[attributessymbol]);\r\n        // if (!this[attributessymbol]) {\r\n        //   this[attributessymbol] = {};\r\n        // }\r\n        if (this[readysymbol]) {\r\n          {\r\n            const propreactivestate = this[attributessymbol][name];\r\n            /*   const attributes = createeleattragentreadwrite(this) as Record<\r\n              string,\r\n              any\r\n            >; */\r\n            if (propreactivestate) {\r\n              /* getterattribute */\r\n              propreactivestate[dispatchsymbol]();\r\n              //   propreactivestate[\"value\"] = attributes[name];\r\n\r\n              /* ReactiveState */\r\n              /*   set(\r\n            get(this, attributessymbol)[name],\r\n            \"value,\",\r\n            (createeleattragentreadwrite(this) as { [key: string]: any })[\r\n              name\r\n            ] as any */\r\n              //   );\r\n              /*   this[attributessymbol][name].value = createeleattragentreadwrite(\r\n            this\r\n          )[name]; */\r\n              //   this[attributessymbol][name][dispatchsymbol]();\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    cached_create_componet.set(custfun, Component);\r\n    return Component;\r\n  } else {\r\n    console.error(custfun);\r\n    console.error(invalid_Function);\r\n    throw TypeError();\r\n  }\r\n}\r\nexport { createcomponent as createComponent };\r\nexport default (custfun: Custom | Htmlelementconstructor) =>\r\n  autocreateclass(custfun);\r\nexport function autocreateclass(\r\n  custfun: Custom | Htmlelementconstructor\r\n): Htmlelementconstructor {\r\n  if (isclassextendsHTMLElement(custfun)) {\r\n    return custfun;\r\n  } else if (isfunction(custfun)) {\r\n    return createComponent(custfun);\r\n  } else {\r\n    throw TypeError();\r\n  }\r\n}\r\n","import h from \"./create-element\";\r\nexport { h };\r\nimport { Class, Custom } from \"../CustomClass/customclass\";\r\nimport ReactiveState from \"../Reactivity/ReactiveState\";\r\nimport { apply } from \"../UtilTools/reflect\";\r\nimport {\r\n  isarray,\r\n  isfunction,\r\n  isplainobject,\r\n  isstring\r\n} from \"../UtilTools/util\";\r\nimport Virtualdom, {\r\n  createVirtualElement,\r\n  Vdomchildren\r\n} from \"./VirtualElement\";\r\nimport {\r\n  autocreateclass,\r\n  Htmlelementconstructor\r\n} from \"../AttributeClass/createComponent\";\r\ntype styleprop =\r\n  | string\r\n  | object\r\n  | ReactiveState<string>\r\n  | ReactiveState<object>;\r\n\r\ntype classprop =\r\n  | string\r\n  | Set<string>\r\n  | Array<string>\r\n  | ReactiveState<string | Set<string> | Array<string>>;\r\nexport interface ElementAttrs {\r\n  style?: styleprop;\r\n  class?: classprop;\r\n  [key: string]: any;\r\n}\r\n\r\nexport default function<T extends Htmlelementconstructor | string | Custom>(\r\n  type: T,\r\n  propsorchildren?: Vdomchildren,\r\n  ...children: Vdomchildren\r\n): Virtualdom<T>;\r\nexport default function<T extends Vdomchildren>(\r\n  type: \"\",\r\n  propsorchildren?: T,\r\n  ...children: T\r\n): T;\r\nexport default function<T extends Vdomchildren>(\r\n  type: \"\",\r\n  props?: ElementAttrs,\r\n  ...children: T\r\n): T;\r\nexport default function<T extends Htmlelementconstructor | string | Custom>(\r\n  type: T,\r\n  props?: ElementAttrs,\r\n  ...children: Vdomchildren\r\n): Virtualdom<T>;\r\n// \r\n/* \r\nh(type,...children)\r\nh(type,children)\r\n*/\r\n\r\nexport default function(\r\n  type?: Htmlelementconstructor | string | Custom,\r\n  propsorchildren?: Vdomchildren | ElementAttrs,\r\n  ...children: Vdomchildren\r\n) {\r\n  if (isfunction(type)) {\r\n    type = autocreateclass(type);\r\n    // debugger;\r\n  }\r\n\r\n  if (isarray(propsorchildren)) {\r\n    return apply(createElement, undefined, [\r\n      type,\r\n      undefined,\r\n      [...propsorchildren, ...children].flat(1 / 0)\r\n    ]);\r\n    /*   createElement(\r\n      type,\r\n      undefined,\r\n      [...propsorchildren, ...children].flat(1 / 0)\r\n    ); */\r\n  } else {\r\n    return apply(createElement, undefined, [\r\n      type,\r\n      propsorchildren,\r\n      ...children\r\n    ]); // createElement(...arguments);\r\n  }\r\n}\r\nfunction createElement<T extends Vdomchildren>(\r\n  type: \"\",\r\n  props?: ElementAttrs,\r\n  ...children: T\r\n): T;\r\nfunction createElement<T extends Function | string>(\r\n  type: T,\r\n  props?: ElementAttrs,\r\n  ...children: Vdomchildren\r\n): Virtualdom<T>;\r\n\r\n/* function createElement<T extends Vdomchildren>(\r\n  type: \"\",\r\n  props?: ElementAttrs,\r\n  ...children: T\r\n): T; */\r\n\r\nfunction createElement<T extends Function | string | Class>(\r\n  type?: T,\r\n  props: ElementAttrs = {},\r\n  ...children: Vdomchildren\r\n): Virtualdom<T> | Vdomchildren {\r\n  // | Array<Virtualdom | string>\r\n  // if(isarray()){}\r\n  /* add fragment element */\r\n  //   console.log(type, props, children);\r\n  let typenormalized: \"\" | Function | string =\r\n    isstring(type) || isfunction(type) ? type : \"\";\r\n  const propsnormalized = isplainobject(props) ? props : {};\r\n  const childrennormalized: Vdomchildren = children\r\n    .flat(Infinity)\r\n    .map(a => (a === 0 ? \"0\" : a))\r\n    .filter(a => !!a);\r\n  if (\r\n    isstring(typenormalized)\r\n    //   typeof typenormalized === \"string\"\r\n  ) {\r\n    typenormalized = typenormalized.trim().toLowerCase();\r\n  }\r\n\r\n  if (\r\n    //typeof typenormalized === \"string\" &&\r\n\r\n    \"\" === typenormalized\r\n  ) {\r\n    return childrennormalized;\r\n  } else {\r\n    /* propsnormalized = Object.fromEntries(\r\n    Object.entries(propsnormalized).map(([key, value]) => [\r\n      key.trim().toLowerCase(),\r\n      value\r\n    ])\r\n  ); */\r\n\r\n    /* return new Virtualdom(\r\n      typenormalized,\r\n      propsnormalized,\r\n      childrennormalized\r\n    ) as Virtualdom<any>;\r\n*/\r\n    return apply(createVirtualElement, undefined, [\r\n      typenormalized,\r\n      propsnormalized,\r\n      childrennormalized\r\n    ]) as Virtualdom<T>;\r\n\r\n    /*  createVirtualElement(\r\n     \r\n    ); */\r\n  }\r\n}\r\n","// declare interface Array<T> {\r\n//   flat(arg0: number): any[];\r\n// }\r\nimport createeleattr from \"@masx200/dom-element-attribute-agent-proxy\";\r\nimport { isvalidvdom, VaildVDom } from \"../CreateElement/isvalidvdom\";\r\nimport createElement from \"../CreateElement/create-element\";\r\n// import createElement from \"./createelement\";\r\nimport Virtualdom, { Vdomchildren } from \"../CreateElement/VirtualElement\";\r\n// const readysymbol = Symbol(\"ready\");\r\nimport {\r\n  onmounted,\r\n  onunmounted\r\n} from \"../mounted-unmounted/element-onmount-unmount\";\r\nimport mount from \"../MountElement/mount-real-element\";\r\nimport { invalid_Virtualdom } from \"../MountElement/MountElement\";\r\nimport ReactiveState, { isReactiveState } from \"../Reactivity/ReactiveState\";\r\nimport render from \"../RenderVirtual/render-vdom-to-real\";\r\nimport { setelehtml } from \"../UtilTools/dom\";\r\nimport { get } from \"../UtilTools/reflect\";\r\n// import mount from \"./mount\";\r\nimport { isboolean, isundefined } from \"../UtilTools/util\";\r\nimport {\r\n  AttrChange,\r\n  attributeChangedCallback,\r\n  connectedCallback,\r\n  disconnectedCallback,\r\n  firstinstalledcallback\r\n} from \"./attr-change\";\r\nimport { Htmlelementconstructor } from \"./createComponent\";\r\n// import { isvalidvdom } from \"../CreateElement/html\";\r\nimport { componentsymbol } from \"./iscomponent\";\r\nimport { readysymbol } from \"./readysymbol\";\r\n\r\n// import { readysymbol } from \"./createComponent\";\r\nexport const invalid_ReactiveState = \"invalid ReactiveState\";\r\nconst truevdomsymbol = Symbol(\"truevdom\");\r\nconst falsevdomsymbol = Symbol(\"falsevdom\");\r\nconst trueelesymbol = Symbol(\"trueele\");\r\nconst falseelesymbol = Symbol(\"falseele\");\r\nconst handletrue = Symbol(\"handletrue\");\r\nconst handlefalse = Symbol(\"handlefalse\");\r\n\r\nexport default function(\r\n  conditon: ReactiveState<boolean> | boolean,\r\n  iftrue?: VaildVDom,\r\n  iffalse?: VaildVDom\r\n): Virtualdom<Htmlelementconstructor> {\r\n  if (!(isReactiveState(conditon) || isboolean(conditon))) {\r\n    console.error(conditon);\r\n    console.error(invalid_ReactiveState);\r\n    throw TypeError();\r\n  }\r\n  [iftrue, iffalse].forEach(a => {\r\n    if (!(isundefined(a) || isvalidvdom(a))) {\r\n      console.error(a);\r\n      console.error(invalid_Virtualdom);\r\n      throw new TypeError();\r\n    }\r\n  });\r\n  const options = { true: iftrue, false: iffalse };\r\n  const optionstrue = get(options, \"true\");\r\n  const optionsfalse = get(options, \"false\");\r\n  class Condition extends AttrChange {\r\n    // prototype!: HTMLElement;\r\n    // defaultProps?: { [key: string]: any } | undefined;\r\n    // css?: string | undefined;\r\n    static [componentsymbol] = componentsymbol;\r\n    [readysymbol] = false;\r\n    [truevdomsymbol]: Vdomchildren = [optionstrue].flat(1 / 0).filter(Boolean);\r\n    /*isarray(optionstrue)\r\n    ? optionstrue.filter(Boolean)\r\n    : */\r\n\r\n    [falsevdomsymbol]: Vdomchildren = [optionsfalse]\r\n      .flat(1 / 0)\r\n      .filter(Boolean);\r\n    /* isarray(optionsfalse)\r\n    ? optionsfalse.filter(Boolean)\r\n    : */\r\n\r\n    //  /*    constructor() /* propsjson?: object, children?: any[], options: object = {} */ {\r\n    //       super();\r\n    //       // if(){}\r\n\r\n    //       this[truevdomsymbol] =\r\n    //         /*isarray(optionstrue)\r\n    //         ? optionstrue.filter(Boolean)\r\n    //         : */\r\n    //         [optionstrue].flat(1 / 0).filter(Boolean);\r\n    //       this[falsevdomsymbol] =\r\n    //         /* isarray(optionsfalse)\r\n    //         ? optionsfalse.filter(Boolean)\r\n    //         : */\r\n\r\n    //         [optionsfalse].flat(1 / 0).filter(Boolean);\r\n    //       // optionsfalse;\r\n    //     } */\r\n    [falseelesymbol]: Node[];\r\n    [trueelesymbol]: Node[];\r\n    // [truevdomsymbol]: any[];\r\n    // [falsevdomsymbol]: any[];\r\n    //   [readysymbol] = false;\r\n    [handlefalse]() {\r\n      setelehtml(this, \"\");\r\n      if (this[falsevdomsymbol]) {\r\n        if (!this[falseelesymbol]) {\r\n          // } else {\r\n          this[falseelesymbol] = render(this[falsevdomsymbol]);\r\n          // this[falsevdomsymbol].map(e => render(e));\r\n          this[falsevdomsymbol] = [];\r\n        }\r\n      }\r\n      //   mount(this[falseelesymbol], this);\r\n      const elementtomount = this[falseelesymbol];\r\n      mount(elementtomount, this);\r\n      // elementtomount.forEach(e => onmounted(e));\r\n      onmounted(elementtomount);\r\n      if (this[trueelesymbol]) {\r\n        onunmounted(this[trueelesymbol]);\r\n        //   this[trueelesymbol].forEach(e => onunmounted(e));\r\n      }\r\n      //   }\r\n    }\r\n    [handletrue]() {\r\n      setelehtml(this, \"\");\r\n      if (this[truevdomsymbol]) {\r\n        if (!this[trueelesymbol]) {\r\n          this[trueelesymbol] = render(this[truevdomsymbol]);\r\n\r\n          // this[truevdomsymbol].map(e => render(e));\r\n          /*  */\r\n          this[truevdomsymbol] = [];\r\n        }\r\n      }\r\n      //\r\n      //   mount(this[trueelesymbol], this);\r\n      const elementtomount = this[trueelesymbol];\r\n      mount(elementtomount, this);\r\n      onmounted(elementtomount);\r\n      // elementtomount.forEach(e => onmounted(e));\r\n      if (this[falseelesymbol]) {\r\n        onunmounted(this[falseelesymbol]);\r\n        //   this[falseelesymbol].forEach(e => onunmounted(e));\r\n      }\r\n      //   }\r\n    }\r\n    [firstinstalledcallback]() {\r\n      const attrs: { [key: string]: any } = createeleattr(this);\r\n      // console.log(attrs);\r\n      if (true === attrs[\"value\"]) {\r\n        get(this, handletrue).call(this);\r\n      } else if (!attrs[\"value\"]) {\r\n        /* \"@masx200/dom-element-attribute-agent-proxy\"\r\n      false,undefined\r\n      */\r\n        get(this, handlefalse).call(this);\r\n        //\r\n      }\r\n    }\r\n    connectedCallback() {\r\n      connectedCallback(this);\r\n      //   super.connectedCallback();\r\n\r\n      /*   if (!this[readysymbol]) {\r\n        // createApp(this[elementsymbol], this);\r\n        this[readysymbol] = true;\r\n\r\n        const attrs: { [key: string]: any } = createeleattr(this);\r\n        // console.log(attrs);\r\n        if (true === attrs[\"value\"]) {\r\n          get(this, handletrue).call(this);\r\n        }\r\n        if (false === attrs[\"value\"]) {\r\n          get(this, handlefalse).call(this);\r\n          //\r\n        }\r\n      } */\r\n      //   onmounted(this);\r\n      //\r\n    }\r\n    disconnectedCallback() {\r\n      disconnectedCallback(this);\r\n      //   onunmounted(this);\r\n      //   super.connectedCallback();\r\n    }\r\n\r\n    [attributeChangedCallback](\r\n      name: string /* , oldValue: any, newValue: any */\r\n    ) {\r\n      if (this[readysymbol]) {\r\n        // console.log(name, oldValue, newValue);\r\n        if (name === \"value\") {\r\n          const attrs: Record<string, any> = createeleattr(this);\r\n          //   console.log(attrs);\r\n          if (true === attrs[\"value\"]) {\r\n            this[handletrue]();\r\n            //\r\n          } else if (!attrs[\"value\"]) {\r\n            this[handlefalse]();\r\n            //\r\n          }\r\n        }\r\n\r\n        //\r\n      }\r\n    }\r\n  }\r\n  /* vdom.options = { true: iftrue, false: iffalse }; */\r\n  const vdom = createElement(Condition, { value: conditon });\r\n  return vdom;\r\n  /*  */\r\n}\r\n","import { isFunction, isobject, issymbol } from \"src/UtilTools/util\";\r\nimport {\r\n  get,\r\n  has,\r\n  ownKeys,\r\n  getOwnPropertyDescriptor\r\n} from \"src/UtilTools/reflect\";\r\n\r\nexport function getproperyreadproxy<T extends object>(a: T): T {\r\n  const __proto__ = \"__proto__\";\r\n  /*  */\r\n  //   const target = isobject(a) ? a : getPrototypeOf(a);\r\n  const target = a;\r\n  return new Proxy(target, {\r\n    getOwnPropertyDescriptor(target, key) {\r\n      //symbolundefined\r\n      if (issymbol(key)) {\r\n        return;\r\n      } else {\r\n        return getOwnPropertyDescriptor(target, key);\r\n      }\r\n    },\r\n    ownKeys(target) {\r\n      let myvalue = get(target, \"value\");\r\n      const myvalueobj = isobject(myvalue) ? myvalue : myvalue[__proto__];\r\n      //   return ownKeys(target);\r\n      return Array.from(new Set([...ownKeys(target), ...ownKeys(myvalueobj)]));\r\n\r\n      /* Array.from(\r\n          new Set([...ownKeys(target), ...ownKeys(get(target, \"value\"))])\r\n        ); */\r\n    },\r\n    has(target, key) {\r\n      const myvalue = get(target, \"value\");\r\n      const myvalueobj = isobject(myvalue) ? myvalue : myvalue[__proto__];\r\n      return has(target, key) || has(myvalueobj, key);\r\n    },\r\n    get(target, key) {\r\n      if (has(target, key)) {\r\n        return get(target, key);\r\n      } else {\r\n        const myvalue = get(target, \"value\");\r\n        const myvalueobj = /*  isobject(myvalue) ? myvalue :  */ Object(\r\n          myvalue\r\n        );\r\n\r\n        if (has(myvalueobj, key)) {\r\n          /* string,number,this */\r\n          const property = get(myvalueobj, key);\r\n          return isFunction(property) ? property.bind(myvalueobj) : property;\r\n        }\r\n      }\r\n      //   return get(target, key);\r\n      /*  const myvalue = get(target, \"value\");\r\n  \r\n        if (has(target, key)) {\r\n          return get(target, key);\r\n        } else if (has(myvalue, key)) {\r\n          return get(myvalue, key);\r\n        } */\r\n    }\r\n  });\r\n}\r\n","/* interface CallbackReactiveState<\r\n \r\n> {\r\n  (...args: T[]): any;\r\n} */\r\nimport { invalid_ReactiveState } from \"../AttributeClass/conditon\";\r\nimport { invalid_Function } from \"../mounted-unmounted/Component-context\";\r\nimport {\r\n  apply,\r\n  //   getPrototypeOf\r\n  //   set\r\n  defineProperty\r\n} from \"../UtilTools/reflect\";\r\nimport { toArray } from \"../UtilTools/toArray\";\r\nimport {\r\n  isArray,\r\n  isFunction,\r\n  isfunction,\r\n  isobject,\r\n  isprimitive\r\n} from \"../UtilTools/util\";\r\nimport computed from \"./computed\";\r\nimport { getproperyreadproxy } from \"./getproperyread-proxy\";\r\nimport ReactiveState, {\r\n  dispatchsymbol,\r\n  isReactiveState\r\n} from \"./ReactiveState\";\r\nimport { CallbackReactiveState, UnwrapedState, watch } from \"./watch\";\r\n\r\n//const { defineProperty } = Object;\r\nexport default function<T extends UnwrapedState>(\r\n  state: ReactiveState<T> | Array<ReactiveState<T>>,\r\n  callback: CallbackReactiveState,\r\n  setter?: SetterFun\r\n): ReactiveState<any> {\r\n  if (\r\n    !(\r\n      (isArray(state) || isReactiveState(state)) &&\r\n      // state instanceof ReactiveState\r\n      isFunction(callback)\r\n    )\r\n  ) {\r\n    console.error(state);\r\n    console.error(callback);\r\n    console.error(invalid_ReactiveState + invalid_Function);\r\n\r\n    throw TypeError();\r\n  }\r\n  const state1array: ReactiveState<T>[] =\r\n    //   if (isReactiveState(state)) {\r\n    toArray(state);\r\n  if (!state1array.length) {\r\n    console.error(\"Empty array not allowed\");\r\n    throw new Error();\r\n  }\r\n  /*  state1 = Arraycomputed(\r\n      toArray(state),\r\n\r\n      callback\r\n    ); */\r\n  //   } else if (isArray(state)) {\r\n  //     state1array = state;\r\n  //     // state1 = Arraycomputed(state, callback);\r\n  //   } else {\r\n  //     state1array = Array.from(state);\r\n  //   }\r\n  const state1 = Arraycomputed(state1array, callback, setter);\r\n  //   usestste(state1);\r\n  return state1;\r\n}\r\ntype SetterFun = (v: any) => void;\r\nfunction Arraycomputed<T extends UnwrapedState>(\r\n  state: ReactiveState<T>[],\r\n  callback: CallbackReactiveState,\r\n  setter?: SetterFun\r\n): ReactiveState<any> {\r\n  const reactivestate = new ReactiveState();\r\n  const getter = () => {\r\n    //\r\n    const value = apply(callback, undefined, state.map(st => st.valueOf()));\r\n    // callback(...state.map(st => st.valueOf()));\r\n    const possiblevalue = isReactiveState(value) ? value.valueOf() : value;\r\n\r\n    if (isobject(possiblevalue) || isprimitive(possiblevalue)) {\r\n      return possiblevalue;\r\n    } else {\r\n      console.error(possiblevalue);\r\n      throw TypeError();\r\n    }\r\n  };\r\n\r\n  let memorized = getter();\r\n\r\n  // if (isFunction(memorized)) {\r\n  //   console.error(memorized);\r\n  //   throw new TypeError();\r\n  // }\r\n  defineProperty(reactivestate, \"value\", {\r\n    set: isfunction(setter) ? setter : undefined,\r\n    get: getter,\r\n    configurable: true\r\n  });\r\n\r\n  state.forEach(state => {\r\n    watch(state, () => {\r\n      let newvalue = getter();\r\n      if (newvalue !== memorized) {\r\n        reactivestate[dispatchsymbol]();\r\n\r\n        memorized = newvalue;\r\n      }\r\n      //\r\n    });\r\n  });\r\n\r\n  return getproperyreadproxy(reactivestate);\r\n}\r\n\r\n// export function getproperyreadproxy<T extends object>(a: T): T;\r\n\r\nexport { computed };\r\n","const Setprototype = Set.prototype;\r\nconst Mapprototype = Map.prototype;\r\nfunction ispromise(a: any): a is Promise<any> {\r\n  return a instanceof Promise;\r\n}\r\nfunction isdate(a: any): a is Date {\r\n  return a instanceof Date;\r\n}\r\nfunction isregexp(a: any): a is RegExp {\r\n  return a instanceof RegExp;\r\n}\r\nfunction isMap(a: any): a is Map<any, any> {\r\n  return a instanceof Map;\r\n}\r\nfunction isSet(a: any): a is Set<any> {\r\n  return a instanceof Set;\r\n}\r\nfunction isArray(a: any): a is any[] {\r\n  return Array.isArray(a);\r\n}\r\n\"use strict\";\r\nconst Reflect = window.Reflect;\r\nconst {\r\n  ownKeys,\r\n  deleteProperty,\r\n  apply,\r\n  construct,\r\n  defineProperty,\r\n  get,\r\n  getOwnPropertyDescriptor,\r\n  getPrototypeOf,\r\n  has,\r\n\r\n  set,\r\n  setPrototypeOf\r\n} = Reflect;\r\nfunction isobject(a: any): a is Exclude<object, Function> {\r\n  return typeof a === \"object\" && a !== null;\r\n}\r\nfunction isfunction(a: any): a is Function {\r\n  return typeof a === \"function\";\r\n}\r\n/* API\r\nfunction deepobserveagent(target: Object | Function, callback: callback): any;\r\n\r\ninterface callback {\r\n  (\r\n    target: Object | Function,\r\n    patharray: Array<any>,\r\n    newvalue: any,\r\n    oldvalue: any\r\n  ): void;\r\n}\r\n\r\n*/\r\ninterface Callback<\r\n  T extends object | Function | any[] | Set<any> | Map<any, any>\r\n> {\r\n  (target: T, patharray: Array<string>, newvalue: any, oldvalue: any): void;\r\n}\r\nfunction deepobserveaddpath<\r\n  T extends object | Function | any[] | Set<any> | Map<any, any>\r\n>(\r\n  target: T,\r\n  callback: Callback<T>,\r\n  patharray: Array<string> = [],\r\n  ancestor = target\r\n): T {\r\n  if (\r\n    !isfunction(callback)\r\n\r\n    //typeof callback !== \"function\"\r\n  ) {\r\n    console.error(callback);\r\n    console.error(\"observe callback invalid !\");\r\n    throw Error();\r\n\r\n    //throw Error(\"callback not defined!\");\r\n    // setTimeout(() => {\r\n    // }, 0);\r\n\r\n    // callback(t, k, v);\r\n  }\r\n\r\n  /* promise,date,regexp,, */\r\n\r\n  if (ispromise(target) || isregexp(target) || isdate(target)) {\r\n    return target;\r\n  }\r\n  if (isfunction(target) || isobject(target)) {\r\n    //\r\n\r\n    let fakeobj: T;\r\n    if (isSet(target)) {\r\n      fakeobj = new Set([...target]) as any;\r\n      set(fakeobj, \"add\", (value: any) => {\r\n        Setprototype.add.call(target, value);\r\n        callback(ancestor, patharray, undefined, undefined);\r\n\r\n        return Setprototype.add.call(fakeobj, value);\r\n      });\r\n      set(fakeobj, \"delete\", (value: any) => {\r\n        Setprototype.delete.call(target, value);\r\n        callback(ancestor, patharray, undefined, undefined);\r\n        return Setprototype.delete.call(fakeobj, value);\r\n      });\r\n      set(fakeobj, \"clear\", () => {\r\n        Setprototype.clear.call(target);\r\n        callback(ancestor, patharray, undefined, undefined);\r\n        return Setprototype.clear.call(fakeobj);\r\n      });\r\n      //   fakeobj.add = () => {};\r\n    } else if (isMap(target)) {\r\n      fakeobj = new Map([...target]) as any;\r\n      set(fakeobj, \"clear\", () => {\r\n        Mapprototype.clear.call(target);\r\n        callback(ancestor, patharray, undefined, undefined);\r\n        return Mapprototype.clear.call(fakeobj);\r\n      });\r\n      set(fakeobj, \"set\", (key: any, value: any) => {\r\n        Mapprototype.set.call(target, key, value);\r\n        callback(ancestor, patharray, undefined, undefined);\r\n        return Mapprototype.set.call(fakeobj, key, value);\r\n      });\r\n      set(fakeobj, \"delete\", (value: any) => {\r\n        Mapprototype.delete.call(target, value);\r\n        callback(ancestor, patharray, undefined, undefined);\r\n        return Mapprototype.delete.call(fakeobj, value);\r\n      });\r\n    } else if (isArray(target)) {\r\n      fakeobj = [] as T;\r\n      /* VM462:1 Uncaught TypeError: 'getOwnPropertyDescriptor' on proxy: trap returned descriptor for property 'length' that is incompatible with the existing property in the proxy target\r\n    at Function.getOwnPropertyDescriptors (<anonymous>)\r\n    at <anonymous>:1:8 */\r\n    } else if (isfunction(target)) {\r\n      fakeobj = (() => {}) as T;\r\n    } else {\r\n      fakeobj = {} as T;\r\n    }\r\n    if (!isSet(target) && !isMap(target)) {\r\n      setPrototypeOf(fakeobj, null);\r\n    }\r\n    // return (fakeobj => {\r\n    return new Proxy(fakeobj, {\r\n      defineProperty(t, p, a) {\r\n        callback(\r\n          ancestor,\r\n          [...patharray, String(p)],\r\n          //valuegetter\r\n          has(a, \"value\") ? a.value : isfunction(a.get) ? a.get() : undefined,\r\n          get(target, p)\r\n        );\r\n        return defineProperty(target, p, a);\r\n      },\r\n      deleteProperty(t, p) {\r\n        callback(\r\n          ancestor,\r\n          [...patharray, String(p)],\r\n          undefined,\r\n          get(target, p)\r\n\r\n          //target[p]\r\n        );\r\n        return deleteProperty(target, p);\r\n      },\r\n      ownKeys(/*  t*/) {\r\n        return ownKeys(target);\r\n      },\r\n      has(t, p) {\r\n        return has(target, p);\r\n      },\r\n      getPrototypeOf(/* t */) {\r\n        return getPrototypeOf(target);\r\n      },\r\n      setPrototypeOf(t, v) {\r\n        return setPrototypeOf(target, v);\r\n      },\r\n      construct(t, argumentslist) {\r\n        if (\r\n          isfunction(target)\r\n          //typeof target === \"function\"\r\n        ) {\r\n          return construct(target, argumentslist);\r\n        }\r\n      },\r\n      apply(t, thisarg, argarray) {\r\n        /* index.ts:153 Uncaught TypeError: Method Set.prototype.values called on incompatible receiver [object Object] */\r\n        if (isfunction(target)) {\r\n          /*  if (isSet(thisarg) || isMap(thisarg)) {\r\n            const result = apply(target, thisarg, argarray);\r\n            if (\r\n              target === Setprototype.delete ||\r\n              target === Setprototype.add ||\r\n              target === Setprototype.clear ||\r\n              (target === Mapprototype.set ||\r\n                target === Mapprototype.clear ||\r\n                target === Mapprototype.delete)\r\n            ) {\r\n              callback(ancestor, patharray, undefined, undefined);\r\n            }\r\n\r\n            return result;\r\n          } else { */\r\n          return apply(target, thisarg, argarray);\r\n        }\r\n        //   debugger;\r\n        // }\r\n      },\r\n      /* TypeError: 'get' on proxy: property 'prototype' is a read-only and non-configurable data property on the proxy target but the proxy did not return its actual value (expected '[object Symbol]' but got '[object Object]') */\r\n      getOwnPropertyDescriptor(t, k) {\r\n        var descripter = getOwnPropertyDescriptor(target, k);\r\n        if (isArray(target) && k === \"length\") {\r\n          return descripter;\r\n        } else {\r\n          if (descripter) {\r\n            descripter.configurable = true;\r\n            return descripter;\r\n          } else {\r\n            return;\r\n          }\r\n        }\r\n      },\r\n      //   return {\r\n      //     ...getOwnPropertyDescriptor(t, k),\r\n      //     ...{ configurable: true, writable: true }\r\n      //   };\r\n      // },\r\n\r\n      /* \r\n          https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/handler/getOwnPropertyDescriptor\r\n           TypeError\r\n  \r\n  getOwnPropertyDescriptor  object  undefined\r\n  \r\n  \r\n  \r\n  \r\n  Object.getOwnPropertyDescriptortarget Object.defineProperty  */\r\n\r\n      /* https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/handler/set\r\n  \r\n  proxyTypeError:\r\n  \r\n  \r\n  setundefined\r\n  setfalse TypeError \r\n  */\r\n      set(t, k, v) {\r\n        // console.log(\"set\", [t, k, v]);\r\n        if (\r\n          isfunction(callback)\r\n          //typeof callback === \"function\"\r\n        ) {\r\n          //throw Error(\"callback not defined!\");\r\n          callback(\r\n            ancestor,\r\n            [...patharray, String(k)] /* patharray.concat(k) */,\r\n            v,\r\n            get(target, k)\r\n            // target[k]\r\n          );\r\n        }\r\n\r\n        return set(target, k, v);\r\n        // return true;\r\n        /* Uncaught TypeError: 'set' on proxy: trap returned truish for property 'prototype' which exists in the proxy target as a non-configurable and non-writable data property with a different value */\r\n      },\r\n\r\n      /* \r\n          https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/handler/get\r\n          proxy TypeError:\r\n  \r\n  \r\n  getundefinedundefined */\r\n      get(t, k) {\r\n        // console.log(\"get\", [t, k]);\r\n        var value = get(target, k);\r\n\r\n        if (isfunction(value) && (isSet(target) || isMap(target))) {\r\n          return get(fakeobj, k).bind(fakeobj);\r\n        }\r\n        if (isfunction(value) || isobject(value)) {\r\n          // var descripter = getOwnPropertyDescriptor(t, k);\r\n          // /* descripter  undefined */\r\n          // if (\r\n          //   descripter &&\r\n          //   descripter.writable === false &&\r\n          //   descripter.configurable === false\r\n          // ) {\r\n          //   console.warn(\r\n          //     `!\\n\\n\\n`,\r\n          //     [t, k, value]\r\n          //   );\r\n          //   return value;\r\n          // } else {\r\n          return deepobserveaddpath(\r\n            value,\r\n            callback,\r\n            [...patharray, String(k)],\r\n            //  patharray.concat(k),\r\n            target\r\n          );\r\n          // }\r\n        } else {\r\n          return value;\r\n        }\r\n      }\r\n    });\r\n    // })(fakeobj);\r\n  } else {\r\n    return target;\r\n  }\r\n}\r\nexport default function observedeepagent<\r\n  T extends object | Function | any[] | Set<any> | Map<any, any>\r\n>(target: T, callback: Callback<T>): T {\r\n  if (\r\n    !isfunction(callback)\r\n    //typeof callback !== \"function\"\r\n  ) {\r\n    console.error(callback);\r\n    console.error(\"observe callback  invalid function !\");\r\n    throw Error();\r\n\r\n    //throw Error(\"callback not defined!\");\r\n    // setTimeout(() => {\r\n    // }, 0);\r\n\r\n    // callback(t, k, v);\r\n  }\r\n  if (\r\n    !isfunction(Proxy)\r\n    //typeof Proxy !== \"function\"\r\n  ) {\r\n    console.error(\"Proxy unsupported!\");\r\n    throw Error();\r\n\r\n    //setTimeout(() => {\r\n\r\n    // }, 0);\r\n    // return target;\r\n  }\r\n\r\n  // else\r\n  if (isfunction(target) || isobject(target)) {\r\n    return deepobserveaddpath(target, callback /*, [], target*/);\r\n  } else {\r\n    return target;\r\n  }\r\n}\r\n","// import deepobserve from \"deep-observe-agent-proxy\";\r\nimport { set } from \"../UtilTools/reflect\";\r\nimport { isfunction, isobject, isprimitive } from \"../UtilTools/util\";\r\nimport { getproperyreadproxy } from \"./getproperyread-proxy\";\r\n// import { getproperyreadproxy } from \"./computed\";\r\nimport handleobjectstate from \"./handle-object-state\";\r\nimport ReactiveState, {\r\n  dispatchsymbol,\r\n  invalid_primitive_or_object_state,\r\n  // textnodesymbol,\r\n  isReactiveState\r\n} from \"./ReactiveState\";\r\nimport { UnwrapedState } from \"./watch\";\r\nexport const set_prototype = Set.prototype;\r\n\r\nexport default function<T extends UnwrapedState>(\r\n  init: ReactiveState<T>\r\n): ReactiveState<T>;\r\nexport default function<T extends UnwrapedState>(\r\n  init: Exclude<T, ReactiveState<any>> | undefined\r\n): ReactiveState<T>;\r\nexport default function<T extends UnwrapedState>(\r\n  init: Exclude<T, ReactiveState<any>> | ReactiveState<T> | undefined\r\n): ReactiveState<T> {\r\n  /*  ReactiveState*/\r\n  const state: ReactiveState<T> = createstate(init as any) as ReactiveState<T>;\r\n  //   usestste(state);\r\n  return state;\r\n}\r\n\r\nfunction createstate<T extends UnwrapedState>(\r\n  init: ReactiveState<T>\r\n): ReactiveState<T>;\r\nfunction createstate<T extends UnwrapedState>(\r\n  init: Exclude<T, ReactiveState<any>> | undefined\r\n): ReactiveState<T>;\r\n\r\nfunction createstate<T extends UnwrapedState>(\r\n  init: Exclude<T, ReactiveState<any>> | ReactiveState<T> | undefined\r\n) {\r\n  /*   if (!(isprimitive(init) || isobject(init) || isReactiveState(init))) {\r\n    console.error(init);\r\n    console.error(invalid_primitive_or_object_state);\r\n    throw TypeError();\r\n  } */\r\n  // /*   const inittype = isfunction(init)\r\n  //     ? \"function\"\r\n  //     : isprimitive(init)\r\n  //     ? \"primitive\"\r\n  //     : /* isobject(init)\r\n  //     ? \"object\" */\r\n  //       /* : */ void 0; */\r\n  if (isprimitive(init) || isfunction(init)) {\r\n    return getproperyreadproxy(\r\n      new Proxy(new ReactiveState(init), {\r\n        defineProperty() {\r\n          return false;\r\n        },\r\n        deleteProperty() {\r\n          return false;\r\n        },\r\n        set(target, key, value) {\r\n          /*  if (key === textnodesymbol) {\r\n          return set(target, key, value);\r\n        } */\r\n\r\n          /* , */\r\n          if (\r\n            key === \"value\" &&\r\n            ((isprimitive(value) && isprimitive(init)) ||\r\n              (isfunction(value) && isfunction(init)))\r\n          ) {\r\n            if (target[key] !== value) {\r\n              /*  */\r\n              set(target, key, value);\r\n              target[dispatchsymbol]();\r\n            }\r\n            return true;\r\n          } else {\r\n            console.error(value);\r\n            console.error(init);\r\n            console.error(invalid_primitive_or_object_state);\r\n            throw TypeError();\r\n            // return false;\r\n          }\r\n        },\r\n        setPrototypeOf() {\r\n          return false;\r\n        }\r\n      })\r\n    );\r\n  } else if (\r\n    isReactiveState(init)\r\n    // init instanceof ReactiveState\r\n  ) {\r\n    // init ReactiveState ReactiveState\r\n    return createstate(init.valueOf() as any);\r\n  } else if (isobject(init)) {\r\n    // ReactiveState ReactiveState\r\n    //ReactiveState1=createstate( {aaaaa:ReactiveState2})\r\n    //\r\n    // else {\r\n    //   console.error(init);\r\n    //console.error(invalid_primitive_or_object_state)\r\n    //  throw TypeError();\r\n    //throw TypeError(\"invalid State\");\r\n    // }\r\n    return handleobjectstate(init);\r\n  } else {\r\n    throw Error();\r\n  }\r\n}\r\n\r\n// /*\r\n// let initobj=init\r\n// const containReactiveState=(isplainobject(init))&&Object.values(init).map(a=>isReactiveState(a)).includes(true)\r\n// const state_entries=Object.entries(init).filter(([key,a])=>isReactiveState(a))\r\n\r\n// if(\r\n// containReactiveState\r\n// ){\r\n\r\n// initobj={...init}\r\n\r\n// state_entries\r\n// .forEach(\r\n// ([key,state])=>{\r\n\r\n// defineProperty(initobj,key,{\r\n// enumerable:true,\r\n// get(){\r\n\r\n// return state.valueOf()\r\n\r\n// },\r\n// configurable: true\r\n\r\n// })\r\n\r\n// })\r\n\r\n// }\r\n// let reactive\r\n// =new ReactiveState(\r\n\r\n// initobj\r\n\r\n// )\r\n\r\n// if(containReactiveState){\r\n// state_entries.forEach(\r\n// ([key,state])=>{\r\n\r\n// watch(state,()=>{\r\n\r\n// reactive[dispatchsymbol](String(key));\r\n\r\n// })\r\n// }\r\n// )\r\n// }\r\n\r\n//     return new Proxy(\r\n// reactive\r\n\r\n// , {\r\n//     ownKeys(target) {\r\n//     return Array.from(\r\n//       new Set([...ownKeys(target), ...ownKeys(get(target, \"value\"))])\r\n//     );\r\n//   }\r\n//   ,\r\n//   setPrototypeOf() {\r\n//     return false;\r\n//   },\r\n//       defineProperty() {\r\n//         return false;\r\n//       },\r\n//       getOwnPropertyDescriptor(target, key) {\r\n//         const myvalue = get(target, \"value\");\r\n\r\n//         const descripter =\r\n//           getOwnPropertyDescriptor(target, key) ||\r\n//           getOwnPropertyDescriptor(myvalue, key);\r\n//         if (descripter) {\r\n//           descripter.configurable = true;\r\n//         }\r\n\r\n//         return descripter;\r\n//       },\r\n//       deleteProperty(target, key) {\r\n//         const myvalue = get(target, \"value\");\r\n//         if (has(myvalue, key)) {\r\n//           deleteProperty(myvalue, key);\r\n//           target[dispatchsymbol](String(key));\r\n//           return true;\r\n//         } else {\r\n//           return true;\r\n//         }\r\n//       },\r\n//       has(target, key) {\r\n//         const myvalue = get(target, \"value\");\r\n//         return has(target, key) || has(myvalue, key);\r\n//       },\r\n//       get(target, key) {\r\n//         const value = get(target, \"value\");\r\n\r\n//         if (\r\n//           key === \"value\" &&\r\n//           (isarray(value)  || isplainobject(value))\r\n//         ) {\r\n//           return deepobserve(get(target, key), (_target_, patharray) => {\r\n//             target[dispatchsymbol](patharray[0]);\r\n//           });\r\n//         } else if (has(target, key)) {\r\n//           return get(target, key);\r\n//         } else if (has(value, key)) {\r\n//           if (isSet(value) ) {\r\n//             const myvalue = value;\r\n//             if (key === \"add\") {\r\n//               return (add: any) => {\r\n//                 if (!set_prototype.has.call(myvalue, add)) {\r\n//                   const returnvalue = set_prototype[key].call(myvalue, add);\r\n//                   target[dispatchsymbol]();\r\n//                   return returnvalue;\r\n//                 }\r\n//               };\r\n//             } else if (key === \"delete\") {\r\n//               return (dele: any) => {\r\n//                 if (\r\n// set_prototype.has.call(myvalue, dele)) {\r\n//                   const returnvalue = set_prototype[key].call(myvalue, dele);\r\n//                   target[dispatchsymbol]();\r\n//                   return returnvalue;\r\n//                 }\r\n//               }\r\n// else if (key === \"clear\") {\r\n//               return () => {\r\n//                 if (value.length) {\r\n//                   const returnvalue = set_prototype[key].call(myvalue);\r\n//                   target[dispatchsymbol]();\r\n//                   return returnvalue;\r\n//                 }\r\n//               }\r\n// else {\r\n\r\n// return  get(value, key)\r\n// }\r\n\r\n//             }\r\n//           } else {\r\n// //arrayplainobject\r\n// if(\r\n// (isarray(value)  || isplainobject(value))\r\n// ){\r\n// return deepobserve(get(value, key), () => {\r\n//               target[dispatchsymbol](String(key));\r\n//             });\r\n// }\r\n// else{\r\n// return get(value, key)\r\n// }\r\n\r\n//           }\r\n\r\n//           /*  */\r\n//         }\r\n//     }},\r\n\r\n//     set(target, key, value)\r\n//      {\r\n\r\n// if(isReactiveState(value)){\r\n// // isReactiveState\r\n// value=value.valueOf()\r\n\r\n// }\r\n//       /*   if (key === textnodesymbol) {\r\n//         return set(target, key, value);\r\n//       } */\r\n//       const myvalue = get(target, \"value\");\r\n//       if (key === \"value\" && isobject(value)) {\r\n//         // if (target[key] !== value) {\r\n//         set(target, key, value);\r\n//         target[dispatchsymbol]();\r\n\r\n//         // }\r\n//         return true;\r\n//       } else if (!has(target, key)) {\r\n//         set(myvalue, key, value);\r\n//         target[dispatchsymbol](String(key));\r\n\r\n//         //\r\n//       } else if (key === \"length\") {\r\n//         set(myvalue, key, value);\r\n//         target[dispatchsymbol](key);\r\n//       } else {\r\n//         return false;\r\n//       }\r\n//       return true;\r\n\r\n//     }\r\n\r\n// }) */\r\n","import deepobserve from \"@masx200/deep-observe-agent-proxy\";\r\nimport { set_prototype } from \"./create-state\";\r\nimport ReactiveState, {\r\n  dispatchsymbol,\r\n  invalid_primitive_or_object_state,\r\n  isReactiveState\r\n} from \"./ReactiveState\";\r\nimport {\r\n  defineProperty,\r\n  deleteProperty,\r\n  get,\r\n  getOwnPropertyDescriptor,\r\n  has,\r\n  ownKeys,\r\n  set\r\n} from \"../UtilTools/reflect\";\r\nimport {\r\n  isArray,\r\n  isarray,\r\n  isobject,\r\n  isplainobject,\r\n  isSet,\r\n  issymbol,\r\n  isfunction\r\n} from \"../UtilTools/util\";\r\nimport { watch } from \"./watch\";\r\n\r\nexport default function(init: object): ReactiveState<object> {\r\n  const reactive: ReactiveState<object> = new ReactiveState(init);\r\n\r\n  let initobj = init;\r\n  const containReactiveState =\r\n    isplainobject(init) && Object.values(init).some(a => isReactiveState(a));\r\n  const state_entries = Object.entries(init).filter(e => {\r\n    const a = e[1];\r\n    return isReactiveState(a);\r\n  });\r\n  if (containReactiveState) {\r\n    initobj = Object.assign({}, init);\r\n    // initobj = { ...init };\r\n    state_entries.forEach(([key, state]) => {\r\n      defineProperty(initobj, key, {\r\n        enumerable: true,\r\n        get() {\r\n          return state.valueOf();\r\n        },\r\n        set: nvalue => {\r\n          state.value = nvalue;\r\n        },\r\n        configurable: true\r\n      });\r\n    });\r\n  }\r\n  //   const inittype = isfunction(init)\r\n  //   ? \"function\"\r\n  //   : isprimitive(init)\r\n  //   ? \"primitive\"\r\n  //   : /* isobject(init)\r\n  //   ? \"object\" */\r\n  //     /* : */ void 0;\r\n  if (containReactiveState) {\r\n    state_entries.forEach(([key, state]) => {\r\n      watch(state, () => {\r\n        reactive[dispatchsymbol](String(key));\r\n      });\r\n    });\r\n    // console.log(reactive);\r\n  }\r\n  reactive.value = initobj;\r\n\r\n  const objproxyhandler: ProxyHandler<object> = {};\r\n  objproxyhandler.ownKeys = target => {\r\n    return Array.from(\r\n      new Set([...ownKeys(target), ...ownKeys(get(target, \"value\"))])\r\n    );\r\n  };\r\n  objproxyhandler.setPrototypeOf = () => {\r\n    return false;\r\n  };\r\n  objproxyhandler.defineProperty = () => {\r\n    return false;\r\n  };\r\n  objproxyhandler.getOwnPropertyDescriptor = (\r\n    target: ReactiveState<object>,\r\n    key\r\n  ) => {\r\n    //symbolundefined\r\n    if (issymbol(key)) {\r\n      return;\r\n    }\r\n    const myvalue = get(target, \"value\");\r\n\r\n    const descripter =\r\n      getOwnPropertyDescriptor(target, key) ||\r\n      getOwnPropertyDescriptor(myvalue, key);\r\n    if (descripter) {\r\n      descripter.configurable = true;\r\n    }\r\n\r\n    return descripter;\r\n  };\r\n  objproxyhandler.deleteProperty = (target: ReactiveState<object>, key) => {\r\n    const myvalue = get(target, \"value\");\r\n    if (has(myvalue, key)) {\r\n      deleteProperty(myvalue, key);\r\n      target[dispatchsymbol](String(key));\r\n      return true;\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n  objproxyhandler.has = (target: ReactiveState<object>, key) => {\r\n    const myvalue = get(target, \"value\");\r\n    return has(target, key) || has(myvalue, key);\r\n  };\r\n  objproxyhandler.get = (target: ReactiveState<object>, key) => {\r\n    const value = get(target, \"value\");\r\n    const deepflage = isarray(value) || isplainobject(value);\r\n    if (key === \"value\" && deepflage) {\r\n      return deepobserve(get(target, key), (_target_, patharray) => {\r\n        target[dispatchsymbol](patharray[0]);\r\n      });\r\n    } else if (has(target, key)) {\r\n      return get(target, key);\r\n    } else if (has(value, key)) {\r\n      const resultvalue = get(value, key);\r\n      if (isSet(value)) {\r\n        if (key === \"add\" || key === \"clear\" || key === \"delete\") {\r\n          switch (key) {\r\n            case \"add\": {\r\n              return ((add: any) => {\r\n                if (!set_prototype.has.call(value, add)) {\r\n                  const returnvalue = set_prototype[key].call(value, add);\r\n                  target[dispatchsymbol]();\r\n                  return returnvalue;\r\n                }\r\n                return;\r\n              }).bind(value);\r\n            }\r\n            // break;\r\n            case \"delete\": {\r\n              return ((dele: any) => {\r\n                if (set_prototype.has.call(value, dele)) {\r\n                  const returnvalue = set_prototype[key].call(value, dele);\r\n                  target[dispatchsymbol]();\r\n                  return returnvalue;\r\n                }\r\n                return;\r\n              }).bind(value);\r\n            }\r\n            // break;\r\n            case \"clear\": {\r\n              return (() => {\r\n                if (value.size) {\r\n                  const returnvalue = set_prototype[key].call(value);\r\n                  target[dispatchsymbol]();\r\n                  return returnvalue;\r\n                }\r\n                return;\r\n              }).bind(value);\r\n            }\r\n            // break;\r\n          }\r\n        } else {\r\n          /* VM1933:1 Uncaught TypeError: Method Set.prototype.values called on incompatible receiver [object Object] */\r\n          return isfunction(resultvalue)\r\n            ? resultvalue.bind(value)\r\n            : resultvalue;\r\n        }\r\n      } else if (\r\n        deepflage &&\r\n        (isarray(resultvalue) || isplainobject(resultvalue))\r\n      ) {\r\n        return deepobserve(resultvalue, () => {\r\n          target[dispatchsymbol](String(key));\r\n        });\r\n      } else {\r\n        return resultvalue;\r\n      }\r\n    }\r\n  };\r\n  objproxyhandler.set = (target: ReactiveState<object>, key, value) => {\r\n    if (isReactiveState(value)) {\r\n      // isReactiveState\r\n      value = value.valueOf();\r\n    }\r\n    const myvalue = get(target, \"value\");\r\n    /* , */\r\n    if (\r\n      key === \"value\" &&\r\n      isobject(value) &&\r\n      ((isArray(init) && isarray(value)) || (!isArray(init) && !isarray(value)))\r\n    ) {\r\n      if (target[key] !== value) {\r\n        set(target, key, value);\r\n        target[dispatchsymbol]();\r\n      }\r\n      return true;\r\n    } else if (!has(target, key)) {\r\n      if (myvalue[key] !== value) {\r\n        set(myvalue, key, value);\r\n        target[dispatchsymbol](String(key));\r\n      }\r\n      return true;\r\n      //\r\n    } else {\r\n      console.error(value);\r\n      console.error(init);\r\n      console.error(invalid_primitive_or_object_state);\r\n      throw TypeError();\r\n      //   return false;\r\n    }\r\n    // return true;\r\n  };\r\n  return new Proxy(\r\n    reactive,\r\n\r\n    objproxyhandler\r\n  ) as ReactiveState<object>;\r\n}\r\n","import createeleattr from \"@masx200/dom-element-attribute-agent-proxy\";\r\nimport { asserttype } from \"src/asserttype\";\r\nimport { setimmediate } from \"src/UtilTools/setimmediate\";\r\nimport createElement from \"../CreateElement/create-element\";\r\nimport Virtualdom, { isVirtualdom } from \"../CreateElement/VirtualElement\";\r\nimport mount from \"../MountElement/mount-real-element\";\r\nimport computed from \"../Reactivity/computed\";\r\nimport createstate from \"../Reactivity/create-state\";\r\nimport ReactiveState, { isReactiveState } from \"../Reactivity/ReactiveState\";\r\nimport render from \"../RenderVirtual/render-vdom-to-real\";\r\nimport { appendchild, getchildren, removeElement } from \"../UtilTools/dom\";\r\nimport { get, set } from \"../UtilTools/reflect\";\r\nimport { isArray, isfunction, isSet } from \"../UtilTools/util\";\r\nimport {\r\n  AttrChange,\r\n  attributeChangedCallback,\r\n  connectedCallback,\r\n  disconnectedCallback,\r\n  firstinstalledcallback\r\n} from \"./attr-change\";\r\n// import { VaildVDom } from \"./conditon\";\r\nimport { Htmlelementconstructor } from \"./createComponent\";\r\nimport { componentsymbol } from \"./iscomponent\";\r\nimport { readysymbol } from \"./readysymbol\";\r\nexport { ListMap };\r\nexport default ListMap;\r\nconst listvalueattr = Symbol(\"listvalueattr\");\r\n// const listlengthsymbol = Symbol(\"listlength\");\r\nconst listinnervdom = Symbol(\"listinnervdom\");\r\nconst listinnerelement = Symbol(\"listinnerelement\");\r\n/*  */\r\n// const cached_vdom_symbol = Symbol(\"cached_vdom\");\r\nconst cached_realele = Symbol(\"cached_realele\");\r\nfunction ListMap(\r\n  list: any[] | Set<any> | ReactiveState<any[] | Set<any>>,\r\n  mapfun: (value: ReactiveState<any>, index: number) => Virtualdom<any>\r\n): Virtualdom<Htmlelementconstructor> {\r\n  if (!isArray(list) && !isSet(list) && !isReactiveState(list)) {\r\n    console.error(list);\r\n    throw new TypeError();\r\n  }\r\n  if (!isfunction(mapfun)) {\r\n    console.error(mapfun);\r\n    throw new TypeError();\r\n  }\r\n\r\n  const ITEMfactory = (value: ReactiveState<any>, index: number) => {\r\n    const possiblevdom = mapfun(value, index);\r\n    asserttype(isVirtualdom(possiblevdom));\r\n    return possiblevdom;\r\n  };\r\n  function indextovdom(index: number, thiscom: ListMap) {\r\n    /* indexelement, */\r\n    // index => {\r\n    /* const cached_vdom1 = get(thiscom[cached_vdom_symbol], index);\r\n    if (cached_vdom1) {\r\n      return cached_vdom1;\r\n    } else { */\r\n    const vdom = ITEMfactory(\r\n      computed(thiscom[listvalueattr], v => (v as any[])[index] as any),\r\n\r\n      index\r\n    );\r\n    //   set(thiscom[cached_vdom_symbol], index, vdom);\r\n    return vdom;\r\n    // }\r\n    //   }\r\n  }\r\n  //   const itemclass = createComponent(\r\n  //     Object.assign(\r\n  //       (\r\n  //         props: Record<string, ReactiveState<any>>,\r\n  //         children: [(0 | undefined)?]\r\n  //       ) => {\r\n  //         const { value: propvalue /* , index: propindex */ } = props as {\r\n  //           value: ReactiveState<any>;\r\n  //           //   index: ReactiveState<any>;\r\n  //         };\r\n  //         // const myprops = {propvalue,}\r\n  //         const value = propvalue; //myprops.value;\r\n  //         const [propindex = 0] = children;\r\n  //         const index = Number(propindex); //myprops.index.valueOf() as number;\r\n  //         return mapfun(value, index);\r\n  //       },\r\n  //       { defaultProps: { /*  index: 0, */ value: undefined } }\r\n  //     ) as Custom\r\n  //     //,/* {defaultProps:{\r\n\r\n  //     //  value\r\n  //     // }} */\r\n  //   );\r\n  /* class */\r\n  //   const itemtagname = RandomDefineCustomElement(itemclass);\r\n  //   const ITEMfactory = (value: ReactiveState<any>, index: number) =>\r\n  //     createElement(itemclass, { value }, index);\r\n  //   console.log(ITEMfactory);\r\n  class ListMap extends AttrChange {\r\n    // /* constructor() {\r\n    //   super();\r\n    //   /*    const defaultProps = get(this.constructor, \"defaultProps\");\r\n    //   // this.constructor[\"defaultProps\"];\r\n    //   const attrs: Record<string, any> = createeleattragentreadwrite(this);\r\n    //   //   const props = {};\r\n    //   if (isobject(defaultProps)) {\r\n    //     Object.assign(attrs, defaultProps);\r\n    //     // Object.assign(props, this.constructor[\"defaultProps\"]);\r\n    //   } */\r\n    // } */\r\n    static defaultProps = { value: [] };\r\n    // [cached_vdom_symbol]: Map<number, Virtualdom<any>> = new Map();\r\n    [cached_realele]: Map<number, Element> = new Map();\r\n    [listvalueattr] = createstate([]);\r\n    // [listlengthsymbol]: number;\r\n    [listinnerelement]: Array<Element | Node>;\r\n    [listinnervdom]: Array<Virtualdom<any>>; //Virtualdom<Htmlelementconstructor>[];\r\n    static [componentsymbol] = componentsymbol;\r\n    [readysymbol] = false;\r\n    [attributeChangedCallback](name: string) {\r\n      if (this[readysymbol]) {\r\n        if (name === \"value\") {\r\n          const attrs = createeleattr(this);\r\n          const value = attrs[\"value\"];\r\n\r\n          if (!isArray(value)) {\r\n            console.log(value);\r\n            throw new TypeError();\r\n          }\r\n          // this[listlengthsymbol] = value.length;\r\n          /*  */\r\n          set(this[listvalueattr], \"value\", value);\r\n          //  [] = ;\r\n          const domchildren = getchildren(this);\r\n          const newlength = value.length;\r\n          const oldlength = domchildren.length;\r\n          if (newlength > oldlength) {\r\n            const numindexs = Array(newlength)\r\n              .fill(undefined)\r\n              .map((v, i) => i)\r\n              .slice(oldlength);\r\n\r\n            // const vdomstoadd: Array<Virtualdom<any>> = numindexs.map();\r\n            const realelementstoadd: Element[] = numindexs.map(index => {\r\n              //   const index = i + oldlength;\r\n              //   const index = Number(vdom.children[0]);\r\n\r\n              //   const index = vdom.props.index;\r\n\r\n              const cached_element = get(this[cached_realele], index);\r\n              /* element */\r\n              if (cached_element) {\r\n                return cached_element;\r\n              } else {\r\n                const vdom = indextovdom(index, this);\r\n                const element = render(vdom);\r\n                set(this[cached_realele], index, element);\r\n                return element;\r\n              }\r\n            });\r\n            /* this[listinnervdom].push(...vdomstoadd);\r\n            this[listinnerelement].push(...realelementstoadd); */\r\n            realelementstoadd.forEach(element => appendchild(this, element));\r\n          } else if (newlength < oldlength) {\r\n            /*  */\r\n            /*  this[listinnervdom] = this[listinnervdom].slice(0, newlength);\r\n            this[listinnerelement] = this[listinnerelement].slice(0, newlength); */\r\n            getchildren(this)\r\n              .slice(newlength)\r\n              .forEach(element => removeElement(element));\r\n          }\r\n        }\r\n      }\r\n    }\r\n    disconnectedCallback() {\r\n      //   onunmounted(this);\r\n      //   super.disconnectedCallback();\r\n\r\n      setimmediate(() => {\r\n        disconnectedCallback(this);\r\n        /* if (itemtagname) {\r\n          querySelectorAll(itemtagname).forEach(e => removeNode(e));\r\n        } */\r\n      });\r\n    }\r\n    [firstinstalledcallback]() {\r\n      const attrs = createeleattr(this);\r\n      const value: any[] = attrs[\"value\"];\r\n\r\n      if (!isArray(value)) {\r\n        console.log(value);\r\n        throw new TypeError();\r\n      }\r\n      /*  */\r\n      // this[listvalueattr][\"value\"] = value;\r\n      set(this[listvalueattr], \"value\", value);\r\n      this[listinnervdom] = value.map((v, index) =>\r\n        ITEMfactory(\r\n          computed(this[listvalueattr], v => (v as any[])[index] as any),\r\n\r\n          index\r\n        )\r\n      );\r\n      this[listinnerelement] = render(this[listinnervdom]);\r\n      // /*   Object.entries(this[listinnervdom]).forEach(([key, value]) => {\r\n      //     /*  this[cached_vdom_symbol]Map*/\r\n      //     set(this[cached_vdom_symbol], key, value);\r\n      //   }); */\r\n      Object.entries(this[listinnerelement]).forEach(([key, value]) => {\r\n        /* this[cached_realele] Map\r\n         */\r\n        set(this[cached_realele], Number(key), value);\r\n      });\r\n      //   Object.assign(this[cached_vdom_symbol], this[listinnervdom]);\r\n      //   Object.assign(this[cached_realele], this[listinnerelement]);\r\n      mount(this[listinnerelement], this);\r\n\r\n      /* , */\r\n      this[listinnerelement] = [];\r\n      this[listinnervdom] = [];\r\n    }\r\n    connectedCallback() {\r\n      /*   if (!this[readysymbol]) {\r\n        this[readysymbol] = true;\r\n\r\n       \r\n        // this[listlengthsymbol] = value.length;\r\n      } */\r\n      //   onmounted(this);\r\n      connectedCallback(this);\r\n    }\r\n  }\r\n  return createElement(ListMap, { value: list });\r\n}\r\n","export function asserttype(con: boolean) :asserts con{\r\n  if (!con) {\r\n    throw new TypeError();\r\n  }\r\n}\r\n","import { setimmediate } from \"src/UtilTools/setimmediate\";\r\nimport { h } from \"../CreateElement/create-element\";\r\nimport Virtualdom from \"../CreateElement/VirtualElement\";\r\nimport { Custom } from \"../CustomClass/customclass\";\r\n// import { isclassextendsHTMLElement } from \"../CustomElement/create-costum-elemet\";\r\nimport { mountrealelement } from \"../MountElement/mount-real-element\";\r\nimport ReactiveState, { isReactiveState } from \"../Reactivity/ReactiveState\";\r\nimport { CancelWatchfun, watch } from \"../Reactivity/watch\";\r\nimport render from \"../RenderVirtual/render-vdom-to-real\";\r\nimport { isfunction } from \"../UtilTools/util\";\r\nimport {\r\n  AttrChange,\r\n  connectedCallback,\r\n  disconnectedCallback,\r\n  firstinstalledcallback\r\n} from \"./attr-change\";\r\nimport { autocreateclass, Htmlelementconstructor } from \"./createComponent\";\r\nimport { componentsymbol } from \"./iscomponent\";\r\nimport { readysymbol } from \"./readysymbol\";\r\nconst cancel_watch_symbol = Symbol(\"cancel_watch\");\r\nconst cached_class_element = Symbol(\"cached_class_element\");\r\nconst switch_mount_symbol = Symbol(\"switch_mount\");\r\n// const current_element_class = Symbol(\"current_element_class\");\r\nexport { Switchable };\r\nfunction Switchable(\r\n  funstate: ReactiveState<Htmlelementconstructor | Custom>\r\n): Virtualdom<Htmlelementconstructor> {\r\n  if (!isReactiveState(funstate)) {\r\n    console.error(funstate);\r\n    throw new TypeError();\r\n  }\r\n  class Switchable extends AttrChange {\r\n    // [current_element_class]: Htmlelementconstructor;\r\n    [cached_class_element] = new WeakMap<Htmlelementconstructor, Element>();\r\n    disconnectedCallback() {\r\n      //   onunmounted(this);\r\n      //   super.disconnectedCallback();\r\n      setimmediate(() => {\r\n        disconnectedCallback(this);\r\n        if (isfunction(this[cancel_watch_symbol])) {\r\n          this[cancel_watch_symbol]();\r\n        }\r\n      });\r\n    }\r\n    [cancel_watch_symbol]: CancelWatchfun;\r\n    static [componentsymbol] = componentsymbol;\r\n    [readysymbol] = false;\r\n    [switch_mount_symbol](eleclass: Custom | Htmlelementconstructor) {\r\n      eleclass = autocreateclass(eleclass);\r\n      /*  if (!isclassextendsHTMLElement(eleclass)) {\r\n        console.error(eleclass);\r\n        throw new TypeError();\r\n      } */\r\n      //   this[current_element_class] = eleclass;\r\n      const eleme = this[cached_class_element].get(eleclass);\r\n      if (eleme) {\r\n        mountrealelement(eleme, this);\r\n        // return;\r\n      } else {\r\n        const elementreal = render(h(eleclass));\r\n\r\n        this[cached_class_element].set(eleclass, elementreal);\r\n        mountrealelement(elementreal, this);\r\n        // return;\r\n      }\r\n    }\r\n    [firstinstalledcallback]() {\r\n      const callmountswitch = () => {\r\n        this[switch_mount_symbol](funstate.valueOf() as\r\n          | Custom\r\n          | Htmlelementconstructor);\r\n      };\r\n      callmountswitch();\r\n      this[cancel_watch_symbol] = watch(funstate, () => {\r\n        callmountswitch();\r\n      });\r\n    }\r\n    connectedCallback() {\r\n      connectedCallback(this);\r\n      /* if (!this[readysymbol]) {\r\n        this[readysymbol] = true;\r\n      } */\r\n      //   onmounted(this);\r\n    }\r\n  }\r\n  return h(Switchable);\r\n}\r\nexport default Switchable;\r\n","interface Ref<T = any | undefined> {\r\n  value: T | undefined;\r\n}\r\n\r\nexport default function createRef<T = any | undefined>(value?: T): Ref<T> {\r\n  return { value };\r\n}\r\n","var n=function(t,r,u,e){for(var p=1;p<r.length;p++){var s=r[p],h=\"number\"==typeof s?u[s]:s,a=r[++p];1===a?e[0]=h:3===a?e[1]=Object.assign(e[1]||{},h):5===a?(e[1]=e[1]||{})[r[++p]]=h:6===a?e[1][r[++p]]+=h+\"\":e.push(a?t.apply(null,n(t,h,u,[\"\",null])):h)}return e},t=function(n){for(var t,r,u=1,e=\"\",p=\"\",s=[0],h=function(n){1===u&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?s.push(n||e,0):3===u&&(n||e)?(s.push(n||e,1),u=2):2===u&&\"...\"===e&&n?s.push(n,3):2===u&&e&&!n?s.push(!0,5,e):u>=5&&((e||!n&&5===u)&&(s.push(e,u,r),u=6),n&&(s.push(n,u,r),u=6)),e=\"\"},a=0;a<n.length;a++){a&&(1===u&&h(),h(a));for(var f=0;f<n[a].length;f++)t=n[a][f],1===u?\"<\"===t?(h(),s=[s],u=3):e+=t:4===u?\"--\"===e&&\">\"===t?(u=1,e=\"\"):e=t+e[0]:p?t===p?p=\"\":e+=t:'\"'===t||\"'\"===t?p=t:\">\"===t?(h(),u=1):u&&(\"=\"===t?(u=5,r=e,e=\"\"):\"/\"===t&&(u<5||\">\"===n[a][f+1])?(h(),3===u&&(s=s[0]),u=s,(s=s[0]).push(u,2),u=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(h(),u=2):e+=t),3===u&&\"!--\"===e&&(u=4,s=s[0])}return h(),s},r=\"function\"==typeof Map,u=r?new Map:{},e=r?function(n){var r=u.get(n);return r||u.set(n,r=t(n)),r}:function(n){for(var r=\"\",e=0;e<n.length;e++)r+=n[e].length+\"-\"+n[e];return u[r]||(u[r]=t(n))};export default function(t){var r=n(this,e(t),arguments,[]);return r.length>1?r:r[0]}\n","import htm from \"htm\";\r\n// import htm from \"../types/htm\";\r\nimport { invalid_Virtualdom } from \"../MountElement/MountElement\";\r\nimport { apply } from \"../UtilTools/reflect\";\r\nimport { toArray } from \"../UtilTools/toArray\";\r\nimport Virtualdom, { Vdomchildren } from \"./VirtualElement\";\r\nimport h from \"./create-element\";\r\nimport { isvalidvdom } from \"./isvalidvdom\";\r\n\r\n// const html = htm.bind(h);\r\n// function html(\r\n//   strings?: TemplateStringsArray,\r\n//   ...values: any[]\r\n// ): Virtualdom<any>;\r\nfunction html(...inargs: any[]): Virtualdom<any> | Vdomchildren {\r\n  // return (htm as HTM).call(h, ...inargs);\r\n\r\n  return apply(htm /* as HTM */, h, inargs);\r\n}\r\n\r\n/* vdom */\r\n\r\nexport default function(\r\n  strings?: TemplateStringsArray,\r\n  ...values: any[]\r\n): Virtualdom<any> | Vdomchildren;\r\nexport default function(...args: any[]) {\r\n  const prevdom = toArray(html(...args));\r\n\r\n  const vdom = prevdom.length === 1 ? prevdom[0] : prevdom;\r\n  if (isvalidvdom(vdom)) {\r\n    return vdom;\r\n  } else {\r\n    console.error(vdom);\r\n    console.error(invalid_Virtualdom);\r\n    throw new TypeError();\r\n  }\r\n}\r\n\r\n// declare const htm: (\r\n//   strings?: TemplateStringsArray,\r\n//   ...values: any[]\r\n// ) => Virtualdom<any>;\r\n/* declare module \"htm/dist/htm.module\" {\r\n  const htm: (\r\n    strings?: TemplateStringsArray,\r\n    ...values: any[]\r\n  ) => Virtualdom<any>;\r\n  export default htm;\r\n} */\r\n/* interface HTM {\r\n  (strings?: TemplateStringsArray, ...values: any[]): Virtualdom<any>;\r\n} */\r\n","import { invalid_ReactiveState } from \"../AttributeClass/conditon\";\r\nimport { querySelectorAll } from \"../UtilTools/dom\";\r\nimport directives from \"./extend-directive\";\r\nimport { invalid_Virtualdom } from \"../MountElement/MountElement\";\r\nimport ReactiveState, {\r\n  // ReactiveState,\r\n  isReactiveState\r\n} from \"../Reactivity/ReactiveState\";\r\nimport { get, set } from \"../UtilTools/reflect\";\r\nimport { toArray } from \"../UtilTools/toArray\";\r\nimport Virtualdom from \"../CreateElement/VirtualElement\";\r\ndirectives({\r\n  value(value, element, vdom) {\r\n    model(\r\n      [\"input\", \"textarea\", \"select\"],\r\n      \"value\",\r\n      \"value\",\r\n      [\"change\", \"input\"],\r\n      value,\r\n      vdom\r\n    );\r\n  },\r\n  checked(value, element, vdom) {\r\n    model([\"input\"], \"checked\", \"checked\", [\"change\"], value, vdom);\r\n\r\n    /* nameinput,radio,,,change */\r\n    const eventname = \"click\";\r\n    const origin = toArray(vdom.onevent[eventname]);\r\n    const eventsarray = origin;\r\n    const dispatchallsamename: EventListener = (event: Event) => {\r\n      const inputelement = event.target as HTMLInputElement;\r\n      const name = (event.target as HTMLInputElement).name;\r\n      if (name) {\r\n        querySelectorAll(`input[name=${name}]`)\r\n          /* inputelement */\r\n          .filter(ele => ele !== inputelement)\r\n\r\n          .forEach(element => {\r\n            element.dispatchEvent(new Event(\"change\"));\r\n          });\r\n      }\r\n    };\r\n\r\n    set(\r\n      vdom.onevent,\r\n      eventname,\r\n      toArray([...eventsarray, dispatchallsamename]).filter(Boolean)\r\n    );\r\n  }\r\n});\r\nfunction model(\r\n  types: string[],\r\n  bindattribute: string,\r\n  domprop: string,\r\n  eventnames: string[],\r\n  value: ReactiveState<any>,\r\n  vdom: Virtualdom<any>\r\n) {\r\n  if (!isReactiveState(value)) {\r\n    console.error(value);\r\n    console.error(invalid_ReactiveState + invalid_Virtualdom);\r\n    throw TypeError();\r\n  }\r\n  if (types.includes(vdom.type)) {\r\n    // const vdom = virtualdom;\r\n    set(vdom.bindattr, bindattribute, value);\r\n    /*  [\r\n      // vdom.bindattr[\"checked\"] = value;\r\n      \"change\",\r\n      \"input\"\r\n    ]. */\r\n\r\n    eventnames.forEach(eventname => {\r\n      const origin = vdom.onevent[eventname];\r\n\r\n      const eventsarray = toArray(origin);\r\n\r\n      set(\r\n        vdom.onevent,\r\n        eventname,\r\n        toArray([\r\n          ...eventsarray,\r\n\r\n          (e: any) => {\r\n            return (value.value = get(e.target, domprop));\r\n          }\r\n        ]).filter(Boolean)\r\n      );\r\n    });\r\n  } else {\r\n    console.error(vdom);\r\n    console.error(invalid_ReactiveState + invalid_Virtualdom);\r\n    throw TypeError();\r\n  }\r\n}\r\n\r\n/* directives({\r\n  value(_element: Element, value: ReactiveState<any>, vdom: Virtualdom<any>) {\r\n    // console.log(vdom);\r\n    if (\r\n      isReactiveState(value) &&\r\n      //   value instanceof ReactiveState\r\n\r\n      (vdom.type === \"input\" ||\r\n        vdom.type === \"textarea\" ||\r\n        vdom.type === \"select\")\r\n    ) {\r\n      vdom.bindattr[\"value\"] = value;\r\n      [\"change\", \"input\"].forEach(eventname => {\r\n        const origin = vdom.onevent[eventname];\r\n\r\n        const eventsarray = toArray(origin);\r\n\r\n        set(\r\n          vdom.onevent,\r\n          eventname,\r\n          [\r\n            ...eventsarray,\r\n\r\n            (e: any) => {\r\n              return (value.value = e.target.value);\r\n            }\r\n          ].filter(Boolean)\r\n        );\r\n      });\r\n    } else {\r\n      console.log(_element);\r\n      console.error(value);\r\n      console.error(vdom);\r\n      console.error(invalid_ReactiveState + invalid_Virtualdom);\r\n      throw TypeError();\r\n    }\r\n  }\r\n});\r\ndirectives({\r\n  checked(_element: Element, value: ReactiveState<any>, vdom: Virtualdom<any>) {\r\n    // console.log(vdom);\r\n    if (\r\n      isReactiveState(value) &&\r\n      //   value instanceof ReactiveState\r\n\r\n      vdom.type === \"input\"\r\n    ) {\r\n      vdom.bindattr[\"checked\"] = value;\r\n      [\"change\", \"input\"].forEach(eventname => {\r\n        const origin = vdom.onevent[eventname];\r\n\r\n        const eventsarray = toArray(origin);\r\n\r\n        set(\r\n          vdom.onevent,\r\n          eventname,\r\n          [\r\n            ...eventsarray,\r\n\r\n            (e: any) => {\r\n              return (value.value = e.target.checked);\r\n            }\r\n          ].filter(Boolean)\r\n        );\r\n      });\r\n    } else {\r\n      console.log(_element);\r\n      console.error(value);\r\n      console.error(vdom);\r\n      console.error(invalid_ReactiveState + invalid_Virtualdom);\r\n      throw TypeError();\r\n      //throw TypeError(invalid_ReactiveState + invalid_Virtualdom);\r\n    }\r\n  }\r\n}); */\r\n"],"names":["privateData","WeakMap","wrappers","pd","event","get","setCancelFlag","data","passiveListener","cancelable","canceled","preventDefault","console","error","Event","eventTarget","set","this","eventPhase","currentTarget","stopped","immediateStopped","timeStamp","Date","now","Object","defineProperty","value","enumerable","keys","i","length","key","defineRedirectDescriptor","[object Object]","configurable","defineCallDescriptor","apply","arguments","getWrapper","proto","prototype","wrapper","BaseEvent","CustomEvent","call","create","constructor","writable","isFunc","getOwnPropertyDescriptor","defineWrapper","getPrototypeOf","isStopped","setPassiveListener","type","stopPropagation","stopImmediatePropagation","Boolean","bubbles","composed","cancelBubble","window","setPrototypeOf","listenersMap","ATTRIBUTE","isObject","x","getListeners","listeners","TypeError","defineEventAttribute","eventTargetPrototype","eventName","node","listenerType","listener","next","prev","delete","newNode","passive","once","defineEventAttributeDescriptor","defineCustomEventTarget","eventNames","CustomEventTarget","EventTarget","Array","isArray","types","Map","fromPairs_1","a","isString","isnumber","isboolean","isundefined","isbigint","issymbol","options","optionsIsObj","capture","undefined","wrappedEvent","wrapEvent","err","handleEvent","setEventPhase","setCurrentTarget","defaultPrevented","e","event_target","customElements","CustomElementRegistry","aa","Set","split","g","b","has","test","l","isConnected","__CE_isImportDocument","Document","parentNode","ShadowRoot","host","n","nextSibling","p","d","c","nodeType","Node","ELEMENT_NODE","f","localName","getAttribute","import","add","firstChild","__CE_shadowRoot","r","u","v","w","__CE_patched","push","__CE_state","connectedCallback","y","z","disconnectedCallback","A","__CE_hasRegistry","readyState","__CE_documentLoadHandled","addEventListener","ownerDocument","defaultView","constructionStack","constructorFunction","Error","pop","t","__CE_definition","attributeChangedCallback","observedAttributes","B","document","MutationObserver","bind","observe","childList","subtree","C","disconnect","ea","Promise","D","E","j","o","indexOf","addedNodes","Function","SyntaxError","k","h","m","q","adoptedCallback","ba","shift","fa","reject","some","s","define","upgrade","whenDefined","polyfillWrapFlushCallback","F","createElement","G","createElementNS","ha","importNode","ia","prepend","ja","append","ka","DocumentFragment","la","H","cloneNode","I","appendChild","J","insertBefore","K","removeChild","L","replaceChild","M","N","Element","attachShadow","O","P","Q","setAttribute","R","removeAttribute","S","getAttributeNS","T","setAttributeNS","U","removeAttributeNS","ma","insertAdjacentElement","na","insertAdjacentHTML","oa","pa","V","before","qa","after","ra","replaceWith","sa","remove","ta","HTMLElement","W","ua","va","wa","Y","Z","forcePolyfill","X","ya","TEXT_NODE","childNodes","slice","ca","COMMENT_NODE","textContent","join","createTextNode","za","toLowerCase","previousSibling","lastChild","String","da","innerHTML","content","namespaceURI","Aa","Ba","self","Reflect","flat","arrayflat","depth","reduce","acc","val","concat","flattenDeep","arr1","result","pairs","index","pair","fromEntries","isplainobject","isobject","gettagtype","isstring","isfunction","isarray","toString","replace","trim","isSet","isMap","isWeakMap","Proxy","acceptValue","tag","attr","attrtype","includes","hyphenateRE","hyphenate","str","ownKeys","valuestring","isinputcheckbox","ele","geteletagname","createeleattragentreadwrite","asserthtmlelement","temp","outputattrs","isinputtextortextareaflag","tagname","isinputtextortextarea","getAttributeNames","attributesownkeys","from","Infinity","filter","target","mustUseDomProp","getattribute","JSON","parse","csstext","obj","stringify","entries","map","classtext","setattribute","otherdescipter","myvalue","tagName","global","freeSelf","freeGlobal","root","Symbol","objectProto","hasOwnProperty","nativeObjectToString","symToStringTag","toStringTag","isOwn","unmasked","nullTag","undefinedTag","getRawTag","objectToString","symbolTag","isObjectLike","baseGetTag","NAN","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","isSymbol","other","valueOf","isBinary","FUNC_ERROR_TEXT","nativeMax","Math","max","nativeMin","min","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","args","thisArg","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","setTimeout","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","clearTimeout","toNumber","cancel","flush","cached_callback_eventlistner","cached_create_componet","cached_callback_debounced_watchs","construct","deleteProperty","preventExtensions","propertyKey","watchrecord","ctxopen","MountedSet","UnMountedSet","StateSet","useMounted","fun","isFunction","useUnMounted","closectx","clearall","addonelistner","removeonelistner","cancelsubscribe","debouncedispatch","isReactiveState","ReactiveState","eventtargetsymbol","memlisteners","dispatchsymbol","subscribesymbol","removeallistenerssymbol","addallistenerssymbol","init","state","debouncedfun","debounce","eventname","name","dispatchEvent","detail","forEach","callback","removeEventListener","isprimitive","eventlistener","possiblecallback","toPrimitive","merge_entries","VirtualElementSet","WeakSet","Letter_case_and_Chinese","isVirtualdom","createVirtualElement","props","children","assign","propsentries","propsentriesNOTevents","startsWith","Entries_beginning_with_a_letter","virtual","vdom","element","bindattr","onevent","directives","freeze","isvalidvdom","every","isclassextendsHTMLElement","initclass","cssrulestocsstext","cssrules","cssText","charactorlist","fill","fromCharCode","hexnumberlist","charactorandnumberlist","getrandomstringandnumber","floor","random","elementset","for","elementmap","extendsname","RandomDefineCustomElement","table","Componentstatusname","outputentrie","find","Usevaluetoquerythekeyfromthetable","elementname","extends","iterator","componentsymbol","seteletext","setelehtml","appendchild","container","createDocumentFragment","namespace","createtextnode","svgnamespace","mathnamespace","domaddlisten","getchildren","getchildNodes","querySelectorAll","selector","toArray","clear","isNode","MountElement","el","body","documentElement","head","elesarray","mount","render","arr","watch","statearray","debouncedcallback","stateandlisteners","state1","cachedfun","listenfun","requestAnimationFrame","rewatch","usewatch","watchsingle","isconnected","isConnectedstate","getancestornode","createhtmlandtextdirective","errorname","text","extenddirectives","directive","ref","_vdom","html","eventlistenerssymbol","callarray","firstaddlisteners","bindstatesymbol","throwinvalideletype","reactive","textnode","nodeValue","changetext","autocreateclass","fragmentnode","createnativeelement","propsjson","createcostumelemet","attribute1","createeleattr","primitivestate","callbacks","values","handleprops","componentsstylesheet","sourcecssblobCache","savestyleblob","urltext","prefix","source","cachedBlob","bloburl","URL","createObjectURL","Blob","createcssBlob","prefixcssrules","cssRulesarray","cssrule","isCSSStyleRule","cssstylerule","selectorold","selectorText","stylebodyold","selectoraftertransform","selectorTextone","prefixselector","selectoraddprefix","isCSSMediaRule","rulesarr","cssRules","conditionText","prefixcssmediarule","isCSSImportRule","href","parsecsstext","styleelement","implementation","createHTMLDocument","oldcsstotransformedcss","registercssprefix","cachedtext","cssnewtext","transformcsstext","waitloadallstyle","containerthis","all","styleurl","resolve","stylelinkelement","rs","loaderrorfun","onload","onerror","loadlinkstyle","url","rel","createlinkstylesheet","setimmediate","then","onmounted","readdlisteners","innerstatesymbol","innerwatchrecords","onunmounted","domremovelisten","removelisteners","unwatch","readysymbol","firstinstalledcallback","componentelement","AttrChange","defaultProps","attrs","mutations","mutation","qualifiedName","attributeName","attributes","waittranformcsssymbol","attributessymbol","elementsymbol","inner_vdom_symbol","mountedsymbol","unmountedsymbol","createComponent","custfun","cached_class","css","Component","thisattributess","readonlyprop","readonlyproxy","possiblyvirtualdom","vdomarray","thencallbackfirst","thencallbacksecond","innervdom","waitcallback","propreactivestate","propsorchildren","typenormalized","propsnormalized","childrennormalized","truevdomsymbol","falsevdomsymbol","trueelesymbol","falseelesymbol","handletrue","handlefalse","conditon","iftrue","iffalse","true","false","optionstrue","optionsfalse","Condition","elementtomount","getproperyreadproxy","myvalueobj","property","setter","state1array","reactivestate","getter","st","possiblevalue","memorized","newvalue","Arraycomputed","Setprototype","Mapprototype","deepobserveaddpath","patharray","ancestor","RegExp","isregexp","isdate","fakeobj","argumentslist","thisarg","argarray","descripter","observedeepagent","set_prototype","createstate","initobj","containReactiveState","state_entries","nvalue","objproxyhandler","deepflage","deepobserve","_target_","resultvalue","returnvalue","dele","size","handleobjectstate","listvalueattr","listinnervdom","listinnerelement","cached_realele","ListMap","list","mapfun","ITEMfactory","possiblevdom","con","asserttype","domchildren","newlength","oldlength","cached_element","thiscom","computed","indextovdom","removeElement","Number","cancel_watch_symbol","cached_class_element","switch_mount_symbol","Switchable","funstate","eleclass","eleme","mountrealelement","elementreal","callmountswitch","createRef","prevdom","inargs","htm","model","bindattribute","domprop","eventnames","eventsarray","inputelement"],"mappings":"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"}