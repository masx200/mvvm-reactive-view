{"version":3,"file":"index.min.js","sources":["index.js"],"sourcesContent":["function fromPairs(pairs) {\n    var index = -1, length = pairs == null ? 0 : pairs.length, result = {};\n    while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n    }\n    return result;\n}\n\nvar fromPairs_1 = fromPairs;\n\nif (\"function\" !== typeof Object.fromEntries) Object.fromEntries = fromPairs_1;\n\nfunction flattenDeep(arr1) {\n    return arr1.reduce((acc, val) => Array.isArray(val) ? acc.concat(flattenDeep(val)) : acc.concat(val), []);\n}\n\nfunction arrayflat(depth = 1) {\n    if (depth <= 1) {\n        return this.reduce((acc, val) => acc.concat(val), []);\n    } else {\n        return flattenDeep(this);\n    }\n}\n\nif (typeof Array.prototype.flat !== \"function\") {\n    Array.prototype.flat = arrayflat;\n}\n\nfunction isundefined(a) {\n    return typeof a === \"undefined\";\n}\n\nfunction isnumber(a) {\n    return typeof a === \"number\";\n}\n\nfunction isboolean(a) {\n    return typeof a === \"boolean\";\n}\n\nfunction isobject(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isstring(a) {\n    return typeof a === \"string\";\n}\n\nfunction isfunction(a) {\n    return typeof a === \"function\";\n}\n\nfunction isarray(a) {\n    return a instanceof Array && Array.isArray(a) && gettagtype(a) === \"array\";\n}\n\nfunction getsymbol(a) {\n    return Symbol(a);\n}\n\nfunction gettagtype(a) {\n    return {}.toString.call(a).replace(\"[object \", \"\").replace(\"]\", \"\").toLowerCase();\n}\n\nfunction isprimitive(a) {\n    return isstring(a) || isnumber(a) || isboolean(a) || isundefined(a);\n}\n\nvar _a, _b, _c;\n\nfunction isReactiveState(a) {\n    return a instanceof ReactiveState;\n}\n\nconst textnodesymbol = Symbol(\"textnode\");\n\nconst eventtargetsymbol = Symbol(\"eventtatget\");\n\nconst memlisteners = Symbol(\"memlisteners\");\n\nconst dispatchsymbol = getsymbol(\"dispatch\");\n\nconst subscribesymbol = getsymbol(\"subscribe\");\n\nconst removeallistenerssymbol = getsymbol(\"removeallisteners\");\n\nconst addallistenerssymbol = getsymbol(\"addallisteners\");\n\nclass ReactiveState {\n    constructor(init) {\n        this[_a] = undefined;\n        this[_b] = new EventTarget;\n        this[_c] = [];\n        if (isprimitive(init) || isobject(init)) {\n            Object.defineProperty(this, \"value\", {\n                value: init,\n                configurable: true,\n                writable: true\n            });\n        } else {\n            throw TypeError(\"invalid State\");\n        }\n        Object.defineProperty(this, Symbol.toStringTag, {\n            value: \"ReactiveState\",\n            configurable: true\n        });\n    }\n    [addallistenerssymbol]() {\n        this[memlisteners].forEach(([value, callback]) => {\n            this[eventtargetsymbol].addEventListener(value, callback);\n        });\n    }\n    valueOf() {\n        return this.value;\n    }\n    toString() {\n        const value = this.value;\n        return isprimitive(value) ? String(value) : isobject(value) ? JSON.stringify(value) : \"\";\n    }\n    [(_a = textnodesymbol, _b = eventtargetsymbol, _c = memlisteners, dispatchsymbol)](eventname) {\n        const name = eventname ? String(eventname) : \"value\";\n        if (name !== \"value\") {\n            this[eventtargetsymbol].dispatchEvent(new Event(name));\n        }\n        this[eventtargetsymbol].dispatchEvent(new Event(\"value\"));\n    }\n    [subscribesymbol](callback, eventname) {\n        const name = eventname ? String(eventname) : \"value\";\n        this[memlisteners].push([ name, () => callback(this) ]);\n    }\n    [removeallistenerssymbol]() {\n        this[memlisteners].forEach(([value, callback]) => {\n            this[eventtargetsymbol].removeEventListener(value, callback);\n        });\n    }\n    [Symbol.toPrimitive]() {\n        const value = this.value;\n        return isprimitive(value) ? value : isobject(value) ? JSON.stringify(value) : void 0;\n    }\n}\n\nconst document = window.document;\n\nfunction seteletext(e, v) {\n    e.textContent = v;\n}\n\nfunction setelehtml(e, v) {\n    e.innerHTML = v;\n}\n\nfunction appendchild(container, ele) {\n    container.appendChild(ele);\n}\n\nfunction createsvgelement() {\n    return createElementNS(svgnamespace, \"svg\");\n}\n\nfunction createnonescript() {\n    return document.createDocumentFragment();\n}\n\nfunction createnativeelement(type) {\n    return document.createElement(type);\n}\n\nfunction createElementNS(namespace, name) {\n    return document.createElementNS(namespace, name);\n}\n\nfunction createtextnode(data) {\n    return document.createTextNode(data);\n}\n\nconst svgnamespace = \"http://www.w3.org/2000/svg\";\n\nfunction changetext(textnode, value) {\n    textnode.nodeValue = String(value);\n}\n\nconst mathnamespace = \"http://www.w3.org/1998/Math/MathML\";\n\nfunction createmathelement() {\n    return createElementNS(mathnamespace, \"math\");\n}\n\nfunction watch(state, callback, statekey) {\n    if (!(isReactiveState(state) && isfunction(callback))) {\n        throw TypeError(\"invalid state or callback\");\n    }\n    if (statekey) {\n        state[subscribesymbol](callback, statekey);\n    } else {\n        state[subscribesymbol](callback);\n    }\n    requestAnimationFrame(() => {\n        state[addallistenerssymbol]();\n    });\n}\n\nconst requestAnimationFrame = window.requestAnimationFrame;\n\nvar directives = {\n    ref(ele, ref) {\n        if (typeof ref == \"object\") {\n            ref.value = ele;\n        } else {\n            throw TypeError(\"invalid ref\");\n        }\n    },\n    html(ele, html) {\n        createhtmlandtextdirective(setelehtml, \"html\")(ele, html);\n    },\n    text(ele, text) {\n        createhtmlandtextdirective(seteletext, \"text\")(ele, text);\n    }\n};\n\nfunction createhtmlandtextdirective(seteletext, errorname) {\n    return function(ele, text) {\n        if (typeof text == \"string\") {\n            requestAnimationFrame(() => {\n                seteletext(ele, text);\n            });\n        } else if (isReactiveState(text)) {\n            watch(text, state => {\n                seteletext(ele, String(state));\n            });\n            requestAnimationFrame(() => {\n                seteletext(ele, String(text));\n            });\n        } else {\n            throw TypeError(\"invalid \" + errorname);\n        }\n    };\n}\n\nfunction extenddirectives(options) {\n    Object.entries(options).forEach(([key, value]) => {\n        if (typeof value !== \"function\") {\n            throw TypeError(\"invalid directive\");\n        } else {\n            directives[key] = value;\n        }\n    });\n}\n\nextenddirectives({\n    value(element, value, vdom) {\n        if (isReactiveState(value) && (vdom.type === \"input\" || vdom.type === \"textarea\")) {\n            vdom.bindattr[\"value\"] = value;\n            [ \"change\", \"input\" ].forEach(eventname => {\n                const origin = vdom.onevent[eventname];\n                const eventsarray = [ origin ].flat(Infinity);\n                Reflect.set(vdom.onevent, eventname, eventsarray.concat([ e => {\n                    return value.value = e.target.value;\n                } ]).filter(Boolean));\n            });\n        } else {\n            throw TypeError(\"invalid ReactiveState or element\");\n        }\n    }\n});\n\nconst Reflect$1 = window.Reflect;\n\nconst {apply: apply, construct: construct, defineProperty: defineProperty, deleteProperty: deleteProperty, get: get, getOwnPropertyDescriptor: getOwnPropertyDescriptor, getPrototypeOf: getPrototypeOf, has: has, isExtensible: isExtensible, ownKeys: ownKeys, preventExtensions: preventExtensions, set: set, setPrototypeOf: setPrototypeOf} = Reflect$1;\n\nwindow.CustomElementRegistry = get(getPrototypeOf(window.customElements), \"constructor\");\n\nconst {customElements: customElements$1, CustomElementRegistry: CustomElementRegistry$1} = window;\n\nconst elementset = Symbol.for(\"elementset\");\n\nconst elementmap = Symbol.for(\"elementmap\");\n\nfunction RandomDefineCustomElement(initclass, extendsname) {\n    const elementname = getrandomstringandnumber();\n    if (!customElements$1[elementset].has(initclass)) {\n        if (customElements$1.get(elementname)) {\n            return RandomDefineCustomElement(initclass);\n        } else {\n            if (extendsname) {\n                customElements$1.define(elementname, initclass, {\n                    extends: extendsname\n                });\n            } else {\n                customElements$1.define(elementname, initclass);\n            }\n        }\n    }\n    return elementname;\n}\n\nif (!customElements$1[elementset]) {\n    customElements$1[elementset] = new Set;\n}\n\nif (!customElements$1[elementmap]) {\n    customElements$1[elementmap] = new Map;\n}\n\ncustomElements$1.define = function(name, constructor, options) {\n    CustomElementRegistry$1.prototype.define.call(customElements$1, name, constructor, options);\n    customElements$1[elementset].add(constructor);\n    customElements$1[elementmap].set(name, constructor);\n};\n\ncustomElements$1[Symbol.iterator] = () => {\n    return customElements$1[elementmap][Symbol.iterator].call(customElements$1[elementmap]);\n};\n\nfunction getrandomcharactor() {\n    return get(Array(26).fill(undefined).map((v, i) => 97 + i).map(n => String.fromCharCode(n)), Math.floor(Math.random() * 26));\n}\n\nfunction getrandomhexnumber() {\n    return get(Array(16).fill(undefined).map((v, i) => i), Math.floor(Math.random() * 16)).toString(16);\n}\n\nfunction getrandomstringandnumber() {\n    return Array(16).fill(undefined).map(() => getrandomcharactor()).join(\"\") + \"-\" + Array(16).fill(undefined).map(() => getrandomhexnumber()).join(\"\");\n}\n\nfunction isVirtualdom(a) {\n    return a instanceof Virtualdom;\n}\n\nclass Virtualdom {\n    constructor(type = \"\", props = {}, children = []) {\n        this.element = undefined;\n        this.props = {};\n        this.children = [];\n        this.directives = {};\n        this.onevent = {};\n        this.bindattr = {};\n        const propsentries = Object.entries(props);\n        Object.assign(this, {\n            type: type,\n            bindattr: Object.fromEntries(propsentries.filter(([key]) => /[A-Za-z]/.test(key[0])).filter(e => isReactiveState(e[1]))),\n            props: Object.fromEntries(propsentries.filter(([key]) => /[A-Za-z]/.test(key[0])).filter(e => !isReactiveState(e[1]))),\n            children: children,\n            onevent: Object.fromEntries(propsentries.filter(([key]) => /\\@/.test(key[0])).map(([key, value]) => [ key.slice(1), value ])),\n            directives: Object.fromEntries(propsentries.filter(([key]) => /\\*/.test(key[0])).map(([key, value]) => [ key.slice(1), value ]))\n        });\n        Object.defineProperty(this, Symbol.toStringTag, {\n            value: \"virtualdom\",\n            configurable: true\n        });\n    }\n}\n\nvar n = function(t, r, u, e) {\n    for (var p = 1; p < r.length; p++) {\n        var s = r[p], h = \"number\" == typeof s ? u[s] : s, a = r[++p];\n        1 === a ? e[0] = h : 3 === a ? e[1] = Object.assign(e[1] || {}, h) : 5 === a ? (e[1] = e[1] || {})[r[++p]] = h : 6 === a ? e[1][r[++p]] += h + \"\" : e.push(a ? t.apply(null, n(t, h, u, [ \"\", null ])) : h);\n    }\n    return e;\n}, t = function(n) {\n    for (var t, r, u = 1, e = \"\", p = \"\", s = [ 0 ], h = function(n) {\n        1 === u && (n || (e = e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g, \"\"))) ? s.push(n || e, 0) : 3 === u && (n || e) ? (s.push(n || e, 1), \n        u = 2) : 2 === u && \"...\" === e && n ? s.push(n, 3) : 2 === u && e && !n ? s.push(!0, 5, e) : u >= 5 && ((e || !n && 5 === u) && (s.push(e, u, r), \n        u = 6), n && (s.push(n, u, r), u = 6)), e = \"\";\n    }, a = 0; a < n.length; a++) {\n        a && (1 === u && h(), h(a));\n        for (var f = 0; f < n[a].length; f++) t = n[a][f], 1 === u ? \"<\" === t ? (h(), s = [ s ], \n        u = 3) : e += t : 4 === u ? \"--\" === e && \">\" === t ? (u = 1, e = \"\") : e = t + e[0] : p ? t === p ? p = \"\" : e += t : '\"' === t || \"'\" === t ? p = t : \">\" === t ? (h(), \n        u = 1) : u && (\"=\" === t ? (u = 5, r = e, e = \"\") : \"/\" === t && (u < 5 || \">\" === n[a][f + 1]) ? (h(), \n        3 === u && (s = s[0]), u = s, (s = s[0]).push(u, 2), u = 0) : \" \" === t || \"\\t\" === t || \"\\n\" === t || \"\\r\" === t ? (h(), \n        u = 2) : e += t), 3 === u && \"!--\" === e && (u = 4, s = s[0]);\n    }\n    return h(), s;\n}, r = \"function\" == typeof Map, u = r ? new Map : {}, e = r ? function(n) {\n    var r = u.get(n);\n    return r || u.set(n, r = t(n)), r;\n} : function(n) {\n    for (var r = \"\", e = 0; e < n.length; e++) r += n[e].length + \"-\" + n[e];\n    return u[r] || (u[r] = t(n));\n};\n\nfunction htm(t) {\n    var r = n(this, e(t), arguments, []);\n    return r.length > 1 ? r : r[0];\n}\n\nfunction h(type = \"\", props = {}, ...children) {\n    let typenormalized = isstring(type) || isfunction(type) ? type : \"\";\n    const propsnormalized = isobject(props) ? props : {};\n    const childrennormalized = children.flat(1);\n    if (isstring(typenormalized)) {\n        typenormalized = typenormalized.trim().toLowerCase();\n    }\n    if (\"\" === typenormalized) {\n        return childrennormalized;\n    }\n    return new Virtualdom(typenormalized, propsnormalized, childrennormalized);\n}\n\nconst html = htm.bind(h);\n\nfunction isvalidvdom(v) {\n    let flag = false;\n    if (isarray(v)) {\n        flag = v.map(ele => {\n            return isvalidvdom(ele);\n        }).includes(false) ? false : true;\n        return flag;\n    } else if (isVirtualdom(v)) {\n        if (isvalidvdom(v.children)) {\n            return true;\n        }\n    } else if (isReactiveState(v)) {\n        return true;\n    } else {\n        if (isstring(v)) {\n            return true;\n        }\n    }\n    return flag;\n}\n\nfunction assertvalidvirtualdom(...args) {\n    const vdom = html(...args);\n    if (isvalidvdom(vdom)) {\n        return vdom;\n    } else {\n        console.error(vdom);\n        throw new TypeError(\"invalid Virtualdom!\");\n    }\n}\n\nconst eventlistenerssymbol = Symbol(\"eventlisteners\");\n\nfunction onevent(element, eventname, callback) {\n    if (!element[eventlistenerssymbol]) {\n        element[eventlistenerssymbol] = [];\n    }\n    if (typeof callback === \"function\") {\n        addlisteners(element, eventname, [ callback ]);\n    } else if (isarray(callback)) {\n        addlisteners(element, eventname, callback);\n    } else {\n        throw TypeError(\"invalid EventListener\");\n    }\n}\n\nfunction addlisteners(ele, event, callarray) {\n    callarray.forEach(call => {\n        ele[eventlistenerssymbol].push([ event, call ]);\n        domaddlisten(ele, event, call);\n    });\n}\n\nfunction domaddlisten(ele, event, call) {\n    ele.addEventListener(event, call);\n}\n\nfunction isclassextendsHTMLElement(initclass) {\n    return !!(isfunction(initclass) && initclass.prototype && initclass.prototype instanceof HTMLElement);\n}\n\nfunction createcostumelemet(initclass, propsjson, children) {\n    if (isclassextendsHTMLElement(initclass)) {\n        RandomDefineCustomElement(initclass);\n        return construct(initclass, [ propsjson, children ]);\n    } else {\n        throw TypeError(\"invalid custom element class !\");\n    }\n}\n\nfunction mount(ele, container) {\n    container.innerHTML = \"\";\n    let eles;\n    if (Array.isArray(ele)) {\n        eles = ele;\n    } else {\n        eles = [ ele ];\n    }\n    eles.forEach(e => appendchild(container, e));\n    return container;\n}\n\nconst Reflect$2 = window.Reflect;\n\nconst {get: get$1, ownKeys: ownKeys$1, set: set$1} = Reflect$2;\n\nconst valuestring = \"value\";\n\nfunction isobject$1(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isstring$1(a) {\n    return typeof a === \"string\";\n}\n\nfunction objtostylestring(o) {\n    return Object.entries(o).map(([key, value]) => key + \":\" + value).join(\";\");\n}\n\nfunction asserthtmlelement(ele) {\n    if (!(ele instanceof Element)) {\n        throw TypeError(\"invalid HTMLElement!\");\n    } else return true;\n}\n\nfunction createeleattragentreadwrite(ele) {\n    asserthtmlelement(ele);\n    const isinputtextortextareaflag = isinputtextortextarea(ele);\n    var temp = Object.create(null);\n    return new Proxy(temp, {\n        ownKeys() {\n            const keys = attributesownkeys(ele);\n            return isinputtextortextareaflag ? Array.from(new Set([ ...keys, valuestring ])) : keys;\n        },\n        get(target, key) {\n            if (isinputtextortextareaflag && key === valuestring) {\n                return get$1(ele, valuestring);\n            } else {\n                const v = getattribute(ele, String(key));\n                if (!v) {\n                    return;\n                }\n                if (v === \"\") {\n                    return true;\n                }\n                if (isstring$1(v)) {\n                    try {\n                        return JSON.parse(String(v));\n                    } catch (error) {\n                        return v;\n                    }\n                } else return;\n            }\n        },\n        set(t, key, v) {\n            if (isinputtextortextareaflag && key === valuestring) {\n                return set$1(ele, valuestring, v);\n            } else if (key === \"style\") {\n                setattribute(ele, String(key), isstring$1(v) ? v : isobject$1(v) ? objtostylestring(v) : String(v));\n                return true;\n            } else {\n                if (v === true) {\n                    v = \"\";\n                }\n                setattribute(ele, String(key), isobject$1(v) ? JSON.stringify(v) : String(v));\n                return true;\n            }\n        },\n        deleteProperty(t, k) {\n            removeAttribute(ele, String(k));\n            return true;\n        },\n        has(target, key) {\n            if (isinputtextortextareaflag && key === valuestring) {\n                return true;\n            } else {\n                return hasAttribute(ele, String(key));\n            }\n        },\n        defineProperty() {\n            return false;\n        },\n        getOwnPropertyDescriptor(target, key) {\n            const otherdescipter = {\n                enumerable: true,\n                configurable: true,\n                writable: true\n            };\n            if (isinputtextortextareaflag && key === valuestring) {\n                return {\n                    value: get$1(ele, valuestring),\n                    ...otherdescipter\n                };\n            } else {\n                const attr = getattribute(ele, String(key));\n                let outvalue;\n                if (attr === \"\") {\n                    outvalue = true;\n                }\n                if (outvalue) {\n                    return {\n                        value: outvalue,\n                        ...otherdescipter\n                    };\n                } else {\n                    return;\n                }\n            }\n        }\n    });\n}\n\nfunction attributesownkeys(ele) {\n    return ownKeys$1(ele.attributes).filter(k => !/\\d/.test(String(k)[0]));\n}\n\nfunction getattribute(ele, key) {\n    return ele.getAttribute(key);\n}\n\nfunction geteletagname(ele) {\n    return ele.tagName.toLowerCase();\n}\n\nfunction setattribute(ele, key, value) {\n    return ele.setAttribute(key, value);\n}\n\nfunction removeAttribute(ele, key) {\n    return ele.removeAttribute(key);\n}\n\nfunction hasAttribute(ele, key) {\n    return ele.hasAttribute(key);\n}\n\nfunction isinputtextortextarea(ele) {\n    const tagname = geteletagname(ele);\n    return tagname === \"input\" && get$1(ele, \"type\") === \"text\" || tagname === \"textarea\";\n}\n\nconst bindstatesymbol = Symbol(\"bindstate\");\n\nconst reactivestatesymbol = Symbol(\"reactivestate\");\n\nconst virtualdomsymbol = Symbol(\"virtualdom\");\n\nfunction throwinvalideletype() {\n    throw TypeError(\"invalid element type!\");\n}\n\nfunction render(vdom, namespace) {\n    if (typeof vdom === \"string\") {\n        return createtextnode(vdom);\n    } else if (vdom instanceof ReactiveState) {\n        const reactive = vdom;\n        const textnode = createtextnode(String(reactive));\n        textnode[reactivestatesymbol] = reactive;\n        reactive[textnodesymbol] = textnode;\n        watch(reactive, state => {\n            changetext(textnode, String(state));\n        });\n        return textnode;\n    } else if (vdom instanceof Virtualdom && \"type\" in vdom) {\n        const {type: type} = vdom;\n        let element;\n        if (typeof type === \"string\") {\n            if (type === \"script\") {\n                return createnonescript();\n            } else if (type === \"svg\") {\n                element = createsvgelement();\n            } else if (type === \"math\") {\n                element = createmathelement();\n            } else {\n                element = namespace ? createElementNS(namespace, type) : createnativeelement(type);\n            }\n        } else if (typeof type == \"function\") {\n            if (isobject(type[\"defaultProps\"])) {\n                vdom.props = JSON.parse(JSON.stringify({\n                    ...type[\"defaultProps\"],\n                    ...vdom.props\n                }));\n            }\n            const propsjson = JSON.parse(JSON.stringify({\n                ...vdom.props,\n                ...Object.fromEntries(Object.entries(vdom.bindattr).map(([key, value]) => {\n                    return [ key, value.value ];\n                }))\n            }));\n            element = createcostumelemet(type, propsjson, vdom.children);\n        } else {\n            throwinvalideletype();\n        }\n        handleprops(element, vdom);\n        if (typeof type !== \"function\") {\n            mount(vdom.children.map(e => {\n                if (type === \"svg\") {\n                    return render(e, svgnamespace);\n                } else if (type === \"math\") {\n                    return render(e, mathnamespace);\n                } else if (namespace) {\n                    return render(e, namespace);\n                } else {\n                    return render(e);\n                }\n            }), element);\n        }\n        return element;\n    } else {\n        throwinvalideletype();\n    }\n}\n\nfunction handleprops(element, vdom) {\n    ((element, vdom) => {\n        Object.entries(vdom.directives).forEach(([name, value]) => {\n            if (name in directives && typeof directives[name] === \"function\") {\n                directives[name](element, value, vdom);\n            } else {\n                throw new Error(\"invalid directives \" + name);\n            }\n        });\n        const attribute1 = createeleattragentreadwrite(element);\n        Object.assign(attribute1, vdom.props);\n        element[virtualdomsymbol] = vdom;\n        vdom.element = element;\n        Object.entries(vdom.bindattr).forEach(([key, primitivestate]) => {\n            attribute1[key] = primitivestate.value;\n            watch(primitivestate, state => {\n                attribute1[key] = state.value;\n            });\n        });\n        if (!element[eventlistenerssymbol]) {\n            element[eventlistenerssymbol] = [];\n        }\n        Object.entries(vdom.onevent).forEach(([event, callbacks]) => {\n            onevent(element, event, callbacks);\n        });\n    })(element, vdom);\n    if (!element[bindstatesymbol]) {\n        element[bindstatesymbol] = new Set;\n    }\n    [ Object.values(vdom.bindattr), Object.values(vdom.directives) ].flat().filter(e => isReactiveState(e)).forEach(e => element[bindstatesymbol].add(e));\n}\n\nfunction createApp(vdom, container) {\n    const el = container;\n    if (!isvalidvdom(vdom)) {\n        console.error(vdom);\n        throw TypeError(\"invalid Virtualdom \");\n    }\n    if (!(el instanceof HTMLElement)) {\n        throw TypeError(\"invalid container HTMLElement!\");\n    }\n    if (el === document.body || el === document.documentElement || el === document.head) {\n        throw Error(\"Do not mount  to <html> or <body> <head>.\");\n    }\n    let elesarray;\n    if (Array.isArray(vdom)) {\n        elesarray = vdom;\n    } else {\n        elesarray = [ vdom ];\n    }\n    mount(elesarray.map(e => render(e)), container);\n    return container;\n}\n\nfunction createRef(init) {\n    return {\n        value: init\n    };\n}\n\nconst Reflect$3 = window.Reflect;\n\nconst {ownKeys: ownKeys$2, deleteProperty: deleteProperty$1, apply: apply$1, construct: construct$1, defineProperty: defineProperty$1, get: get$2, getOwnPropertyDescriptor: getOwnPropertyDescriptor$1, getPrototypeOf: getPrototypeOf$1, has: has$1, set: set$2, setPrototypeOf: setPrototypeOf$1} = Reflect$3;\n\nfunction isobject$2(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isfunction$1(a) {\n    return typeof a === \"function\";\n}\n\nfunction deepobserveaddpath(target, callback, patharray = [], ancestor = target) {\n    if (typeof callback !== \"function\") {\n        throw Error(\"observe callback invalid !\");\n    }\n    if (isfunction$1(target) || isobject$2(target)) {\n        let fakeobj;\n        if (isobject$2(target)) {\n            fakeobj = {};\n        } else {\n            fakeobj = () => {};\n        }\n        setPrototypeOf$1(fakeobj, null);\n        return (fakeobj => {\n            return new Proxy(fakeobj, {\n                defineProperty(t, p, a) {\n                    return defineProperty$1(target, p, a);\n                },\n                deleteProperty(t, p) {\n                    callback(ancestor, [ ...patharray, p ], undefined, get$2(target, p));\n                    return deleteProperty$1(target, p);\n                },\n                ownKeys() {\n                    return ownKeys$2(target);\n                },\n                has(t, p) {\n                    return has$1(target, p);\n                },\n                getPrototypeOf() {\n                    return getPrototypeOf$1(target);\n                },\n                setPrototypeOf(t, v) {\n                    return setPrototypeOf$1(target, v);\n                },\n                construct(t, argumentslist) {\n                    if (typeof target === \"function\") {\n                        return construct$1(target, argumentslist);\n                    }\n                },\n                apply(t, thisarg, argarray) {\n                    if (typeof target === \"function\") {\n                        return apply$1(target, thisarg, argarray);\n                    }\n                },\n                getOwnPropertyDescriptor(t, k) {\n                    var descripter = getOwnPropertyDescriptor$1(target, k);\n                    if (descripter) {\n                        descripter.configurable = true;\n                        return descripter;\n                    } else {\n                        return;\n                    }\n                },\n                set(t, k, v) {\n                    if (typeof callback === \"function\") {\n                        callback(ancestor, [ ...patharray, k ], v, get$2(target, k));\n                    }\n                    return set$2(target, k, v);\n                },\n                get(t, k) {\n                    var value = get$2(target, k);\n                    if (isfunction$1(value) || isobject$2(value)) {\n                        return deepobserveaddpath(value, callback, [ ...patharray, k ], target);\n                    } else {\n                        return value;\n                    }\n                }\n            });\n        })(fakeobj);\n    } else {\n        return target;\n    }\n}\n\nfunction observedeepagent(target, callback) {\n    if (typeof callback !== \"function\") {\n        throw Error(\"observe callback  invalid function \");\n    }\n    if (typeof Proxy !== \"function\") {\n        throw Error(\"Proxy unsupported!\");\n    }\n    if (isfunction$1(target) || isobject$2(target)) {\n        return deepobserveaddpath(target, callback, [], target);\n    } else {\n        return target;\n    }\n}\n\nfunction createstate(init) {\n    if (isprimitive(init)) {\n        return new Proxy(new ReactiveState(init), {\n            defineProperty() {\n                return false;\n            },\n            deleteProperty() {\n                return false;\n            },\n            set(target, key, value) {\n                if (key === textnodesymbol) {\n                    return set(target, key, value);\n                }\n                if (key === \"value\" && isprimitive(value)) {\n                    set(target, key, value);\n                    target[dispatchsymbol]();\n                    return true;\n                } else {\n                    return false;\n                }\n            }\n        });\n    } else if (isReactiveState(init)) {\n        return createstate(init.value);\n    } else if (isobject(init)) {\n        return new Proxy(new ReactiveState(init), {\n            defineProperty() {\n                return false;\n            },\n            getOwnPropertyDescriptor(target, key) {\n                const myvalue = get(target, \"value\");\n                const descripter = getOwnPropertyDescriptor(target, key) || getOwnPropertyDescriptor(myvalue, key);\n                if (descripter) {\n                    descripter.configurable = true;\n                }\n                return descripter;\n            },\n            deleteProperty(target, key) {\n                const myvalue = get(target, \"value\");\n                if (has(myvalue, key)) {\n                    deleteProperty(myvalue, key);\n                    target[dispatchsymbol](key);\n                    return true;\n                } else {\n                    return true;\n                }\n            },\n            has(target, key) {\n                const myvalue = get(target, \"value\");\n                return has(target, key) || has(myvalue, key);\n            },\n            get(target, key) {\n                const value = get(target, \"value\");\n                if (has(target, key)) {\n                    return get(target, key);\n                } else if (has(value, key)) {\n                    return observedeepagent(get(value, key), () => {\n                        target[dispatchsymbol](key);\n                    });\n                }\n            },\n            ownKeys(target) {\n                return Array.from(new Set([ ...ownKeys(target), ...ownKeys(get(target, \"value\")) ]));\n            },\n            set(target, key, value) {\n                if (key === textnodesymbol) {\n                    return set(target, key, value);\n                }\n                const myvalue = get(target, \"value\");\n                if (key === \"value\" && isobject(value)) {\n                    set(target, key, value);\n                    target[dispatchsymbol]();\n                    return true;\n                } else if (!has(target, key)) {\n                    set(myvalue, key, value);\n                    target[dispatchsymbol](key);\n                } else if (key === \"length\") {\n                    set(myvalue, key, value);\n                    target[dispatchsymbol](key);\n                } else {\n                    return false;\n                }\n                return true;\n            }\n        });\n    } else {\n        throw TypeError(\"invalid State\");\n    }\n}\n\nif (typeof HTMLElement !== \"function\" || typeof Proxy !== \"function\" || typeof customElements !== \"object\" || typeof CustomElementRegistry !== \"function\") {\n    throw new TypeError(\" browser not supported !\");\n}\n\nexport { RandomDefineCustomElement, createApp, h as createElemet, createRef, createstate as createState, extenddirectives as directives, h, assertvalidvirtualdom as html, watch };\n//# sourceMappingURL=index.js.map\n"],"names":["_a","_b","_c","fromPairs_1","pairs","index","length","result","pair","isobject","a","isstring","isfunction","isarray","Array","isArray","toString","call","replace","toLowerCase","gettagtype","getsymbol","Symbol","isprimitive","isnumber","isboolean","isundefined","isReactiveState","ReactiveState","Object","fromEntries","prototype","flat","depth","this","reduce","acc","val","concat","flattenDeep","arr1","textnodesymbol","eventtargetsymbol","memlisteners","dispatchsymbol","subscribesymbol","removeallistenerssymbol","addallistenerssymbol","[object Object]","init","undefined","EventTarget","TypeError","defineProperty","value","configurable","writable","toStringTag","forEach","callback","addEventListener","String","JSON","stringify","eventname","name","dispatchEvent","Event","push","removeEventListener","toPrimitive","document","window","seteletext","e","v","textContent","setelehtml","innerHTML","createElementNS","namespace","createtextnode","data","createTextNode","svgnamespace","mathnamespace","watch","state","statekey","requestAnimationFrame","directives","ele","ref","html","createhtmlandtextdirective","text","errorname","extenddirectives","options","entries","key","element","vdom","type","bindattr","eventsarray","onevent","Infinity","Reflect","set","target","filter","Boolean","Reflect$1","apply","construct","deleteProperty","get","getOwnPropertyDescriptor","getPrototypeOf","has","isExtensible","ownKeys","preventExtensions","setPrototypeOf","CustomElementRegistry","customElements","customElements$1","CustomElementRegistry$1","elementset","for","elementmap","RandomDefineCustomElement","initclass","extendsname","elementname","fill","map","i","n","fromCharCode","Math","floor","random","join","define","extends","Set","Map","constructor","add","iterator","Virtualdom","props","children","propsentries","assign","test","slice","t","r","u","p","s","h","f","typenormalized","propsnormalized","childrennormalized","trim","arguments","bind","isvalidvdom","flag","includes","assertvalidvirtualdom","args","eventlistenerssymbol","addlisteners","event","callarray","domaddlisten","createcostumelemet","propsjson","HTMLElement","isclassextendsHTMLElement","mount","container","eles","appendChild","appendchild","Reflect$2","get$1","ownKeys$1","set$1","valuestring","isobject$1","isstring$1","createeleattragentreadwrite","Element","asserthtmlelement","isinputtextortextareaflag","tagname","tagName","geteletagname","isinputtextortextarea","temp","create","Proxy","keys","attributes","k","attributesownkeys","from","getattribute","parse","error","setattribute","o","removeAttribute","hasAttribute","otherdescipter","enumerable","outvalue","getAttribute","setAttribute","bindstatesymbol","reactivestatesymbol","virtualdomsymbol","throwinvalideletype","render","reactive","textnode","nodeValue","changetext","createDocumentFragment","createElement","createnativeelement","Error","attribute1","primitivestate","callbacks","values","handleprops","createApp","el","body","documentElement","head","elesarray","createRef","Reflect$3","ownKeys$2","deleteProperty$1","apply$1","construct$1","defineProperty$1","get$2","getOwnPropertyDescriptor$1","getPrototypeOf$1","has$1","set$2","setPrototypeOf$1","isobject$2","isfunction$1","observedeepagent","deepobserveaddpath","patharray","ancestor","fakeobj","argumentslist","thisarg","argarray","descripter","createstate","myvalue"],"mappings":"AASA,IA4DIA,EAAIC,EAAIC,EA5DRC,EATJ,SAAmBC,GAEf,IADA,IAAIC,GAAS,EAAGC,EAAkB,MAATF,EAAgB,EAAIA,EAAME,OAAQC,EAAS,KAC3DF,EAAQC,GAAQ,CACrB,IAAIE,EAAOJ,EAAMC,GACjBE,EAAOC,EAAK,IAAMA,EAAK,GAE3B,OAAOD,GAmCX,SAASE,EAASC,GACd,MAAoB,iBAANA,GAAwB,OAANA,EAGpC,SAASC,EAASD,GACd,MAAoB,iBAANA,EAGlB,SAASE,EAAWF,GAChB,MAAoB,mBAANA,EAGlB,SAASG,EAAQH,GACb,OAAOA,aAAaI,OAASA,MAAMC,QAAQL,IAAwB,UAOvE,SAAoBA,GAChB,MAAO,GAAGM,SAASC,KAAKP,GAAGQ,QAAQ,WAAY,IAAIA,QAAQ,IAAK,IAAIC,cARnBC,CAAWV,GAGhE,SAASW,EAAUX,GACf,OAAOY,OAAOZ,GAOlB,SAASa,EAAYb,GACjB,OAAOC,EAASD,IAjCpB,SAAkBA,GACd,MAAoB,iBAANA,EAgCQc,CAASd,IA7BnC,SAAmBA,GACf,MAAoB,kBAANA,EA4BuBe,CAAUf,IArCnD,SAAqBA,GACjB,YAAoB,IAANA,EAoCuCgB,CAAYhB,GAKrE,SAASiB,EAAgBjB,GACrB,OAAOA,aAAakB,EA7DpB,mBAAsBC,OAAOC,cAAaD,OAAOC,YAAc3B,GAc/B,mBAAzBW,MAAMiB,UAAUC,OACvBlB,MAAMiB,UAAUC,KATpB,SAAmBC,EAAQ,GACvB,OAAIA,GAAS,EACFC,KAAKC,OAAO,CAACC,EAAKC,IAAQD,EAAIE,OAAOD,GAAM,IAN1D,SAASE,EAAYC,GACjB,OAAOA,EAAKL,OAAO,CAACC,EAAKC,IAAQvB,MAAMC,QAAQsB,GAAOD,EAAIE,OAAOC,EAAYF,IAAQD,EAAIE,OAAOD,GAAM,IAO3FE,CAAYL,QAsD3B,MAAMO,EAAiBnB,OAAO,YAExBoB,EAAoBpB,OAAO,eAE3BqB,EAAerB,OAAO,gBAEtBsB,EAAiBvB,EAAU,YAE3BwB,EAAkBxB,EAAU,aAE5ByB,EAA0BzB,EAAU,qBAEpC0B,EAAuB1B,EAAU,kBAEvC,MAAMO,EACFoB,YAAYC,GAIR,GAHAf,KAAKlC,QAAMkD,EACXhB,KAAKjC,GAAM,IAAIkD,YACfjB,KAAKhC,GAAM,IACPqB,EAAY0B,KAASxC,EAASwC,GAO9B,MAAMG,UAAU,iBANhBvB,OAAOwB,eAAenB,KAAM,QAAS,CACjCoB,MAAOL,EACPM,cAAc,EACdC,UAAU,IAKlB3B,OAAOwB,eAAenB,KAAMZ,OAAOmC,YAAa,CAC5CH,MAAO,gBACPC,cAAc,IAGtBP,CAACD,KACGb,KAAKS,GAAce,QAAQ,EAAEJ,EAAOK,MAChCzB,KAAKQ,GAAmBkB,iBAAiBN,EAAOK,KAGxDX,UACI,OAAOd,KAAKoB,MAEhBN,WACI,MAAMM,EAAQpB,KAAKoB,MACnB,OAAO/B,EAAY+B,GAASO,OAAOP,GAAS7C,EAAS6C,GAASQ,KAAKC,UAAUT,GAAS,GAE1FN,EAAEhD,EAAKyC,EAAgBxC,EAAKyC,EAAmBxC,EAAKyC,EAAcC,IAAiBoB,GAC/E,MAAMC,EAAOD,EAAYH,OAAOG,GAAa,QAChC,UAATC,GACA/B,KAAKQ,GAAmBwB,cAAc,IAAIC,MAAMF,IAEpD/B,KAAKQ,GAAmBwB,cAAc,IAAIC,MAAM,UAEpDnB,CAACH,GAAiBc,EAAUK,GACxB,MAAMC,EAAOD,EAAYH,OAAOG,GAAa,QAC7C9B,KAAKS,GAAcyB,KAAK,CAAEH,EAAM,IAAMN,EAASzB,QAEnDc,CAACF,KACGZ,KAAKS,GAAce,QAAQ,EAAEJ,EAAOK,MAChCzB,KAAKQ,GAAmB2B,oBAAoBf,EAAOK,KAG3DX,CAAC1B,OAAOgD,eACJ,MAAMhB,EAAQpB,KAAKoB,MACnB,OAAO/B,EAAY+B,GAASA,EAAQ7C,EAAS6C,GAASQ,KAAKC,UAAUT,QAAS,GAItF,MAAMiB,EAAWC,OAAOD,SAExB,SAASE,EAAWC,EAAGC,GACnBD,EAAEE,YAAcD,EAGpB,SAASE,EAAWH,EAAGC,GACnBD,EAAEI,UAAYH,EAmBlB,SAASI,EAAgBC,EAAWf,GAChC,OAAOM,EAASQ,gBAAgBC,EAAWf,GAG/C,SAASgB,EAAeC,GACpB,OAAOX,EAASY,eAAeD,GAGnC,MAAME,EAAe,6BAMrB,MAAMC,EAAgB,qCAMtB,SAASC,EAAMC,EAAO5B,EAAU6B,GAC5B,IAAM7D,EAAgB4D,KAAU3E,EAAW+C,GACvC,MAAMP,UAAU,6BAEhBoC,EACAD,EAAM1C,GAAiBc,EAAU6B,GAEjCD,EAAM1C,GAAiBc,GAE3B8B,EAAsB,KAClBF,EAAMxC,OAId,MAAM0C,EAAwBjB,OAAOiB,sBAErC,IAAIC,EAAa,CACb1C,IAAI2C,EAAKC,GACL,GAAkB,iBAAPA,EAGP,MAAMxC,UAAU,eAFhBwC,EAAItC,MAAQqC,GAKpB3C,KAAK2C,EAAKE,GACNC,EAA2BjB,EAAY,OAAvCiB,CAA+CH,EAAKE,IAExD7C,KAAK2C,EAAKI,GACND,EAA2BrB,EAAY,OAAvCqB,CAA+CH,EAAKI,KAI5D,SAASD,EAA2BrB,EAAYuB,GAC5C,OAAO,SAASL,EAAKI,GACjB,GAAmB,iBAARA,EACPN,EAAsB,KAClBhB,EAAWkB,EAAKI,SAEjB,CAAA,IAAIpE,EAAgBoE,GAQvB,MAAM3C,UAAU,WAAa4C,GAP7BV,EAAMS,EAAMR,IACRd,EAAWkB,EAAK9B,OAAO0B,MAE3BE,EAAsB,KAClBhB,EAAWkB,EAAK9B,OAAOkC,QAQvC,SAASE,EAAiBC,GACtBrE,OAAOsE,QAAQD,GAASxC,QAAQ,EAAE0C,EAAK9C,MACnC,GAAqB,mBAAVA,EACP,MAAMF,UAAU,qBAEhBsC,EAAWU,GAAO9C,IAK9B2C,EAAiB,CACbjD,MAAMqD,EAAS/C,EAAOgD,GAClB,IAAI3E,EAAgB2B,IAAyB,UAAdgD,EAAKC,MAAkC,aAAdD,EAAKC,KAUzD,MAAMnD,UAAU,oCAThBkD,EAAKE,SAAgB,MAAIlD,EACzB,CAAE,SAAU,SAAUI,QAAQM,IAC1B,MACMyC,EAAc,CADLH,EAAKI,QAAQ1C,IACGhC,KAAK2E,EAAAA,GACpCC,QAAQC,IAAIP,EAAKI,QAAS1C,EAAWyC,EAAYnE,OAAO,CAAEoC,GAC/CpB,EAAMA,MAAQoB,EAAEoC,OAAOxD,QAC7ByD,OAAOC,eAQ5B,MAAMC,EAAYzC,OAAOoC,SAElBM,MAAOA,EAAOC,UAAWA,EAAW9D,eAAgBA,EAAgB+D,eAAgBA,EAAgBC,IAAKA,EAAKC,yBAA0BA,EAA0BC,eAAgBA,EAAgBC,IAAKA,EAAKC,aAAcA,EAAcC,QAASA,EAASC,kBAAmBA,EAAmBd,IAAKA,EAAKe,eAAgBA,GAAkBX,EAEnVzC,OAAOqD,sBAAwBR,EAAIE,EAAe/C,OAAOsD,gBAAiB,eAE1E,MAAOA,eAAgBC,EAAkBF,sBAAuBG,GAA2BxD,OAErFyD,EAAa3G,OAAO4G,IAAI,cAExBC,EAAa7G,OAAO4G,IAAI,cAE9B,SAASE,EAA0BC,EAAWC,GAC1C,MAAMC,EA4CCzH,MAAM,IAAI0H,UAAKtF,GAAWuF,IAAI,IAR9BpB,EAAIvG,MAAM,IAAI0H,UAAKtF,GAAWuF,IAAI,CAAC9D,EAAG+D,IAAM,GAAKA,GAAGD,IAAIE,GAAK9E,OAAO+E,aAAaD,IAAKE,KAAKC,MAAsB,GAAhBD,KAAKE,YAQ5CC,KAAK,IAAM,IAAMlI,MAAM,IAAI0H,UAAKtF,GAAWuF,IAAI,IAJzGpB,EAAIvG,MAAM,IAAI0H,UAAKtF,GAAWuF,IAAI,CAAC9D,EAAG+D,IAAMA,GAAIG,KAAKC,MAAsB,GAAhBD,KAAKE,WAAgB/H,SAAS,KAI4CgI,KAAK,IA3CjJ,IAAKjB,EAAiBE,GAAYT,IAAIa,GAAY,CAC9C,GAAIN,EAAiBV,IAAIkB,GACrB,OAAOH,EAA0BC,GAE7BC,EACAP,EAAiBkB,OAAOV,EAAaF,EAAW,CAC5Ca,QAASZ,IAGbP,EAAiBkB,OAAOV,EAAaF,GAIjD,OAAOE,EAGNR,EAAiBE,KAClBF,EAAiBE,GAAc,IAAIkB,KAGlCpB,EAAiBI,KAClBJ,EAAiBI,GAAc,IAAIiB,KAGvCrB,EAAiBkB,OAAS,SAAShF,EAAMoF,EAAanD,GAClD8B,EAAwBjG,UAAUkH,OAAOhI,KAAK8G,EAAkB9D,EAAMoF,EAAanD,GACnF6B,EAAiBE,GAAYqB,IAAID,GACjCtB,EAAiBI,GAAYtB,IAAI5C,EAAMoF,IAG3CtB,EAAiBzG,OAAOiI,UAAY,IACzBxB,EAAiBI,GAAY7G,OAAOiI,UAAUtI,KAAK8G,EAAiBI,IAmB/E,MAAMqB,EACFxG,YAAYuD,EAAO,GAAIkD,EAAQ,GAAIC,EAAW,IAC1CxH,KAAKmE,aAAUnD,EACfhB,KAAKuH,MAAQ,GACbvH,KAAKwH,SAAW,GAChBxH,KAAKwD,WAAa,GAClBxD,KAAKwE,QAAU,GACfxE,KAAKsE,SAAW,GAChB,MAAMmD,EAAe9H,OAAOsE,QAAQsD,GACpC5H,OAAO+H,OAAO1H,KAAM,CAChBqE,KAAMA,EACNC,SAAU3E,OAAOC,YAAY6H,EAAa5C,OAAO,EAAEX,KAAS,WAAWyD,KAAKzD,EAAI,KAAKW,OAAOrC,GAAK/C,EAAgB+C,EAAE,MACnH+E,MAAO5H,OAAOC,YAAY6H,EAAa5C,OAAO,EAAEX,KAAS,WAAWyD,KAAKzD,EAAI,KAAKW,OAAOrC,IAAM/C,EAAgB+C,EAAE,MACjHgF,SAAUA,EACVhD,QAAS7E,OAAOC,YAAY6H,EAAa5C,OAAO,EAAEX,KAAS,KAAKyD,KAAKzD,EAAI,KAAKqC,IAAI,EAAErC,EAAK9C,KAAW,CAAE8C,EAAI0D,MAAM,GAAIxG,KACpHoC,WAAY7D,OAAOC,YAAY6H,EAAa5C,OAAO,EAAEX,KAAS,KAAKyD,KAAKzD,EAAI,KAAKqC,IAAI,EAAErC,EAAK9C,KAAW,CAAE8C,EAAI0D,MAAM,GAAIxG,OAE3HzB,OAAOwB,eAAenB,KAAMZ,OAAOmC,YAAa,CAC5CH,MAAO,aACPC,cAAc,KAK1B,IAAIoF,EAAI,SAASoB,EAAGC,EAAGC,EAAGvF,GACtB,IAAK,IAAIwF,EAAI,EAAGA,EAAIF,EAAE1J,OAAQ4J,IAAK,CAC/B,IAAIC,EAAIH,EAAEE,GAAIE,EAAI,iBAAmBD,EAAIF,EAAEE,GAAKA,EAAGzJ,EAAIsJ,IAAIE,GAC3D,IAAMxJ,EAAIgE,EAAE,GAAK0F,EAAI,IAAM1J,EAAIgE,EAAE,GAAK7C,OAAO+H,OAAOlF,EAAE,IAAM,GAAI0F,GAAK,IAAM1J,GAAKgE,EAAE,GAAKA,EAAE,IAAM,IAAIsF,IAAIE,IAAME,EAAI,IAAM1J,EAAIgE,EAAE,GAAGsF,IAAIE,KAAOE,EAAI,GAAK1F,EAAEN,KAAK1D,EAAIqJ,EAAE7C,MAAM,KAAMyB,EAAEoB,EAAGK,EAAGH,EAAG,CAAE,GAAI,QAAWG,GAE7M,OAAO1F,GACRqF,EAAI,SAASpB,GACZ,IAAK,IAAIoB,EAAGC,EAAGC,EAAI,EAAGvF,EAAI,GAAIwF,EAAI,GAAIC,EAAI,CAAE,GAAKC,EAAI,SAASzB,GAC1D,IAAMsB,IAAMtB,IAAMjE,EAAIA,EAAExD,QAAQ,uBAAwB,MAAQiJ,EAAE/F,KAAKuE,GAAKjE,EAAG,GAAK,IAAMuF,IAAMtB,GAAKjE,IAAMyF,EAAE/F,KAAKuE,GAAKjE,EAAG,GAC1HuF,EAAI,GAAK,IAAMA,GAAK,QAAUvF,GAAKiE,EAAIwB,EAAE/F,KAAKuE,EAAG,GAAK,IAAMsB,GAAKvF,IAAMiE,EAAIwB,EAAE/F,MAAK,EAAI,EAAGM,GAAKuF,GAAK,KAAOvF,IAAMiE,GAAK,IAAMsB,KAAOE,EAAE/F,KAAKM,EAAGuF,EAAGD,GAC/IC,EAAI,GAAItB,IAAMwB,EAAE/F,KAAKuE,EAAGsB,EAAGD,GAAIC,EAAI,IAAKvF,EAAI,IAC7ChE,EAAI,EAAGA,EAAIiI,EAAErI,OAAQI,IAAK,CACzBA,IAAM,IAAMuJ,GAAKG,IAAKA,EAAE1J,IACxB,IAAK,IAAI2J,EAAI,EAAGA,EAAI1B,EAAEjI,GAAGJ,OAAQ+J,IAAKN,EAAIpB,EAAEjI,GAAG2J,GAAI,IAAMJ,EAAI,MAAQF,GAAKK,IAAKD,EAAI,CAAEA,GACrFF,EAAI,GAAKvF,GAAKqF,EAAI,IAAME,EAAI,OAASvF,GAAK,MAAQqF,GAAKE,EAAI,EAAGvF,EAAI,IAAMA,EAAIqF,EAAIrF,EAAE,GAAKwF,EAAIH,IAAMG,EAAIA,EAAI,GAAKxF,GAAKqF,EAAI,MAAQA,GAAK,MAAQA,EAAIG,EAAIH,EAAI,MAAQA,GAAKK,IACrKH,EAAI,GAAKA,IAAM,MAAQF,GAAKE,EAAI,EAAGD,EAAItF,EAAGA,EAAI,IAAM,MAAQqF,IAAME,EAAI,GAAK,MAAQtB,EAAEjI,GAAG2J,EAAI,KAAOD,IACnG,IAAMH,IAAME,EAAIA,EAAE,IAAKF,EAAIE,GAAIA,EAAIA,EAAE,IAAI/F,KAAK6F,EAAG,GAAIA,EAAI,GAAK,MAAQF,GAAK,OAASA,GAAK,OAASA,GAAK,OAASA,GAAKK,IACrHH,EAAI,GAAKvF,GAAKqF,GAAI,IAAME,GAAK,QAAUvF,IAAMuF,EAAI,EAAGE,EAAIA,EAAE,IAE9D,OAAOC,IAAKD,GACbH,EAAI,mBAAqBZ,IAAKa,GAAID,EAAI,IAAIZ,IAAM,GAAI1E,GAAIsF,EAAI,SAASrB,GACpE,IAAIqB,EAAIC,GAAE5C,IAAIsB,GACd,OAAOqB,GAAKC,GAAEpD,IAAI8B,EAAGqB,EAAID,EAAEpB,IAAKqB,GAChC,SAASrB,GACT,IAAK,IAAIqB,EAAI,GAAItF,EAAI,EAAGA,EAAIiE,EAAErI,OAAQoE,IAAKsF,GAAKrB,EAAEjE,GAAGpE,OAAS,IAAMqI,EAAEjE,GACtE,OAAOuF,GAAED,KAAOC,GAAED,GAAKD,EAAEpB,KAQ7B,SAASyB,GAAE7D,EAAO,GAAIkD,EAAQ,MAAOC,GACjC,IAAIY,EAAiB3J,EAAS4F,IAAS3F,EAAW2F,GAAQA,EAAO,GACjE,MAAMgE,EAAkB9J,EAASgJ,GAASA,EAAQ,GAC5Ce,EAAqBd,EAAS1H,KAAK,GAIzC,OAHIrB,EAAS2J,KACTA,EAAiBA,EAAeG,OAAOtJ,eAEvC,KAAOmJ,EACAE,EAEJ,IAAIhB,EAAWc,EAAgBC,EAAiBC,GAG3D,MAAM3E,GAlBN,SAAakE,GACT,IAAIC,EAAIrB,EAAEzG,KAAMwC,GAAEqF,GAAIW,UAAW,IACjC,OAAOV,EAAE1J,OAAS,EAAI0J,EAAIA,EAAE,IAgBfW,KAAKP,IAEtB,SAASQ,GAAYjG,GACjB,IAAIkG,GAAO,EACX,GAAIhK,EAAQ8D,GAIR,OAHAkG,GAAOlG,EAAE8D,IAAI9C,GACFiF,GAAYjF,IACpBmF,UAAS,GAET,GAAiBnG,aAlFJ6E,GAmFhB,GAAIoB,GAAYjG,EAAE+E,UACd,OAAO,MAER,CAAA,GAAI/H,EAAgBgD,GACvB,OAAO,EAEP,GAAIhE,EAASgE,GACT,OAAO,EAGf,OAAOkG,EAGX,SAASE,MAAyBC,GAC9B,MAAM1E,EAAOT,MAAQmF,GACrB,GAAIJ,GAAYtE,GACZ,OAAOA,EAGP,MAAM,IAAIlD,UAAU,uBAI5B,MAAM6H,GAAuB3J,OAAO,kBAepC,SAAS4J,GAAavF,EAAKwF,EAAOC,GAC9BA,EAAU1H,QAAQzC,IACd0E,EAAIsF,IAAsB7G,KAAK,CAAE+G,EAAOlK,IAKhD,SAAsB0E,EAAKwF,EAAOlK,GAC9B0E,EAAI/B,iBAAiBuH,EAAOlK,GALxBoK,CAAa1F,EAAKwF,EAAOlK,KAYjC,SAASqK,GAAmBjD,EAAWkD,EAAW7B,GAC9C,GALJ,SAAmCrB,GAC/B,SAAUzH,EAAWyH,IAAcA,EAAUtG,WAAasG,EAAUtG,qBAAqByJ,aAIrFC,CAA0BpD,GAE1B,OADAD,EAA0BC,GACnBlB,EAAUkB,EAAW,CAAEkD,EAAW7B,IAEzC,MAAMtG,UAAU,kCAIxB,SAASsI,GAAM/F,EAAKgG,GAEhB,IAAIC,EAOJ,OARAD,EAAU7G,UAAY,IAGlB8G,EADA9K,MAAMC,QAAQ4E,GACPA,EAEA,CAAEA,IAERjC,QAAQgB,IAxUjB,SAAqBiH,EAAWhG,GAC5BgG,EAAUE,YAAYlG,IAuUJmG,CAAYH,EAAWjH,IAClCiH,EAGX,MAAMI,GAAYvH,OAAOoC,SAElBS,IAAK2E,GAAOtE,QAASuE,GAAWpF,IAAKqF,IAASH,GAE/CI,GAAc,QAEpB,SAASC,GAAW1L,GAChB,MAAoB,iBAANA,GAAwB,OAANA,EAGpC,SAAS2L,GAAW3L,GAChB,MAAoB,iBAANA,EAalB,SAAS4L,GAA4B3G,IANrC,SAA2BA,GACvB,GAAMA,aAAe4G,QAEd,OAAO,EADV,MAAMnJ,UAAU,wBAKpBoJ,CAAkB7G,GAClB,MAAM8G,EA6GV,SAA+B9G,GAC3B,MAAM+G,EAjBV,SAAuB/G,GACnB,OAAOA,EAAIgH,QAAQxL,cAgBHyL,CAAcjH,GAC9B,MAAmB,UAAZ+G,GAA8C,SAAvBV,GAAMrG,EAAK,SAAkC,aAAZ+G,EA/G7BG,CAAsBlH,GACxD,IAAImH,EAAOjL,OAAOkL,OAAO,MACzB,OAAO,IAAIC,MAAMF,EAAM,CACnB9J,UACI,MAAMiK,EAiFlB,SAA2BtH,GACvB,OAAOsG,GAAUtG,EAAIuH,YAAYnG,OAAOoG,IAAM,KAAKtD,KAAKhG,OAAOsJ,GAAG,KAlF7CC,CAAkBzH,GAC/B,OAAO8G,EAA4B3L,MAAMuM,KAAK,IAAIlE,IAAI,IAAK8D,EAAMd,MAAkBc,GAEvFjK,IAAI8D,EAAQV,GACR,GAAIqG,GAA6BrG,IAAQ+F,GACrC,OAAOH,GAAMrG,EAAKwG,IACf,CACH,MAAMxH,EAAI2I,GAAa3H,EAAK9B,OAAOuC,IACnC,IAAKzB,EACD,OAEJ,GAAU,KAANA,EACA,OAAO,EAEX,IAAI0H,GAAW1H,GAMR,OALH,IACI,OAAOb,KAAKyJ,MAAM1J,OAAOc,IAC3B,MAAO6I,GACL,OAAO7I,KAKvB3B,IAAI+G,EAAG3D,EAAKzB,GACR,OAAI8H,GAA6BrG,IAAQ+F,GAC9BD,GAAMvG,EAAKwG,GAAaxH,GAChB,UAARyB,GACPqH,GAAa9H,EAAK9B,OAAOuC,GAAMiG,GAAW1H,GAAKA,EAAIyH,GAAWzH,IA3CpD+I,EA2C0E/I,EA1CzF9C,OAAOsE,QAAQuH,GAAGjF,IAAI,EAAErC,EAAK9C,KAAW8C,EAAM,IAAM9C,GAAO0F,KAAK,MA0C8BnF,OAAOc,KACzF,KAEG,IAANA,IACAA,EAAI,IAER8I,GAAa9H,EAAK9B,OAAOuC,GAAMgG,GAAWzH,GAAKb,KAAKC,UAAUY,GAAKd,OAAOc,KACnE,GAlDvB,IAA0B+I,GAqDlBtG,eAAc,CAAC2C,EAAGoD,KA4D1B,SAAyBxH,EAAKS,GACnBT,EAAIgI,gBAAgBvH,GA5DnBuH,CAAgBhI,EAAK9B,OAAOsJ,KACrB,GAEX3F,IAAG,CAACV,EAAQV,OACJqG,GAA6BrG,IAAQ+F,KA2DrD,SAAsBxG,EAAKS,GACvB,OAAOT,EAAIiI,aAAaxH,GAzDLwH,CAAajI,EAAK9B,OAAOuC,IAGxC/C,eAAc,KACH,EAEXL,yBAAyB8D,EAAQV,GAC7B,MAAMyH,EAAiB,CACnBC,YAAY,EACZvK,cAAc,EACdC,UAAU,GAEd,GAAIiJ,GAA6BrG,IAAQ+F,GACrC,MAAO,CACH7I,MAAO0I,GAAMrG,EAAKwG,OACf0B,GAEJ,CAEH,IAAIE,EAIJ,MAHa,KAFAT,GAAa3H,EAAK9B,OAAOuC,MAGlC2H,GAAW,GAEXA,EACO,CACHzK,MAAOyK,KACJF,QAGP,MAWpB,SAASP,GAAa3H,EAAKS,GACvB,OAAOT,EAAIqI,aAAa5H,GAO5B,SAASqH,GAAa9H,EAAKS,EAAK9C,GAC5B,OAAOqC,EAAIsI,aAAa7H,EAAK9C,GAgBjC,MAAM4K,GAAkB5M,OAAO,aAEzB6M,GAAsB7M,OAAO,iBAE7B8M,GAAmB9M,OAAO,cAEhC,SAAS+M,KACL,MAAMjL,UAAU,yBAGpB,SAASkL,GAAOhI,EAAMtB,GAClB,GAAoB,iBAATsB,EACP,OAAOrB,EAAeqB,GACnB,GAAIA,aAAgB1E,EAAe,CACtC,MAAM2M,EAAWjI,EACXkI,EAAWvJ,EAAepB,OAAO0K,IAMvC,OALAC,EAASL,IAAuBI,EAChCA,EAAS9L,GAAkB+L,EAC3BlJ,EAAMiJ,EAAUhJ,KAhdxB,SAAoBiJ,EAAUlL,GAC1BkL,EAASC,UAAY5K,OAAOP,GAgdpBoL,CAAWF,EAAU3K,OAAO0B,MAEzBiJ,EACJ,GAAIlI,aAAgBkD,GAAc,SAAUlD,EAAM,CACrD,MAAOC,KAAMA,GAAQD,EACrB,IAAID,EACJ,GAAoB,iBAATE,EAAmB,CAC1B,GAAa,WAATA,EACA,OA1eLhC,EAASoK,yBA4eJtI,EADgB,QAATE,EA/eZxB,EAAgBK,EAAc,OAifT,SAATmB,EArdZxB,EAAgBM,EAAe,QAwdhBL,EAAYD,EAAgBC,EAAWuB,GA7ejE,SAA6BA,GACzB,OAAOhC,EAASqK,cAAcrI,GA4euCsI,CAAoBtI,QAE9E,GAAmB,mBAARA,EAAoB,CAC9B9F,EAAS8F,EAAmB,gBAC5BD,EAAKmD,MAAQ3F,KAAKyJ,MAAMzJ,KAAKC,UAAU,IAChCwC,EAAmB,gBACnBD,EAAKmD,UAGhB,MAAM8B,EAAYzH,KAAKyJ,MAAMzJ,KAAKC,UAAU,IACrCuC,EAAKmD,SACL5H,OAAOC,YAAYD,OAAOsE,QAAQG,EAAKE,UAAUiC,IAAI,EAAErC,EAAK9C,KACpD,CAAE8C,EAAK9C,EAAMA,YAG5B+C,EAAUiF,GAAmB/E,EAAMgF,EAAWjF,EAAKoD,eAEnD2E,KAgBJ,OAMR,SAAqBhI,EAASC,GAC1B,EAAED,EAASC,KACPzE,OAAOsE,QAAQG,EAAKZ,YAAYhC,QAAQ,EAAEO,EAAMX,MAC5C,KAAIW,KAAQyB,GAA0C,mBAArBA,EAAWzB,IAGxC,MAAM,IAAI6K,MAAM,sBAAwB7K,GAFxCyB,EAAWzB,GAAMoC,EAAS/C,EAAOgD,KAKzC,MAAMyI,EAAazC,GAA4BjG,GAC/CxE,OAAO+H,OAAOmF,EAAYzI,EAAKmD,OAC/BpD,EAAQ+H,IAAoB9H,EAC5BA,EAAKD,QAAUA,EACfxE,OAAOsE,QAAQG,EAAKE,UAAU9C,QAAQ,EAAE0C,EAAK4I,MACzCD,EAAW3I,GAAO4I,EAAe1L,MACjCgC,EAAM0J,EAAgBzJ,IAClBwJ,EAAW3I,GAAOb,EAAMjC,UAG3B+C,EAAQ4E,MACT5E,EAAQ4E,IAAwB,IAEpCpJ,OAAOsE,QAAQG,EAAKI,SAAShD,QAAQ,EAAEyH,EAAO8D,OA3RtD,SAAiB5I,EAASrC,EAAWL,GAIjC,GAHK0C,EAAQ4E,MACT5E,EAAQ4E,IAAwB,IAEZ,mBAAbtH,EACPuH,GAAa7E,EAASrC,EAAW,CAAEL,QAChC,CAAA,IAAI9C,EAAQ8C,GAGf,MAAMP,UAAU,yBAFhB8H,GAAa7E,EAASrC,EAAWL,IAqR7B+C,CAAQL,EAAS8E,EAAO8D,MAtBhC,CAwBG5I,EAASC,GACPD,EAAQ6H,MACT7H,EAAQ6H,IAAmB,IAAI/E,KAEnC,CAAEtH,OAAOqN,OAAO5I,EAAKE,UAAW3E,OAAOqN,OAAO5I,EAAKZ,aAAc1D,OAAO+E,OAAOrC,GAAK/C,EAAgB+C,IAAIhB,QAAQgB,GAAK2B,EAAQ6H,IAAiB5E,IAAI5E,IAjD9IyK,CAAY9I,EAASC,GACD,mBAATC,GACPmF,GAAMpF,EAAKoD,SAASjB,IAAI/D,GACP,QAAT6B,EACO+H,GAAO5J,EAAGU,GACD,SAATmB,EACA+H,GAAO5J,EAAGW,GACVL,EACAsJ,GAAO5J,EAAGM,GAEVsJ,GAAO5J,IAElB2B,GAEDA,EAEPgI,KAoCR,SAASe,GAAU9I,EAAMqF,GACrB,MAAM0D,EAAK1D,EACX,IAAKf,GAAYtE,GAEb,MAAMlD,UAAU,uBAEpB,KAAMiM,aAAc7D,aAChB,MAAMpI,UAAU,kCAEpB,GAAIiM,IAAO9K,EAAS+K,MAAQD,IAAO9K,EAASgL,iBAAmBF,IAAO9K,EAASiL,KAC3E,MAAMV,MAAM,6CAEhB,IAAIW,EAOJ,OADA/D,IAJI+D,EADA3O,MAAMC,QAAQuF,GACFA,EAEA,CAAEA,IAEFmC,IAAI/D,GAAK4J,GAAO5J,IAAKiH,GAC9BA,EAGX,SAAS+D,GAAUzM,GACf,MAAO,CACHK,MAAOL,GAIf,MAAM0M,GAAYnL,OAAOoC,SAElBc,QAASkI,GAAWxI,eAAgByI,GAAkB3I,MAAO4I,GAAS3I,UAAW4I,GAAa1M,eAAgB2M,GAAkB3I,IAAK4I,GAAO3I,yBAA0B4I,GAA4B3I,eAAgB4I,GAAkB3I,IAAK4I,GAAOvJ,IAAKwJ,GAAOzI,eAAgB0I,IAAoBX,GAEvS,SAASY,GAAW7P,GAChB,MAAoB,iBAANA,GAAwB,OAANA,EAGpC,SAAS8P,GAAa9P,GAClB,MAAoB,mBAANA,EA4ElB,SAAS+P,GAAiB3J,EAAQnD,GAC9B,GAAwB,mBAAbA,EACP,MAAMmL,MAAM,uCAEhB,GAAqB,mBAAV9B,MACP,MAAM8B,MAAM,sBAEhB,OAAI0B,GAAa1J,IAAWyJ,GAAWzJ,GAhF3C,SAAS4J,EAAmB5J,EAAQnD,EAAUgN,EAAY,GAAIC,EAAW9J,GACrE,GAAwB,mBAAbnD,EACP,MAAMmL,MAAM,8BAEhB,GAAI0B,GAAa1J,IAAWyJ,GAAWzJ,GAAS,CAC5C,IAAI+J,EAOJ,OALIA,EADAN,GAAWzJ,GACD,GAEA,OAEdwJ,GAAiBO,EAAS,MACnB,CAACA,GACG,IAAI7D,MAAM6D,EAAS,CACtBxN,eAAc,CAAC0G,EAAGG,EAAGxJ,IACVsP,GAAiBlJ,EAAQoD,EAAGxJ,GAEvC0G,eAAc,CAAC2C,EAAGG,KACdvG,EAASiN,EAAU,IAAKD,EAAWzG,QAAKhH,EAAW+M,GAAMnJ,EAAQoD,IAC1D2F,GAAiB/I,EAAQoD,IAEpCxC,QAAO,IACIkI,GAAU9I,GAErBU,IAAG,CAACuC,EAAGG,IACIkG,GAAMtJ,EAAQoD,GAEzB3C,eAAc,IACH4I,GAAiBrJ,GAE5Bc,eAAc,CAACmC,EAAGpF,IACP2L,GAAiBxJ,EAAQnC,GAEpC3B,UAAU+G,EAAG+G,GACT,GAAsB,mBAAXhK,EACP,OAAOiJ,GAAYjJ,EAAQgK,IAGnC9N,MAAM+G,EAAGgH,EAASC,GACd,GAAsB,mBAAXlK,EACP,OAAOgJ,GAAQhJ,EAAQiK,EAASC,IAGxChO,yBAAyB+G,EAAGoD,GACxB,IAAI8D,EAAaf,GAA2BpJ,EAAQqG,GACpD,OAAI8D,GACAA,EAAW1N,cAAe,EACnB0N,QAEP,GAGRpK,IAAG,CAACkD,EAAGoD,EAAGxI,KACkB,mBAAbhB,GACPA,EAASiN,EAAU,IAAKD,EAAWxD,GAAKxI,EAAGsL,GAAMnJ,EAAQqG,IAEtDkD,GAAMvJ,EAAQqG,EAAGxI,IAE5B3B,IAAI+G,EAAGoD,GACH,IAAI7J,EAAQ2M,GAAMnJ,EAAQqG,GAC1B,OAAIqD,GAAalN,IAAUiN,GAAWjN,GAC3BoN,EAAmBpN,EAAOK,EAAU,IAAKgN,EAAWxD,GAAKrG,GAEzDxD,KAnDhB,CAuDJuN,GAEH,OAAO/J,EAYA4J,CAAmB5J,EAAQnD,EAAU,GAAImD,GAEzCA,EAIf,SAASoK,GAAYjO,GACjB,GAAI1B,EAAY0B,GACZ,OAAO,IAAI+J,MAAM,IAAIpL,EAAcqB,GAAO,CACtCI,eAAc,KACH,EAEX+D,eAAc,KACH,EAEXP,IAAG,CAACC,EAAQV,EAAK9C,IACT8C,IAAQ3D,EACDoE,EAAIC,EAAQV,EAAK9C,KAEhB,UAAR8C,IAAmB7E,EAAY+B,MAC/BuD,EAAIC,EAAQV,EAAK9C,GACjBwD,EAAOlE,MACA,KAMhB,GAAIjB,EAAgBsB,GACvB,OAAOiO,GAAYjO,EAAKK,OACrB,GAAI7C,EAASwC,GAChB,OAAO,IAAI+J,MAAM,IAAIpL,EAAcqB,GAAO,CACtCI,eAAc,KACH,EAEXL,yBAAyB8D,EAAQV,GAC7B,MAAM+K,EAAU9J,EAAIP,EAAQ,SACtBmK,EAAa3J,EAAyBR,EAAQV,IAAQkB,EAAyB6J,EAAS/K,GAI9F,OAHI6K,IACAA,EAAW1N,cAAe,GAEvB0N,GAEXjO,eAAe8D,EAAQV,GACnB,MAAM+K,EAAU9J,EAAIP,EAAQ,SAC5B,OAAIU,EAAI2J,EAAS/K,KACbgB,EAAe+J,EAAS/K,GACxBU,EAAOlE,GAAgBwD,IAChB,IAKfpD,IAAI8D,EAAQV,GACR,MAAM+K,EAAU9J,EAAIP,EAAQ,SAC5B,OAAOU,EAAIV,EAAQV,IAAQoB,EAAI2J,EAAS/K,IAE5CpD,IAAI8D,EAAQV,GACR,MAAM9C,EAAQ+D,EAAIP,EAAQ,SAC1B,OAAIU,EAAIV,EAAQV,GACLiB,EAAIP,EAAQV,GACZoB,EAAIlE,EAAO8C,GACXqK,GAAiBpJ,EAAI/D,EAAO8C,GAAM,KACrCU,EAAOlE,GAAgBwD,UAFxB,GAMXsB,QAAQZ,GACGhG,MAAMuM,KAAK,IAAIlE,IAAI,IAAKzB,EAAQZ,MAAYY,EAAQL,EAAIP,EAAQ,aAE3E9D,IAAI8D,EAAQV,EAAK9C,GACb,GAAI8C,IAAQ3D,EACR,OAAOoE,EAAIC,EAAQV,EAAK9C,GAE5B,MAAM6N,EAAU9J,EAAIP,EAAQ,SAC5B,GAAY,UAARV,GAAmB3F,EAAS6C,GAG5B,OAFAuD,EAAIC,EAAQV,EAAK9C,GACjBwD,EAAOlE,MACA,EACJ,GAAK4E,EAAIV,EAAQV,GAGjB,CAAA,GAAY,WAARA,EAIP,OAAO,EAHPS,EAAIsK,EAAS/K,EAAK9C,GAClBwD,EAAOlE,GAAgBwD,QAJvBS,EAAIsK,EAAS/K,EAAK9C,GAClBwD,EAAOlE,GAAgBwD,GAO3B,OAAO,KAIf,MAAMhD,UAAU,iBAIxB,GAA2B,mBAAhBoI,aAA+C,mBAAVwB,OAAkD,iBAAnBlF,gBAAgE,mBAA1BD,sBACjH,MAAM,IAAIzE,UAAU"}