{"version":3,"file":"index.min.js","sources":["index.js"],"sourcesContent":["/**\n * The inverse of `_.toPairs`; this method returns an object composed\n * from key-value `pairs`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} pairs The key-value pairs.\n * @returns {Object} Returns the new object.\n * @example\n *\n * _.fromPairs([['a', 1], ['b', 2]]);\n * // => { 'a': 1, 'b': 2 }\n */\nfunction fromPairs(pairs) {\n  var index = -1,\n      length = pairs == null ? 0 : pairs.length,\n      result = {};\n\n  while (++index < length) {\n    var pair = pairs[index];\n    result[pair[0]] = pair[1];\n  }\n  return result;\n}\n\nvar fromPairs_1 = fromPairs;\n\nif (\"function\" !== typeof Object.fromEntries)\r\n    Object.fromEntries = fromPairs_1;\n\nif (typeof Array.prototype.flat !== \"function\") {\r\n    Array.prototype.flat =\r\n        arrayflat;\r\n}\r\nfunction arrayflat(depth = 1) {\r\n    if (depth <= 1) {\r\n        return this.reduce((acc, val) => acc.concat(val), []);\r\n    }\r\n    else {\r\n        return flattenDeep(this);\r\n    }\r\n}\r\nfunction flattenDeep(arr1) {\r\n    return arr1.reduce((acc, val) => Array.isArray(val) ? acc.concat(flattenDeep(val)) : acc.concat(val), []);\r\n}\n\nfunction isundefined(a) {\r\n    return typeof a === \"undefined\";\r\n}\r\nfunction isnumber(a) {\r\n    return typeof a === \"number\";\r\n}\r\nfunction isboolean(a) {\r\n    return typeof a === \"boolean\";\r\n}\r\nfunction isobject(a) {\r\n    return typeof a === \"object\" && a !== null;\r\n}\r\nfunction isstring(a) {\r\n    return typeof a === \"string\";\r\n}\r\nfunction isfunction(a) {\r\n    return typeof a === \"function\";\r\n}\r\nfunction isarray(a) {\r\n    return a instanceof Array && Array.isArray(a);\r\n}\r\nfunction getsymbol(a) {\r\n    return Symbol(a);\r\n}\n\nfunction isprimitive (a) {\r\n    return isstring(a) || isnumber(a) || isboolean(a) || isundefined(a);\r\n}\n\nvar _a, _b;\r\nconst eventtargetsymbol = Symbol(\"eventtatget\");\r\nconst memlisteners = Symbol(\"memlisteners\");\r\nconst dispatchsymbol = getsymbol(\"dispatch\");\r\nconst subscribesymbol = getsymbol(\"subscribe\");\r\nconst removeallistenerssymbol = getsymbol(\"removeallisteners\");\r\nconst addallistenerssymbol = getsymbol(\"addallisteners\");\r\nclass ReactiveState extends Array {\r\n    constructor(init) {\r\n        super();\r\n        this[_a] = new EventTarget();\r\n        this[_b] = [];\r\n        if (isprimitive(init) || isobject(init)) {\r\n            this.value = init;\r\n        }\r\n        else {\r\n            throw TypeError(\"invalid State\");\r\n        }\r\n        Object.defineProperty(this, Symbol.toStringTag, {\r\n            value: \"ReactiveState\"\r\n        });\r\n    }\r\n    [(_a = eventtargetsymbol, _b = memlisteners, Symbol.toPrimitive)]() {\r\n        let value = this.value;\r\n        return isprimitive(value)\r\n            ? value\r\n            : isobject(value)\r\n                ? JSON.stringify(value)\r\n                : void 0;\r\n    }\r\n    valueOf() {\r\n        return this.value;\r\n    }\r\n    toString() {\r\n        let value = this.value;\r\n        return isprimitive(value)\r\n            ? String(value)\r\n            : isobject(value)\r\n                ? JSON.stringify(value)\r\n                : \"\";\r\n    }\r\n    [dispatchsymbol](eventname) {\r\n        let name = eventname ? String(eventname) : \"value\";\r\n        if (name !== \"value\") {\r\n            this[eventtargetsymbol].dispatchEvent(new Event(name));\r\n        }\r\n        this[eventtargetsymbol].dispatchEvent(new Event(\"value\"));\r\n    }\r\n    [subscribesymbol](callback, eventname) {\r\n        let name = eventname ? String(eventname) : \"value\";\r\n        this[memlisteners].push([name, () => callback(this)]);\r\n    }\r\n    [removeallistenerssymbol]() {\r\n        this[memlisteners].forEach(([value, callback]) => {\r\n            this[eventtargetsymbol].removeEventListener(value, callback);\r\n        });\r\n    }\r\n    [addallistenerssymbol]() {\r\n        this[memlisteners].forEach(([value, callback]) => {\r\n            this[eventtargetsymbol].addEventListener(value, callback);\r\n        });\r\n    }\r\n}\n\nclass Virtualdom {\r\n    constructor(type = \"\", props = {}, children = []) {\r\n        this.props = {};\r\n        this.children = [];\r\n        this.directives = {};\r\n        this.onevent = {};\r\n        this.bindattr = {};\r\n        const propsentries = Object.entries(props);\r\n        Object.assign(this, {\r\n            type,\r\n            bindattr: Object.fromEntries(propsentries\r\n                .filter(([key]) => /[A-Za-z]/.test(key[0]))\r\n                .filter(e => e[1] instanceof ReactiveState)),\r\n            props: Object.fromEntries(propsentries\r\n                .filter(([key]) => /[A-Za-z]/.test(key[0]))\r\n                .filter(e => !(e[1] instanceof ReactiveState))),\r\n            children,\r\n            onevent: Object.fromEntries(propsentries\r\n                .filter(([key]) => /\\@/.test(key[0]))\r\n                .map(([key, value]) => [key.slice(1), value])),\r\n            directives: Object.fromEntries(propsentries\r\n                .filter(([key]) => /\\*/.test(key[0]))\r\n                .map(([key, value]) => [key.slice(1), value]))\r\n        });\r\n        Object.defineProperty(this, Symbol.toStringTag, { value: \"virtualdom\" });\r\n    }\r\n}\n\nvar n=function(t,r,u,e){for(var p=1;p<r.length;p++){var s=r[p],h=\"number\"==typeof s?u[s]:s,a=r[++p];1===a?e[0]=h:3===a?e[1]=Object.assign(e[1]||{},h):5===a?(e[1]=e[1]||{})[r[++p]]=h:6===a?e[1][r[++p]]+=h+\"\":e.push(a?t.apply(null,n(t,h,u,[\"\",null])):h);}return e},t=function(n){for(var t,r,u=1,e=\"\",p=\"\",s=[0],h=function(n){1===u&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?s.push(n||e,0):3===u&&(n||e)?(s.push(n||e,1),u=2):2===u&&\"...\"===e&&n?s.push(n,3):2===u&&e&&!n?s.push(!0,5,e):u>=5&&((e||!n&&5===u)&&(s.push(e,u,r),u=6),n&&(s.push(n,u,r),u=6)),e=\"\";},a=0;a<n.length;a++){a&&(1===u&&h(),h(a));for(var f=0;f<n[a].length;f++)t=n[a][f],1===u?\"<\"===t?(h(),s=[s],u=3):e+=t:4===u?\"--\"===e&&\">\"===t?(u=1,e=\"\"):e=t+e[0]:p?t===p?p=\"\":e+=t:'\"'===t||\"'\"===t?p=t:\">\"===t?(h(),u=1):u&&(\"=\"===t?(u=5,r=e,e=\"\"):\"/\"===t&&(u<5||\">\"===n[a][f+1])?(h(),3===u&&(s=s[0]),u=s,(s=s[0]).push(u,2),u=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(h(),u=2):e+=t),3===u&&\"!--\"===e&&(u=4,s=s[0]);}return h(),s},r=\"function\"==typeof Map,u=r?new Map:{},e=r?function(n){var r=u.get(n);return r||u.set(n,r=t(n)),r}:function(n){for(var r=\"\",e=0;e<n.length;e++)r+=n[e].length+\"-\"+n[e];return u[r]||(u[r]=t(n))};function htm(t){var r=n(this,e(t),arguments,[]);return r.length>1?r:r[0]}\n\nfunction h(type = \"\", props = {}, ...children) {\r\n    var typenormalized = isstring(type) || isfunction(type) ? type : \"\";\r\n    var propsnormalized = isobject(props) ? props : {};\r\n    var childrennormalized = children.flat(Infinity);\r\n    if (typeof typenormalized === \"string\" && \"\" === typenormalized) {\r\n        return childrennormalized;\r\n    }\r\n    return new Virtualdom(typenormalized, propsnormalized, childrennormalized);\r\n}\n\nconst html = htm.bind(h);\r\nfunction isvalidvdom(v) {\r\n    var flag = false;\r\n    if (isarray(v)) {\r\n        flag = v\r\n            .map((ele) => {\r\n            return isstring(ele) || ele instanceof Virtualdom;\r\n        })\r\n            .includes(false)\r\n            ? false\r\n            : true;\r\n    }\r\n    else if (v instanceof Virtualdom) {\r\n        if (isvalidvdom(v.children)) {\r\n            flag = true;\r\n        }\r\n    }\r\n    else {\r\n        if (isstring(v)) {\r\n            flag = true;\r\n        }\r\n    }\r\n    return flag;\r\n}\r\nfunction assertvalidvirtualdom(...args) {\r\n    var vdom = html(...args);\r\n    if (isvalidvdom(vdom)) {\r\n        return vdom;\r\n    }\r\n    else {\r\n        throw new TypeError(\"invalid Virtualdom!\" + \"\\n\" + JSON.stringify(vdom, null, 4));\r\n    }\r\n}\n\nconst eventlistenerssymbol = Symbol(\"eventlisteners\");\r\nfunction onevent (element, eventname, callback) {\r\n    if (typeof callback === \"function\") {\r\n        addlisteners(element, eventname, [callback]);\r\n    }\r\n    else if (isarray(callback)) {\r\n        addlisteners(element, eventname, callback);\r\n    }\r\n    else {\r\n        throw TypeError(\"invalid EventListener\");\r\n    }\r\n}\r\nfunction addlisteners(ele, event, callarray) {\r\n    callarray.forEach((call) => {\r\n        ele[eventlistenerssymbol].push([event, call]);\r\n        domaddlisten(ele, event, call);\r\n    });\r\n}\r\nfunction domaddlisten(ele, event, call) {\r\n    ele.addEventListener(event, call);\r\n}\n\nfunction watch(state, callback, statekey) {\r\n    if (!(state instanceof ReactiveState && isfunction(callback))) {\r\n        throw TypeError(\"invalid state or callback\");\r\n    }\r\n    if (statekey) {\r\n        state[subscribesymbol](callback, statekey);\r\n    }\r\n    else {\r\n        state[subscribesymbol](callback);\r\n    }\r\n    requestAnimationFrame(() => {\r\n        state[addallistenerssymbol]();\r\n    });\r\n}\n\nvar directives = {\r\n    ref(ele, ref, vdom) {\r\n        if (typeof ref == \"object\") {\r\n            ref.value = ele;\r\n        }\r\n        else {\r\n            throw TypeError(\"invalid ref\");\r\n        }\r\n    },\r\n    html(ele, html, vdom) {\r\n        if (typeof html == \"string\") {\r\n            requestAnimationFrame(() => {\r\n                ele.innerHTML = html;\r\n            });\r\n        }\r\n        else if (html instanceof ReactiveState) {\r\n            watch(html, (state) => {\r\n                ele.innerHTML = String(state.value);\r\n            });\r\n            requestAnimationFrame(() => {\r\n                ele.innerHTML = String(html.value);\r\n            });\r\n        }\r\n        else {\r\n            throw TypeError(\"invalid html\");\r\n        }\r\n    },\r\n    text(ele, text, vdom) {\r\n        if (typeof text == \"string\") {\r\n            requestAnimationFrame(() => {\r\n                ele.textContent = text;\r\n            });\r\n        }\r\n        else if (text instanceof ReactiveState) {\r\n            watch(text, (state) => {\r\n                ele.textContent = String(state.value);\r\n            });\r\n            requestAnimationFrame(() => {\r\n                ele.textContent = String(text.value);\r\n            });\r\n        }\r\n        else {\r\n            throw TypeError(\"invalid text\");\r\n        }\r\n    }\r\n};\n\nvar Reflect$1 = window.Reflect;\n\nclass setlikearray extends Array {\r\n    constructor() {\r\n        super();\r\n        Object.defineProperty(this, Symbol.toStringTag, { value: \"setlikearray\" });\r\n    }\r\n    push(...items) {\r\n        items.forEach(item => {\r\n            if (isfunction(item) || isobject(item)) {\r\n                if (!this.includes(item)) {\r\n                    super.push(item);\r\n                }\r\n            }\r\n        });\r\n        return this.length;\r\n    }\r\n}\n\nconst customElementsarray = new setlikearray();\r\nfunction createcostumelemet(initclass, children) {\r\n    if (isclassextendsHTMLElement(initclass)) {\r\n        customElementsarray.push(initclass);\r\n        const elementname = getcustomelementname(initclass);\r\n        if (customElements.get(elementname) === initclass) ;\r\n        else {\r\n            customElements.define(elementname, initclass);\r\n        }\r\n        return Reflect$1.construct(initclass, [children]);\r\n    }\r\n    else {\r\n        throw TypeError(\"invalid custom element class !\");\r\n    }\r\n}\r\nfunction getcustomelementname(initclass) {\r\n    return \"c-\" + customElementsarray.indexOf(initclass);\r\n}\r\nfunction isclassextendsHTMLElement(initclass) {\r\n    return !!(isfunction(initclass) &&\r\n        initclass.prototype &&\r\n        initclass.prototype instanceof HTMLElement);\r\n}\n\nfunction appendchild(container, ele) {\r\n    container.appendChild(ele);\r\n}\r\nfunction createsvgelement() {\r\n    return document.createElementNS(svgnamespace, \"svg\");\r\n}\r\nfunction createnonescript() {\r\n    return document.createDocumentFragment();\r\n}\r\nfunction createnativeelement(type) {\r\n    return document.createElement(type);\r\n}\r\nfunction createElementNS(namespace, name) {\r\n    return document.createElementNS(namespace, name);\r\n}\r\nfunction createtextnode(data) {\r\n    return document.createTextNode(data);\r\n}\r\nconst svgnamespace = \"http://www.w3.org/2000/svg\";\n\nfunction mount (ele, container) {\r\n    container.innerHTML = \"\";\r\n    let eles;\r\n    if (ele instanceof Array) {\r\n        eles = ele;\r\n    }\r\n    else {\r\n        eles = [ele];\r\n    }\r\n    eles.forEach(e => appendchild(container, e));\r\n}\n\nfunction isobject$1(a) {\r\n    return typeof a === \"object\" && a !== null;\r\n}\r\nfunction isstring$1(a) {\r\n    return typeof a === \"string\";\r\n}\r\nfunction asserthtmlelement(ele) {\r\n    if (!(ele instanceof HTMLElement ||\r\n        ele instanceof SVGElement ||\r\n        ele instanceof Element)) {\r\n        throw TypeError(\"invalid HTMLElement!\");\r\n    }\r\n    else\r\n        return true;\r\n}\r\nfunction createeleattragentreadwrite(ele) {\r\n    asserthtmlelement(ele);\r\n    const isinputtextortextarea = (ele.tagName === \"INPUT\" && Reflect.get(ele, \"type\") === \"text\") ||\r\n        ele.tagName === \"TEXTAREA\";\r\n    var temp = Object.create(null);\r\n    return new Proxy(temp, {\r\n        ownKeys() {\r\n            const keys = Reflect.ownKeys(ele.attributes).filter(k => !/\\d/.test(String(k)[0]));\r\n            return isinputtextortextarea\r\n                ? Array.from(new Set([...keys, \"value\"]))\r\n                : keys;\r\n        },\r\n        get(target, key) {\r\n            if (isinputtextortextarea && key === \"value\") {\r\n                return Reflect.get(ele, \"value\");\r\n            }\r\n            else {\r\n                var v = ele.getAttribute(String(key));\r\n                if (!v) {\r\n                    return;\r\n                }\r\n                if (isstring$1(v)) {\r\n                    try {\r\n                        return JSON.parse(String(v));\r\n                    }\r\n                    catch (error) {\r\n                        return v;\r\n                    }\r\n                }\r\n                else\r\n                    return;\r\n            }\r\n        },\r\n        set(t, key, v) {\r\n            if (isinputtextortextarea && key === \"value\") {\r\n                return Reflect.set(ele, \"value\", v);\r\n            }\r\n            else {\r\n                ele.setAttribute(String(key), isobject$1(v) ? JSON.stringify(v) : String(v));\r\n                return true;\r\n            }\r\n        },\r\n        deleteProperty(t, k) {\r\n            ele.removeAttribute(String(k));\r\n            return true;\r\n        },\r\n        has(target, key) {\r\n            if (isinputtextortextarea && key === \"value\") {\r\n                return true;\r\n            }\r\n            else {\r\n                return ele.hasAttribute(String(key));\r\n            }\r\n        },\r\n        defineProperty() {\r\n            return false;\r\n        },\r\n        getOwnPropertyDescriptor(target, key) {\r\n            const otherdescipter = {\r\n                enumerable: true,\r\n                configurable: true,\r\n                writable: true\r\n            };\r\n            if (isinputtextortextarea && key === \"value\") {\r\n                return {\r\n                    value: Reflect.get(ele, \"value\"),\r\n                    ...otherdescipter\r\n                };\r\n            }\r\n            else {\r\n                var attr = ele.getAttribute(String(key));\r\n                if (attr) {\r\n                    return {\r\n                        value: attr,\r\n                        ...otherdescipter\r\n                    };\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n            }\r\n        },\r\n        setPrototypeOf() {\r\n            return false;\r\n        },\r\n        getPrototypeOf() {\r\n            return null;\r\n        }\r\n    });\r\n}\n\nconst virtualdomsymbol = Symbol(\"virtualdom\");\r\nfunction throwinvalideletype() {\r\n    throw TypeError(\"invalid element type!\");\r\n}\r\nfunction render(vdom, namespace) {\r\n    if (typeof vdom === \"string\") {\r\n        return createtextnode(vdom);\r\n    }\r\n    else if (vdom instanceof Virtualdom && \"type\" in vdom) {\r\n        let element;\r\n        if (typeof vdom.type === \"string\") {\r\n            if (vdom.type === \"script\") {\r\n                return createnonescript();\r\n            }\r\n            else if (vdom.type === \"svg\") {\r\n                element = createsvgelement();\r\n            }\r\n            else {\r\n                element = namespace\r\n                    ? createElementNS(namespace, vdom.type)\r\n                    : createnativeelement(vdom.type);\r\n            }\r\n        }\r\n        else if (typeof vdom.type == \"function\") {\r\n            element = createcostumelemet(vdom.type, vdom.children);\r\n        }\r\n        else {\r\n            throwinvalideletype();\r\n        }\r\n        var attribute1 = createeleattragentreadwrite(element);\r\n        Object.assign(attribute1, vdom.props);\r\n        element[virtualdomsymbol] = vdom;\r\n        vdom.element = element;\r\n        Object.entries(vdom.bindattr).forEach(([key, primitivestate]) => {\r\n            attribute1[key] = primitivestate.value;\r\n            primitivestate[subscribesymbol]((state) => {\r\n                attribute1[key] = state.value;\r\n            });\r\n            requestAnimationFrame(() => {\r\n                primitivestate[addallistenerssymbol]();\r\n            });\r\n        });\r\n        Object.entries(vdom.directives).forEach(([name, value]) => {\r\n            if (name in directives && typeof directives[name] === \"function\") {\r\n                directives[name](element, value, vdom);\r\n            }\r\n            else {\r\n                throw new Error(\"invalid directives \" + name);\r\n            }\r\n        });\r\n        if (!element[eventlistenerssymbol]) {\r\n            element[eventlistenerssymbol] = [];\r\n        }\r\n        Object.entries(vdom.onevent).forEach(([event, callbacks]) => {\r\n            onevent(element, event, callbacks);\r\n        });\r\n        if (typeof vdom.type !== \"function\") {\r\n            mount(vdom.children.map(e => {\r\n                if (vdom.type === \"svg\") {\r\n                    return render(e, svgnamespace);\r\n                }\r\n                else if (namespace) {\r\n                    return render(e, namespace);\r\n                }\r\n                else {\r\n                    return render(e);\r\n                }\r\n            }), element);\r\n        }\r\n        return element;\r\n    }\r\n    else {\r\n        throwinvalideletype();\r\n    }\r\n}\n\nfunction createApp(vdom, container) {\r\n    const el = container;\r\n    if (!isvalidvdom(vdom)) {\r\n        throw TypeError(\"invalid Virtualdom \" + \"\\n\" + JSON.stringify(vdom, null, 4));\r\n    }\r\n    if (!(el instanceof HTMLElement)) {\r\n        throw TypeError(\"invalid container HTMLElement!\");\r\n    }\r\n    if (el === document.body ||\r\n        el === document.documentElement ||\r\n        el === document.head) {\r\n        throw Error(\"Do not mount  to <html> or <body> <head>.\");\r\n    }\r\n    let elesarray;\r\n    if (vdom instanceof Array) {\r\n        elesarray = vdom;\r\n    }\r\n    else {\r\n        elesarray = [vdom];\r\n    }\r\n    mount(elesarray.map(e => render(e)), container);\r\n    return container;\r\n}\n\nfunction createRef(init) {\r\n    return { value: init };\r\n}\n\nfunction isobject$2(a) {\r\n    return typeof a === \"object\" && a !== null;\r\n}\r\nfunction isfunction$1(a) {\r\n    return typeof a === \"function\";\r\n}\r\nfunction deepobserveaddpath(target, callback, patharray = [], ancestor = target) {\r\n    if (typeof callback !== \"function\") {\r\n        throw Error(\"observe callback is not valid function !\");\r\n    }\r\n    if (isfunction$1(target) || isobject$2(target)) {\r\n        let forkobj;\r\n        if (isobject$2(target)) {\r\n            forkobj = {};\r\n        }\r\n        else {\r\n            forkobj = () => { };\r\n        }\r\n        Reflect.setPrototypeOf(forkobj, null);\r\n        return (forkobj => {\r\n            return new Proxy(forkobj, {\r\n                defineProperty(t, p, a) {\r\n                    return Reflect.defineProperty(target, p, a);\r\n                },\r\n                deleteProperty(t, p) {\r\n                    callback(ancestor, [...patharray, p], undefined, Reflect.get(target, p));\r\n                    return Reflect.deleteProperty(target, p);\r\n                },\r\n                ownKeys() {\r\n                    return Reflect.ownKeys(target);\r\n                },\r\n                has(t, p) {\r\n                    return Reflect.has(target, p);\r\n                },\r\n                getPrototypeOf() {\r\n                    return Reflect.getPrototypeOf(target);\r\n                },\r\n                setPrototypeOf(t, v) {\r\n                    return Reflect.setPrototypeOf(target, v);\r\n                },\r\n                construct(t, argumentslist) {\r\n                    if (typeof target === \"function\") {\r\n                        return Reflect.construct(target, argumentslist);\r\n                    }\r\n                },\r\n                apply(t, thisarg, argarray) {\r\n                    if (typeof target === \"function\") {\r\n                        return Reflect.apply(target, thisarg, argarray);\r\n                    }\r\n                },\r\n                getOwnPropertyDescriptor(t, k) {\r\n                    var descripter = Reflect.getOwnPropertyDescriptor(target, k);\r\n                    if (descripter) {\r\n                        descripter.configurable = true;\r\n                        return descripter;\r\n                    }\r\n                    else {\r\n                        return;\r\n                    }\r\n                },\r\n                set(t, k, v) {\r\n                    if (typeof callback === \"function\") {\r\n                        callback(ancestor, [...patharray, k], v, Reflect.get(target, k));\r\n                    }\r\n                    return Reflect.set(target, k, v);\r\n                },\r\n                get(t, k) {\r\n                    var value = Reflect.get(target, k);\r\n                    if (isfunction$1(value) || isobject$2(value)) {\r\n                        return deepobserveaddpath(value, callback, [...patharray, k], target);\r\n                    }\r\n                    else {\r\n                        return value;\r\n                    }\r\n                }\r\n            });\r\n        })(forkobj);\r\n    }\r\n    else {\r\n        return target;\r\n    }\r\n}\r\nfunction observedeepagent(target, callback) {\r\n    if (typeof callback !== \"function\") {\r\n        throw Error(\"observe callback is not valid function !\");\r\n    }\r\n    if (typeof Proxy !== \"function\") {\r\n        setTimeout(() => {\r\n            throw Error(\"不支持Proxy!\");\r\n        }, 0);\r\n        return target;\r\n    }\r\n    if (isfunction$1(target) || isobject$2(target)) {\r\n        return deepobserveaddpath(target, callback, [], target);\r\n    }\r\n    else {\r\n        return target;\r\n    }\r\n}\n\nfunction createstate (init) {\r\n    if (isprimitive(init)) {\r\n        return new Proxy(new ReactiveState(init), {\r\n            set(target, key, value) {\r\n                if (key === \"value\" && isprimitive(value)) {\r\n                    Reflect$1.set(target, key, value);\r\n                    target[dispatchsymbol]();\r\n                    return true;\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    else if (isobject(init)) {\r\n        return new Proxy(new ReactiveState(init), {\r\n            deleteProperty(target, key) {\r\n                const myvalue = Reflect$1.get(target, \"value\");\r\n                if (Reflect$1.has(myvalue, key)) {\r\n                    Reflect$1.deleteProperty(myvalue, key);\r\n                    target[dispatchsymbol](key);\r\n                    return true;\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n            },\r\n            has(target, key) {\r\n                const myvalue = Reflect$1.get(target, \"value\");\r\n                return Reflect$1.has(target, key) || Reflect$1.has(myvalue, key);\r\n            },\r\n            get(target, key) {\r\n                const value = Reflect$1.get(target, \"value\");\r\n                if (Reflect$1.has(target, key)) {\r\n                    return Reflect$1.get(target, key);\r\n                }\r\n                else if (Reflect$1.has(value, key)) {\r\n                    return observedeepagent(Reflect$1.get(value, key), () => {\r\n                        target[dispatchsymbol](key);\r\n                    });\r\n                }\r\n            },\r\n            ownKeys(target) {\r\n                return Array.from(new Set([\r\n                    ...Reflect$1.ownKeys(target),\r\n                    ...Reflect$1.ownKeys(Reflect$1.get(target, \"value\"))\r\n                ]));\r\n            },\r\n            set(target, key, value) {\r\n                const myvalue = Reflect$1.get(target, \"value\");\r\n                if (key === \"value\" && isobject(value)) {\r\n                    Reflect$1.set(target, key, value);\r\n                    target[dispatchsymbol]();\r\n                    return true;\r\n                }\r\n                else if (!Reflect$1.has(target, key)) {\r\n                    Reflect$1.set(myvalue, key, value);\r\n                    target[dispatchsymbol](key);\r\n                }\r\n                else if (key === \"length\") {\r\n                    Reflect$1.set(target, key, value);\r\n                    target[dispatchsymbol](key);\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        throw TypeError(\"invalid State\");\r\n    }\r\n}\n\nexport { createApp, h as createElemet, createRef, createstate as createState, h, assertvalidvirtualdom as html, watch };\n//# sourceMappingURL=index.js.map\n"],"names":["_a","_b","fromPairs_1","pairs","index","length","result","pair","isobject","a","isstring","isfunction","isarray","Array","isArray","getsymbol","Symbol","isprimitive","isnumber","isboolean","isundefined","Object","fromEntries","prototype","flat","depth","this","reduce","acc","val","concat","flattenDeep","arr1","eventtargetsymbol","memlisteners","dispatchsymbol","subscribesymbol","removeallistenerssymbol","addallistenerssymbol","ReactiveState","[object Object]","init","super","EventTarget","TypeError","value","defineProperty","toStringTag","toPrimitive","JSON","stringify","String","eventname","name","dispatchEvent","Event","callback","push","forEach","removeEventListener","addEventListener","Virtualdom","type","props","children","directives","onevent","bindattr","propsentries","entries","assign","filter","key","test","e","map","slice","n","t","r","u","p","s","h","apply","replace","f","Map","get","set","typenormalized","propsnormalized","childrennormalized","Infinity","html","arguments","bind","isvalidvdom","v","flag","ele","includes","assertvalidvirtualdom","args","vdom","eventlistenerssymbol","addlisteners","event","callarray","call","domaddlisten","watch","state","statekey","requestAnimationFrame","ref","innerHTML","text","textContent","Reflect$1","window","Reflect","customElementsarray","items","item","createcostumelemet","initclass","HTMLElement","isclassextendsHTMLElement","elementname","indexOf","getcustomelementname","customElements","define","construct","svgnamespace","mount","container","eles","appendChild","appendchild","createeleattragentreadwrite","SVGElement","Element","asserthtmlelement","isinputtextortextarea","tagName","temp","create","Proxy","keys","ownKeys","attributes","k","from","Set","target","getAttribute","parse","error","setAttribute","deleteProperty","removeAttribute","has","hasAttribute","otherdescipter","enumerable","configurable","writable","attr","setPrototypeOf","getPrototypeOf","virtualdomsymbol","throwinvalideletype","render","namespace","data","document","createTextNode","element","createDocumentFragment","createElementNS","createElement","attribute1","primitivestate","Error","callbacks","createApp","el","body","documentElement","head","elesarray","createRef","isobject$2","isfunction$1","observedeepagent","setTimeout","deepobserveaddpath","patharray","ancestor","forkobj","undefined","argumentslist","thisarg","argarray","descripter","getOwnPropertyDescriptor","createstate","myvalue"],"mappings":"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"}