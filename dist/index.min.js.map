{"version":3,"file":"index.min.js","sources":["index.js"],"sourcesContent":["const Reflect$1 = window.Reflect;\n\nconst {construct: construct, deleteProperty: deleteProperty, get: get, getOwnPropertyDescriptor: getOwnPropertyDescriptor, getPrototypeOf: getPrototypeOf, has: has, ownKeys: ownKeys, set: set} = Reflect$1;\n\nfunction isprimitive(a) {\n    return isstring(a) || isnumber(a) || isboolean(a) || isundefined(a) || typeof a === \"bigint\";\n}\n\nfunction isundefined(a) {\n    return typeof a === \"undefined\";\n}\n\nfunction isnumber(a) {\n    return typeof a === \"number\";\n}\n\nfunction isboolean(a) {\n    return typeof a === \"boolean\";\n}\n\nfunction isobject(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isstring(a) {\n    return typeof a === \"string\";\n}\n\nfunction isfunction(a) {\n    return typeof a === \"function\";\n}\n\nfunction isarray(a) {\n    return a instanceof Array && Array.isArray(a) && gettagtype(a) === \"array\";\n}\n\nfunction getsymbol(a) {\n    return Symbol(a);\n}\n\nfunction gettagtype(a) {\n    return {}.toString.call(a).replace(\"[object \", \"\").replace(\"]\", \"\").toLowerCase().trim();\n}\n\nfunction isSet(a) {\n    return gettagtype(a) === \"set\" && a instanceof Set;\n}\n\nif (!isfunction(window.HTMLElement) || !isfunction(window.Proxy) || !isobject(window.customElements) || !isfunction(window.CustomElementRegistry)) {\n    throw new TypeError(\" browser not supported !\");\n}\n\nvar _a, _b;\n\nconst invalid_primitive_or_object_state = \"invalid primitive or object state\";\n\nfunction isReactiveState(a) {\n    return a instanceof ReactiveState;\n}\n\nconst eventtargetsymbol = Symbol(\"eventtatget\");\n\nconst memlisteners = Symbol(\"memlisteners\");\n\nconst dispatchsymbol = Symbol(\"dispatch\");\n\nconst subscribesymbol = getsymbol(\"subscribe\");\n\nconst removeallistenerssymbol = getsymbol(\"removeallisteners\");\n\nconst addallistenerssymbol = getsymbol(\"addallisteners\");\n\nclass ReactiveState {\n    constructor(init) {\n        this[_a] = new EventTarget;\n        this[_b] = [];\n        if (isprimitive(init) || isobject(init)) {\n            Object.defineProperty(this, \"value\", {\n                value: init,\n                configurable: true,\n                writable: true\n            });\n        } else {\n            console.error(init);\n            throw TypeError(invalid_primitive_or_object_state);\n        }\n    }\n    [addallistenerssymbol]() {\n        this[memlisteners].forEach(([value, callback]) => {\n            this[eventtargetsymbol].addEventListener(value, callback);\n        });\n    }\n    valueOf() {\n        return this.value;\n    }\n    toString() {\n        const value = this.value;\n        return isprimitive(value) ? String(value) : isSet(value) ? JSON.stringify([ ...value ]) : isobject(value) ? JSON.stringify(value) : \"\";\n    }\n    [(_a = eventtargetsymbol, _b = memlisteners, dispatchsymbol)](eventname) {\n        const name = eventname ? String(eventname) : \"value\";\n        if (name !== \"value\") {\n            this[eventtargetsymbol].dispatchEvent(new CustomEvent(name, {\n                detail: name\n            }));\n        }\n        this[eventtargetsymbol].dispatchEvent(new CustomEvent(\"value\", {\n            detail: name\n        }));\n    }\n    [subscribesymbol](callback, eventname) {\n        const name = eventname ? String(eventname) : \"value\";\n        this[memlisteners].push([ name, event => callback.call(undefined, this, get(event, \"detail\")) ]);\n    }\n    [removeallistenerssymbol]() {\n        this[memlisteners].forEach(([value, callback]) => {\n            this[eventtargetsymbol].removeEventListener(value, callback);\n        });\n    }\n    [Symbol.toPrimitive]() {\n        const value = this.value;\n        return isprimitive(value) ? value : isobject(value) ? JSON.stringify(value) : void 0;\n    }\n}\n\nReflect.defineProperty(ReactiveState.prototype, Symbol.toStringTag, {\n    value: \"ReactiveState\"\n});\n\nconst componentsymbol = Symbol(\"component\");\n\nconst readysymbol = Symbol(\"ready\");\n\nconst document$1 = window.document;\n\nfunction seteletext(e, v) {\n    e.textContent = v;\n}\n\nfunction setelehtml(e, v) {\n    e.innerHTML = v;\n}\n\nfunction appendchild(container, ele) {\n    container.appendChild(ele);\n}\n\nfunction createsvgelement() {\n    return createElementNS(svgnamespace, \"svg\");\n}\n\nfunction createDocumentFragment() {\n    return document$1.createDocumentFragment();\n}\n\nfunction createnativeelement(type) {\n    return document$1.createElement(type);\n}\n\nfunction createElementNS(namespace, name) {\n    return document$1.createElementNS(namespace, name);\n}\n\nfunction createtextnode(data) {\n    return document$1.createTextNode(String(data));\n}\n\nconst svgnamespace = \"http://www.w3.org/2000/svg\";\n\nfunction changetext(textnode, value) {\n    textnode.nodeValue = String(value);\n}\n\nconst mathnamespace = \"http://www.w3.org/1998/Math/MathML\";\n\nfunction createmathelement() {\n    return createElementNS(mathnamespace, \"math\");\n}\n\nfunction domaddlisten(ele, event, call) {\n    ele.addEventListener(event, call);\n}\n\nfunction domremovelisten(ele, event, call) {\n    ele.removeEventListener(event, call);\n}\n\nfunction getdomchildren(ele) {\n    return Array.from(ele.childNodes);\n}\n\nfunction getAttribute(ele, name) {\n    return HTMLElementprototype.getAttribute.call(ele, name);\n}\n\nfunction setAttribute(ele, name, value) {\n    HTMLElementprototype.setAttribute.call(ele, name, value);\n}\n\nfunction removeAttribute(ele, name) {\n    HTMLElementprototype.removeAttribute.call(ele, name);\n}\n\nconst HTMLElementprototype = HTMLElement.prototype;\n\nfunction createanotherhtmldocument() {\n    return document$1.implementation.createHTMLDocument(\"\");\n}\n\nfunction getparentNode(ele) {\n    return ele.parentNode;\n}\n\nfunction isconnected(element) {\n    return document.documentElement === getancestornode(element);\n}\n\nfunction getancestornode(node) {\n    while (getparentNode(node) && getparentNode(node) !== document) {\n        node = node.parentNode;\n    }\n    return node;\n}\n\nconst requestAnimationFrame = window.requestAnimationFrame;\n\nvar directives = {\n    ref(ele, ref) {\n        if (isobject(ref)) {\n            ref.value = ele;\n        } else {\n            throw TypeError(\"invalid ref\");\n        }\n    },\n    html(ele, html) {\n        createhtmlandtextdirective(setelehtml, \"html\")(ele, html);\n    },\n    text(ele, text) {\n        createhtmlandtextdirective(seteletext, \"text\")(ele, text);\n    }\n};\n\nfunction createhtmlandtextdirective(seteletext, errorname) {\n    return function(ele, text) {\n        const element = ele;\n        if (typeof text == \"string\") {\n            requestAnimationFrame(() => {\n                seteletext(ele, text);\n            });\n        } else if (isReactiveState(text)) {\n            watch(text, state => {\n                if (isconnected(element)) {\n                    seteletext(ele, String(state));\n                }\n            });\n            requestAnimationFrame(() => {\n                seteletext(ele, String(text));\n            });\n        } else {\n            throw TypeError(\"invalid \" + errorname);\n        }\n    };\n}\n\nconst invalid_Function = \"invalid Function\";\n\nconst errormessage = \"invalid useMounted or useUnMounted out of createComponent\";\n\nlet ctxopen = false;\n\nlet MountedSet = new Set;\n\nlet UnMountedSet = new Set;\n\nlet StateSet = new Set;\n\nfunction getstates() {\n    return [ ...StateSet ];\n}\n\nfunction usestste(state) {\n    if (ctxopen) {\n        StateSet.add(state);\n    }\n}\n\nfunction getMounted() {\n    return [ ...MountedSet ];\n}\n\nfunction getUnMounted() {\n    return [ ...UnMountedSet ];\n}\n\nfunction useMounted(fun) {\n    if (isfunction(fun)) {\n        if (ctxopen) {\n            MountedSet.add(fun);\n        } else {\n            throw Error(errormessage);\n        }\n    } else {\n        throw TypeError(invalid_Function);\n    }\n}\n\nfunction useUnMounted(fun) {\n    if (isfunction(fun)) {\n        if (ctxopen) {\n            UnMountedSet.add(fun);\n        } else {\n            throw Error(errormessage);\n        }\n    } else {\n        throw TypeError(invalid_Function);\n    }\n}\n\nfunction clearMounted() {\n    MountedSet = new Set;\n}\n\nfunction clearstate() {\n    StateSet = new Set;\n}\n\nfunction clearUnMounted() {\n    UnMountedSet = new Set;\n}\n\nfunction openctx() {\n    ctxopen = true;\n    clearall();\n}\n\nfunction closectx() {\n    ctxopen = false;\n    clearall();\n}\n\nfunction clearall() {\n    clearMounted();\n    clearUnMounted();\n    clearstate();\n}\n\nfunction watch(state, callback, statekey) {\n    if (!(isReactiveState(state) && isfunction(callback))) {\n        console.error(state);\n        console.error(callback);\n        throw TypeError(invalid_ReactiveState + invalid_Function);\n    }\n    if (statekey) {\n        state[subscribesymbol](callback, statekey);\n    } else {\n        state[subscribesymbol](callback);\n    }\n    requestAnimationFrame(() => {\n        state[addallistenerssymbol]();\n    });\n}\n\nfunction unwatch(state) {\n    state[removeallistenerssymbol]();\n}\n\nfunction rewatch(state) {\n    state[addallistenerssymbol]();\n}\n\nfunction toArray(a) {\n    return (isarray(a) ? a : [ a ]).flat();\n}\n\nconst eventlistenerssymbol = Symbol(\"eventlisteners\");\n\nfunction onevent(element, eventname, callback) {\n    firstaddlisteners(element, eventname, toArray(callback));\n}\n\nfunction firstaddlisteners(ele, event, callarray) {\n    const element = ele;\n    callarray.forEach(call => {\n        if (!isfunction(call)) {\n            console.error(call);\n            throw TypeError(invalid_Function);\n        }\n        if (!element[eventlistenerssymbol]) {\n            element[eventlistenerssymbol] = [];\n        }\n        ele[eventlistenerssymbol].push([ event, call ]);\n        domaddlisten(ele, event, call);\n    });\n}\n\nfunction removelisteners(ele) {\n    if (ele[eventlistenerssymbol]) {\n        ele[eventlistenerssymbol].forEach(([event, call]) => {\n            domremovelisten(ele, event, call);\n        });\n    }\n}\n\nfunction readdlisteners(ele) {\n    if (ele[eventlistenerssymbol]) {\n        ele[eventlistenerssymbol].forEach(([event, call]) => {\n            domaddlisten(ele, event, call);\n        });\n    }\n}\n\nconst invalid_custom_element_class = \"invalid custom element class !\";\n\nif (!isobject(window.customElements)) {\n    throw new TypeError(\" customElements  not supported !\");\n}\n\nfunction \\u4f7f\\u7528value\\u4ece\\u8868\\u4e2d\\u67e5\\u8be2key(\\u8868, \\u7ec4\\u4ef6\\u72b6\\u6001\\u540d) {\n    return Object.entries(\\u8868).find(v => {\n        return v[1] === \\u7ec4\\u4ef6\\u72b6\\u6001\\u540d;\n    })[0];\n}\n\nwindow.CustomElementRegistry = get(getPrototypeOf(window.customElements), \"constructor\");\n\nconst {customElements: customElements, CustomElementRegistry: CustomElementRegistry} = window;\n\nconst elementset = Symbol.for(\"elementset\");\n\nconst elementmap = Symbol.for(\"elementmap\");\n\nvar RandomDefineCustomElement = (initclass, extendsname) => RandomDefineCustomElement$1(initclass, extendsname);\n\nfunction RandomDefineCustomElement$1(initclass, extendsname, length = 1) {\n    if (!isclassextendsHTMLElement(initclass)) {\n        throw TypeError(invalid_custom_element_class);\n    }\n    if (!customElements[elementset].has(initclass)) {\n        const elementname = getrandomstringandnumber(length);\n        if (customElements.get(elementname)) {\n            return RandomDefineCustomElement$1(initclass, extendsname, length + 1);\n        } else {\n            if (extendsname) {\n                customElements.define(elementname, initclass, {\n                    extends: extendsname\n                });\n            } else {\n                customElements.define(elementname, initclass);\n            }\n        }\n        return elementname;\n    } else {\n        return \\u4f7f\\u7528value\\u4ece\\u8868\\u4e2d\\u67e5\\u8be2key(customElements[elementmap], initclass);\n    }\n}\n\nif (!customElements[elementset]) {\n    customElements[elementset] = new Set;\n}\n\nif (!customElements[elementmap]) {\n    customElements[elementmap] = {};\n}\n\ncustomElements.define = function(name, constructor, options) {\n    if (!isclassextendsHTMLElement(constructor)) {\n        console.error(constructor);\n        throw TypeError(invalid_custom_element_class);\n    }\n    if (!customElements[elementset].has(constructor)) {\n        if (has(customElements[elementmap], name)) {\n            RandomDefineCustomElement$1(constructor, options ? options.extends : undefined);\n        } else {\n            CustomElementRegistry.prototype.define.call(customElements, name, constructor, options);\n            customElements[elementset].add(constructor);\n            customElements[elementmap][name] = constructor;\n        }\n    }\n};\n\ncustomElements[Symbol.iterator] = () => {\n    const entries = Object.entries(customElements[elementmap]);\n    return entries[Symbol.iterator].call(entries);\n};\n\nfunction getrandomcharactor() {\n    return get(Array(26).fill(undefined).map((v, i) => 97 + i).map(n => String.fromCharCode(n)), Math.floor(Math.random() * 26));\n}\n\nfunction getrandomhexnumber() {\n    return get(Array(16).fill(undefined).map((v, i) => i), Math.floor(Math.random() * 16)).toString(16);\n}\n\nfunction getrandomstringandnumber(length = 4) {\n    return Array(length).fill(undefined).map(() => getrandomcharactor()).join(\"\") + \"-\" + Array(length).fill(undefined).map(() => getrandomhexnumber()).join(\"\");\n}\n\nfunction isclassextendsHTMLElement(initclass) {\n    return !!(isfunction(initclass) && initclass.prototype && initclass.prototype instanceof HTMLElement);\n}\n\nfunction createcostumelemet(initclass, propsjson, children, options) {\n    if (isclassextendsHTMLElement(initclass)) {\n        RandomDefineCustomElement(initclass);\n        return construct(initclass, [ propsjson, children, options ]);\n    } else {\n        console.error(initclass);\n        throw TypeError(invalid_custom_element_class);\n    }\n}\n\nfunction mount(ele, container, clear = true) {\n    if (clear) {\n        seteletext(container, \"\");\n    }\n    const eles = toArray(ele).flat(Infinity);\n    eles.forEach(e => appendchild(container, e));\n    return container;\n}\n\nconst String$1 = window.String;\n\nconst Reflect$2 = window.Reflect;\n\nconst {get: get$1, set: set$1} = Reflect$2;\n\nconst valuestring = \"value\";\n\nfunction isobject$1(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isstring$1(a) {\n    return typeof a === \"string\";\n}\n\nfunction isArray(a) {\n    return Array.isArray(a);\n}\n\nfunction isSet$1(a) {\n    return a instanceof Set;\n}\n\nfunction objtostylestring(o) {\n    return Object.entries(o).map(([key, value]) => key + \":\" + value).join(\";\");\n}\n\nfunction asserthtmlelement(ele) {\n    if (!(ele instanceof Element)) {\n        throw TypeError(\"invalid HTMLElement!\");\n    } else return true;\n}\n\nfunction createeleattragentreadwrite(ele) {\n    asserthtmlelement(ele);\n    const isinputtextortextareaflag = isinputtextortextarea(ele);\n    const isinputcheckbox = \"input\" === geteletagname(ele) && get$1(ele, \"type\") === \"checkbox\";\n    var temp = Object.create(null);\n    const outputattrs = new Proxy(temp, {\n        ownKeys() {\n            const keys = attributesownkeys(ele);\n            return Array.from(new Set([ isinputcheckbox ? \"checked\" : undefined, isinputtextortextareaflag ? Array.from(new Set([ ...keys, valuestring ])) : keys ].flat(Infinity).filter(a => !!a)));\n        },\n        get(target, key) {\n            if (isinputcheckbox && key === \"checked\") {\n                return get$1(ele, \"checked\");\n            }\n            if (isinputtextortextareaflag && key === valuestring) {\n                return get$1(ele, valuestring);\n            } else {\n                const v = getattribute(ele, String$1(key));\n                if (v === \"\") {\n                    return true;\n                }\n                if (v === null) {\n                    return;\n                }\n                if (isstring$1(v)) {\n                    try {\n                        return JSON.parse(String$1(v));\n                    } catch (error) {\n                        return v;\n                    }\n                } else return;\n            }\n        },\n        set(t, key, v) {\n            if (\"function\" === typeof v) {\n                console.error(v);\n                throw TypeError(\"Setting properties as functions is not allowed\");\n            }\n            if (geteletagname(ele) === \"input\" && key === \"checked\") {\n                set$1(ele, key, v);\n                return true;\n            }\n            if (isinputtextortextareaflag && key === valuestring) {\n                return set$1(ele, valuestring, v);\n            } else if (key === \"style\") {\n                setattribute(ele, String$1(key), isstring$1(v) ? v : isobject$1(v) ? objtostylestring(v) : String$1(v));\n                return true;\n            } else if (key === \"class\" && isobject$1(v)) {\n                if (isArray(v)) {\n                    setattribute(ele, String$1(key), v.join(\" \"));\n                } else if (isSet$1(v)) {\n                    setattribute(ele, String$1(key), [ ...v ].join(\" \"));\n                } else {\n                    setattribute(ele, String$1(key), JSON.stringify(v));\n                }\n            } else {\n                if (isSet$1(v)) {\n                    setattribute(ele, String$1(key), JSON.stringify([ ...v ]));\n                } else {\n                    if (v === true) {\n                        v = \"\";\n                    }\n                    setattribute(ele, String$1(key), isobject$1(v) ? JSON.stringify(v) : String$1(v));\n                    return true;\n                }\n            }\n            return true;\n        },\n        deleteProperty(t, k) {\n            removeAttribute$1(ele, String$1(k));\n            return true;\n        },\n        has(target, key) {\n            if (isinputtextortextareaflag && key === valuestring) {\n                return true;\n            } else {\n                return hasAttribute(ele, String$1(key));\n            }\n        },\n        defineProperty() {\n            return false;\n        },\n        getOwnPropertyDescriptor(target, key) {\n            const otherdescipter = {\n                enumerable: true,\n                configurable: true,\n                writable: true\n            };\n            const myvalue = get$1(outputattrs, key);\n            if (typeof myvalue !== \"undefined\") {\n                return {\n                    value: myvalue,\n                    ...otherdescipter\n                };\n            } else {\n                return;\n            }\n        },\n        setPrototypeOf() {\n            return false;\n        }\n    });\n    return outputattrs;\n}\n\nfunction attributesownkeys(ele) {\n    return ele.getAttributeNames();\n}\n\nfunction getattribute(ele, key) {\n    return ele.getAttribute(key);\n}\n\nfunction geteletagname(ele) {\n    return ele.tagName.toLowerCase();\n}\n\nfunction setattribute(ele, key, value) {\n    return ele.setAttribute(key, value);\n}\n\nfunction removeAttribute$1(ele, key) {\n    return ele.removeAttribute(key);\n}\n\nfunction hasAttribute(ele, key) {\n    return ele.hasAttribute(key);\n}\n\nfunction isinputtextortextarea(ele) {\n    const tagname = geteletagname(ele);\n    return tagname === \"input\" && get$1(ele, \"type\") === \"text\" || tagname === \"textarea\";\n}\n\nfunction merge_entries(a) {\n    const m = {};\n    a.forEach(([key, value]) => {\n        if (!m[key]) {\n            m[key] = new Set;\n        }\n        value.forEach(v => {\n            m[key].add(v);\n        });\n    });\n    return Object.entries(m).map(([k, v]) => [ k, Array.from(v) ]);\n}\n\nfunction isVirtualdom(a) {\n    return a instanceof Virtualdom;\n}\n\nclass Virtualdom {\n    constructor(type = \"\", props = {}, children = []) {\n        this.type = \"\";\n        this.props = {};\n        this.children = [];\n        this.directives = {};\n        this.onevent = {};\n        this.bindattr = {};\n        const \\u5b57\\u6bcd\\u5927\\u5c0f\\u5199 = /[A-Za-z]/;\n        const propsentries = Object.entries(props);\n        const propsentriesNOTevents = propsentries.filter(([key]) => !(key.startsWith(\"@\") || key.startsWith(\"on\")));\n        const \\u5b57\\u6bcd\\u5f00\\u5934\\u7684entries = propsentriesNOTevents.filter(([key]) => \\u5b57\\u6bcd\\u5927\\u5c0f\\u5199.test(key[0]));\n        Object.assign(this, {\n            type: type,\n            bindattr: Object.fromEntries(\\u5b57\\u6bcd\\u5f00\\u5934\\u7684entries.filter(e => isReactiveState(e[1]))),\n            props: Object.fromEntries(\\u5b57\\u6bcd\\u5f00\\u5934\\u7684entries.filter(e => !isReactiveState(e[1]))),\n            children: children.flat(),\n            onevent: Object.fromEntries(merge_entries([ ...propsentries.filter(([key]) => /\\@/.test(key[0])).map(([key, value]) => [ key.slice(1).toLowerCase().trim(), [ value ].flat() ]), ...propsentries.filter(([key]) => key.startsWith(\"on\")).map(([key, value]) => [ key.slice(2).toLowerCase().trim(), [ value ].flat() ]) ])),\n            directives: Object.fromEntries(propsentriesNOTevents.filter(([key]) => /\\*/.test(key[0]) || key[0].startsWith(\"_\")).map(([key, value]) => [ key.slice(1).toLowerCase().trim(), value ]))\n        });\n    }\n}\n\nReflect.defineProperty(Virtualdom.prototype, Symbol.toStringTag, {\n    value: \"VirtualElement\"\n});\n\nconst bindstatesymbol = Symbol(\"bindstate\");\n\nconst reactivestatesymbol = Symbol(\"reactive\");\n\nconst virtualdomsymbol = Symbol(\"virtualdom\");\n\nfunction throwinvalideletype(type) {\n    console.error(type);\n    throw TypeError(\"invalid element type!\");\n}\n\nfunction render(vdom, namespace) {\n    if (isnumber(vdom)) {\n        return createtextnode(vdom);\n    } else if (typeof vdom === \"string\") {\n        return createtextnode(vdom);\n    } else if (vdom instanceof ReactiveState) {\n        const reactive = vdom;\n        const textnode = createtextnode(String(reactive));\n        textnode[reactivestatesymbol] = reactive;\n        watch(reactive, state => {\n            if (isconnected(element)) {\n                changetext(textnode, String(state));\n            }\n        });\n        const element = textnode;\n        element[bindstatesymbol] = new Set;\n        element[bindstatesymbol].add(reactive);\n        return textnode;\n    } else if (vdom instanceof Virtualdom && \"type\" in vdom) {\n        const {type: type} = vdom;\n        let element;\n        if (typeof type === \"string\") {\n            if (type === \"script\") {\n                return createDocumentFragment();\n            } else if (type === \"svg\") {\n                element = createsvgelement();\n            } else if (type === \"math\") {\n                element = createmathelement();\n            } else if (\"\" === type || type === \"html\") {\n                return render(vdom.children);\n            } else {\n                element = namespace ? createElementNS(namespace, type) : createnativeelement(type);\n            }\n        } else if (typeof type == \"function\") {\n            if (isobject(type[\"defaultProps\"])) {\n                vdom.props = JSON.parse(JSON.stringify({\n                    ...type[\"defaultProps\"],\n                    ...vdom.props\n                }));\n            }\n            const propsjson = JSON.parse(JSON.stringify({\n                ...vdom.props,\n                ...Object.fromEntries(Object.entries(vdom.bindattr).map(([key, value]) => {\n                    return [ key, value.value ];\n                }))\n            }));\n            element = createcostumelemet(type, propsjson, vdom.children);\n        } else {\n            throwinvalideletype(vdom);\n        }\n        handleprops(element, vdom);\n        if (type && (isfunction(type) || isstring(type))) {\n            if (!type[componentsymbol]) {\n                mount(vdom.children.map(e => {\n                    if (type === \"svg\") {\n                        return render(e, svgnamespace);\n                    } else if (type === \"math\") {\n                        return render(e, mathnamespace);\n                    } else if (namespace) {\n                        return render(e, namespace);\n                    } else {\n                        return render(e);\n                    }\n                }), element);\n            }\n        }\n        return element;\n    } else if (isarray(vdom)) {\n        return vdom.map(a => render(a)).flat();\n    } else {\n        throwinvalideletype(vdom);\n    }\n}\n\nfunction handleprops(element, vdom) {\n    ((element, vdom) => {\n        Object.entries(vdom.directives).forEach(([name, value]) => {\n            if (name in directives && typeof directives[name] === \"function\") {\n                directives[name](element, value, vdom);\n            } else {\n                throw new Error(\"invalid directives \" + name);\n            }\n        });\n        const attribute1 = createeleattragentreadwrite(element);\n        Object.assign(attribute1, vdom.props);\n        element[virtualdomsymbol] = vdom;\n        vdom.element = element;\n        Object.entries(vdom.bindattr).forEach(([key, primitivestate]) => {\n            attribute1[key] = primitivestate.value;\n            watch(primitivestate, state => {\n                if (isconnected(element)) {\n                    attribute1[key] = state.value;\n                }\n            });\n        });\n        Object.entries(vdom.onevent).forEach(([event, callbacks]) => {\n            onevent(element, event, callbacks);\n        });\n    })(element, vdom);\n    [ ...Object.values(vdom.bindattr), ...Object.values(vdom.directives) ].flat().filter(e => isReactiveState(e)).forEach(e => {\n        if (!element[bindstatesymbol]) {\n            element[bindstatesymbol] = new Set;\n        }\n        element[bindstatesymbol].add(e);\n    });\n}\n\nconst attributeChangedCallback = \"attributeChangedCallback\";\n\nclass AttrChange extends HTMLElement {\n    setAttribute(qualifiedName, value) {\n        const oldValue = getAttribute(this, qualifiedName);\n        if (oldValue !== value) {\n            setAttribute(this, qualifiedName, value);\n            if (isfunction(this[attributeChangedCallback])) {\n                this[attributeChangedCallback](qualifiedName, oldValue, value);\n            }\n        }\n    }\n    removeAttribute(qualifiedName) {\n        const oldValue = getAttribute(this, qualifiedName);\n        if (null !== oldValue) {\n            removeAttribute(this, qualifiedName);\n            if (isfunction(this[attributeChangedCallback])) {\n                this[attributeChangedCallback](qualifiedName, oldValue, undefined);\n            }\n        }\n    }\n}\n\nfunction setimmediate(fun) {\n    return Promise.resolve().then(() => fun());\n}\n\nfunction readonlyproxy(target) {\n    return new Proxy(target, {\n        set() {\n            return true;\n        },\n        defineProperty() {\n            return false;\n        },\n        deleteProperty() {\n            return false;\n        },\n        setPrototypeOf() {\n            return false;\n        }\n    });\n}\n\nfunction isArray$1(a) {\n    return Array.isArray(a);\n}\n\nconst Reflect$3 = window.Reflect;\n\nconst {ownKeys: ownKeys$1, deleteProperty: deleteProperty$1, apply: apply, construct: construct$1, defineProperty: defineProperty, get: get$2, getOwnPropertyDescriptor: getOwnPropertyDescriptor$1, getPrototypeOf: getPrototypeOf$1, has: has$1, set: set$2, setPrototypeOf: setPrototypeOf} = Reflect$3;\n\nfunction isobject$2(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isfunction$1(a) {\n    return typeof a === \"function\";\n}\n\nfunction deepobserveaddpath(target, callback, patharray = [], ancestor = target) {\n    if (typeof callback !== \"function\") {\n        throw Error(\"observe callback invalid !\");\n    }\n    if (isfunction$1(target) || isobject$2(target)) {\n        let fakeobj;\n        if (isArray$1(target)) {\n            fakeobj = [];\n        } else if (isfunction$1(target)) {\n            fakeobj = () => {};\n        } else {\n            fakeobj = {};\n        }\n        setPrototypeOf(fakeobj, null);\n        return (fakeobj => {\n            return new Proxy(fakeobj, {\n                defineProperty(t, p, a) {\n                    return defineProperty(target, p, a);\n                },\n                deleteProperty(t, p) {\n                    callback(ancestor, [ ...patharray, p ], undefined, get$2(target, p));\n                    return deleteProperty$1(target, p);\n                },\n                ownKeys() {\n                    return ownKeys$1(target);\n                },\n                has(t, p) {\n                    return has$1(target, p);\n                },\n                getPrototypeOf() {\n                    return getPrototypeOf$1(target);\n                },\n                setPrototypeOf(t, v) {\n                    return setPrototypeOf(target, v);\n                },\n                construct(t, argumentslist) {\n                    if (typeof target === \"function\") {\n                        return construct$1(target, argumentslist);\n                    }\n                },\n                apply(t, thisarg, argarray) {\n                    if (typeof target === \"function\") {\n                        return apply(target, thisarg, argarray);\n                    }\n                },\n                getOwnPropertyDescriptor(t, k) {\n                    var descripter = getOwnPropertyDescriptor$1(target, k);\n                    if (isArray$1(target) && k === \"length\") {\n                        return descripter;\n                    } else {\n                        if (descripter) {\n                            descripter.configurable = true;\n                            return descripter;\n                        } else {\n                            return;\n                        }\n                    }\n                },\n                set(t, k, v) {\n                    if (typeof callback === \"function\") {\n                        callback(ancestor, [ ...patharray, k ], v, get$2(target, k));\n                    }\n                    return set$2(target, k, v);\n                },\n                get(t, k) {\n                    var value = get$2(target, k);\n                    if (isfunction$1(value) || isobject$2(value)) {\n                        return deepobserveaddpath(value, callback, [ ...patharray, k ], target);\n                    } else {\n                        return value;\n                    }\n                }\n            });\n        })(fakeobj);\n    } else {\n        return target;\n    }\n}\n\nfunction observedeepagent(target, callback) {\n    if (typeof callback !== \"function\") {\n        throw Error(\"observe callback  invalid function \");\n    }\n    if (typeof Proxy !== \"function\") {\n        throw Error(\"Proxy unsupported!\");\n    }\n    if (isfunction$1(target) || isobject$2(target)) {\n        return deepobserveaddpath(target, callback, [], target);\n    } else {\n        return target;\n    }\n}\n\nvar createstate = init => {\n    const state = createstate$1(init);\n    usestste(state);\n    return state;\n};\n\nfunction createstate$1(init) {\n    if (isprimitive(init)) {\n        return getproperyreadproxy(new Proxy(new ReactiveState(init), {\n            defineProperty() {\n                return false;\n            },\n            deleteProperty() {\n                return false;\n            },\n            set(target, key, value) {\n                if (key === \"value\" && isprimitive(value)) {\n                    if (target[key] !== value) {\n                        set(target, key, value);\n                        target[dispatchsymbol]();\n                    }\n                    return true;\n                } else {\n                    return true;\n                }\n            },\n            setPrototypeOf() {\n                return false;\n            }\n        }));\n    } else if (isReactiveState(init)) {\n        return createstate$1(init.value);\n    } else if (isobject(init)) {\n        return new Proxy(new ReactiveState(init), {\n            defineProperty() {\n                return false;\n            },\n            getOwnPropertyDescriptor(target, key) {\n                const myvalue = get(target, \"value\");\n                const descripter = getOwnPropertyDescriptor(target, key) || getOwnPropertyDescriptor(myvalue, key);\n                if (descripter) {\n                    descripter.configurable = true;\n                }\n                return descripter;\n            },\n            deleteProperty(target, key) {\n                const myvalue = get(target, \"value\");\n                if (has(myvalue, key)) {\n                    deleteProperty(myvalue, key);\n                    target[dispatchsymbol](String(key));\n                    return true;\n                } else {\n                    return true;\n                }\n            },\n            has(target, key) {\n                const myvalue = get(target, \"value\");\n                return has(target, key) || has(myvalue, key);\n            },\n            get(target, key) {\n                const value = get(target, \"value\");\n                if (key === \"value\" && (gettagtype(value) === \"array\" || gettagtype(value) === \"object\")) {\n                    return observedeepagent(get(target, key), (_target, patharray) => {\n                        target[dispatchsymbol](patharray[0]);\n                    });\n                } else if (has(target, key)) {\n                    return get(target, key);\n                } else if (has(value, key)) {\n                    if (isSet(value) && (key === \"add\" || key === \"delete\")) {\n                        const myvalue = value;\n                        if (key === \"add\") {\n                            return add => {\n                                if (!Set.prototype.has.call(myvalue, add)) {\n                                    const returnvalue = Set.prototype[key].call(myvalue, add);\n                                    target[dispatchsymbol]();\n                                    return returnvalue;\n                                }\n                            };\n                        } else if (key === \"delete\") {\n                            return dele => {\n                                if (Set.prototype.has.call(myvalue, dele)) {\n                                    const returnvalue = Set.prototype[key].call(myvalue, dele);\n                                    target[dispatchsymbol]();\n                                    return returnvalue;\n                                }\n                            };\n                        }\n                    } else {\n                        return observedeepagent(get(value, key), () => {\n                            target[dispatchsymbol](String(key));\n                        });\n                    }\n                }\n            },\n            ownKeys(target) {\n                return Array.from(new Set([ ...ownKeys(target), ...ownKeys(get(target, \"value\")) ]));\n            },\n            set(target, key, value) {\n                const myvalue = get(target, \"value\");\n                if (key === \"value\" && isobject(value)) {\n                    set(target, key, value);\n                    target[dispatchsymbol]();\n                    return true;\n                } else if (!has(target, key)) {\n                    set(myvalue, key, value);\n                    target[dispatchsymbol](String(key));\n                } else if (key === \"length\") {\n                    set(myvalue, key, value);\n                    target[dispatchsymbol](key);\n                } else {\n                    return false;\n                }\n                return true;\n            },\n            setPrototypeOf() {\n                return false;\n            }\n        });\n    } else {\n        console.error(init);\n        throw TypeError(invalid_primitive_or_object_state);\n    }\n}\n\nvar n = function(t, r, u, e) {\n    for (var p = 1; p < r.length; p++) {\n        var s = r[p], h = \"number\" == typeof s ? u[s] : s, a = r[++p];\n        1 === a ? e[0] = h : 3 === a ? e[1] = Object.assign(e[1] || {}, h) : 5 === a ? (e[1] = e[1] || {})[r[++p]] = h : 6 === a ? e[1][r[++p]] += h + \"\" : e.push(a ? t.apply(null, n(t, h, u, [ \"\", null ])) : h);\n    }\n    return e;\n}, t = function(n) {\n    for (var t, r, u = 1, e = \"\", p = \"\", s = [ 0 ], h = function(n) {\n        1 === u && (n || (e = e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g, \"\"))) ? s.push(n || e, 0) : 3 === u && (n || e) ? (s.push(n || e, 1), \n        u = 2) : 2 === u && \"...\" === e && n ? s.push(n, 3) : 2 === u && e && !n ? s.push(!0, 5, e) : u >= 5 && ((e || !n && 5 === u) && (s.push(e, u, r), \n        u = 6), n && (s.push(n, u, r), u = 6)), e = \"\";\n    }, a = 0; a < n.length; a++) {\n        a && (1 === u && h(), h(a));\n        for (var f = 0; f < n[a].length; f++) t = n[a][f], 1 === u ? \"<\" === t ? (h(), s = [ s ], \n        u = 3) : e += t : 4 === u ? \"--\" === e && \">\" === t ? (u = 1, e = \"\") : e = t + e[0] : p ? t === p ? p = \"\" : e += t : '\"' === t || \"'\" === t ? p = t : \">\" === t ? (h(), \n        u = 1) : u && (\"=\" === t ? (u = 5, r = e, e = \"\") : \"/\" === t && (u < 5 || \">\" === n[a][f + 1]) ? (h(), \n        3 === u && (s = s[0]), u = s, (s = s[0]).push(u, 2), u = 0) : \" \" === t || \"\\t\" === t || \"\\n\" === t || \"\\r\" === t ? (h(), \n        u = 2) : e += t), 3 === u && \"!--\" === e && (u = 4, s = s[0]);\n    }\n    return h(), s;\n}, r = \"function\" == typeof Map, u = r ? new Map : {}, e = r ? function(n) {\n    var r = u.get(n);\n    return r || u.set(n, r = t(n)), r;\n} : function(n) {\n    for (var r = \"\", e = 0; e < n.length; e++) r += n[e].length + \"-\" + n[e];\n    return u[r] || (u[r] = t(n));\n};\n\nfunction htm(t) {\n    var r = n(this, e(t), arguments, []);\n    return r.length > 1 ? r : r[0];\n}\n\nfunction createElement(type = \"\", props = {}, ...children) {\n    let typenormalized = isstring(type) || isfunction(type) ? type : \"\";\n    const propsnormalized = isobject(props) ? props : {};\n    const childrennormalized = children.flat(Infinity).map(a => a === 0 ? \"0\" : a).filter(a => !!a);\n    if (isstring(typenormalized)) {\n        typenormalized = typenormalized.trim().toLowerCase();\n    }\n    if (\"\" === typenormalized) {\n        return childrennormalized;\n    }\n    return new Virtualdom(typenormalized, propsnormalized, childrennormalized);\n}\n\nconst invalid_Virtualdom = \"invalid Virtualdom \";\n\nfunction createApp(vdom, container) {\n    if (isarray(vdom)) {\n        vdom = vdom.flat(Infinity);\n    }\n    const el = container;\n    if (!(el instanceof HTMLElement)) {\n        console.error(el);\n        throw TypeError(\"invalid container HTMLElement!\");\n    }\n    if (el === document$1.body || el === document$1.documentElement || el === document$1.head) {\n        throw Error(\"Do not mount  to <html> or <body> <head>.\");\n    }\n    const elesarray = toArray(vdom);\n    if (isvalidvdom(vdom)) {\n        mount(render(elesarray), container);\n    } else if (vdom instanceof Node || isNodeArray(vdom)) {\n        mount(elesarray, container);\n    } else {\n        console.error(vdom);\n        throw TypeError(invalid_Virtualdom);\n    }\n    return container;\n}\n\nfunction isNodeArray(array) {\n    return isarray(array) && !array.map(e => e instanceof Node).includes(false);\n}\n\nfunction html(...inargs) {\n    return htm.call(createElement, ...inargs);\n}\n\nfunction isvalidvdom(v) {\n    if (isnumber(v)) {\n        return true;\n    }\n    let flag = false;\n    if (isarray(v)) {\n        flag = v.map(ele => {\n            return isvalidvdom(ele);\n        }).includes(false) ? false : true;\n        return flag;\n    } else if (isVirtualdom(v)) {\n        if (isvalidvdom(v.children)) {\n            return true;\n        }\n    } else if (isReactiveState(v)) {\n        return true;\n    } else {\n        if (isstring(v)) {\n            return true;\n        }\n    }\n    return flag;\n}\n\nfunction assertvalidvirtualdom(...args) {\n    const vdom = html(...args);\n    if (isvalidvdom(vdom)) {\n        return vdom;\n    } else {\n        console.error(vdom);\n        throw new TypeError(invalid_Virtualdom);\n    }\n}\n\nfunction createcssBlob(source) {\n    return URL.createObjectURL(new Blob([ source ], {\n        type: \"text/css\"\n    }));\n}\n\nfunction isCSSMediaRule(a) {\n    return gettagtype(a) === \"cssmediarule\";\n}\n\nfunction isCSSImportRule(a) {\n    return gettagtype(a) === \"cssimportrule\";\n}\n\nfunction parsecsstext(text) {\n    const styleelement = render(createElement(\"style\", undefined, text));\n    const otherdocument = createanotherhtmldocument();\n    appendchild(otherdocument.firstElementChild, styleelement);\n    return Array.from(styleelement.sheet.cssRules);\n}\n\nfunction isCSSStyleRule(a) {\n    return gettagtype(a) === \"cssstylerule\";\n}\n\nfunction selectoraddprefix(cssstylerule, prefix) {\n    const selectorText = cssstylerule.selectorText;\n    const selectorarray = selectorText.split(\",\");\n    cssstylerule.selectorText = selectorarray.map(selectorText => {\n        let prefixselector = prefix + \" \" + selectorText;\n        if (selectorText.startsWith(\"*\")) {\n            prefixselector = prefixselector + \",\" + selectorText.replace(\"*\", prefix);\n        }\n        return prefixselector;\n    }).join(\",\");\n    return cssstylerule;\n}\n\nfunction prefixcssrules(cssRulesarray, prefix) {\n    return cssRulesarray.map(cssrule => {\n        if (isCSSStyleRule(cssrule)) {\n            return selectoraddprefix(cssrule, prefix);\n        } else if (isCSSMediaRule(cssrule)) {\n            prefixcssrules(Array.from(cssrule.cssRules), prefix);\n            return cssrule;\n        } else if (isCSSImportRule(cssrule)) {\n            savestyleblob(prefix, undefined, cssrule.href);\n            return;\n        } else {\n            return cssrule;\n        }\n    }).filter(Boolean);\n}\n\nconst componentsstylesheet = {};\n\nfunction savestyleblob(tagname, csstext, urltext) {\n    tagname = tagname.toLowerCase();\n    if (!componentsstylesheet[tagname]) {\n        componentsstylesheet[tagname] = new Set;\n    }\n    if (csstext) {\n        componentsstylesheet[tagname].add(createcssBlob(csstext));\n    } else if (urltext) {\n        componentsstylesheet[tagname].add(urltext);\n    }\n}\n\nfunction cssrulestocsstext(cssrules) {\n    return cssrules.map(c => c.cssText).join(\"\\n\");\n}\n\nfunction createlinkstylesheet(url) {\n    return render(createElement(\"link\", {\n        href: url,\n        rel: \"stylesheet\"\n    }));\n}\n\nfunction transformcsstext(text, prefix) {\n    const css = text;\n    const cssomold = parsecsstext(css);\n    const cssomnew = prefixcssrules(cssomold, prefix).filter(Boolean);\n    const cssnewtext = cssrulestocsstext(cssomnew);\n    return cssnewtext;\n}\n\nfunction registercssprefix(text, prefix) {\n    const css = text;\n    const cssnewtext = transformcsstext(css, prefix);\n    savestyleblob(prefix, cssnewtext);\n}\n\nfunction loadlinkstyle(stylelinkelement, container) {\n    return new Promise(rs => {\n        const loaderrorfun = () => {\n            stylelinkelement.onload = stylelinkelement.onerror = undefined;\n            rs();\n        };\n        stylelinkelement.onload = loaderrorfun;\n        stylelinkelement.onerror = loaderrorfun;\n        appendchild(container, stylelinkelement);\n    });\n}\n\nfunction waitloadallstyle(prefix, _this) {\n    return Promise.all([ ...componentsstylesheet[prefix] ].map(styleurl => loadlinkstyle(createlinkstylesheet(styleurl), _this)));\n}\n\nconst innerstatesymbol = Symbol(\"innerstate\");\n\nconst attributessymbol = Symbol(\"attributes\");\n\nconst elementsymbol = Symbol(\"innerelement\");\n\nconst vdomsymbol = Symbol(\"innervdom\");\n\nconst mountedsymbol = Symbol(\"mounted\");\n\nconst unmountedsymbol = Symbol(\"unmounted\");\n\nfunction createComponent(custfun) {\n    var _a, _b, _c, _d;\n    if (isfunction(custfun)) {\n        const defaultProps = get(custfun, \"defaultProps\");\n        const css = get(custfun, \"css\");\n        return _d = class Component extends AttrChange {\n            constructor(propsjson = {}, children = []) {\n                super();\n                this[_b] = false;\n                this[_c] = {};\n                const css = get(this.constructor, \"css\");\n                if (css) {\n                    const prefix = this.tagName.toLowerCase();\n                    if (!componentsstylesheet[prefix]) {\n                        registercssprefix(css, prefix);\n                    }\n                }\n                const defaultProps = get(this.constructor, \"defaultProps\");\n                const attrs = createeleattragentreadwrite(this);\n                if (isobject(defaultProps)) {\n                    Object.assign(attrs, defaultProps);\n                }\n                if (isobject(propsjson)) {\n                    Object.assign(attrs, propsjson);\n                }\n                openctx();\n                const props = attrs;\n                const thisattributess = Object.fromEntries(Object.entries(props).map(([key, value]) => [ key, createstate(value) ]));\n                this[attributessymbol] = readonlyproxy(thisattributess);\n                const readonlyprop = readonlyproxy(Object.fromEntries(Object.entries(thisattributess).map(([key, value]) => [ key, readonlyproxy(value) ])));\n                let possiblyvirtualdom;\n                try {\n                    possiblyvirtualdom = custfun.call(undefined, readonlyprop, children);\n                } catch (error) {\n                    closectx();\n                    throw error;\n                }\n                if (isarray(possiblyvirtualdom)) {\n                    possiblyvirtualdom = possiblyvirtualdom.flat(Infinity).filter(Boolean);\n                }\n                if (isvalidvdom(possiblyvirtualdom)) {\n                    const thisvdomsymbol = toArray(possiblyvirtualdom);\n                    this[vdomsymbol] = thisvdomsymbol.flat(Infinity).filter(Boolean);\n                    this[mountedsymbol] = getMounted();\n                    this[unmountedsymbol] = getUnMounted();\n                    this[innerstatesymbol] = getstates();\n                    closectx();\n                } else {\n                    closectx();\n                    console.error(possiblyvirtualdom);\n                    throw Error(invalid_Virtualdom);\n                }\n            }\n            connectedCallback() {\n                if (!this[elementsymbol]) {\n                    this[elementsymbol] = render(this[vdomsymbol]).flat(Infinity);\n                }\n                if (!this[readysymbol]) {\n                    this[readysymbol] = true;\n                    const css = get(this.constructor, \"css\");\n                    const prefix = this.tagName.toLowerCase();\n                    if (css && componentsstylesheet[prefix]) {\n                        seteletext(this, \"\");\n                        waitloadallstyle(prefix, this).then(() => {\n                            mount(this[elementsymbol], this, false);\n                        });\n                    } else {\n                        mount(this[elementsymbol], this);\n                    }\n                }\n                this[mountedsymbol].forEach(f => {\n                    setimmediate(f);\n                });\n                onmounted(this);\n            }\n            disconnectedCallback() {\n                this[unmountedsymbol].forEach(f => {\n                    setimmediate(f);\n                });\n                onunmounted(this);\n            }\n            attributeChangedCallback(name) {\n                if (this[attributessymbol][name]) {\n                    this[attributessymbol][name].value = createeleattragentreadwrite(this)[name];\n                }\n            }\n        }, _a = componentsymbol, _b = readysymbol, _c = attributessymbol, _d[_a] = true, \n        _d.css = isstring(css) && css ? css : undefined, _d.defaultProps = isobject(defaultProps) ? JSON.parse(JSON.stringify(defaultProps)) : undefined, \n        _d;\n    } else {\n        console.error(custfun);\n        throw TypeError(invalid_Function);\n    }\n}\n\nfunction onmounted(ele) {\n    if (isarray(ele)) {\n        ele.forEach(e => {\n            onmounted(e);\n        });\n    } else if (ele instanceof Node) {\n        if (ele[eventlistenerssymbol]) {\n            readdlisteners(ele);\n        }\n        if (ele[bindstatesymbol]) {\n            ele[bindstatesymbol].forEach(state => {\n                rewatch(state);\n            });\n            if (ele[innerstatesymbol]) {\n                ele[innerstatesymbol].forEach(state => {\n                    rewatch(state);\n                });\n            }\n        }\n        onmounted(getdomchildren(ele));\n    }\n}\n\nfunction onunmounted(ele) {\n    if (isarray(ele)) {\n        ele.forEach(e => {\n            onunmounted(e);\n        });\n    } else if (ele instanceof Node) {\n        if (ele[eventlistenerssymbol]) {\n            removelisteners(ele);\n        }\n        if (ele[innerstatesymbol]) {\n            ele[innerstatesymbol].forEach(state => {\n                unwatch(state);\n            });\n        }\n        onunmounted(getdomchildren(ele));\n    }\n}\n\nconst invalid_ReactiveState = \"invalid ReactiveState\";\n\nconst truevdomsymbol = Symbol(\"truevdom\");\n\nconst falsevdomsymbol = Symbol(\"falsevdom\");\n\nconst trueelesymbol = Symbol(\"trueele\");\n\nconst falseelesymbol = Symbol(\"falseele\");\n\nconst handletrue = getsymbol(\"handletrue\");\n\nconst handlefalse = getsymbol(\"handlefalse\");\n\nfunction conditon(conditon, iftrue, iffalse) {\n    var _a, _b;\n    if (!(isReactiveState(conditon) || isboolean(conditon))) {\n        throw TypeError(invalid_ReactiveState);\n    }\n    [ iftrue, iffalse ].forEach(a => {\n        if (!(isundefined(a) || isvalidvdom(a))) {\n            throw new TypeError(invalid_Virtualdom);\n        }\n    });\n    const options = {\n        true: iftrue,\n        false: iffalse\n    };\n    class Condition extends AttrChange {\n        constructor() {\n            super();\n            this[_b] = false;\n            const optionstrue = get(options, \"true\");\n            const optionsfalse = get(options, \"false\");\n            this[truevdomsymbol] = isarray(optionstrue) ? optionstrue.filter(Boolean) : [ optionstrue ].filter(Boolean);\n            this[falsevdomsymbol] = isarray(optionsfalse) ? optionsfalse.filter(Boolean) : [ optionsfalse ].filter(Boolean);\n        }\n        [(_a = componentsymbol, _b = readysymbol, handlefalse)]() {\n            setelehtml(this, \"\");\n            if (this[falsevdomsymbol]) {\n                if (!this[falseelesymbol]) {\n                    this[falseelesymbol] = render(this[falsevdomsymbol]);\n                }\n                const elementtomount = this[falseelesymbol];\n                createApp(elementtomount, this);\n                elementtomount.forEach(e => onmounted(e));\n                if (this[trueelesymbol]) {\n                    this[trueelesymbol].forEach(e => onunmounted(e));\n                }\n            }\n        }\n        [handletrue]() {\n            setelehtml(this, \"\");\n            if (this[truevdomsymbol]) {\n                if (!this[trueelesymbol]) {\n                    this[trueelesymbol] = render(this[truevdomsymbol]);\n                }\n                const elementtomount = this[trueelesymbol];\n                createApp(elementtomount, this);\n                elementtomount.forEach(e => onmounted(e));\n                if (this[falseelesymbol]) {\n                    this[falseelesymbol].forEach(e => onunmounted(e));\n                }\n            }\n        }\n        connectedCallback() {\n            if (!this[readysymbol]) {\n                this[readysymbol] = true;\n                const attrs = createeleattragentreadwrite(this);\n                if (true === attrs[\"value\"]) {\n                    this[handletrue]();\n                }\n                if (false === attrs[\"value\"]) {\n                    this[handlefalse]();\n                }\n            }\n            onmounted(this);\n        }\n        disconnectedCallback() {\n            onunmounted(this);\n        }\n        attributeChangedCallback(name) {\n            if (this[readysymbol]) {\n                if (name === \"value\") {\n                    const attrs = createeleattragentreadwrite(this);\n                    if (true === attrs[\"value\"]) {\n                        this[handletrue]();\n                    }\n                    if (false === attrs[\"value\"]) {\n                        this[handlefalse]();\n                    }\n                }\n            }\n        }\n    }\n    Condition[_a] = true;\n    const vdom = new Virtualdom(Condition, {\n        value: conditon\n    });\n    return vdom;\n}\n\nconst {defineProperty: defineProperty$1} = Object;\n\nvar computed = (state, callback) => {\n    if (!((isarray(state) || isReactiveState(state)) && isfunction(callback))) {\n        console.error(state);\n        console.error(callback);\n        throw TypeError(invalid_ReactiveState + invalid_Function);\n    }\n    let state1array;\n    state1array = toArray(state);\n    const state1 = Arraycomputed(state1array, callback);\n    usestste(state1);\n    return state1;\n};\n\nfunction Arraycomputed(state, callback) {\n    const reactivestate = new ReactiveState;\n    const getter = () => {\n        const value = callback.call(undefined, ...state.map(st => st.value));\n        return isReactiveState(value) ? value.value : value;\n    };\n    defineProperty$1(reactivestate, \"value\", {\n        get: getter,\n        configurable: true\n    });\n    let memorized = getter();\n    state.forEach(state => {\n        watch(state, () => {\n            let newvalue = getter();\n            if (newvalue !== memorized) {\n                reactivestate[dispatchsymbol]();\n                memorized = newvalue;\n            }\n        });\n    });\n    return getproperyreadproxy(readonlyproxy(reactivestate));\n}\n\nconst __proto__ = \"__proto__\";\n\nfunction getproperyreadproxy(a) {\n    const target = a;\n    return new Proxy(target, {\n        ownKeys(target) {\n            let myvalue = get(target, \"value\");\n            const myvalueobj = isobject(myvalue) ? myvalue : myvalue[__proto__];\n            return Array.from(new Set([ ...ownKeys(target), ...ownKeys(myvalueobj) ]));\n        },\n        has(target, key) {\n            const myvalue = get(target, \"value\");\n            const myvalueobj = isobject(myvalue) ? myvalue : myvalue[__proto__];\n            return has(target, key) || has(myvalueobj, key);\n        },\n        get(target, key) {\n            const myvalue = get(target, \"value\");\n            const myvalueobj = isobject(myvalue) ? myvalue : myvalue[__proto__];\n            if (has(target, key)) {\n                return get(target, key);\n            } else if (has(myvalueobj, key)) {\n                return get(myvalueobj, key);\n            }\n        }\n    });\n}\n\nfunction createRef(init) {\n    return {\n        value: init\n    };\n}\n\nfunction extenddirectives(options) {\n    Object.entries(options).forEach(([key, value]) => {\n        if (typeof value !== \"function\") {\n            throw TypeError(invalid_Function);\n        } else {\n            directives[key] = value;\n        }\n    });\n}\n\nextenddirectives({\n    value(element, value, vdom) {\n        if (isReactiveState(value) && (vdom.type === \"input\" || vdom.type === \"textarea\")) {\n            vdom.bindattr[\"value\"] = value;\n            [ \"change\", \"input\" ].forEach(eventname => {\n                const origin = vdom.onevent[eventname];\n                const eventsarray = [ origin ].flat(Infinity);\n                Reflect.set(vdom.onevent, eventname, [ ...eventsarray, e => {\n                    return value.value = e.target.value;\n                } ].filter(Boolean));\n            });\n        } else {\n            console.error(value);\n            console.error(vdom);\n            throw TypeError(invalid_ReactiveState + invalid_Virtualdom);\n        }\n    }\n});\n\nextenddirectives({\n    checked(element, value, vdom) {\n        if (isReactiveState(value) && vdom.type === \"input\") {\n            vdom.bindattr[\"checked\"] = value;\n            [ \"change\", \"input\" ].forEach(eventname => {\n                const origin = vdom.onevent[eventname];\n                const eventsarray = [ origin ].flat(Infinity);\n                Reflect.set(vdom.onevent, eventname, [ ...eventsarray, e => {\n                    return value.value = e.target.checked;\n                } ].filter(Boolean));\n            });\n        } else {\n            console.error(value);\n            console.error(vdom);\n            throw TypeError(invalid_ReactiveState + invalid_Virtualdom);\n        }\n    }\n});\n\nconst Fragment = \"\";\n\nexport { Fragment, computed, conditon as condition, createApp, createComponent, createElement, createRef, createstate as createState, extenddirectives as directives, createElement as h, assertvalidvirtualdom as html, useMounted, useUnMounted, watch };\n//# sourceMappingURL=index.js.map\n"],"names":["Reflect$1","window","Reflect","construct","deleteProperty","get","getOwnPropertyDescriptor","getPrototypeOf","has","ownKeys","set","isprimitive","a","isstring","isnumber","isboolean","isundefined","isobject","isfunction","isarray","Array","isArray","gettagtype","getsymbol","Symbol","toString","call","replace","toLowerCase","trim","isSet","Set","HTMLElement","Proxy","customElements","CustomElementRegistry","TypeError","_a","_b","invalid_primitive_or_object_state","isReactiveState","ReactiveState","eventtargetsymbol","memlisteners","dispatchsymbol","subscribesymbol","removeallistenerssymbol","addallistenerssymbol","[object Object]","init","this","EventTarget","Object","defineProperty","value","configurable","writable","forEach","callback","addEventListener","String","JSON","stringify","eventname","name","dispatchEvent","CustomEvent","detail","push","event","undefined","removeEventListener","toPrimitive","prototype","toStringTag","componentsymbol","readysymbol","document$1","document","seteletext","e","v","textContent","setelehtml","innerHTML","appendchild","container","ele","appendChild","createElementNS","namespace","createtextnode","data","createTextNode","svgnamespace","mathnamespace","domaddlisten","getdomchildren","from","childNodes","getAttribute","HTMLElementprototype","getparentNode","parentNode","isconnected","element","documentElement","node","getancestornode","requestAnimationFrame","directives","ref","html","createhtmlandtextdirective","text","errorname","watch","state","invalid_Function","errormessage","ctxopen","MountedSet","UnMountedSet","StateSet","usestste","add","useMounted","fun","Error","useUnMounted","closectx","clearall","statekey","invalid_ReactiveState","rewatch","toArray","flat","eventlistenerssymbol","onevent","callarray","firstaddlisteners","invalid_custom_element_class","elementset","for","elementmap","RandomDefineCustomElement","initclass","extendsname","RandomDefineCustomElement$1","length","isclassextendsHTMLElement","表","组件状态名","entries","find","elementname","fill","map","i","n","fromCharCode","Math","floor","random","join","getrandomstringandnumber","define","extends","mount","clear","Infinity","constructor","options","iterator","String$1","Reflect$2","get$1","set$1","valuestring","isobject$1","isstring$1","isSet$1","createeleattragentreadwrite","Element","asserthtmlelement","isinputtextortextareaflag","tagname","geteletagname","isinputtextortextarea","isinputcheckbox","temp","create","outputattrs","keys","getAttributeNames","attributesownkeys","filter","target","key","getattribute","parse","error","t","setattribute","o","k","removeAttribute","removeAttribute$1","hasAttribute","otherdescipter","enumerable","myvalue","setPrototypeOf","tagName","setAttribute","merge_entries","m","Virtualdom","type","props","children","bindattr","字母大小写","propsentries","propsentriesNOTevents","startsWith","字母开头的entries","test","assign","fromEntries","slice","bindstatesymbol","reactivestatesymbol","virtualdomsymbol","throwinvalideletype","render","vdom","reactive","textnode","nodeValue","changetext","createDocumentFragment","createElement","createnativeelement","propsjson","createcostumelemet","attribute1","primitivestate","callbacks","values","handleprops","attributeChangedCallback","AttrChange","qualifiedName","oldValue","setimmediate","Promise","resolve","then","readonlyproxy","isArray$1","Reflect$3","ownKeys$1","deleteProperty$1","apply","construct$1","get$2","getOwnPropertyDescriptor$1","getPrototypeOf$1","has$1","set$2","isobject$2","isfunction$1","observedeepagent","deepobserveaddpath","patharray","ancestor","fakeobj","p","argumentslist","thisarg","argarray","descripter","createstate","createstate$1","getproperyreadproxy","_target","returnvalue","dele","r","u","s","h","f","Map","htm","arguments","typenormalized","propsnormalized","childrennormalized","invalid_Virtualdom","createApp","el","body","head","elesarray","isvalidvdom","Node","array","includes","inargs","flag","assertvalidvirtualdom","args","parsecsstext","styleelement","implementation","createHTMLDocument","firstElementChild","sheet","cssRules","prefixcssrules","cssRulesarray","prefix","cssrule","isCSSStyleRule","cssstylerule","selectorarray","selectorText","split","prefixselector","selectoraddprefix","isCSSMediaRule","isCSSImportRule","savestyleblob","href","Boolean","componentsstylesheet","csstext","urltext","source","URL","createObjectURL","Blob","registercssprefix","c","cssText","transformcsstext","waitloadallstyle","_this","all","styleurl","stylelinkelement","rs","loaderrorfun","onload","onerror","loadlinkstyle","url","rel","createlinkstylesheet","innerstatesymbol","attributessymbol","elementsymbol","vdomsymbol","mountedsymbol","unmountedsymbol","createComponent","custfun","_c","_d","defaultProps","css","super","attrs","thisattributess","readonlyprop","possiblyvirtualdom","thisvdomsymbol","onmounted","onunmounted","readdlisteners","domremovelisten","removelisteners","unwatch","truevdomsymbol","falsevdomsymbol","trueelesymbol","falseelesymbol","handletrue","handlefalse","conditon","iftrue","iffalse","true","false","Condition","optionstrue","optionsfalse","elementtomount","defineProperty$1","computed","state1array","state1","reactivestate","getter","st","memorized","newvalue","Arraycomputed","__proto__","myvalueobj","createRef","extenddirectives","eventsarray","checked","Fragment"],"mappings":"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"}