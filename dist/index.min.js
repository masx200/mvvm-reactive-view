var t,e,n,r=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r};function i(t){return"object"==typeof t&&null!==t}function o(t){return"string"==typeof t}function s(t){return"function"==typeof t}function u(t){return Symbol(t)}function a(t){return o(t)||function(t){return"number"==typeof t}(t)||function(t){return"boolean"==typeof t}(t)||function(t){return void 0===t}(t)}"function"!=typeof Object.fromEntries&&(Object.fromEntries=r),"function"!=typeof Array.prototype.flat&&(Array.prototype.flat=function(t=1){return t<=1?this.reduce((t,e)=>t.concat(e),[]):function t(e){return e.reduce((e,n)=>Array.isArray(n)?e.concat(t(n)):e.concat(n),[])}(this)});const c=Symbol("textnode"),f=Symbol("eventtatget"),l=Symbol("memlisteners"),p=u("dispatch"),y=u("subscribe"),v=u("removeallisteners"),h=u("addallisteners");class g{constructor(r){if(this[t]=void 0,this[e]=new EventTarget,this[n]=[],!a(r)&&!i(r))throw TypeError("invalid State");this.value=r,Object.defineProperty(this,Symbol.toStringTag,{value:"ReactiveState",configurable:!0})}[h](){this[l].forEach(([t,e])=>{this[f].addEventListener(t,e)})}valueOf(){return this.value}toString(){let t=this.value;return a(t)?String(t):i(t)?JSON.stringify(t):""}[(t=c,e=f,n=l,p)](t){let e=t?String(t):"value";"value"!==e&&this[f].dispatchEvent(new Event(e)),this[f].dispatchEvent(new Event("value"))}[y](t,e){let n=e?String(e):"value";this[l].push([n,()=>t(this)])}[v](){this[l].forEach(([t,e])=>{this[f].removeEventListener(t,e)})}[Symbol.toPrimitive](){let t=this.value;return a(t)?t:i(t)?JSON.stringify(t):void 0}}class d{constructor(t="",e={},n=[]){this.element=void 0,this.props={},this.children=[],this.directives={},this.onevent={},this.bindattr={};const r=Object.entries(e);Object.assign(this,{type:t,bindattr:Object.fromEntries(r.filter(([t])=>/[A-Za-z]/.test(t[0])).filter(t=>t[1]instanceof g)),props:Object.fromEntries(r.filter(([t])=>/[A-Za-z]/.test(t[0])).filter(t=>!(t[1]instanceof g))),children:n,onevent:Object.fromEntries(r.filter(([t])=>/\@/.test(t[0])).map(([t,e])=>[t.slice(1),e])),directives:Object.fromEntries(r.filter(([t])=>/\*/.test(t[0])).map(([t,e])=>[t.slice(1),e]))}),Object.defineProperty(this,Symbol.toStringTag,{value:"virtualdom",configurable:!0})}}var m=function(t,e,n,r){for(var i=1;i<e.length;i++){var o=e[i],s="number"==typeof o?n[o]:o,u=e[++i];1===u?r[0]=s:3===u?r[1]=Object.assign(r[1]||{},s):5===u?(r[1]=r[1]||{})[e[++i]]=s:6===u?r[1][e[++i]]+=s+"":r.push(u?t.apply(null,m(t,s,n,["",null])):s)}return r},b=function(t){for(var e,n,r=1,i="",o="",s=[0],u=function(t){1===r&&(t||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(t||i,0):3===r&&(t||i)?(s.push(t||i,1),r=2):2===r&&"..."===i&&t?s.push(t,3):2===r&&i&&!t?s.push(!0,5,i):r>=5&&((i||!t&&5===r)&&(s.push(i,r,n),r=6),t&&(s.push(t,r,n),r=6)),i=""},a=0;a<t.length;a++){a&&(1===r&&u(),u(a));for(var c=0;c<t[a].length;c++)e=t[a][c],1===r?"<"===e?(u(),s=[s],r=3):i+=e:4===r?"--"===i&&">"===e?(r=1,i=""):i=e+i[0]:o?e===o?o="":i+=e:'"'===e||"'"===e?o=e:">"===e?(u(),r=1):r&&("="===e?(r=5,n=i,i=""):"/"===e&&(r<5||">"===t[a][c+1])?(u(),3===r&&(s=s[0]),r=s,(s=s[0]).push(r,2),r=0):" "===e||"\t"===e||"\n"===e||"\r"===e?(u(),r=2):i+=e),3===r&&"!--"===i&&(r=4,s=s[0])}return u(),s},w="function"==typeof Map,E=w?new Map:{},S=w?function(t){var e=E.get(t);return e||E.set(t,e=b(t)),e}:function(t){for(var e="",n=0;n<t.length;n++)e+=t[n].length+"-"+t[n];return E[e]||(E[e]=b(t))};function O(t="",e={},...n){var r=o(t)||s(t)?t:"",u=i(e)?e:{},a=n.flat(1);return"string"==typeof r&&""===r?a:new d(r,u,a)}const T=function(t){var e=m(this,S(t),arguments,[]);return e.length>1?e:e[0]}.bind(O);function A(t){let e=!1;if(Array.isArray(t))e=!t.map(t=>A(t)).includes(!1);else if(t instanceof d){if(A(t.children))return!0}else{if(t instanceof g)return!0;if(o(t))return!0}return e}function P(...t){var e=T(...t);if(A(e))return e;throw new TypeError("invalid Virtualdom!")}function j(t,e,n){if(!(t instanceof g&&s(e)))throw TypeError("invalid state or callback");n?t[y](e,n):t[y](e),requestAnimationFrame(()=>{t[h]()})}const x=Symbol("eventlisteners");function L(t,e,n){if("function"==typeof n)M(t,e,[n]);else{if(!((r=n)instanceof Array&&Array.isArray(r)))throw TypeError("invalid EventListener");M(t,e,n)}var r}function M(t,e,n){n.forEach(n=>{t[x].push([e,n]),function(t,e,n){t.addEventListener(e,n)}(t,e,n)})}var N={ref(t,e,n){if("object"!=typeof e)throw TypeError("invalid ref");e.value=t},html(t,e,n){if("string"==typeof e)requestAnimationFrame(()=>{t.innerHTML=e});else{if(!(e instanceof g))throw TypeError("invalid html");j(e,e=>{t.innerHTML=String(e)}),requestAnimationFrame(()=>{t.innerHTML=String(e)})}},text(t,e,n){if("string"==typeof e)requestAnimationFrame(()=>{t.textContent=e});else{if(!(e instanceof g))throw TypeError("invalid text");j(e,e=>{t.textContent=String(e)}),requestAnimationFrame(()=>{t.textContent=String(e)})}}},H=window.Reflect;const D=new class extends Array{push(...t){return t.forEach(t=>{(s(t)||i(t))&&(this.includes(t)||super.push(t))}),this.length}};function K(t,e){if(function(t){return!!(s(t)&&t.prototype&&t.prototype instanceof HTMLElement)}(t)){D.push(t);const n=function(t){return"c-"+D.indexOf(t)}(t);return customElements.get(n)===t||customElements.define(n,t),H.construct(t,[e])}throw TypeError("invalid custom element class !")}function F(t){return document.createTextNode(t)}const q="http://www.w3.org/2000/svg";function R(t,e){let n;e.innerHTML="",(n=t instanceof Array?t:[t]).forEach(t=>(function(t,e){t.appendChild(e)})(e,t))}const C=window.Reflect,J="value";function V(t){return"object"==typeof t&&null!==t}function k(t){return"string"==typeof t}const z=Symbol("reactivestate"),Z=Symbol("virtualdom");function G(){throw TypeError("invalid element type!")}function I(t,e){if("string"==typeof t)return F(t);if(t instanceof g){const e=t,n=F(String(e));return n[z]=e,e[c]=n,j(e,t=>{!function(t,e){t.nodeValue=String(e)}(n,String(t))}),n}if(t instanceof d&&"type"in t){const{type:r}=t;let i;if("string"==typeof r){if("script"===r)return document.createDocumentFragment();i="svg"===r?document.createElementNS(q,"svg"):e?function(t,e){return document.createElementNS(t,e)}(e,r):function(t){return document.createElement(t)}(r)}else"function"==typeof r?i=K(r,t.children):G();var n=function(t){!function(t){if(t instanceof HTMLElement||t instanceof SVGElement||t instanceof Element)return!0;throw TypeError("invalid HTMLElement!")}(t);const e="INPUT"===t.tagName&&"text"===C.get(t,"type")||"TEXTAREA"===t.tagName;var n=Object.create(null);return new Proxy(n,{ownKeys(){const n=C.ownKeys(t.attributes).filter(t=>!/\d/.test(String(t)[0]));return e?Array.from(new Set([...n,J])):n},get(n,r){if(e&&r===J)return C.get(t,J);var i=t.getAttribute(String(r));if(i&&k(i))try{return JSON.parse(String(i))}catch(t){return i}},set(n,r,i){return e&&r===J?C.set(t,J,i):"style"===r?(t.setAttribute(String(r),k(i)?i:V(i)?(o=i,Object.entries(o).map(([t,e])=>t+":"+e).join(";")):String(i)),!0):(t.setAttribute(String(r),V(i)?JSON.stringify(i):String(i)),!0);var o},deleteProperty:(e,n)=>(t.removeAttribute(String(n)),!0),has:(n,r)=>!(!e||r!==J)||t.hasAttribute(String(r)),defineProperty:()=>!1,getOwnPropertyDescriptor(n,r){const i={enumerable:!0,configurable:!0,writable:!0};if(e&&r===J)return{value:C.get(t,J),...i};var o=t.getAttribute(String(r));return o?{value:o,...i}:void 0}})}(i);return Object.assign(n,t.props),i[Z]=t,t.element=i,Object.entries(t.bindattr).forEach(([t,e])=>{n[t]=e.value,j(e,e=>{n[t]=e.value})}),Object.entries(t.directives).forEach(([e,n])=>{if(!(e in N&&"function"==typeof N[e]))throw new Error("invalid directives "+e);N[e](i,n,t)}),i[x]||(i[x]=[]),Object.entries(t.onevent).forEach(([t,e])=>{L(i,t,e)}),"function"!=typeof r&&R(t.children.map(t=>"svg"===r?I(t,q):e?I(t,e):I(t)),i),i}G()}function U(t,e){const n=e;if(!A(t))throw TypeError("invalid Virtualdom ");if(!(n instanceof HTMLElement))throw TypeError("invalid container HTMLElement!");if(n===document.body||n===document.documentElement||n===document.head)throw Error("Do not mount  to <html> or <body> <head>.");let r;return R((r=t instanceof Array?t:[t]).map(t=>I(t)),e),e}function X(t){return{value:t}}const $=window.Reflect;function B(t){return"object"==typeof t&&null!==t}function Q(t){return"function"==typeof t}function W(t){if(a(t))return new Proxy(new g(t),{set:(t,e,n)=>e===c?H.set(t,e,n):!("value"!==e||!a(n))&&(H.set(t,e,n),t[p](),!0)});if(t instanceof g)return W(t.value);if(i(t))return new Proxy(new g(t),{getOwnPropertyDescriptor(t,e){const n=H.get(t,"value");var r=H.getOwnPropertyDescriptor(t,e)||H.getOwnPropertyDescriptor(n,e);return r.configurable=!0,r},deleteProperty(t,e){const n=H.get(t,"value");return!H.has(n,e)||(H.deleteProperty(n,e),t[p](e),!0)},has(t,e){const n=H.get(t,"value");return H.has(t,e)||H.has(n,e)},get(t,e){const n=H.get(t,"value");return H.has(t,e)?H.get(t,e):H.has(n,e)?function(t,e){if("function"!=typeof e)throw Error("observe callback is not valid function !");return"function"!=typeof Proxy?(setTimeout(()=>{throw Error("\u4e0d\u652f\u6301Proxy!")},0),t):Q(t)||B(t)?function t(e,n,r=[],i=e){if("function"!=typeof n)throw Error("observe callback is not valid function !");if(Q(e)||B(e)){let o;return o=B(e)?{}:()=>{},$.setPrototypeOf(o,null),(o=>new Proxy(o,{defineProperty:(t,n,r)=>$.defineProperty(e,n,r),deleteProperty:(t,o)=>(n(i,[...r,o],void 0,$.get(e,o)),$.deleteProperty(e,o)),ownKeys:()=>$.ownKeys(e),has:(t,n)=>$.has(e,n),getPrototypeOf:()=>$.getPrototypeOf(e),setPrototypeOf:(t,n)=>$.setPrototypeOf(e,n),construct(t,n){if("function"==typeof e)return $.construct(e,n)},apply(t,n,r){if("function"==typeof e)return $.apply(e,n,r)},getOwnPropertyDescriptor(t,n){var r=$.getOwnPropertyDescriptor(e,n);return r?(r.configurable=!0,r):void 0},set:(t,o,s)=>("function"==typeof n&&n(i,[...r,o],s,$.get(e,o)),$.set(e,o,s)),get(i,o){var s=$.get(e,o);return Q(s)||B(s)?t(s,n,[...r,o],e):s}}))(o)}return e}(t,e,[],t):t}(H.get(n,e),()=>{t[p](e)}):void 0},ownKeys:t=>Array.from(new Set([...H.ownKeys(t),...H.ownKeys(H.get(t,"value"))])),set(t,e,n){if(e===c)return H.set(t,e,n);const r=H.get(t,"value");if("value"===e&&i(n))return H.set(t,e,n),t[p](),!0;if(H.has(t,e)){if("length"!==e)return!1;H.set(r,e,n),t[p](e)}else H.set(r,e,n),t[p](e);return!0}});throw TypeError("invalid State")}export{U as createApp,O as createElemet,X as createRef,W as createState,O as h,P as html,j as watch};
//# sourceMappingURL=index.min.js.map
