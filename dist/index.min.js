const t=window.Reflect,{construct:e,deleteProperty:r,get:n,getOwnPropertyDescriptor:o,getPrototypeOf:i,has:s,ownKeys:c,set:a}=t;function u(t){return void 0===t}function f(t){return"object"==typeof t&&null!==t}function l(t){return"string"==typeof t}function h(t){return"function"==typeof t}function p(t){return t instanceof Array&&Array.isArray(t)&&"array"===y(t)}function d(t){return Symbol(t)}function y(t){return{}.toString.call(t).replace("[object ","").replace("]","").toLowerCase()}function v(t){return"set"===y(t)&&t instanceof Set}const m="invalid Function",b="invalid useMounted or useUnMounted out of createComponent";let w=!1,g=[],E=[];function S(t){if(!h(t))throw TypeError(m);if(!w)throw Error(b);g.push(t)}function O(t){if(!h(t))throw TypeError(m);if(!w)throw Error(b);E.push(t)}function P(){g=[]}function j(){E=[]}function T(){w=!1,P(),j()}const A=window.document;function C(t,e){t.textContent=e}function N(t,e){t.innerHTML=e}function x(t,e){return A.createElementNS(t,e)}function M(t){return A.createTextNode(t)}const L="http://www.w3.org/2000/svg";const J="http://www.w3.org/1998/Math/MathML";function k(t,e,r){t.addEventListener(e,r)}function R(t){return Array.from(t.childNodes)}function H(t,e){return B.getAttribute.call(t,e)}const B=HTMLElement.prototype;function D(t){return l(t)||function(t){return"number"==typeof t}(t)||function(t){return"boolean"==typeof t}(t)||u(t)}var K,F,z;function V(t){return t instanceof W}const Z=Symbol("textnode"),q=Symbol("eventtatget"),U=Symbol("memlisteners"),$=d("dispatch"),G=d("subscribe"),I=d("removeallisteners"),Q=d("addallisteners");class W{constructor(t){if(this[K]=void 0,this[F]=new EventTarget,this[z]=[],!D(t)&&!f(t))throw TypeError("invalid State");Object.defineProperty(this,"value",{value:t,configurable:!0,writable:!0}),Object.defineProperty(this,Symbol.toStringTag,{value:"ReactiveState",configurable:!0})}[Q](){this[U].forEach(([t,e])=>{this[q].addEventListener(t,e)})}valueOf(){return this.value}toString(){const t=this.value;return D(t)?String(t):v(t)?JSON.stringify([...t]):f(t)?JSON.stringify(t):""}[(K=Z,F=q,z=U,$)](t){const e=t?String(t):"value";"value"!==e&&this[q].dispatchEvent(new CustomEvent(e,{detail:e})),this[q].dispatchEvent(new CustomEvent("value",{detail:e}))}[G](t,e){const r=e?String(e):"value";this[U].push([r,e=>t(this,e.detail)])}[I](){this[U].forEach(([t,e])=>{this[q].removeEventListener(t,e)})}[Symbol.toPrimitive](){const t=this.value;return D(t)?t:f(t)?JSON.stringify(t):void 0}}const X=window.requestAnimationFrame;var Y={ref(t,e){if("object"!=typeof e)throw TypeError("invalid ref");e.value=t},html(t,e){_(N,"html")(t,e)},text(t,e){_(C,"text")(t,e)}};function _(t,e){return function(r,n){if("string"==typeof n)X(()=>{t(r,n)});else{if(!V(n))throw TypeError("invalid "+e);Bt(n,e=>{t(r,String(e))}),X(()=>{t(r,String(n))})}}}const tt=window.Reflect,{get:et,set:rt}=tt,nt="value";function ot(t){return"object"==typeof t&&null!==t}function it(t){return"string"==typeof t}function st(t){return t instanceof Set}function ct(t){!function(t){if(t instanceof Element)return!0;throw TypeError("invalid HTMLElement!")}(t);const e=function(t){const e=function(t){return t.tagName.toLowerCase()}(t);return"input"===e&&"text"===et(t,"type")||"textarea"===e}(t);var r=Object.create(null);const n=new Proxy(r,{ownKeys(){const r=function(t){return t.getAttributeNames()}(t);return e?Array.from(new Set([...r,nt])):r},get(r,n){if(e&&n===nt)return et(t,nt);{const e=function(t,e){return t.getAttribute(e)}(t,String(n));if(""===e)return!0;if(null===e)return;if(!it(e))return;try{return JSON.parse(String(e))}catch(t){return e}}},set(r,n,o){if(e&&n===nt)return rt(t,nt,o);if("style"===n)return at(t,String(n),it(o)?o:ot(o)?(s=o,Object.entries(s).map(([t,e])=>t+":"+e).join(";")):String(o)),!0;if("class"===n&&ot(o))i=o,Array.isArray(i)?at(t,String(n),o.join(" ")):st(o)?at(t,String(n),[...o].join(" ")):at(t,String(n),JSON.stringify(o));else{if(!st(o))return!0===o&&(o=""),at(t,String(n),ot(o)?JSON.stringify(o):String(o)),!0;at(t,String(n),JSON.stringify([...o]))}var i,s;return!0},deleteProperty:(e,r)=>(function(t,e){t.removeAttribute(e)}(t,String(r)),!0),has:(r,n)=>!(!e||n!==nt)||function(t,e){return t.hasAttribute(e)}(t,String(n)),defineProperty:()=>!1,getOwnPropertyDescriptor(t,e){const r={enumerable:!0,configurable:!0,writable:!0},o=et(n,e);return void 0!==o?{value:o,...r}:void 0}});return n}function at(t,e,r){return t.setAttribute(e,r)}const ut="attributeChangedCallback";class ft extends HTMLElement{setAttribute(t,e){const r=H(this,t);r!==e&&(!function(t,e,r){B.setAttribute.call(t,e,r)}(this,t,e),h(this[ut])&&this[ut](t,r,e))}removeAttribute(t){const e=H(this,t);var r,n;null!==e&&(r=this,n=t,B.removeAttribute.call(r,n),h(this[ut])&&this[ut](t,e,void 0))}}class lt{constructor(t="",e={},r=[]){this.options=void 0,this.element=void 0,this.props={},this.children=[],this.directives={},this.onevent={},this.bindattr={};const n=Object.entries(e);Object.assign(this,{type:t,bindattr:Object.fromEntries(n.filter(([t])=>/[A-Za-z]/.test(t[0])).filter(t=>V(t[1]))),props:Object.fromEntries(n.filter(([t])=>/[A-Za-z]/.test(t[0])).filter(t=>!V(t[1]))),children:r,onevent:Object.fromEntries(n.filter(([t])=>/\@/.test(t[0])).map(([t,e])=>[t.slice(1),e])),directives:Object.fromEntries(n.filter(([t])=>/\*/.test(t[0])).map(([t,e])=>[t.slice(1),e]))}),Object.defineProperty(this,Symbol.toStringTag,{value:"virtualdom",configurable:!0})}}const ht=Symbol("eventlisteners");function pt(t,e,r){r.forEach(r=>{t[ht].push([e,r]),k(t,e,r)})}function dt(t){p(t)?t.forEach(t=>{dt(t)}):t instanceof Node&&(t[ht]&&function(t){t[ht]&&t[ht].forEach(([e,r])=>{k(t,e,r)})}(t),t[$t]&&t[$t].forEach(t=>{!function(t){t[Q]()}(t)}),dt(R(t)))}function yt(t){p(t)?t.forEach(t=>{yt(t)}):t instanceof Node&&(t[ht]&&function(t){t[ht]&&t[ht].forEach(([e,r])=>{!function(t,e,r){t.removeEventListener(e,r)}(t,e,r)})}(t),t[$t]&&t[$t].forEach(t=>{!function(t){t[I]()}(t)}),yt(R(t)))}var vt=function(t,e,r,n){for(var o=1;o<e.length;o++){var i=e[o],s="number"==typeof i?r[i]:i,c=e[++o];1===c?n[0]=s:3===c?n[1]=Object.assign(n[1]||{},s):5===c?(n[1]=n[1]||{})[e[++o]]=s:6===c?n[1][e[++o]]+=s+"":n.push(c?t.apply(null,vt(t,s,r,["",null])):s)}return n},mt=function(t){for(var e,r,n=1,o="",i="",s=[0],c=function(t){1===n&&(t||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(t||o,0):3===n&&(t||o)?(s.push(t||o,1),n=2):2===n&&"..."===o&&t?s.push(t,3):2===n&&o&&!t?s.push(!0,5,o):n>=5&&((o||!t&&5===n)&&(s.push(o,n,r),n=6),t&&(s.push(t,n,r),n=6)),o=""},a=0;a<t.length;a++){a&&(1===n&&c(),c(a));for(var u=0;u<t[a].length;u++)e=t[a][u],1===n?"<"===e?(c(),s=[s],n=3):o+=e:4===n?"--"===o&&">"===e?(n=1,o=""):o=e+o[0]:i?e===i?i="":o+=e:'"'===e||"'"===e?i=e:">"===e?(c(),n=1):n&&("="===e?(n=5,r=o,o=""):"/"===e&&(n<5||">"===t[a][u+1])?(c(),3===n&&(s=s[0]),n=s,(s=s[0]).push(n,2),n=0):" "===e||"\t"===e||"\n"===e||"\r"===e?(c(),n=2):o+=e),3===n&&"!--"===o&&(n=4,s=s[0])}return c(),s},bt="function"==typeof Map,wt=bt?new Map:{},gt=bt?function(t){var e=wt.get(t);return e||wt.set(t,e=mt(t)),e}:function(t){for(var e="",r=0;r<t.length;r++)e+=t[r].length+"-"+t[r];return wt[e]||(wt[e]=mt(t))};function Et(t="",e={},...r){let n=l(t)||h(t)?t:"";const o=f(e)?e:{},i=r.flat(1/0);return l(n)&&(n=n.trim().toLowerCase()),""===n?i:new lt(n,o,i)}const St=function(t){var e=vt(this,gt(t),arguments,[]);return e.length>1?e:e[0]}.bind(Et);function Ot(t){let e=!1;if(p(t))return e=!t.map(t=>Ot(t)).includes(!1);if(t instanceof lt){if(Ot(t.children))return!0}else{if(V(t))return!0;if(l(t))return!0}return e}function Pt(...t){const e=St(...t);if(Ot(e))return e;throw new TypeError(Tt)}function jt(t,e){let r;return N(e,""),(r=Array.isArray(t)?t:[t]).forEach(t=>(function(t,e){t.appendChild(e)})(e,t)),e}const Tt="invalid Virtualdom ";function At(t,e){p(t)&&(t=t.flat(1/0));const r=e;if(!(Ot(t)||t instanceof Node||p(t)&&(n=t,p(n)&&!n.map(t=>t instanceof Node).includes(!1))))throw TypeError(Tt);var n;if(!(r instanceof HTMLElement))throw TypeError("invalid container HTMLElement!");if(r===A.body||r===A.documentElement||r===A.head)throw Error("Do not mount  to <html> or <body> <head>.");let o;return o=Array.isArray(t)?t:[t],Ot(t)?jt(o.map(t=>Wt(t)),e):(t instanceof Node||p(t))&&jt(o,e),e}const Ct="invalid ReactiveState",Nt=Symbol("truevdom"),xt=Symbol("falsevdom"),Mt=Symbol("trueele"),Lt=Symbol("falseele"),Jt=d("handletrue"),kt=d("handlefalse");class Rt extends ft{constructor(t,e,r={}){super();const o=n(r,"true"),i=n(r,"false");this[Nt]=p(o)?o.filter(Boolean):[o].filter(Boolean),this[xt]=p(i)?i.filter(Boolean):[i].filter(Boolean)}[kt](){if(N(this,""),this[xt]){this[Lt]||(this[Lt]=Wt(this[xt]));const t=this[Lt];At(t,this),t.forEach(t=>dt(t)),this[Mt]&&this[Mt].forEach(t=>yt(t))}}[Jt](){if(N(this,""),this[Nt]){this[Mt]||(this[Mt]=Wt(this[Nt]));const t=this[Mt];At(t,this),t.forEach(t=>dt(t)),this[Lt]&&this[Lt].forEach(t=>yt(t))}}connectedCallback(){const t=ct(this);!0===t.value&&this[Jt](),!1===t.value&&this[kt]()}disconnectedCallback(){yt(this)}attributeChangedCallback(t){if("value"===t){const t=ct(this);!0===t.value&&this[Jt](),!1===t.value&&this[kt]()}}}function Ht(t,e,r){if(!V(t))throw TypeError(Ct);[e,r].forEach(t=>{if(!u(t)&&!Ot(t))throw new TypeError(Tt)});const n=new lt(Rt,{value:t});return n.options={true:e,false:r},n}function Bt(t,e,r){if(!V(t)||!h(e))throw TypeError(Ct+m);r?t[G](e,r):t[G](e),X(()=>{t[Q]()})}const Dt="invalid custom element class !";if(!f(window.customElements))throw new TypeError(" customElements  not supported !");window.CustomElementRegistry=n(i(window.customElements),"constructor");const{customElements:Kt,CustomElementRegistry:Ft}=window,zt=Symbol.for("elementset"),Vt=Symbol.for("elementmap");var Zt=(t,e)=>qt(t,e);function qt(t,e,r=1){if(!Ut(t))throw TypeError(Dt);if(Kt[zt].has(t))return o=Kt[Vt],i=t,Object.entries(o).find(t=>t[1]===i)[0];{const o=function(t=4){return Array(t).fill(void 0).map(()=>n(Array(26).fill(void 0).map((t,e)=>97+e).map(t=>String.fromCharCode(t)),Math.floor(26*Math.random()))).join("")+"-"+Array(t).fill(void 0).map(()=>n(Array(16).fill(void 0).map((t,e)=>e),Math.floor(16*Math.random())).toString(16)).join("")}(r);return Kt.get(o)?qt(t,e,r+1):(e?Kt.define(o,t,{extends:e}):Kt.define(o,t),o)}var o,i}function Ut(t){return!!(h(t)&&t.prototype&&t.prototype instanceof HTMLElement)}Kt[zt]||(Kt[zt]=new Set),Kt[Vt]||(Kt[Vt]={}),Kt.define=function(t,e,r){if(!Ut(e))throw TypeError(Dt);Kt[zt].has(e)||(s(Kt[Vt],t)?qt(e,r?r.extends:void 0):(Ft.prototype.define.call(Kt,t,e,r),Kt[zt].add(e),Kt[Vt][t]=e))},Kt[Symbol.iterator]=()=>{const t=Object.entries(Kt[Vt]);return t[Symbol.iterator].call(t)};const $t=Symbol("bindstate"),Gt=Symbol("reactive"),It=Symbol("virtualdom");function Qt(t){throw TypeError("invalid element type!")}function Wt(t,r){if("string"==typeof t)return M(t);if(t instanceof W){const e=t,r=M(String(e));r[Gt]=e,e[Z]=r,Bt(e,t=>{!function(t,e){t.nodeValue=String(e)}(r,String(t))});const n=r;return n[$t]=new Set,n[$t].add(e),r}if(t instanceof lt&&"type"in t){const{type:n}=t;let o;if("string"==typeof n){if("script"===n)return A.createDocumentFragment();if("svg"===n)o=x(L,"svg");else if("math"===n)o=x(J,"math");else{if(""===n)return Wt(t.children);o=r?x(r,n):function(t){return A.createElement(t)}(n)}}else if("function"==typeof n){f(n.defaultProps)&&(t.props=JSON.parse(JSON.stringify({...n.defaultProps,...t.props})));const r=JSON.parse(JSON.stringify({...t.props,...Object.fromEntries(Object.entries(t.bindattr).map(([t,e])=>[t,e.value]))}));o=function(t,r,n,o){if(Ut(t))return Zt(t),e(t,[r,n,o]);throw TypeError(Dt)}(n,r,t.children,t.options)}else Qt();return function(t,e){((t,e)=>{Object.entries(e.directives).forEach(([r,n])=>{if(!(r in Y&&"function"==typeof Y[r]))throw new Error("invalid directives "+r);Y[r](t,n,e)});const r=ct(t);Object.assign(r,e.props),t[It]=e,e.element=t,Object.entries(e.bindattr).forEach(([t,e])=>{r[t]=e.value,Bt(e,e=>{r[t]=e.value})}),t[ht]||(t[ht]=[]),Object.entries(e.onevent).forEach(([e,r])=>{!function(t,e,r){if(t[ht]||(t[ht]=[]),h(r))pt(t,e,[r]);else{if(!p(r))throw TypeError(m);pt(t,e,r)}}(t,e,r)})})(t,e),t[$t]||(t[$t]=new Set);[Object.values(e.bindattr),Object.values(e.directives)].flat().filter(t=>V(t)).forEach(e=>t[$t].add(e))}(o,t),"function"!=typeof n&&jt(t.children.map(t=>"svg"===n?Wt(t,L):"math"===n?Wt(t,J):r?Wt(t,r):Wt(t)),o),o}if(p(t))return t.map(t=>Wt(t));Qt()}function Xt(t){return new Proxy(t,{set:()=>!1,defineProperty:()=>!1,deleteProperty:()=>!1})}const Yt=window.Reflect,{ownKeys:_t,deleteProperty:te,apply:ee,construct:re,defineProperty:ne,get:oe,getOwnPropertyDescriptor:ie,getPrototypeOf:se,has:ce,set:ae,setPrototypeOf:ue}=Yt;function fe(t){return"object"==typeof t&&null!==t}function le(t){return"function"==typeof t}function he(t,e){if("function"!=typeof e)throw Error("observe callback  invalid function ");if("function"!=typeof Proxy)throw Error("Proxy unsupported!");return le(t)||fe(t)?function t(e,r,n=[],o=e){if("function"!=typeof r)throw Error("observe callback invalid !");if(le(e)||fe(e)){let i;return i=fe(e)?{}:()=>{},ue(i,null),(i=>new Proxy(i,{defineProperty:(t,r,n)=>ne(e,r,n),deleteProperty:(t,i)=>(r(o,[...n,i],void 0,oe(e,i)),te(e,i)),ownKeys:()=>_t(e),has:(t,r)=>ce(e,r),getPrototypeOf:()=>se(e),setPrototypeOf:(t,r)=>ue(e,r),construct(t,r){if("function"==typeof e)return re(e,r)},apply(t,r,n){if("function"==typeof e)return ee(e,r,n)},getOwnPropertyDescriptor(t,r){var n=ie(e,r);return n?(n.configurable=!0,n):void 0},set:(t,i,s)=>("function"==typeof r&&r(o,[...n,i],s,oe(e,i)),ae(e,i,s)),get(o,i){var s=oe(e,i);return le(s)||fe(s)?t(s,r,[...n,i],e):s}}))(i)}return e}(t,e,[],t):t}function pe(t){if(D(t))return new Proxy(new W(t),{defineProperty:()=>!1,deleteProperty:()=>!1,set:(t,e,r)=>e===Z?a(t,e,r):!("value"!==e||!D(r))&&(a(t,e,r),t[$](),!0)});if(V(t))return pe(t.value);if(f(t))return new Proxy(new W(t),{defineProperty:()=>!1,getOwnPropertyDescriptor(t,e){const r=n(t,"value"),i=o(t,e)||o(r,e);return i&&(i.configurable=!0),i},deleteProperty(t,e){const o=n(t,"value");return!s(o,e)||(r(o,e),t[$](e),!0)},has(t,e){const r=n(t,"value");return s(t,e)||s(r,e)},get(t,e){const r=n(t,"value");if(s(t,e))return n(t,e);if(s(r,e)){if(!v(r)||"add"!==e&&"delete"!==e)return he(n(r,e),()=>{t[$](e)});{const n=r;if("add"===e)return r=>{if(!Set.prototype.has.call(n,r)){const o=Set.prototype[e].call(n,r);return t[$](),o}};if("delete"===e)return r=>{if(Set.prototype.has.call(n,r)){const o=Set.prototype[e].call(n,r);return t[$](),o}}}}},ownKeys:t=>Array.from(new Set([...c(t),...c(n(t,"value"))])),set(t,e,r){if(e===Z)return a(t,e,r);const o=n(t,"value");if("value"===e&&f(r))return a(t,e,r),t[$](),!0;if(s(t,e)){if("length"!==e)return!1;a(o,e,r),t[$](e)}else a(o,e,r),t[$](e);return!0}});throw TypeError("invalid State")}const de=Symbol("attributes"),ye=Symbol("element"),ve=Symbol("componentinnervdom"),me=Symbol("mounted"),be=Symbol("unmounted"),we=Symbol("ready");function ge(t){var e,r,n;if(h(t)){const o=t.defaultProps;return n=class extends ft{constructor(n={},o=[]){super(),this[e]=!1,this[r]={};const i=ct(this);f(this.constructor.defaultProps)&&Object.assign(i,this.constructor.defaultProps),f(n)&&Object.assign(i,n);const s=ct(this),c=Object.fromEntries(Object.entries(s).map(([t,e])=>[t,pe(e)]));let a;this[de]=Xt(c),w=!0,P(),j();try{a=t(Xt(c),o)}catch(t){throw T(),t}if(p(a)&&(a=a.flat(1/0).filter(Boolean)),!Ot(a))throw T(),Error(Tt);this[ve]=p(a)?a:[a],this[ve]=this[ve].flat(1/0).filter(Boolean),this[me]=[...g],this[be]=[...E],T()}connectedCallback(){this[ye]||(this[ye]=Wt(this[ve]).flat(1/0)),this[we]||(At(this[ye],this),this[we]=!0),this[me].forEach(t=>t()),dt(this)}disconnectedCallback(){this[be].forEach(t=>t()),yt(this)}attributeChangedCallback(t){this[de][t]&&(this[de][t].value=ct(this)[t])}},e=we,r=de,n.defaultProps=f(o)?JSON.parse(JSON.stringify(o)):void 0,n}throw TypeError(m)}if(!(h(window.HTMLElement)&&h(window.Proxy)&&f(window.customElements)&&h(window.CustomElementRegistry)))throw new TypeError(" browser not supported !");function Ee(t){Object.entries(t).forEach(([t,e])=>{if("function"!=typeof e)throw TypeError(m);Y[t]=e})}function Se(t){return{value:t}}Ee({value(t,e,r){if(!V(e)||"input"!==r.type&&"textarea"!==r.type)throw TypeError(Ct+Tt);r.bindattr.value=e,["change","input"].forEach(t=>{const n=[r.onevent[t]].flat(1/0);Reflect.set(r.onevent,t,n.concat([t=>e.value=t.target.value]).filter(Boolean))})}});const Oe="";export{Oe as Fragment,Ht as condition,At as createApp,ge as createComponent,Et as createElement,Se as createRef,pe as createState,Ee as directives,Et as h,Pt as html,S as useMounted,O as useUnMounted,Bt as watch};
//# sourceMappingURL=index.min.js.map
