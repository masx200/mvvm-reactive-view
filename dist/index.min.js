const t=window.Reflect,{apply:e,construct:r,defineProperty:n,deleteProperty:o,get:i,getOwnPropertyDescriptor:s,getPrototypeOf:a,has:c,isExtensible:u,ownKeys:f,preventExtensions:l,set:h,setPrototypeOf:p}=t;function d(t){return void 0===t}function y(t){return"object"==typeof t&&null!==t}function v(t){return"string"==typeof t}function m(t){return"function"==typeof t}function b(t){return t instanceof Array&&Array.isArray(t)&&"array"===g(t)}function w(t){return Symbol(t)}function g(t){return{}.toString.call(t).replace("[object ","").replace("]","").toLowerCase()}function E(t){return"set"===g(t)&&t instanceof Set}const S="invalid useMounted or useUnMounted out of createComponent";let O=!1,P=[],j=[];function T(t){if(!m(t))throw TypeError("invalid Function");if(!O)throw Error(S);P.push(t)}function A(t){if(!m(t))throw TypeError("invalid Function");if(!O)throw Error(S);j.push(t)}function x(){P=[]}function C(){j=[]}function N(){O=!1,x(),C()}const M=window.document;function L(t,e){t.textContent=e}function J(t,e){t.innerHTML=e}function k(t,e){return M.createElementNS(t,e)}function R(t){return M.createTextNode(t)}const H="http://www.w3.org/2000/svg";const D="http://www.w3.org/1998/Math/MathML";function B(t,e,r){t.addEventListener(e,r)}function K(t){return Array.from(t.childNodes)}function V(t,e){return F.getAttribute.call(t,e)}const F=HTMLElement.prototype;function z(t){return v(t)||function(t){return"number"==typeof t}(t)||function(t){return"boolean"==typeof t}(t)||d(t)}var Z,q,U;function $(t){return t instanceof tt}const G=Symbol("textnode"),I=Symbol("eventtatget"),Q=Symbol("memlisteners"),W=w("dispatch"),X=w("subscribe"),Y=w("removeallisteners"),_=w("addallisteners");class tt{constructor(t){if(this[Z]=void 0,this[q]=new EventTarget,this[U]=[],!z(t)&&!y(t))throw TypeError("invalid State");Object.defineProperty(this,"value",{value:t,configurable:!0,writable:!0}),Object.defineProperty(this,Symbol.toStringTag,{value:"ReactiveState",configurable:!0})}[_](){this[Q].forEach(([t,e])=>{this[I].addEventListener(t,e)})}valueOf(){return this.value}toString(){const t=this.value;return z(t)?String(t):E(t)?JSON.stringify([...t]):y(t)?JSON.stringify(t):""}[(Z=G,q=I,U=Q,W)](t){const e=t?String(t):"value";"value"!==e&&this[I].dispatchEvent(new CustomEvent(e,{detail:e})),this[I].dispatchEvent(new CustomEvent("value",{detail:e}))}[X](t,e){const r=e?String(e):"value";this[Q].push([r,e=>t(this,e.detail)])}[Y](){this[Q].forEach(([t,e])=>{this[I].removeEventListener(t,e)})}[Symbol.toPrimitive](){const t=this.value;return z(t)?t:y(t)?JSON.stringify(t):void 0}}const et=window.requestAnimationFrame;var rt={ref(t,e){if("object"!=typeof e)throw TypeError("invalid ref");e.value=t},html(t,e){nt(J,"html")(t,e)},text(t,e){nt(L,"text")(t,e)}};function nt(t,e){return function(r,n){if("string"==typeof n)et(()=>{t(r,n)});else{if(!$(n))throw TypeError("invalid "+e);ot(n,e=>{t(r,String(e))}),et(()=>{t(r,String(n))})}}}function ot(t,e,r){if(!$(t)||!m(e))throw TypeError("invalid state or callback");r?t[X](e,r):t[X](e),et(()=>{t[_]()})}const it=Symbol("eventlisteners");function st(t,e,r){r.forEach(r=>{t[it].push([e,r]),B(t,e,r)})}if(!y(window.customElements))throw new TypeError(" customElements  not supported !");window.CustomElementRegistry=i(a(window.customElements),"constructor");const{customElements:at,CustomElementRegistry:ct}=window,ut=Symbol.for("elementset"),ft=Symbol.for("elementmap");var lt=(t,e)=>ht(t,e);function ht(t,e,r=1){if(!pt(t))throw TypeError("invalid custom element class !");if(at[ut].has(t))return n=at[ft],o=t,Object.entries(n).find(t=>t[1]===o)[0];{const n=function(t=4){return Array(t).fill(void 0).map(()=>i(Array(26).fill(void 0).map((t,e)=>97+e).map(t=>String.fromCharCode(t)),Math.floor(26*Math.random()))).join("")+"-"+Array(t).fill(void 0).map(()=>i(Array(16).fill(void 0).map((t,e)=>e),Math.floor(16*Math.random())).toString(16)).join("")}(r);return at.get(n)?ht(t,e,r+1):(e?at.define(n,t,{extends:e}):at.define(n,t),n)}var n,o}function pt(t){return!!(m(t)&&t.prototype&&t.prototype instanceof HTMLElement)}function dt(t,e){let r;return J(e,""),(r=Array.isArray(t)?t:[t]).forEach(t=>(function(t,e){t.appendChild(e)})(e,t)),e}at[ut]||(at[ut]=new Set),at[ft]||(at[ft]={}),at.define=function(t,e,r){if(!pt(e))throw TypeError("invalid custom element class !");at[ut].has(e)||(c(at[ft],t)?ht(e,r?r.extends:void 0):(ct.prototype.define.call(at,t,e,r),at[ut].add(e),at[ft][t]=e))},at[Symbol.iterator]=()=>{const t=Object.entries(at[ft]);return t[Symbol.iterator].call(t)};const yt=window.Reflect,{get:vt,set:mt}=yt,bt="value";function wt(t){return"object"==typeof t&&null!==t}function gt(t){return"string"==typeof t}function Et(t){return t instanceof Set}function St(t){!function(t){if(t instanceof Element)return!0;throw TypeError("invalid HTMLElement!")}(t);const e=function(t){const e=function(t){return t.tagName.toLowerCase()}(t);return"input"===e&&"text"===vt(t,"type")||"textarea"===e}(t);var r=Object.create(null);const n=new Proxy(r,{ownKeys(){const r=function(t){return t.getAttributeNames()}(t);return e?Array.from(new Set([...r,bt])):r},get(r,n){if(e&&n===bt)return vt(t,bt);{const e=function(t,e){return t.getAttribute(e)}(t,String(n));if(""===e)return!0;if(null===e)return;if(!gt(e))return;try{return JSON.parse(String(e))}catch(t){return e}}},set(r,n,o){if(e&&n===bt)return mt(t,bt,o);if("style"===n)return Ot(t,String(n),gt(o)?o:wt(o)?(s=o,Object.entries(s).map(([t,e])=>t+":"+e).join(";")):String(o)),!0;if("class"===n&&wt(o))i=o,Array.isArray(i)?Ot(t,String(n),o.join(" ")):Et(o)?Ot(t,String(n),[...o].join(" ")):Ot(t,String(n),JSON.stringify(o));else{if(!Et(o))return!0===o&&(o=""),Ot(t,String(n),wt(o)?JSON.stringify(o):String(o)),!0;Ot(t,String(n),JSON.stringify([...o]))}var i,s;return!0},deleteProperty:(e,r)=>(function(t,e){t.removeAttribute(e)}(t,String(r)),!0),has:(r,n)=>!(!e||n!==bt)||function(t,e){return t.hasAttribute(e)}(t,String(n)),defineProperty:()=>!1,getOwnPropertyDescriptor(t,e){const r={enumerable:!0,configurable:!0,writable:!0},o=vt(n,e);return void 0!==o?{value:o,...r}:void 0}});return n}function Ot(t,e,r){return t.setAttribute(e,r)}class Pt{constructor(t="",e={},r=[]){this.options=void 0,this.element=void 0,this.props={},this.children=[],this.directives={},this.onevent={},this.bindattr={};const n=Object.entries(e);Object.assign(this,{type:t,bindattr:Object.fromEntries(n.filter(([t])=>/[A-Za-z]/.test(t[0])).filter(t=>$(t[1]))),props:Object.fromEntries(n.filter(([t])=>/[A-Za-z]/.test(t[0])).filter(t=>!$(t[1]))),children:r,onevent:Object.fromEntries(n.filter(([t])=>/\@/.test(t[0])).map(([t,e])=>[t.slice(1),e])),directives:Object.fromEntries(n.filter(([t])=>/\*/.test(t[0])).map(([t,e])=>[t.slice(1),e]))}),Object.defineProperty(this,Symbol.toStringTag,{value:"virtualdom",configurable:!0})}}const jt=Symbol("bindstate"),Tt=Symbol("reactive"),At=Symbol("virtualdom");function xt(t){throw TypeError("invalid element type!")}function Ct(t,e){if("string"==typeof t)return R(t);if(t instanceof tt){const e=t,r=R(String(e));r[Tt]=e,e[G]=r,ot(e,t=>{!function(t,e){t.nodeValue=String(e)}(r,String(t))});const n=r;return n[jt]=new Set,n[jt].add(e),r}if(t instanceof Pt&&"type"in t){const{type:n}=t;let o;if("string"==typeof n){if("script"===n)return M.createDocumentFragment();if("svg"===n)o=k(H,"svg");else if("math"===n)o=k(D,"math");else{if(""===n)return Ct(t.children);o=e?k(e,n):function(t){return M.createElement(t)}(n)}}else if("function"==typeof n){y(n.defaultProps)&&(t.props=JSON.parse(JSON.stringify({...n.defaultProps,...t.props})));const e=JSON.parse(JSON.stringify({...t.props,...Object.fromEntries(Object.entries(t.bindattr).map(([t,e])=>[t,e.value]))}));o=function(t,e,n,o){if(pt(t))return lt(t),r(t,[e,n,o]);throw TypeError("invalid custom element class !")}(n,e,t.children,t.options)}else xt();return function(t,e){((t,e)=>{Object.entries(e.directives).forEach(([r,n])=>{if(!(r in rt&&"function"==typeof rt[r]))throw new Error("invalid directives "+r);rt[r](t,n,e)});const r=St(t);Object.assign(r,e.props),t[At]=e,e.element=t,Object.entries(e.bindattr).forEach(([t,e])=>{r[t]=e.value,ot(e,e=>{r[t]=e.value})}),t[it]||(t[it]=[]),Object.entries(e.onevent).forEach(([e,r])=>{!function(t,e,r){if(t[it]||(t[it]=[]),"function"==typeof r)st(t,e,[r]);else{if(!b(r))throw TypeError("invalid EventListener");st(t,e,r)}}(t,e,r)})})(t,e),t[jt]||(t[jt]=new Set);[Object.values(e.bindattr),Object.values(e.directives)].flat().filter(t=>$(t)).forEach(e=>t[jt].add(e))}(o,t),"function"!=typeof n&&dt(t.children.map(t=>"svg"===n?Ct(t,H):"math"===n?Ct(t,D):e?Ct(t,e):Ct(t)),o),o}if(b(t))return t.map(t=>Ct(t));xt()}function Nt(t){return new Proxy(t,{set:()=>!1,defineProperty:()=>!1,deleteProperty:()=>!1})}const Mt=window.Reflect,{ownKeys:Lt,deleteProperty:Jt,apply:kt,construct:Rt,defineProperty:Ht,get:Dt,getOwnPropertyDescriptor:Bt,getPrototypeOf:Kt,has:Vt,set:Ft,setPrototypeOf:zt}=Mt;function Zt(t){return"object"==typeof t&&null!==t}function qt(t){return"function"==typeof t}function Ut(t,e){if("function"!=typeof e)throw Error("observe callback  invalid function ");if("function"!=typeof Proxy)throw Error("Proxy unsupported!");return qt(t)||Zt(t)?function t(e,r,n=[],o=e){if("function"!=typeof r)throw Error("observe callback invalid !");if(qt(e)||Zt(e)){let i;return i=Zt(e)?{}:()=>{},zt(i,null),(i=>new Proxy(i,{defineProperty:(t,r,n)=>Ht(e,r,n),deleteProperty:(t,i)=>(r(o,[...n,i],void 0,Dt(e,i)),Jt(e,i)),ownKeys:()=>Lt(e),has:(t,r)=>Vt(e,r),getPrototypeOf:()=>Kt(e),setPrototypeOf:(t,r)=>zt(e,r),construct(t,r){if("function"==typeof e)return Rt(e,r)},apply(t,r,n){if("function"==typeof e)return kt(e,r,n)},getOwnPropertyDescriptor(t,r){var n=Bt(e,r);return n?(n.configurable=!0,n):void 0},set:(t,i,s)=>("function"==typeof r&&r(o,[...n,i],s,Dt(e,i)),Ft(e,i,s)),get(o,i){var s=Dt(e,i);return qt(s)||Zt(s)?t(s,r,[...n,i],e):s}}))(i)}return e}(t,e,[],t):t}function $t(t){if(z(t))return new Proxy(new tt(t),{defineProperty:()=>!1,deleteProperty:()=>!1,set:(t,e,r)=>e===G?h(t,e,r):!("value"!==e||!z(r))&&(h(t,e,r),t[W](),!0)});if($(t))return $t(t.value);if(y(t))return new Proxy(new tt(t),{defineProperty:()=>!1,getOwnPropertyDescriptor(t,e){const r=i(t,"value"),n=s(t,e)||s(r,e);return n&&(n.configurable=!0),n},deleteProperty(t,e){const r=i(t,"value");return!c(r,e)||(o(r,e),t[W](e),!0)},has(t,e){const r=i(t,"value");return c(t,e)||c(r,e)},get(t,e){const r=i(t,"value");if(c(t,e))return i(t,e);if(c(r,e)){if(!E(r)||"add"!==e&&"delete"!==e)return Ut(i(r,e),()=>{t[W](e)});{const n=r;if("add"===e)return r=>{if(!Set.prototype.has.call(n,r)){const o=Set.prototype[e].call(n,r);return t[W](),o}};if("delete"===e)return r=>{if(Set.prototype.has.call(n,r)){const o=Set.prototype[e].call(n,r);return t[W](),o}}}}},ownKeys:t=>Array.from(new Set([...f(t),...f(i(t,"value"))])),set(t,e,r){if(e===G)return h(t,e,r);const n=i(t,"value");if("value"===e&&y(r))return h(t,e,r),t[W](),!0;if(c(t,e)){if("length"!==e)return!1;h(n,e,r),t[W](e)}else h(n,e,r),t[W](e);return!0}});throw TypeError("invalid State")}const Gt="attributeChangedCallback";class It extends HTMLElement{setAttribute(t,e){const r=V(this,t);r!==e&&(!function(t,e,r){F.setAttribute.call(t,e,r)}(this,t,e),m(this[Gt])&&this[Gt](t,r,e))}removeAttribute(t){const e=V(this,t);var r,n;null!==e&&(r=this,n=t,F.removeAttribute.call(r,n),m(this[Gt])&&this[Gt](t,e,void 0))}}function Qt(t){b(t)?t.forEach(t=>{Qt(t)}):t instanceof Node&&(t[it]&&function(t){t[it]&&t[it].forEach(([e,r])=>{B(t,e,r)})}(t),t[jt]&&t[jt].forEach(t=>{!function(t){t[_]()}(t)}),Qt(K(t)))}function Wt(t){b(t)?t.forEach(t=>{Wt(t)}):t instanceof Node&&(t[it]&&function(t){t[it]&&t[it].forEach(([e,r])=>{!function(t,e,r){t.removeEventListener(e,r)}(t,e,r)})}(t),t[jt]&&t[jt].forEach(t=>{!function(t){t[Y]()}(t)}),Wt(K(t)))}var Xt=function(t,e,r,n){for(var o=1;o<e.length;o++){var i=e[o],s="number"==typeof i?r[i]:i,a=e[++o];1===a?n[0]=s:3===a?n[1]=Object.assign(n[1]||{},s):5===a?(n[1]=n[1]||{})[e[++o]]=s:6===a?n[1][e[++o]]+=s+"":n.push(a?t.apply(null,Xt(t,s,r,["",null])):s)}return n},Yt=function(t){for(var e,r,n=1,o="",i="",s=[0],a=function(t){1===n&&(t||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(t||o,0):3===n&&(t||o)?(s.push(t||o,1),n=2):2===n&&"..."===o&&t?s.push(t,3):2===n&&o&&!t?s.push(!0,5,o):n>=5&&((o||!t&&5===n)&&(s.push(o,n,r),n=6),t&&(s.push(t,n,r),n=6)),o=""},c=0;c<t.length;c++){c&&(1===n&&a(),a(c));for(var u=0;u<t[c].length;u++)e=t[c][u],1===n?"<"===e?(a(),s=[s],n=3):o+=e:4===n?"--"===o&&">"===e?(n=1,o=""):o=e+o[0]:i?e===i?i="":o+=e:'"'===e||"'"===e?i=e:">"===e?(a(),n=1):n&&("="===e?(n=5,r=o,o=""):"/"===e&&(n<5||">"===t[c][u+1])?(a(),3===n&&(s=s[0]),n=s,(s=s[0]).push(n,2),n=0):" "===e||"\t"===e||"\n"===e||"\r"===e?(a(),n=2):o+=e),3===n&&"!--"===o&&(n=4,s=s[0])}return a(),s},_t="function"==typeof Map,te=_t?new Map:{},ee=_t?function(t){var e=te.get(t);return e||te.set(t,e=Yt(t)),e}:function(t){for(var e="",r=0;r<t.length;r++)e+=t[r].length+"-"+t[r];return te[e]||(te[e]=Yt(t))};function re(t="",e={},...r){let n=v(t)||m(t)?t:"";const o=y(e)?e:{},i=r.flat(1);return v(n)&&(n=n.trim().toLowerCase()),""===n?i:new Pt(n,o,i)}const ne=function(t){var e=Xt(this,ee(t),arguments,[]);return e.length>1?e:e[0]}.bind(re);function oe(t){let e=!1;if(b(t))return e=!t.map(t=>oe(t)).includes(!1);if(t instanceof Pt){if(oe(t.children))return!0}else{if($(t))return!0;if(v(t))return!0}return e}function ie(...t){const e=ne(...t);if(oe(e))return e;throw new TypeError("invalid Virtualdom!")}function se(t,e){b(t)&&(t=t.flat(1/0));const r=e;if(!(oe(t)||t instanceof Node||b(t)&&(n=t,b(n)&&!n.map(t=>t instanceof Node).includes(!1))))throw TypeError("invalid Virtualdom ");var n;if(!(r instanceof HTMLElement))throw TypeError("invalid container HTMLElement!");if(r===M.body||r===M.documentElement||r===M.head)throw Error("Do not mount  to <html> or <body> <head>.");let o;return o=Array.isArray(t)?t:[t],oe(t)?dt(o.map(t=>Ct(t)),e):(t instanceof Node||b(t))&&dt(o,e),e}const ae=Symbol("attributes"),ce=Symbol("element"),ue=Symbol("componentinnervdom"),fe=Symbol("mounted"),le=Symbol("unmounted"),he=Symbol("ready");function pe(t){var e,r,n;if(m(t))return n=class extends It{constructor(n,o){super(),this[e]=!1,this[r]={};const i=St(this);y(this.constructor.defaultProps)&&Object.assign(i,this.constructor.defaultProps),y(n)&&Object.assign(i,n);const s=St(this),a=Object.fromEntries(Object.entries(s).map(([t,e])=>[t,$t(e)]));let c;this[ae]=Nt(a),O=!0,x(),C();try{c=t(Nt(a),o)}catch(t){throw N(),t}if(!oe(c))throw N(),Error("invalid Virtualdom");this[ue]=b(c)?c:[c],this[ue]=this[ue].flat(1/0),this[fe]=[...P],this[le]=[...j],N()}connectedCallback(){this[ce]||(this[ce]=Ct(this[ue]).flat(1/0)),this[he]||(se(this[ce],this),this[he]=!0),this[fe].forEach(t=>t()),Qt(this)}disconnectedCallback(){this[le].forEach(t=>t()),Wt(this)}attributeChangedCallback(t){this[ae][t]&&(this[ae][t].value=St(this)[t])}},e=he,r=ae,n.defaultProps=t.defaultProps,n;throw TypeError("invalid component")}if(!(m(window.HTMLElement)&&m(window.Proxy)&&y(window.customElements)&&m(window.CustomElementRegistry)))throw new TypeError(" browser not supported !");function de(t){Object.entries(t).forEach(([t,e])=>{if("function"!=typeof e)throw TypeError("invalid directive");rt[t]=e})}function ye(t){return{value:t}}de({value(t,e,r){if(!$(e)||"input"!==r.type&&"textarea"!==r.type)throw TypeError("invalid ReactiveState or element");r.bindattr.value=e,["change","input"].forEach(t=>{const n=[r.onevent[t]].flat(1/0);Reflect.set(r.onevent,t,n.concat([t=>e.value=t.target.value]).filter(Boolean))})}});const ve=Symbol("truevdom"),me=Symbol("falsevdom"),be=Symbol("trueele"),we=Symbol("falseele"),ge=w("handletrue"),Ee=w("handlefalse");class Se extends It{constructor(t,e,r){super(),this[ve]=b(r.true)?r.true.filter(Boolean):[r.true].filter(Boolean),this[me]=b(r.false)?r.false.filter(Boolean):[r.false].filter(Boolean)}[Ee](){if(J(this,""),this[me]){this[we]||(this[we]=Ct(this[me]));const t=this[we];se(t,this),t.forEach(t=>Qt(t)),this[be]&&this[be].forEach(t=>Wt(t))}}[ge](){if(J(this,""),this[ve]){this[be]||(this[be]=Ct(this[ve]));const t=this[be];se(t,this),t.forEach(t=>Qt(t)),this[we]&&this[we].forEach(t=>Wt(t))}}connectedCallback(){const t=St(this);!0===t.value&&this[ge](),!1===t.value&&this[Ee]()}disconnectedCallback(){Wt(this)}attributeChangedCallback(t){if("value"===t){const t=St(this);!0===t.value&&this[ge](),!1===t.value&&this[Ee]()}}}function Oe(t,e,r){if(!$(t))throw TypeError("invalid ReactiveState");[e,r].forEach(t=>{if(!d(t)&&!oe(t))throw new TypeError("invalid Virtualdom")});const n=new Pt(Se,{value:t});return n.options={true:e,false:r},n}const Pe="";export{Pe as Fragment,Oe as condition,se as createApp,pe as createComponent,re as createElement,ye as createRef,$t as createState,de as directives,re as h,ie as html,T as useMounted,A as useUnMounted,ot as watch};
//# sourceMappingURL=index.min.js.map
