const t=window.Reflect,{apply:e,construct:r,defineProperty:n,deleteProperty:o,get:i,getOwnPropertyDescriptor:s,getPrototypeOf:u,has:a,isExtensible:c,ownKeys:f,preventExtensions:l,set:p,setPrototypeOf:h}=t;function y(t){return"object"==typeof t&&null!==t}function v(t){return"string"==typeof t}function d(t){return"function"==typeof t}function m(t){return t instanceof Array&&Array.isArray(t)&&"array"===function(t){return{}.toString.call(t).replace("[object ","").replace("]","").toLowerCase()}(t)}function b(t){return Symbol(t)}function g(t){return v(t)||function(t){return"number"==typeof t}(t)||function(t){return"boolean"==typeof t}(t)||function(t){return void 0===t}(t)}var w,E,S;function O(t){return t instanceof C}const P=Symbol("textnode"),j=Symbol("eventtatget"),T=Symbol("memlisteners"),A=b("dispatch"),x=b("subscribe"),L=b("removeallisteners"),M=b("addallisteners");class C{constructor(t){if(this[w]=void 0,this[E]=new EventTarget,this[S]=[],!g(t)&&!y(t))throw TypeError("invalid State");Object.defineProperty(this,"value",{value:t,configurable:!0,writable:!0}),Object.defineProperty(this,Symbol.toStringTag,{value:"ReactiveState",configurable:!0})}[M](){this[T].forEach(([t,e])=>{this[j].addEventListener(t,e)})}valueOf(){return this.value}toString(){const t=this.value;return g(t)?String(t):y(t)?JSON.stringify(t):""}[(w=P,E=j,S=T,A)](t){const e=t?String(t):"value";"value"!==e&&this[j].dispatchEvent(new Event(e)),this[j].dispatchEvent(new Event("value"))}[x](t,e){const r=e?String(e):"value";this[T].push([r,()=>t(this)])}[L](){this[T].forEach(([t,e])=>{this[j].removeEventListener(t,e)})}[Symbol.toPrimitive](){const t=this.value;return g(t)?t:y(t)?JSON.stringify(t):void 0}}const N=window.document;function R(t,e){t.textContent=e}function H(t,e){t.innerHTML=e}function J(t,e){return N.createElementNS(t,e)}function D(t){return N.createTextNode(t)}const k="http://www.w3.org/2000/svg";const K="http://www.w3.org/1998/Math/MathML";function V(t,e,r){t.addEventListener(e,r)}function z(t,e,r){if(!O(t)||!d(e))throw TypeError("invalid state or callback");r?t[x](e,r):t[x](e),F(()=>{t[M]()})}const F=window.requestAnimationFrame;var Z={ref(t,e){if("object"!=typeof e)throw TypeError("invalid ref");e.value=t},html(t,e){q(H,"html")(t,e)},text(t,e){q(R,"text")(t,e)}};function q(t,e){return function(r,n){if("string"==typeof n)F(()=>{t(r,n)});else{if(!O(n))throw TypeError("invalid "+e);z(n,e=>{t(r,String(e))}),F(()=>{t(r,String(n))})}}}function B(t){Object.entries(t).forEach(([t,e])=>{if("function"!=typeof e)throw TypeError("invalid directive");Z[t]=e})}function $(t){return!!(d(t)&&t.prototype&&t.prototype instanceof HTMLElement)}B({value(t,e,r){if(!O(e)||"input"!==r.type&&"textarea"!==r.type)throw TypeError("invalid ReactiveState or element");r.bindattr.value=e,["change","input"].forEach(t=>{const n=[r.onevent[t]].flat(1/0);Reflect.set(r.onevent,t,n.concat([t=>e.value=t.target.value]).filter(Boolean))})}}),window.CustomElementRegistry=i(u(window.customElements),"constructor");const{customElements:G,CustomElementRegistry:I}=window,Q=Symbol.for("elementset"),U=Symbol.for("elementmap");var W=(t,e)=>(function t(e,r,n=1){if(!$(e))throw TypeError("invalid custom element class !");if(G[Q].has(e))return o=G[U],s=e,Object.entries(o).find(t=>t[1]===s)[0];{const o=function(t=4){return Array(t).fill(void 0).map(()=>i(Array(26).fill(void 0).map((t,e)=>97+e).map(t=>String.fromCharCode(t)),Math.floor(26*Math.random()))).join("")+"-"+Array(t).fill(void 0).map(()=>i(Array(16).fill(void 0).map((t,e)=>e),Math.floor(16*Math.random())).toString(16)).join("")}(n);return G.get(o)?t(e,r,n+1):(r?G.define(o,e,{extends:r}):G.define(o,e),o)}var o,s})(t,e);G[Q]||(G[Q]=new Set),G[U]||(G[U]={}),G.define=function(t,e,r){if(!$(e))throw TypeError("invalid custom element class !");I.prototype.define.call(G,t,e,r),G[Q].add(e),G[U][t]=e},G[Symbol.iterator]=()=>{const t=Object.entries(G[U]);return t[Symbol.iterator].call(t)};class X{constructor(t="",e={},r=[]){this.options=void 0,this.element=void 0,this.props={},this.children=[],this.directives={},this.onevent={},this.bindattr={};const n=Object.entries(e);Object.assign(this,{type:t,bindattr:Object.fromEntries(n.filter(([t])=>/[A-Za-z]/.test(t[0])).filter(t=>O(t[1]))),props:Object.fromEntries(n.filter(([t])=>/[A-Za-z]/.test(t[0])).filter(t=>!O(t[1]))),children:r,onevent:Object.fromEntries(n.filter(([t])=>/\@/.test(t[0])).map(([t,e])=>[t.slice(1),e])),directives:Object.fromEntries(n.filter(([t])=>/\*/.test(t[0])).map(([t,e])=>[t.slice(1),e]))}),Object.defineProperty(this,Symbol.toStringTag,{value:"virtualdom",configurable:!0})}}var Y=function(t,e,r,n){for(var o=1;o<e.length;o++){var i=e[o],s="number"==typeof i?r[i]:i,u=e[++o];1===u?n[0]=s:3===u?n[1]=Object.assign(n[1]||{},s):5===u?(n[1]=n[1]||{})[e[++o]]=s:6===u?n[1][e[++o]]+=s+"":n.push(u?t.apply(null,Y(t,s,r,["",null])):s)}return n},_=function(t){for(var e,r,n=1,o="",i="",s=[0],u=function(t){1===n&&(t||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(t||o,0):3===n&&(t||o)?(s.push(t||o,1),n=2):2===n&&"..."===o&&t?s.push(t,3):2===n&&o&&!t?s.push(!0,5,o):n>=5&&((o||!t&&5===n)&&(s.push(o,n,r),n=6),t&&(s.push(t,n,r),n=6)),o=""},a=0;a<t.length;a++){a&&(1===n&&u(),u(a));for(var c=0;c<t[a].length;c++)e=t[a][c],1===n?"<"===e?(u(),s=[s],n=3):o+=e:4===n?"--"===o&&">"===e?(n=1,o=""):o=e+o[0]:i?e===i?i="":o+=e:'"'===e||"'"===e?i=e:">"===e?(u(),n=1):n&&("="===e?(n=5,r=o,o=""):"/"===e&&(n<5||">"===t[a][c+1])?(u(),3===n&&(s=s[0]),n=s,(s=s[0]).push(n,2),n=0):" "===e||"\t"===e||"\n"===e||"\r"===e?(u(),n=2):o+=e),3===n&&"!--"===o&&(n=4,s=s[0])}return u(),s},tt="function"==typeof Map,et=tt?new Map:{},rt=tt?function(t){var e=et.get(t);return e||et.set(t,e=_(t)),e}:function(t){for(var e="",r=0;r<t.length;r++)e+=t[r].length+"-"+t[r];return et[e]||(et[e]=_(t))};function nt(t="",e={},...r){let n=v(t)||d(t)?t:"";const o=y(e)?e:{},i=r.flat(1);return v(n)&&(n=n.trim().toLowerCase()),""===n?i:new X(n,o,i)}const ot=function(t){var e=Y(this,rt(t),arguments,[]);return e.length>1?e:e[0]}.bind(nt);function it(t){let e=!1;if(m(t))return e=!t.map(t=>it(t)).includes(!1);if(t instanceof X){if(it(t.children))return!0}else{if(O(t))return!0;if(v(t))return!0}return e}function st(...t){const e=ot(...t);if(it(e))return e;throw new TypeError("invalid Virtualdom!")}const ut=Symbol("eventlisteners");function at(t,e,r){r.forEach(r=>{t[ut].push([e,r]),V(t,e,r)})}function ct(t,e){let r;return e.innerHTML="",(r=Array.isArray(t)?t:[t]).forEach(t=>(function(t,e){t.appendChild(e)})(e,t)),e}const ft=window.Reflect,{get:lt,set:pt}=ft,ht="value";function yt(t){return"object"==typeof t&&null!==t}function vt(t){return"string"==typeof t}function dt(t){!function(t){if(t instanceof Element)return!0;throw TypeError("invalid HTMLElement!")}(t);const e=function(t){const e=function(t){return t.tagName.toLowerCase()}(t);return"input"===e&&"text"===lt(t,"type")||"textarea"===e}(t);var r=Object.create(null);const n=new Proxy(r,{ownKeys(){const r=function(t){return t.getAttributeNames()}(t);return e?Array.from(new Set([...r,ht])):r},get(r,n){if(e&&n===ht)return lt(t,ht);{const e=function(t,e){return t.getAttribute(e)}(t,String(n));if(""===e)return!0;if(null===e)return;if(!vt(e))return;try{return JSON.parse(String(e))}catch(t){return e}}},set(r,n,o){return e&&n===ht?pt(t,ht,o):"style"===n?(mt(t,String(n),vt(o)?o:yt(o)?(i=o,Object.entries(i).map(([t,e])=>t+":"+e).join(";")):String(o)),!0):(!0===o&&(o=""),mt(t,String(n),yt(o)?JSON.stringify(o):String(o)),!0);var i},deleteProperty:(e,r)=>(function(t,e){t.removeAttribute(e)}(t,String(r)),!0),has:(r,n)=>!(!e||n!==ht)||function(t,e){return t.hasAttribute(e)}(t,String(n)),defineProperty:()=>!1,getOwnPropertyDescriptor(t,e){const r={enumerable:!0,configurable:!0,writable:!0},o=lt(n,e);return void 0!==o?{value:o,...r}:void 0}});return n}function mt(t,e,r){return t.setAttribute(e,r)}const bt=Symbol("bindstate"),gt=Symbol("reactivestate"),wt=Symbol("virtualdom");function Et(){throw TypeError("invalid element type!")}function St(t,e){if("string"==typeof t)return D(t);if(t instanceof C){const e=t,r=D(String(e));return r[gt]=e,e[P]=r,z(e,t=>{!function(t,e){t.nodeValue=String(e)}(r,String(t))}),r}if(t instanceof X&&"type"in t){const{type:n}=t;let o;if("string"==typeof n){if("script"===n)return N.createDocumentFragment();o="svg"===n?J(k,"svg"):"math"===n?J(K,"math"):e?J(e,n):function(t){return N.createElement(t)}(n)}else if("function"==typeof n){y(n.defaultProps)&&(t.props=JSON.parse(JSON.stringify({...n.defaultProps,...t.props})));const e=JSON.parse(JSON.stringify({...t.props,...Object.fromEntries(Object.entries(t.bindattr).map(([t,e])=>[t,e.value]))}));o=function(t,e,n,o){if($(t))return W(t),r(t,[e,n,o]);throw TypeError("invalid custom element class !")}(n,e,t.children,t.options)}else Et();return function(t,e){((t,e)=>{Object.entries(e.directives).forEach(([r,n])=>{if(!(r in Z&&"function"==typeof Z[r]))throw new Error("invalid directives "+r);Z[r](t,n,e)});const r=dt(t);Object.assign(r,e.props),t[wt]=e,e.element=t,Object.entries(e.bindattr).forEach(([t,e])=>{r[t]=e.value,z(e,e=>{r[t]=e.value})}),t[ut]||(t[ut]=[]),Object.entries(e.onevent).forEach(([e,r])=>{!function(t,e,r){if(t[ut]||(t[ut]=[]),"function"==typeof r)at(t,e,[r]);else{if(!m(r))throw TypeError("invalid EventListener");at(t,e,r)}}(t,e,r)})})(t,e),t[bt]||(t[bt]=new Set);[Object.values(e.bindattr),Object.values(e.directives)].flat().filter(t=>O(t)).forEach(e=>t[bt].add(e))}(o,t),"function"!=typeof n&&ct(t.children.map(t=>"svg"===n?St(t,k):"math"===n?St(t,K):e?St(t,e):St(t)),o),o}Et()}function Ot(t,e){const r=e;if(!it(t))throw TypeError("invalid Virtualdom ");if(!(r instanceof HTMLElement))throw TypeError("invalid container HTMLElement!");if(r===N.body||r===N.documentElement||r===N.head)throw Error("Do not mount  to <html> or <body> <head>.");let n;return ct((n=Array.isArray(t)?t:[t]).map(t=>St(t)),e),e}function Pt(t){return{value:t}}const jt=window.Reflect,{ownKeys:Tt,deleteProperty:At,apply:xt,construct:Lt,defineProperty:Mt,get:Ct,getOwnPropertyDescriptor:Nt,getPrototypeOf:Rt,has:Ht,set:Jt,setPrototypeOf:Dt}=jt;function kt(t){return"object"==typeof t&&null!==t}function Kt(t){return"function"==typeof t}function Vt(t,e){if("function"!=typeof e)throw Error("observe callback  invalid function ");if("function"!=typeof Proxy)throw Error("Proxy unsupported!");return Kt(t)||kt(t)?function t(e,r,n=[],o=e){if("function"!=typeof r)throw Error("observe callback invalid !");if(Kt(e)||kt(e)){let i;return i=kt(e)?{}:()=>{},Dt(i,null),(i=>new Proxy(i,{defineProperty:(t,r,n)=>Mt(e,r,n),deleteProperty:(t,i)=>(r(o,[...n,i],void 0,Ct(e,i)),At(e,i)),ownKeys:()=>Tt(e),has:(t,r)=>Ht(e,r),getPrototypeOf:()=>Rt(e),setPrototypeOf:(t,r)=>Dt(e,r),construct(t,r){if("function"==typeof e)return Lt(e,r)},apply(t,r,n){if("function"==typeof e)return xt(e,r,n)},getOwnPropertyDescriptor(t,r){var n=Nt(e,r);return n?(n.configurable=!0,n):void 0},set:(t,i,s)=>("function"==typeof r&&r(o,[...n,i],s,Ct(e,i)),Jt(e,i,s)),get(o,i){var s=Ct(e,i);return Kt(s)||kt(s)?t(s,r,[...n,i],e):s}}))(i)}return e}(t,e,[],t):t}function zt(t){if(g(t))return new Proxy(new C(t),{defineProperty:()=>!1,deleteProperty:()=>!1,set:(t,e,r)=>e===P?p(t,e,r):!("value"!==e||!g(r))&&(p(t,e,r),t[A](),!0)});if(O(t))return zt(t.value);if(y(t))return new Proxy(new C(t),{defineProperty:()=>!1,getOwnPropertyDescriptor(t,e){const r=i(t,"value"),n=s(t,e)||s(r,e);return n&&(n.configurable=!0),n},deleteProperty(t,e){const r=i(t,"value");return!a(r,e)||(o(r,e),t[A](e),!0)},has(t,e){const r=i(t,"value");return a(t,e)||a(r,e)},get(t,e){const r=i(t,"value");return a(t,e)?i(t,e):a(r,e)?Vt(i(r,e),()=>{t[A](e)}):void 0},ownKeys:t=>Array.from(new Set([...f(t),...f(i(t,"value"))])),set(t,e,r){if(e===P)return p(t,e,r);const n=i(t,"value");if("value"===e&&y(r))return p(t,e,r),t[A](),!0;if(a(t,e)){if("length"!==e)return!1;p(n,e,r),t[A](e)}else p(n,e,r),t[A](e);return!0}});throw TypeError("invalid State")}const Ft="attributeChangedCallback";class Zt extends HTMLElement{setAttribute(t,e){const r=super.getAttribute(t);r!==e&&(super.setAttribute(t,e),d(this[Ft])&&this[Ft](t,r,e))}removeAttribute(t){const e=super.getAttribute(t);null!==e&&(super.removeAttribute(t),d(this[Ft])&&this[Ft](t,e,void 0))}}function qt(t){t[ut]&&function(t){t[ut]&&t[ut].forEach(([e,r])=>{V(t,e,r)})}(t),t[bt]&&t[bt].forEach(t=>{!function(t){t[M]()}(t)})}function Bt(t){t[ut]&&function(t){t[ut]&&t[ut].forEach(([e,r])=>{!function(t,e,r){t.removeEventListener(e,r)}(t,e,r)})}(t),t[bt]&&t[bt].forEach(t=>{!function(t){t[L]()}(t)})}const $t=Symbol("truevdom"),Gt=Symbol("falsevdom"),It=Symbol("trueele"),Qt=Symbol("falseele"),Ut=b("handletrue"),Wt=b("handlefalse");class Xt extends Zt{constructor(t,e,r){super(),this[$t]=m(r.true)?r.true:[r.true],this[Gt]=m(r.false)?r.false:[r.false]}[Wt](){this[Gt]&&(this[Qt]||(this[Qt]=this[Gt].map(t=>St(t))),ct(this[Qt],this),this[Qt].forEach(t=>qt(t)),this[It]&&this[It].forEach(t=>Bt(t)))}[Ut](){this[$t]&&(this[It]||(this[It]=this[$t].map(t=>St(t))),ct(this[It],this),this[It].forEach(t=>qt(t)),this[Qt]&&this[Qt].forEach(t=>Bt(t)))}connectedCallback(){const t=dt(this);!0===t.value&&this[Ut](),!1===t.value&&this[Wt]()}attributeChangedCallback(t){if("value"===t){const t=dt(this);!0===t.value&&this[Ut](),!1===t.value&&this[Wt]()}}}function Yt(t,e,r){if(!O(t))throw TypeError("invalid ReactiveState");const n=new X(Xt,{value:t});return n.options={true:e,false:r},n}if("function"!=typeof HTMLElement||"function"!=typeof Proxy||"object"!=typeof customElements||"function"!=typeof CustomElementRegistry)throw new TypeError(" browser not supported !");const _t="";export{_t as Fragment,Yt as condition,Ot as createApp,nt as createElement,Pt as createRef,zt as createState,B as directives,nt as h,st as html,z as watch};
//# sourceMappingURL=index.min.js.map
