var t=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r};"function"!=typeof Object.fromEntries&&(Object.fromEntries=t);const e=new Function("return this")();e.globalThis||(e.globalThis=e);const n=async(t,...e)=>(await Promise.resolve(),t(...e));function r(t){return"object"==typeof t&&null!==t}function i(t){return"string"==typeof t}function o(t){return"function"==typeof t}function c(t){return t instanceof Array&&Array.isArray(t)}"function"!=typeof e.setImmediate&&(e.setImmediate=n),"function"!=typeof Array.prototype.flat&&(Array.prototype.flat=function(t=1){return t<=1?this.reduce((t,e)=>t.concat(e),[]):function t(e){return e.reduce((e,n)=>Array.isArray(n)?e.concat(t(n)):e.concat(n),[])}(this)});class u{constructor(t="",e={},n=[]){this.props={},this.children=[],this.directives={},this.onevent={};const r=Object.entries(e);Object.assign(this,{type:t,props:Object.fromEntries(r.filter(([t])=>/[A-Za-z]/.test(t[0]))),children:n,onevent:Object.fromEntries(r.filter(([t])=>/\@/.test(t[0])).map(([t,e])=>[t.slice(1),e])),directives:Object.fromEntries(r.filter(([t])=>/\*/.test(t[0])).map(([t,e])=>[t.slice(1),e]))}),Object.defineProperty(this,Symbol.toStringTag,{value:"virtualdom"})}}var a=function(t,e,n,r){for(var i=1;i<e.length;i++){var o=e[i],c="number"==typeof o?n[o]:o,u=e[++i];1===u?r[0]=c:3===u?r[1]=Object.assign(r[1]||{},c):5===u?(r[1]=r[1]||{})[e[++i]]=c:6===u?r[1][e[++i]]+=c+"":r.push(u?t.apply(null,a(t,c,n,["",null])):c)}return r},s=function(t){for(var e,n,r=1,i="",o="",c=[0],u=function(t){1===r&&(t||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?c.push(t||i,0):3===r&&(t||i)?(c.push(t||i,1),r=2):2===r&&"..."===i&&t?c.push(t,3):2===r&&i&&!t?c.push(!0,5,i):r>=5&&((i||!t&&5===r)&&(c.push(i,r,n),r=6),t&&(c.push(t,r,n),r=6)),i=""},a=0;a<t.length;a++){a&&(1===r&&u(),u(a));for(var s=0;s<t[a].length;s++)e=t[a][s],1===r?"<"===e?(u(),c=[c],r=3):i+=e:4===r?"--"===i&&">"===e?(r=1,i=""):i=e+i[0]:o?e===o?o="":i+=e:'"'===e||"'"===e?o=e:">"===e?(u(),r=1):r&&("="===e?(r=5,n=i,i=""):"/"===e&&(r<5||">"===t[a][s+1])?(u(),3===r&&(c=c[0]),r=c,(c=c[0]).push(r,2),r=0):" "===e||"\t"===e||"\n"===e||"\r"===e?(u(),r=2):i+=e),3===r&&"!--"===i&&(r=4,c=c[0])}return u(),c},f="function"==typeof Map,l=f?new Map:{},p=f?function(t){var e=l.get(t);return e||l.set(t,e=s(t)),e}:function(t){for(var e="",n=0;n<t.length;n++)e+=t[n].length+"-"+t[n];return l[e]||(l[e]=s(t))};function y(t="",e={},...n){var c=i(t)||o(t)?t:"",a=r(e)?e:{},s=n.flat(1/0);return"string"==typeof c&&""===c?s:new u(c,a,s)}const h=function(t){var e=a(this,p(t),arguments,[]);return e.length>1?e:e[0]}.bind(y);function m(t){var e=!1;return c(t)?e=!t.map(t=>i(t)||t instanceof u).includes(!1):t instanceof u?m(t.children)&&(e=!0):i(t)&&(e=!0),e}function v(...t){var e=h(...t);if(m(e))return e;throw new TypeError("invalid Virtualdom!\n"+JSON.stringify(e,null,4))}var d={ref(t,e){if("object"!=typeof e)throw TypeError("invalid ref");e.value=t},html(t,e){if("string"!=typeof e)throw TypeError("invalid html");requestAnimationFrame(()=>{t.innerHTML=e})},text(t,e){if("string"!=typeof e)throw TypeError("invalid text");requestAnimationFrame(()=>{t.textContent=e})}};function g(t,e,n){n.forEach(n=>{!function(t,e,n){t.addEventListener(e,n)}(t,e,n)})}const E=new class extends Array{constructor(){super(),Object.defineProperty(this,Symbol.toStringTag,{value:"setlikearray"})}push(...t){return t.forEach(t=>{(o(t)||r(t))&&(this.includes(t)||super.push(t))}),this.length}};function b(t,e){if(function(t){return!!(o(t)&&t.prototype&&t.prototype instanceof HTMLElement)}(t)){E.push(t);const n=function(t){return"c-"+E.indexOf(t)}(t);return customElements.get(n)===t||customElements.define(n,t),Reflect.construct(t,[e])}throw TypeError("invalid custom element class !")}const w="http://www.w3.org/2000/svg";function T(t,e){let n;e.innerHTML="",(n=t instanceof Array?t:[t]).forEach(t=>(function(t,e){t.appendChild(e)})(e,t))}function O(t){!function(t){if(t instanceof HTMLElement||t instanceof SVGElement||t instanceof Element)return!0;throw TypeError("invalid HTMLElement!")}(t);const e="INPUT"===t.tagName&&"text"===Reflect.get(t,"type")||"TEXTAREA"===t.tagName;var n=Object.create(null);return new Proxy(n,{ownKeys(){const n=Reflect.ownKeys(t.attributes).filter(t=>!/\d/.test(String(t)[0]));return e?Array.from(new Set([...n,"value"])):n},get(n,r){if(e&&"value"===r)return Reflect.get(t,"value");var i=t.getAttribute(String(r));if(i&&"string"==typeof i)try{return JSON.parse(String(i))}catch(t){return i}},set(n,r,i){return e&&"value"===r?Reflect.set(t,"value",i):(t.setAttribute(String(r),"object"==typeof(o=i)&&null!==o?JSON.stringify(i):String(i)),!0);var o},deleteProperty:(e,n)=>(t.removeAttribute(String(n)),!0),has:(n,r)=>!(!e||"value"!==r)||t.hasAttribute(String(r)),defineProperty:()=>!1,getOwnPropertyDescriptor(n,r){if(e&&"value"===r)return{value:Reflect.get(t,"value"),enumerable:!0,configurable:!0,writable:!0};var i=t.getAttribute(String(r));return i?{value:i,enumerable:!0,configurable:!0,writable:!0}:void 0},setPrototypeOf:()=>!1,getPrototypeOf:()=>null})}function A(){throw TypeError("invalid element type!")}function S(t,e){if("string"==typeof t)return i=t,document.createTextNode(i);if(t instanceof u&&"type"in t){let i;if("string"==typeof t.type){if("script"===t.type)return document.createDocumentFragment();i="svg"===t.type?document.createElementNS(w,"svg"):e?function(t,e){return document.createElementNS(t,e)}(e,t.type):(r=t.type,document.createElement(r))}else"function"==typeof t.type?i=b(t.type,t.children):A();var n=O(i);return Object.assign(n,t.props),Object.entries(t.directives).forEach(([t,e])=>{if(!(t in d&&"function"==typeof d[t]))throw new Error("invalid directives "+t);d[t](i,e)}),Object.entries(t.onevent).forEach(([t,e])=>{!function(t,e,n){if("function"==typeof n)g(t,e,[n]);else{if(!c(n))throw TypeError("invalid EventListener");g(t,e,n)}}(i,t,e)}),"function"!=typeof t.type&&T(t.children.map(n=>"svg"===t.type?S(n,w):e?S(n,e):S(n)),i),i}var r,i;A()}function j(t,e){const n=e;if(!m(t))throw TypeError("invalid Virtualdom \n"+JSON.stringify(t,null,4));if(!(n instanceof HTMLElement))throw TypeError("invalid container HTMLElement!");if(n===document.body||n===document.documentElement||n===document.head)throw Error("Do not mount  to <html> or <body> <head>.");let r;return T((r=t instanceof Array?t:[t]).map(t=>S(t)),e),e}function N(t){return{value:t}}export{j as createApp,y as createElemet,N as createRef,y as h,v as html};
//# sourceMappingURL=index.min.js.map
