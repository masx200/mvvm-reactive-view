var t=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r};"function"!=typeof Object.fromEntries&&(Object.fromEntries=t);const e=new Function("return this")(),n=async(t,...e)=>(await Promise.resolve(),t(...e));function r(t){return"object"==typeof t&&null!==t}function o(t){return"string"==typeof t}function i(t){return"function"==typeof t}"function"!=typeof e.setImmediate&&(e.setImmediate=n),"function"!=typeof Array.prototype.flat&&(Array.prototype.flat=function(t=1){return 1===t?this.reduce((t,e)=>t.concat(e),[]):function t(e){return e.reduce((e,n)=>Array.isArray(n)?e.concat(t(n)):e.concat(n),[])}(this)});class u{constructor(t="",e={},n=[]){this.props={},this.children=[],this.directives={},this.on={};const r=Object.entries(e);Object.assign(this,{type:t,props:Object.fromEntries(r.filter(([t])=>/[A-Za-z]/.test(t[0]))),children:n,on:Object.fromEntries(r.filter(([t])=>/\@/.test(t[0]))),directives:Object.fromEntries(r.filter(([t])=>/\*/.test(t[0])))}),Object.defineProperty(this,Symbol.toStringTag,{value:"virtualdom"})}}var c=function(t,e,n,r){for(var o=1;o<e.length;o++){var i=e[o],u="number"==typeof i?n[i]:i,s=e[++o];1===s?r[0]=u:3===s?r[1]=Object.assign(r[1]||{},u):5===s?(r[1]=r[1]||{})[e[++o]]=u:6===s?r[1][e[++o]]+=u+"":r.push(s?t.apply(null,c(t,u,n,["",null])):u)}return r},s=function(t){for(var e,n,r=1,o="",i="",u=[0],c=function(t){1===r&&(t||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?u.push(t||o,0):3===r&&(t||o)?(u.push(t||o,1),r=2):2===r&&"..."===o&&t?u.push(t,3):2===r&&o&&!t?u.push(!0,5,o):r>=5&&((o||!t&&5===r)&&(u.push(o,r,n),r=6),t&&(u.push(t,r,n),r=6)),o=""},s=0;s<t.length;s++){s&&(1===r&&c(),c(s));for(var a=0;a<t[s].length;a++)e=t[s][a],1===r?"<"===e?(c(),u=[u],r=3):o+=e:4===r?"--"===o&&">"===e?(r=1,o=""):o=e+o[0]:i?e===i?i="":o+=e:'"'===e||"'"===e?i=e:">"===e?(c(),r=1):r&&("="===e?(r=5,n=o,o=""):"/"===e&&(r<5||">"===t[s][a+1])?(c(),3===r&&(u=u[0]),r=u,(u=u[0]).push(r,2),r=0):" "===e||"\t"===e||"\n"===e||"\r"===e?(c(),r=2):o+=e),3===r&&"!--"===o&&(r=4,u=u[0])}return c(),u},a="function"==typeof Map,f=a?new Map:{},l=a?function(t){var e=f.get(t);return e||f.set(t,e=s(t)),e}:function(t){for(var e="",n=0;n<t.length;n++)e+=t[n].length+"-"+t[n];return f[e]||(f[e]=s(t))};function p(t="",e={},...n){var c=o(t)||i(t)?t:"",s=r(e)?e:{},a=n.flat(1/0);return"string"==typeof c&&""===c?a:new u(c,s,a)}const y=function(t){var e=c(this,l(t),arguments,[]);return e.length>1?e:e[0]}.bind(p);function m(t){var e=!1;return t instanceof Array?e=!t.map(t=>o(t)||t instanceof u).includes(!1):t instanceof u?m(t.children)&&(e=!0):o(t)&&(e=!0),e}function h(...t){var e=y(...t);if(m(e))return e;throw new TypeError("invalid Virtualdom!\n"+JSON.stringify(e,null,4))}const g=new class extends Array{constructor(){super(),Object.defineProperty(this,Symbol.toStringTag,{value:"setlikearray"})}push(...t){return t.forEach(t=>{(i(t)||r(t))&&(this.includes(t)||super.push(t))}),this.length}};function d(t){if(function(t){return!!(i(t)&&t.prototype&&t.prototype instanceof HTMLElement)}(t)){g.push(t);const e=function(t){return"c-"+g.indexOf(t)}(t);return customElements.get(e)===t||customElements.define(e,t),new t}throw TypeError("invalid custom element class !")}const v="http://www.w3.org/2000/svg";function b(t,e){let n;e.innerHTML="",(n=t instanceof Array?t:[t]).forEach(t=>(function(t,e){t.appendChild(e)})(e,t))}function E(t){!function(t){if(t instanceof HTMLElement||t instanceof SVGElement||t instanceof Element)return!0;throw TypeError("invalid HTMLElement!")}(t);const e="INPUT"===t.tagName&&"text"===Reflect.get(t,"type")||"TEXTAREA"===t.tagName;var n=Object.create(null);return new Proxy(n,{ownKeys(){const n=Reflect.ownKeys(t.attributes).filter(t=>!/\d/.test(String(t)[0]));return e?Array.from(new Set([...n,"value"])):n},get(n,r){if(e&&"value"===r)return Reflect.get(t,"value");var o=t.getAttribute(String(r));if(o&&"string"==typeof o)try{return JSON.parse(String(o))}catch(t){return o}},set(n,r,o){return e&&"value"===r?Reflect.set(t,"value",o):(t.setAttribute(String(r),"object"==typeof(i=o)&&null!==i?JSON.stringify(o):String(o)),!0);var i},deleteProperty:(e,n)=>(t.removeAttribute(String(n)),!0),has:(n,r)=>!(!e||"value"!==r)||t.hasAttribute(String(r)),defineProperty:()=>!1,getOwnPropertyDescriptor(n,r){if(e&&"value"===r)return{value:Reflect.get(t,"value"),enumerable:!0,configurable:!0,writable:!0};var o=t.getAttribute(String(r));return o?{value:o,enumerable:!0,configurable:!0,writable:!0}:void 0},setPrototypeOf:()=>!1,getPrototypeOf:()=>null})}function w(){throw TypeError("invalid element type!")}function O(t,e){if("string"==typeof t)return o=t,document.createTextNode(o);if(t instanceof u&&"type"in t){let o;if("string"==typeof t.type){if("script"===t.type)return document.createDocumentFragment();o="svg"===t.type?document.createElementNS(v,"svg"):e?function(t,e){return document.createElementNS(t,e)}(e,t.type):(r=t.type,document.createElement(r))}else"function"==typeof t.type?o=d(t.type):w();var n=E(o);return Object.assign(n,t.props),b(t.children.map(n=>"svg"===t.type?O(n,v):e?O(n,e):O(n)),o),o}var r,o;w()}function S(t,e){const n=e;if(!m(t))throw TypeError("invalid Virtualdom \n"+JSON.stringify(t,null,4));if(!(n instanceof HTMLElement))throw TypeError("invalid container HTMLElement!");if(n===document.body||n===document.documentElement||n===document.head)throw Error("Do not mount  to <html> or <body> <head>- mount to normal elements instead.");let r;return b((r=t instanceof Array?t:[t]).map(t=>O(t)),e),e}export{S as createApp,p as createElemet,p as h,h as html};
//# sourceMappingURL=index.min.js.map
